<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Online Companion to Archaeological Network Science by Brughmans and Peeples</title>

    <meta name="author" content="Matthew A. Peeples and Tom Brughmans" />
  
   <meta name="description" content="<p>This bookdown document accompanies the Cambridge Manuals in Archaeology book
<em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples.</p>" />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Online Companion to Archaeological Network Science by Brughmans and Peeples" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="<a href="https://book.archnetworks.net" class="uri">https://book.archnetworks.net</a>" />
  <meta property="og:image" content="<a href="https://book.archnetworks.net" class="uri">https://book.archnetworks.net</a>/images/cover.png" />
  <meta property="og:description" content="<p>This bookdown document accompanies the Cambridge Manuals in Archaeology book
<em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples.</p>" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Online Companion to Archaeological Network Science by Brughmans and Peeples" />
  
  <meta name="twitter:description" content="<p>This bookdown document accompanies the Cambridge Manuals in Archaeology book
<em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples.</p>" />
  <meta name="twitter:image" content="<a href="https://book.archnetworks.net" class="uri">https://book.archnetworks.net</a>/images/cover.png" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.3.1/transition.js"></script>
    <script src="libs/bs3compat-0.3.1/tabs.js"></script>
    <script src="libs/bs3compat-0.3.1/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
    <link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
    <script src="libs/vis-9.1.0/vis-network.min.js"></script>
    <script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
    <style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
      <link rel="stylesheet" href="bs4_style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<!--bookdown:title:start-->
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Online Companion to <em>Archaeological Network Science</em> by Brughmans and Peeples</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="welcome" class="section level1 unnumbered">
<h1 class="unnumbered">Welcome</h1>
<p>This project serves as a companion to the Cambridge Manuals in Archaeology book <em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples (2022).</p>
<p><a href="https://book.archnetworks.net"><img src="images/cover.png" width="250" height="375" alt="Brughmans and Peeples Book Cover" align="right" style="margin: 0 1em 0 1em" /></a></p>
<p>This document contains a series of tutorials that outline methods for managing, analyzing, and visualizing network data, primarily using the R programming language. We provide code and examples to replicate the analyses presented in the book as well as many other additional useful code snippets, examples, and tools. This Online Companion is designed to expand upon topics covered in the book and you may find it useful to follow along with these examples as you read the text. Sections 1 through 6 in this document correspond to the topics and information covered in Chapters 2 through 7 of the Brughmans and Peeples book. You can use the table of contents on the left-hand side of your screen to jump directly to a particular section and the table and contents on the right to navigate within each section.</p>
<p><strong>Cite this document as:</strong></p>
<blockquote>
<p>Peeples, Matthew A. and Tom Brughmans (2022). Online Companion to Archaeological Network Science by Brughmans and Peeples. <a href="https://archnetworks.net" class="uri">https://archnetworks.net</a>, Accessed 2022-05-19.</p>
</blockquote>
<p><strong>The associated book can be cited as</strong></p>
<blockquote>
<p>Brughmans, Tom and Matthew A. Peeples (in press). <em>Archaeological Network Science.</em> Cambridge Manuals in Archaeology. Cambridge University Press, Cambridge, UK.</p>
</blockquote>
<hr />
<div class="warning" style="padding:0.1em; background-color:#E9D8FD; color:#69337A">
<span>
<p style="margin-top:1em; text-align:center">
<b>NOTICE</b>
</p>
<p style="margin-left:1em;">
Note that this is a pre-release version of this document. Be aware that there are formatting issues and there may be lingering errors currently under investigation. Please check back here for updates in the coming months for the full “release” version of this document.
</p>
<p></span></p>
</div>
<hr />
<div id="HowTo" class="section level2 unnumbered">
<h2 class="unnumbered">How Should I Use This Online Companion?</h2>
<p>The tutorials here are designed to complement the text of the associated book but can also stand alone as a guide to implementation if you have a basic background in network methods and terminology. Although each section of the book builds upon the previous sections in terms of network concepts and R methods, the sections are each independent in terms of data, examples, and code and can be run out of order if you choose.</p>
<p>A few suggestions on where to start:</p>
<ul>
<li>If you are new to networks and R, we would suggest going through each section of this document, starting with “Getting Started with R” and then going through the numbered sections in order as you following along in the book.</li>
<li>If you are already familiar with R but new to network analysis, we suggest you read Section 1 to set up your data and workspace, and then follow along with the remaining numbered Sections and associated book chapters as you read.</li>
<li>If you are already an avid networks and R user and are just looking for code chunks to implement something in particular, feel free to skip around. We have tried to make each Section as independent as possible so that you can pick and choose what you want to work on.</li>
<li>If you’re a real pro and are designing your own network analyses or visualizations, we would love it if you contributed to the project to help this document grow.</li>
</ul>
</div>
<div id="Repro" class="section level2 unnumbered">
<h2 class="unnumbered">Reproducibility</h2>
<p>The most recent version of this document was built with R version 4.2.0 (2022-04-22 ucrt). We suggest you use a recent version of R when attempting to use the code in this document.</p>
<p>The content of this document is meant to be as accessible and reproducible as possible. The source code used to produce this document along with all of the data used in analyses are available on <a href="https://github.com/mpeeples2008/Archaeological_Network_Science">GitHub</a>. This GitHub repository allows users to open issues, contribute to the document, or help fix typos or other errors (see information about contributing below). We have also opened a GitHub discussion board with this repository where users can ask questions about any data or code in the repository without making edits or issue requests directly.</p>
<p>The easiest way to reproduce this document is to launch the project directly in your browser using <a href="https://mybinder.org/">Binder</a>. When you click on the link below it will open a browser based instance of R studio with all of the required packages and files. From there you can test and evaluate the code directly. [NOTE THIS FEATURE IS NOT CURRENLTY RUNNING]</p>
<p><a href="https://mybinder.org/v2/gh/mpeeples2008/Archaeological_Network_Science/main"><img src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a></p>
<p>You can also run the code and generate documents locally using R and R Studio. Download the entire R repository here: <a href="https://github.com/mpeeples2008/Archaeological_Network_Science/archive/refs/heads/main.zip">main.zip</a>. Unzip the files and then:</p>
<ul>
<li>Open the “Archaeological_Network_Science.Rproj” file in R studio.</li>
<li>Use the <code>renv::restore()</code> command to install the required packages and dependencies. Not that this is a large document that uses many packages so this may take some time.</li>
<li>You will then be able to browse the files and execute all of the code in the repository.</li>
</ul>
<p>This online bookdown document has been deployed using the Netlify platform and the badge below shows the current status of the build hosted at <a href="book.archnetworks.net">https://book.archnetworks.net</a>.</p>
<p><a href="https://app.netlify.com/sites/archnetworks/deploys"><img src="https://api.netlify.com/api/v1/badges/266d5736-f13a-4de4-b812-141c023f3a09/deploy-status" alt="Netlify Status" /></a></p>
</div>
<div id="discord-community" class="section level2 unnumbered">
<h2 class="unnumbered">Discord Community</h2>
<p>We have created an associated <a href="https://discord.gg/Z9UXwjASM5">Archaeological Network Science - Discord Server</a>, which we hope will provide an additional venue for archaeological network practitioners to collaborate, interact, and ask for help with this document or with archaeological networks broadly. We invite you to use this as a place to ask questions of the authors and the community at large. Note that this Discord is subject to the same <a href="https://github.com/mpeeples2008/Archaeological_Network_Science/blob/main/CODE_OF_CONDUCT.md">code of conduct</a> we use for the GitHub repository and you must abide by that agreement to participate. We require that you have a Discord account with a verified email address.</p>
<p><img src="images/Discord_Logo.png" width="300" /></p>
<p><a href="https://discord.gg/Z9UXwjASM5">Join our Discord</a></p>
</div>
<div id="new-to-r-and-r-studio" class="section level2 unnumbered">
<h2 class="unnumbered">New to R and R Studio?</h2>
<p>This tutorials in this document are built for users with a basic familiarity with R and R-studio. If you are a first time R user and need help getting R and R studio installed and up and running, we have created a detailed guild to <a href="#GettingStarted">Getting started with R</a>. This document covers the installation of the required software and provides a basic introduction to the R programing environment that we hope will be enough to get you started.</p>
<p>If you already have a basic familiarity with R and want to go further, there are numerous additional resources (most are completely free) to help you learn. Some resources we would recommend include <em>R for Data Science</em> <a href="https://r4ds.had.co.nz/">(Wickham and Grolemund 2017)</a>, <em>Advanced R</em> <a href="https://adv-r.hadley.nz/">(Wickham 2019)</a>, <em>the R Cookbook, 2nd edition</em> <a href="https://rc2e.com/somebasics">(Long and Teetor 2019)</a>, and <em>R in Action</em> and the associated <em>Quick-R</em> website <a href="https://www.statmethods.net/">(Kabacoff 2015)</a>. In addition to this <a href="https://anthropology.washington.edu/people/ben-marwick">Ben Marwick</a> has created an excellent repository of <a href="https://github.com/benmarwick/ctv-archaeology">resources for using R in archaeology</a> as well as an ever-growing list of archaeological publications that include R code. The website associated with this book <a href="https://www.archnetworks.net">archnetworks.net</a> also includes a list of archaeological articles focused on network research that include data and code. Reproducing published results is, in our experience, one of the best ways to learn advanced techniques and data management in R so we suggest you give it a try.</p>
</div>
<div id="contribute-to-the-project" class="section level2 unnumbered">
<h2 class="unnumbered">Contribute To the Project</h2>
<p>We welcome contributions to this project from the community and the GitHub platform helps us facilitate that. You will first need to <a href="https://github.com/">sign up for a GitHub account</a> and log in. If you find something that needs updating or changing (typos or errors) you can simply click the “View source” link at the right sidebar on the relevant page and then click the edit icon found near the top of the code block and make your proposed changes. These changes will be saved in a new “fork” of the document and we will review these and implement them where relevant and happily add your name to our list of contributors.</p>
<div class="figure">
<img src="images/edit_button.jpg" width="300" alt="" />
<p class="caption">Edit button</p>
</div>
<p>If you detect a larger error such as code not running or if you would like to request a new feature or update, you can create an issue using the <a href="https://github.com/mpeeples2008/Archaeological_Network_Science/issues">issue tracker</a> page associated with the project repository.</p>
<p>All contributors must agree to adhere to our <a href="https://github.com/mpeeples2008/Archaeological_Network_Science/blob/main/CODE_OF_CONDUCT.md">code of conduct</a>.</p>
</div>
<div id="project-license" class="section level2 unnumbered">
<h2 class="unnumbered">Project License</h2>
<p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a></p>
<p>This Online Companion to Archaeological Network Science is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivitives 4.0 International License</a>.</p>
</div>
<div id="help-support-this-project-and-build-the-community" class="section level2 unnumbered">
<h2 class="unnumbered">Help Support this Project and Build the Community</h2>
<p>We are devoted to seeing the community of archaeological network practitioners grow and we hope our book and these online resources will help to make this happen. You can support the growth of our community too!</p>
<ul>
<li>Spread the word to your friends and colleagues</li>
<li>Share links to these online resources on social media using the #archnetworks hashtag</li>
<li>Please cite the book <em>and</em> the Online Companion if you use methods or code from this document</li>
<li>Star the GitHub project repository and contribute to the project</li>
<li>Join our Discord and invite other interested people</li>
<li>Share articles, teaching resources, data, or other archaeological network materials for posting on our associated website <a href="https://archnetworks.net">archnetworks.net</a></li>
<li>Buy the book</li>
<li>Review the book on online book sellers</li>
</ul>
</div>
<div id="acknowledgements" class="section level2 unnumbered">
<h2 class="unnumbered">Acknowledgements</h2>
<p>This project and the associated book were made possible thanks to the support of several generous funding sources including: The Carlsberg Foundation, in the context of the Past Social Networks Project (CF21-0382); the National Science Foundation through both the Archaeology and the Measurement, Methodology, and Statistics programs (grant #1758690 and #1758606); and the School of Human Evolution and Social Change at Arizona State University. Thank you to Jens Emil Bødstrup Christoffersen for providing detailed comments on and for testing the initial version of this document. Any errors that remain are our own.</p>
<p><img src="images/NSF_Logo.png" width="150" /> <img src="images/ASU_SHESC_Logo.png" width="300" /></p>
</div>
</div>
<div id="GettingStarted" class="section level1 unnumbered">
<h1 class="unnumbered">Gettings Started with R</h1>
<p>In order to follow along with the code and examples in this document, you will need recent installations of both R and R-Studio on your computer. R and R-studio are available for Windows, MacOS, and Linux. This Section provides a very brief overview of how to get up and running. Following this, we introduce the basics of R and R-Studio to get you ready for the tutorials in the remainder of this document. If you follow this tutorial here we are confident you will then be able to start to engage with the examples and code in the remainder of the document.</p>
<div id="InstallR" class="section level2 unnumbered">
<h2 class="unnumbered">Download and Install R</h2>
<p>The first step is to install a recent version of R (we recommend 4.2 or later as this document was created in version 4.2). Follow the instructions below for the appropriate operating system.</p>
<ul>
<li>The first step is to go to the R project website <a href="https://www.r-project.org">www.r-project.org</a> and click on the <a href="https://cran.r-project.org/mirrors.html">CRAN</a> link under “Downloads” on the left hand side.</li>
<li>Choose a mirror for your download selecting one in your country or the “cloud” option.</li>
<li>Next, click on Windows, MacOS, or your Linux distribution and follow the instructions below.</li>
</ul>
<div id="windows" class="section level3 unnumbered">
<h3 class="unnumbered">Windows</h3>
<ul>
<li>Click the “base” sub-directory on the left hand side of the screen and then click “Download R-4.2.0 for Windows” (the version number should be 4.2 or later) to download the most recent version as an executable.</li>
<li>Once your download is complete, run the *.exe file and answer questions as prompted to complete the installation.</li>
</ul>
</div>
<div id="macos" class="section level3 unnumbered">
<h3 class="unnumbered">MacOS</h3>
<p>To install R on MacOS, you first need to know which chip manufacturer your Mac has. In order to determine which chip you have go to the Apple menu and select “About This Mac” and look for information under “Processor” or “Chip” in the window that pops up. It will either be Intel or M1.</p>
<ul>
<li>Next, click the on the link under “Latest release” for the *.pkg file for the appropriate Mac processor in your computer. There is a separate notarized and signed .pkg file Macs with Intel processors and Macs with Apple M1 processors (mostly produced 2020 and later). Note, these .pkg files are not interchangeable so confirm which one you need.</li>
<li>Once you have downloaded the appropriate .pkg, run it and answer the questions during the install as required.</li>
</ul>
</div>
<div id="linux" class="section level3 unnumbered">
<h3 class="unnumbered">Linux</h3>
<p>Linux installations of R are primarily done through the console but the instructions are slightly different depending on which distribution you are using.</p>
<ul>
<li>Click on the link for the appropriate Linux distribution and then follow the detailed instructions provided.</li>
<li>The “R-core” or “R-base” builds are the ones you want to choose.</li>
</ul>
</div>
</div>
<div id="InstallRStudio" class="section level2 unnumbered">
<h2 class="unnumbered">Download and Install R-Studio</h2>
<p>R-studio is an integrated development environment (IDE) for R, Python, and related programming tools that provides additional features for running and debugging code and data management. We see this IDE as essential to working with large and complex R projects.</p>
<p>In order to install R-Studio:</p>
<ul>
<li>Go to the R-Studio website <a href="https://www.rstudio.com/">www.rstudio.com</a> and click “Download” at the top of the screen.</li>
<li>Select the “RStudio Desktop” option.</li>
<li>Download and run the latest “installer” file for the appropriate operating system.</li>
<li>Run the downloaded file and answer questions at prompts as appropriate. R-Studio should automatically detect your installation of R.</li>
</ul>
</div>
<div id="run-r-studio" class="section level2 unnumbered">
<h2 class="unnumbered">Run R-Studio</h2>
<p>Once you’ve installed both R and R-Studio, open R-studio and look for the Console window (it will typically be the left hand side of the screen). That will tell you the version of R that is associated with the installation of R-Studio. If all goes well, it should be the recent version of R you just installed.</p>
<div class="figure">
<img src="images/r-version.jpg" style="width:100.0%" alt="" />
<p class="caption">R Version Installed</p>
</div>
</div>
<div id="RBasics" class="section level2 unnumbered">
<h2 class="unnumbered">R and R-Studio Basics</h2>
<p>R is a powerful statistical analysis platform that can be used to conduct some quite complex analyses. The learning curve is a bit steep when first getting started but the payoff is HUGE because the ecosystem of existing R scripts and packages is so large and diverse. We cannot hope to cover everything R and R-Studio can do in this very short intro here but we present a version of the “introduction to R programming” that Matt Peeples has used in the first week of classes focused on statistical analyses for a number of years. Hopefully this will get you started.</p>
<p>Although R seems complicated at first, many quite complex analyses are run with just a few lines of code. Once you learn the basics, more complex features of R are really just combinations of these basic procedures. You won’t become an R expert overnight, but we’ve seen many students pick up the basics quite quickly and begin to take on their first analyses in R in a matter of hours.</p>
<div id="organization-of-r-studio" class="section level4 unnumbered">
<h4 class="unnumbered">Organization of R-Studio</h4>
<p>First off, let’s take a look at the R-Studio setup. When you first open R-Studio for the first time, you will see a screen divided into 3 panes. Before getting started click on “File” at the top of the screen and go to “New File &gt; R Script” to open a 4th pane. You should see something like the screen below (Note that the color of your screen may be different as I am using a particular color setting that I find easier on my eyes).</p>
<div class="figure">
<img src="images/r-studio.jpg" style="width:100.0%" alt="" />
<p class="caption">R-Studio</p>
</div>
<p>The pane in the top left contains the Workspace tabs which is where you can write code and other documents. The pane at the bottom left is the console where you can type and run commands directly. The pane at the upper right includes tabs for Environment (a list of objects and functions currently initialized) and History (a list of previous commands run at the console). Finally, the lower right pane has tabs for Files (which shows files in the current directory), Plots (where plots created in the console will be displayed), Packages (a list of additional packages installed and initialized in R), and Help (where you can get information about particular functions and packages).</p>
<p>In the set of tutorials that follow we are going to focus on the Console first and will introduce the other panels and what they provide along the way.</p>
</div>
<div id="Math" class="section level3 unnumbered">
<h3 class="unnumbered">Mathematical Operations</h3>
<p>Getting started with R is as simple as typing directly into the Console. You can use the R console like a calculator to conduct mathematical operations. Simply type the numbers and operators at the console and hit enter to calculate. The answer will output directly on the console by default. Try typing the following at the console:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">+</span><span class="dv">3</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">*</span><span class="dv">10</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 40</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="dv">50</span><span class="sc">/</span><span class="dv">5</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>R uses <code>( )</code> for bracketing groups of operations. These can be nested to do more complex mathematical operations or to determine the order of operations. For example compare the two equations below:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>((<span class="dv">4</span><span class="sc">*</span><span class="dv">5</span><span class="sc">+</span><span class="dv">3</span>)<span class="sc">/</span><span class="dv">2</span>)<span class="sc">*</span><span class="dv">12</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 138</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>(((<span class="dv">4</span><span class="sc">*</span><span class="dv">5</span>))<span class="sc">+</span><span class="dv">3</span><span class="sc">/</span><span class="dv">2</span>)<span class="sc">*</span><span class="dv">12</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 258</span></span></code></pre></div>
<p>R uses typical mathematical operators including <code>+ - * /</code> for addition, subtraction, multiplication, and division and <code>^</code> to raise a number to an exponent.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">^</span><span class="dv">2</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 25</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">^</span>(<span class="dv">2</span><span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 125</span></span></code></pre></div>
<p>Anything placed after a <code>#</code> in a block of code will be treated as a comment and not evaluated:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">*</span> <span class="dv">20</span> <span class="co"># comment here</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 80</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">*</span> <span class="dv">4</span> <span class="co"># 4 + 4 will not be evaluated as it is after the #</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 12</span></span></code></pre></div>
</div>
<div id="Variables" class="section level3 unnumbered">
<h3 class="unnumbered">Creating Variables/Objects</h3>
<p>R can also assign numbers, characters, or more complex operations to variables (also known as objects in this context) which can then be used in mathematical operations. Typically, we assign values to a object using the <code>&lt;-</code> assign command but <code>=</code> also works. For example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>test_var <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>test_var</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 50</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">=</span> <span class="dv">10</span> <span class="sc">+</span> test_var</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>test2</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 60</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>char1 <span class="ot">&lt;-</span> <span class="st">&quot;hello world&quot;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>char1</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;hello world&quot;</span></span></code></pre></div>
<p>Object names in R are case sensitive and cannot include spaces. Object names can include numbers and letters but must start with a letter. It is a good idea to use descriptive object names where the object will be used repeatably.</p>
<p>When formatting object names there are a few common styles such as:</p>
<ul>
<li><code>snake_case_style</code> - see the little snakes (underscores) in the place of spaces</li>
<li><code>CamalCaseStyle</code> - see the capitalized humps denoting each word</li>
<li><code>kebab-case-style</code> - skewered right down the middle</li>
</ul>
<p>In general any of these styles is fine, but we suggest you try to remain consistent. Also, avoid using <code>.</code> to separate words as that is used by particular R functions and calls in other ways and can cause confusion.</p>
<p>Many mathematical constants are built right into R so be sure not to overwrite any of these (or any other function) by giving an object the same name.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pi</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.141593</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>LETTERS</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>letters</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>month.name</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;    </span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;May&quot;       &quot;June&quot;      &quot;July&quot;      &quot;August&quot;   </span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;September&quot; &quot;October&quot;   &quot;November&quot;  &quot;December&quot;</span></span></code></pre></div>
</div>
<div id="Logical" class="section level3 unnumbered">
<h3 class="unnumbered">Logical Operators</h3>
<p>R can also use logical operators (see list below). These operators can be used in conjunction with other operations and return a value indicating <code>TRUE</code> or <code>FALSE</code>. These can be used in more complex functions and conditional statements as we will see below.</p>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">&lt;</td>
<td align="left">less than</td>
</tr>
<tr class="even">
<td align="left">&gt;</td>
<td align="left">greater than</td>
</tr>
<tr class="odd">
<td align="left">&lt;=</td>
<td align="left">less than or equal to</td>
</tr>
<tr class="even">
<td align="left">&gt;=</td>
<td align="left">greater than or equal to</td>
</tr>
<tr class="odd">
<td align="left">==</td>
<td align="left">exactly equal to</td>
</tr>
<tr class="even">
<td align="left">!=</td>
<td align="left">not equal to</td>
</tr>
<tr class="odd">
<td align="left">&amp;</td>
<td align="left">and</td>
</tr>
<tr class="even">
<td align="left">|</td>
<td align="left">or</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>v <span class="sc">&gt;</span> <span class="dv">20</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>v <span class="sc">&lt;</span> <span class="dv">20</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>v<span class="sc">*</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">100</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Logical operators can also include <em>and</em> statements with the <code>&amp;</code> symbol and <em>or</em> statements with <code>|</code>. For example:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="dv">40</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>v <span class="sc">&gt;</span> <span class="dv">20</span> <span class="sc">&amp;</span> v <span class="sc">&lt;</span> <span class="dv">30</span> <span class="co"># and statement</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>v <span class="sc">&gt;</span> <span class="dv">20</span> <span class="sc">|</span> v <span class="sc">&lt;</span> <span class="dv">30</span> <span class="co"># or statement</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div id="Vectors" class="section level3 unnumbered">
<h3 class="unnumbered">Vectors</h3>
<p>R can also assign a vector of numbers or characters to a variable and preform operations using that vector. For example in the following we use the <code>c()</code> (c for combine) command to create a vector and subject it to a mathematical or other operation.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">12</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>z<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span></code></pre></div>
<p>If you want to call a particular value or selection of values in a vector you can use the <code>[]</code> square brackets and indicate which item(s) you are interested in.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>z[<span class="dv">3</span>] <span class="co"># item 3 in object z</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>z[<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># items 4 through 6 in object z</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  8 10 12</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>z[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>)] <span class="co"># items 3, 2, 1, in that order from object z</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6 4 2</span></span></code></pre></div>
<p>We can also search vectors or other objects for specific values:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>vec_obj <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ohtani&quot;</span>, <span class="st">&quot;Wheeler&quot;</span>, <span class="st">&quot;Correa&quot;</span>, <span class="st">&quot;Semien&quot;</span>, <span class="st">&quot;Soto&quot;</span>, <span class="st">&quot;Guerrero Jr.&quot;</span>, <span class="st">&quot;Correa&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>vec_obj[vec_obj <span class="sc">==</span> <span class="st">&quot;Correa&quot;</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Correa&quot; &quot;Correa&quot;</span></span></code></pre></div>
<p>To see if a particular value is in a given object we can use the <code>%in%</code> operator.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Ohtani&quot;</span> <span class="sc">%in%</span> vec_obj</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Judge&quot;</span> <span class="sc">%in%</span> vec_obj</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
</div>
<div id="Functions" class="section level3 unnumbered">
<h3 class="unnumbered">Using Basic R Functions</h3>
<p>R has a number of built-in functions that perform many common operations and assessments. We have already used one of these above <code>c()</code> and it was so fast and easy you might have missed it. Functions are typically used by typing the name of the function followed by a set of parenthesis that contain all of the arguments that the function expects. For example:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">2000</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(v)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2000</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(v)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(v)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 300.7143</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(v)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(v, <span class="at">base =</span> <span class="fu">exp</span>(<span class="dv">1</span>)) <span class="co"># argument setting the base</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.609438 2.302585 2.708050 2.995732 3.218876 3.401197</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7] 7.600902</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="fu">log10</span>(v)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.698970 1.000000 1.176091 1.301030 1.397940 1.477121</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7] 3.301030</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(pi, <span class="at">digits =</span> <span class="dv">2</span>) <span class="co"># argument setting the number of digits to retain</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.14</span></span></code></pre></div>
<p>For a list of some of the most frequently used built-in functions see <a href="https://www.statmethods.net/management/functions.html">this Quick-R</a> page.</p>
</div>
<div id="Tabular" class="section level3 unnumbered">
<h3 class="unnumbered">Tabular Data</h3>
<p>R can be used to create tabular/matrix data as well. Typically it is most convenient to read such data for a file for very large tabular data <a href="#WorkingWithFiles">(see working with files below)</a>, but we can also generate simple tabular data directly in R using the <code>matrix()</code> function. In the following example we create a two-row, two-column matrix by converting a vector of numbers into a matrix by specifying the number of rows <code>nrow</code> and number of columns <code>ncol</code>. The assignments we make inside the <code>matrix()</code> function are called arguments.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">20</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>mat1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> dat, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>mat1</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    3    2</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4   20</span></span></code></pre></div>
<p>Note that the <code>matrix()</code> function read the numbers in first by column and then by row. If we want want to change that we can first investigate the options for this function using the <code>help()</code> function. In order to see the documentation for a given function simply type <code>help("NameOfFunction")</code> at the console or <code>?NameOfFunction</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>?matrix</span></code></pre></div>
<div class="figure">
<img src="images/help.jpg" style="width:100.0%" alt="" />
<p class="caption">help for matrix function</p>
</div>
<p>And let’s zoom in to one piece in particular:</p>
<div class="figure">
<img src="images/byrow.jpg" style="width:100.0%" alt="" />
<p class="caption">byrow argument</p>
</div>
<p>As we can see in the help materials for matrix, there is an additional argument we did not use called <code>byrow</code> which is set to <code>FALSE</code> by default. Let’s change that to <code>TRUE</code> and check the results. Note that you can use capital <code>F</code> and <code>T</code> in the place of <code>FALSE</code> and <code>TRUE</code> in functions. Note also that our function call can span multiple rows and will automatically end when we close the parentheses. This multi-line formatting will be essential for making longer function calls readable.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>mat2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> T</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>mat2</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    3    4</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2   20</span></span></code></pre></div>
<p>Just like we did with vectors, we can also use matrices for many mathematical and statistical functions that are built directly into R. For example, let’s run a Fisher’s Exact Test using the <code>fisher.test</code> function to assess the independence of rows and columns in this table.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fisher.test</span>(mat2)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Fisher&#39;s Exact Test for Count Data</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; data:  mat2</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; p-value = 0.07474</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; alternative hypothesis: true odds ratio is not equal to 1</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0.5875228 107.8450263</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; sample estimates:</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; odds ratio </span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   6.815654</span></span></code></pre></div>
<p>The output includes information about the data we used to run the test, a p-value, the alternative hypothesis, confidence intervals, and the odds ratio. The output we get from any given function will vary depending on the application. See the <code>help()</code> documents for your function of interest to get more info about output.</p>
</div>
<div id="DataTypes" class="section level3 unnumbered">
<h3 class="unnumbered">Data Types in R</h3>
<p>There are many different types of data that R understands but we focus here on the most common. This includes numeric data, integer data, character data, logical data, and factors.</p>
<ul>
<li>numeric data - This is the designation used for real numbers which can include a decimal point.</li>
<li>integer data - This is the designation for numbers without a decimal. To designate a number as an integer type, you can add <code>L</code> after the number (see example below). Note that are automatically converts between numeric and integer data as necessary in mathematical operations.</li>
<li>character data - This is the designation for any string of characters that does not exclusively consist of numbers. Character data can be a single character such as “a” or a long string “this string is character data”. In general R displays character data inside <code>" "</code>.</li>
<li>logical data - This is the designation for evaluations of logical statements and takes the form of <code>TRUE</code> or <code>FALSE</code>.</li>
<li>factors - Factors are nominal variables stored as vectors as R objects which have distinct “levels” which each value must be. Factors are useful in both many statistical procedures and visualizations in that unique values can be treated as “groups” rather than simply unique character data. To designate data as a factor, use the <code>as.factor()</code> function. Note that factors can be numbers but they will be treated as nominal characters when evaluated.</li>
</ul>
<p>It is possible to determine what type of data an R object contains using the <code>str()</code> function. Let’s look at examples for each type below:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">12.3</span>, <span class="fl">32.4</span>, <span class="dv">53</span>, <span class="fl">4.2</span>, <span class="dv">4</span>, <span class="fl">22.3</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(num)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  num [1:6] 12.3 32.4 53 4.2 4 22.3</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>int <span class="ot">&lt;-</span> <span class="fu">c</span>(1L, 2L, 5L, 6L)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(int)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  int [1:4] 1 2 5 6</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>char <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;string1&quot;</span>, <span class="st">&quot;string2&quot;</span>, <span class="st">&quot;This too is a string&quot;</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(char)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  chr [1:3] &quot;string1&quot; &quot;string2&quot; &quot;This too is a string&quot;</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>TF <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>) <span class="co"># note the lack of &quot; &quot;</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(TF)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  logi [1:4] TRUE FALSE FALSE TRUE</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>fac <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;type1&quot;</span>, <span class="st">&quot;type2&quot;</span>, <span class="st">&quot;type2&quot;</span>, <span class="st">&quot;type3&quot;</span>))</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(fac)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Factor w/ 3 levels &quot;type1&quot;,&quot;type2&quot;,..: 1 2 2 3</span></span></code></pre></div>
</div>
<div id="ObjectTypes" class="section level3 unnumbered">
<h3 class="unnumbered">Object Types in R</h3>
<p>The four most common object types in R are vectors, matrices, lists, and data frames. We have already explored vectors and matrices but we can define these and the other classes in more detail here.</p>
<ul>
<li>vector - a combined set of values all of the same type (character, numeric, etc.)</li>
<li>matrix - a set of values in a rectangular two-way table all of the same type (character, numeric, etc.)</li>
<li>data frame - a set of values in a rectangular two-way table where different columns can be different data types</li>
<li>list - a list is a collection of other R objects that can be vectors, matrices, data frames or others in any format that are combined into a single object.</li>
</ul>
<div id="vectors" class="section level4 unnumbered">
<h4 class="unnumbered">Vectors</h4>
<p>We have already introduced vectors above but we can point out one more feature that is often useful in assessing vectors. The <code>length()</code> function tells you how many elements are in a vector.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">44</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
</div>
<div id="matrices" class="section level4 unnumbered">
<h4 class="unnumbered">Matrices</h4>
<p>Once again, we have already introduced matrices above but there are a few more details that are worth addressing here. Again, if you want to call a specific value in a matrix you can use the <code>[,]</code> square brackets with the row number listed followed by a comma and the column number. For example:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mat1</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    3    2</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4   20</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>mat1[<span class="dv">2</span>, <span class="dv">1</span>] <span class="co"># row 2 column 1</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>If you want to know the size of a matrix, you can use the <code>dim()</code> dimensions function:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(mat1)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2 2</span></span></code></pre></div>
</div>
<div id="data-frame" class="section level4 unnumbered">
<h4 class="unnumbered">Data Frame</h4>
<p>As the brief definitions above suggest, data frames are very similar to matrices but can include mixed data types in the same rectangular table. Each row and column must, however, have the same number of entries. A data frame can be created by combining a set of vectors. For example:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;mammoth&quot;</span>, <span class="st">&quot;mastadon&quot;</span>, <span class="st">&quot;bison&quot;</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>col2 <span class="ot">&lt;-</span> <span class="fu">c</span>(50L, 52L, 14L)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>col3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">11.14</span>, <span class="fl">22.23</span>, <span class="fl">656.34</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>col4 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;type1&quot;</span>, <span class="st">&quot;type1&quot;</span>, <span class="st">&quot;type2&quot;</span>))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>col5 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(col1, col2, col3, col4, col5)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       col1 col2   col3  col4  col5</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  mammoth   50  11.14 type1  TRUE</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 mastadon   52  22.23 type1 FALSE</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    bison   14 656.34 type2  TRUE</span></span></code></pre></div>
<p>If we want to look at what kind of data R understands each column to be, we can use the <code>str()</code> or structure function.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    3 obs. of  5 variables:</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ col1: chr  &quot;mammoth&quot; &quot;mastadon&quot; &quot;bison&quot;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ col2: int  50 52 14</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ col3: num  11.1 22.2 656.3</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ col4: Factor w/ 2 levels &quot;type1&quot;,&quot;type2&quot;: 1 1 2</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ col5: logi  TRUE FALSE TRUE</span></span></code></pre></div>
<p>Note that the <code>dim()</code> function also works on data frames as does the <code>[,]</code> call for specific items:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       col1 col2   col3  col4  col5</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  mammoth   50  11.14 type1  TRUE</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 mastadon   52  22.23 type1 FALSE</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    bison   14 656.34 type2  TRUE</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(dat)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3 5</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">2</span>, <span class="dv">1</span>]</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;mastadon&quot;</span></span></code></pre></div>
</div>
<div id="lists" class="section level4 unnumbered">
<h4 class="unnumbered">Lists</h4>
<p>A list is simply a convenient way of combining multiple objects into a single object. It doesn’t matter what type of objects they are. Lists can be defined using the <code>list()</code> function. For example:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>out1 <span class="ot">&lt;-</span> <span class="fu">list</span>(mat1, dat, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>)) <span class="co"># create a list containing 3 objects</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>out1</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    3    2</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    4   20</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       col1 col2   col3  col4  col5</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  mammoth   50  11.14 type1  TRUE</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 mastadon   52  22.23 type1 FALSE</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    bison   14 656.34 type2  TRUE</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 4</span></span></code></pre></div>
<p>If you want to call a specific element of the list you use double square brackets <code>[[]]</code> along with the numeric designation in the middle:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>out1[[<span class="dv">3</span>]]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 4</span></span></code></pre></div>
<p>You can even stack sets of double and single brackets to call specific items within list elements:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>out1[[<span class="dv">3</span>]][<span class="dv">2</span>] <span class="co"># item 2 in list object 3</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>out1[[<span class="dv">2</span>]][<span class="dv">2</span>, <span class="dv">1</span>] <span class="co"># row 2 column 1 in list object 2</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;mastadon&quot;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="Workspace" class="section level2 unnumbered">
<h2 class="unnumbered">The Workspace Tab</h2>
<p>Now that we are starting to get into more complex calls and functions, it will be useful to write and edit the code before executing it rather than typing it directly into the Console. To do this, we can work in the Workspace tab R script document we created at the beginning of this tutorial (Go to File &gt; New File &gt; R Script to open a new document). These .R documents can be edited and saved on your computer so that you can return to them later. Let’s take a look at how this works.</p>
<p>Think of the R script document as a draft of what you plan to type to the Console.</p>
<div id="Directory" class="section level4 unnumbered">
<h4 class="unnumbered">Setting the Working Directory</h4>
<p>Before we get started, let’s save the blank R file we just created. First, we want to define the “Working Directory” where files associated with this project will go. To do that go to the menu at the top of the screen and click “Session &gt; Set Working Directory &gt; Choose Working Directory” and then navigate to the location where you would like to save the file. Next, click on “File &gt; Save As” and define a name for your R script. This should end in .R as this is the extension R and R studio recognize for R Scripts.</p>
</div>
<div id="Files" class="section level4 unnumbered">
<h4 class="unnumbered">Working with your first R script</h4>
<p>Now that you have saved this script, you can type mathematical operations, functions, and other code just as we did directly in the Console above. The main advantage is that if you make a mistake you can go back and fix it more easily. Go ahead and copy the code in the next code chunk below and paste it in your R script int he Workspace window and then save the document.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>mat3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">5</span>),</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> T</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>mat3<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<p>Once you have this saved, highlight all of the code in the Workspace window and then click the “Run” button on the top right side of this pane (see yellow arrow below).</p>
<div class="figure">
<img src="images/workspace.jpg" style="width:100.0%" alt="" />
<p class="caption">Workspace</p>
</div>
<p>This will execute the code in your Console and print the results. Let’s say when we ran this code, we realized that we actually wanted to raise <code>mat3</code> to the 3rd power or we typed one number in our data incorrectly. We can make those changes and then select the code and click run again to do this. This is the true power of scripts in that they allow us to make changes and modify our code easily as we go without retyping commands. Anything you can do in the console you can first set up in the Workspace pane.</p>
</div>
</div>
<div id="InstallPackages" class="section level2 unnumbered">
<h2 class="unnumbered">Installing and Using Packages</h2>
<p>So far, everything we have done has involved packages included in “base” R and only internal built-in functions. One of the best things about R is the ecosystem of packages created and peer reviewed by others for all manner of statistical analyses you can imagine. There is a package out there for just about everything so it is always a good idea to check before you start to write any complex script on your own.</p>
<p>In order to install external packages, you need to know the name of the package you want and you simply type <code>install.packages("NameOfPackage")</code> at the console. Let’s try installing the <code>vegan</code> package first which includes lots of useful functions for community ecology research.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;vegan&quot;</span>)</span></code></pre></div>
<p>Once our package installs, we can “call” it or initialize it using the <code>libaray()</code> function. Notice that when we load this package it also loads “permute” and “lattice” which are two additional packages used within “vegan”. These dependencies were automatically installed when you installed the <code>vegan</code> package.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading required package: permute</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading required package: lattice</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; This is vegan 2.6-2</span></span></code></pre></div>
<p>Now we can use not just the base R functions, but also the functions within the <code>vegan</code> package. Within this package one particularly useful function is called <code>diversity()</code> which allows us to calculate all manner of common diversity measures. Remember to check <code>?diversity</code> if you want to learn more about the package and its arguments. Let’s give it a try by creating a vector and then calculating two different diversity indices on that vector:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">7</span>,<span class="dv">45</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">2</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">diversity</span>(vec1, <span class="at">index =</span> <span class="st">&quot;shannon&quot;</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.831803</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">diversity</span>(vec1, <span class="at">index =</span> <span class="st">&quot;simpson&quot;</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.7259993</span></span></code></pre></div>
<p>As this example shows, once a package is loaded using the <code>library()</code> function, there is nothing special about using external functions. They are called at the console just like built-in functions. There is, however, one additional consideration. Since there are so many packages and they are created by so many people, sometimes two packages will use the same function name. For example, the <code>igraph</code> and <code>sna</code> packages both use the function name <code>degree()</code> for degree centrality. If both packages are initialized in R, how will R know which one to use? The solution for this is to use the package name directly in the function call like this:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(data) <span class="co"># igraph degree function</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>sna<span class="sc">::</span><span class="fu">degree</span>(data) <span class="co"># sna degree function</span></span></code></pre></div>
<p>When writing code that others will use, it may be a good idea to include package names in function calls to avoid ambiguity.</p>
<blockquote>
<p>There are tons of useful packages out there and it can sometimes be a bit overwhelming trying to find them. Searching in a search engine for the simple letter “R” can also yield unexpected results. One helpful tip when searching for packages is to include “CRAN” or “package” in the search terms. CRAN stands for the Comprehensive R Archive Network and this is the archive that contains most of the peer reviewed and established packages for R.</p>
</blockquote>
</div>
<div id="WorkingWithFiles" class="section level2 unnumbered">
<h2 class="unnumbered">Working with Files</h2>
<p>In many cases we may wish to either write or read an external files with R. Frequently these files take the shape of spreadsheets such as Excel documents or csv (comma separated value) documents. R has many functions for reading in such data and most are built-in to base R. Let’s try this out by first writing a .csv (comma separated value) file from a matrix we generate and then reading it back in. Note that any files you write from the console will go directly to the R working directory unless you otherwise specify.</p>
<p>To write a csv file we use the <code>write.csv()</code> function. First we will create a simple matrix, add row names and column names, and then export it.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">65</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice in the matrix call below we don&#39;t enter &#39;nrow&#39;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and other argument names as R automatically expects</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># them to occur in the order mentioned in the documentation</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>mat4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(vec2, <span class="dv">3</span>, <span class="dv">3</span>) <span class="co"># 3 row 3 column matrix</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(mat4) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;row 1&quot;</span>, <span class="st">&quot;row 2&quot;</span>, <span class="st">&quot;row 3&quot;</span>) <span class="co"># assign row names</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(mat4) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>) <span class="co">#assign col names</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>mat4 <span class="co"># view matrix</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        A B C</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row 1  4 4 6</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row 2  2 2 4</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row 3 65 4 2</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the matrix as a csv file</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(mat4, <span class="at">file =</span> <span class="st">&quot;output_mat.csv&quot;</span>)</span></code></pre></div>
<p>Once you export this file, you should see it appear in the File pane in the bottom right of R-Studio within the working directory.</p>
<div class="figure">
<img src="images/files.jpg" alt="" />
<p class="caption">File pane</p>
</div>
<p>If you want to read this file back in, we can simply use the <code>read.csv()</code> function. Let’s give it a try and create a new object called, <code>read_mat</code> from the results of the function. We use the argument <code>header = T</code> to indicate that the first row represents column names and <code>row.names = 1</code> to indicate that the first column includes the row names.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>read_mat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;output_mat.csv&quot;</span>, <span class="at">header =</span> T, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>read_mat</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        A B C</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row 1  4 4 6</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row 2  2 2 4</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; row 3 65 4 2</span></span></code></pre></div>
<p>It is important to note here, however, that the <code>read.csv()</code>function doesn’t know the difference between a data frame and a matrix unless you specify. Indeed, if we check, R sees <code>read_mat</code> as a data frame. For some purposes this doesn’t matter but where it does, we can convert it to a matrix using the <code>as.matrix()</code> function.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(read_mat)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    3 obs. of  3 variables:</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ A: int  4 2 65</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ B: int  4 2 4</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ C: int  6 4 2</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>read_mat2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(read_mat)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="fu">is.matrix</span>(read_mat2)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>There are lots of different functions for reading in files in different formats and we will introduce some of these later in the subsequent sections of this tutorial where relevant.</p>
</div>
<div id="Plotting" class="section level2 unnumbered">
<h2 class="unnumbered">Plotting Data</h2>
<p>One of the great features of R is the ability to make all kinds of amazing data visualizations. Making simple graphics is very easy but as we will see, defining very specific details often requires a number of different packages and considerable care. Indeed, the vast majority of functions used in this Online Companion are used for visualizations.</p>
<p>Let’s start with something simple by creating two vectors and then creating a biplot comparing them. When you use the <code>plot()</code> function the plot will automatically appear in the bottom right pane of your R-Studio window. We use the <code>rnorm()</code> function here to generate random numbers from a normal distribution. We further use the <code>set.seed()</code> function to ensure that we will always generate the same random numbers every time we make this call for reproducibility. If we entered a different number in <code>set.seed()</code> we would get different results.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">465</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5000</span>, <span class="at">mean =</span> <span class="dv">40</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5000</span>, <span class="at">mean =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="fl">0.5</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>We can also easily create a histogram of a single variable with additional arguments:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">breaks=</span><span class="dv">20</span>) <span class="co"># breaks defines the number of bars</span></span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>And boxplots:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x, y)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>There are lots of figures built right into base R and we suggest exploring the <a href="https://bookdown.org/content/b298e479-b1ab-49fa-b83d-a57c2b034d49/">R Gallery Book</a> which outlines many options.</p>
<p>In the remainder of the Online Companion we will go into detail in how to modify and configure visualizations but it worth mentioning one more common visualization tool that has almost eclipsed base R graphics in popularity. That is the package <code>ggplot2</code>. This package can be used for all sorts of visualizations and it uses a format that is somewhat different from that of base R. Let’s look at an example:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, y)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y))</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>In the code chunk above, we created a data frame (which ggplot2 requires) combining our random x and y variables. Next, we made a generic call to ggplot2 using the <code>ggplot(data = df)</code> line. This creates a ggplot object set up with <code>df</code> as the data considered. Notice this line is followed by a <code>+</code>. This package will continue to read lines until a line does not end with this symbol and <code>ggplot</code> calls can often be quite long.</p>
<p>The next line was the <code>geom_point()</code> function. This package designates different kinds of visualizations as <code>geom_</code> and there are many options (<code>geom_histogram</code>, <code>geom_bar</code>, <code>geom_polygon</code>, etc.). The <code>geom_point</code> function refers to a simple point plot. The argument inside the function is defined as <code>aes(x = x, y = y)</code>. In this package <code>aes</code> stands for aesthetics. In this case, we are using this aesthetics call to designate which variable will be on the x and which on the y axis, which is easy here as we named our variable appropriately.</p>
<p>From here <code>ggplot2</code> includes seemingly endless customization options. There are way too many options out there for us to cover here but a good place to start is the <a href="https://r-graph-gallery.com/">R Graph Gallery</a> website.</p>
<p>We will cover many examples and the visualization section of this tutorial in particular leans heavily on the <code>ggplot2</code> format but for now, let’s just see a couple of additional examples.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> y), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;darkorchid4&quot;</span>) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Numbers!!&quot;</span>) <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;REALLY BIG NUMBERS&quot;</span>) <span class="sc">+</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bin2d</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>(<span class="at">type =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-42-2.png" width="672" /></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">d1 =</span> <span class="fu">rpois</span>(<span class="dv">50</span>, <span class="at">lambda =</span> <span class="dv">4</span>),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">gp =</span> <span class="fu">sample</span>(<span class="at">size =</span> <span class="dv">50</span>, letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="at">replace =</span> T))</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df2) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> d1, <span class="at">fill =</span> <span class="fu">factor</span>(gp))) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-42-3.png" width="672" /></p>
</div>
<div id="AdvancedR" class="section level2 unnumbered">
<h2 class="unnumbered">More Advanced R Features</h2>
<p>The examples so far have covered most of the basic features of R and R-Studio. There are just a few more things that are implemented in this online document that need a bit of additional explanation. If you can follow along with the examples above, you will be able to replicate most of the work in this document. The features in this section will help you expand your skills and better understand the more complicated code in this document.</p>
<div id="Conditionals" class="section level3 unnumbered">
<h3 class="unnumbered">Conditional Statements</h3>
<p>Another common need for programming in R is to conduct an action conditioned on another action or variable state. For example, if A is TRUE then do B. If statements like this are formally in R using the following format:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 1</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (test) {</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  event1</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 2</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (test) {</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  event1</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  event2</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In Example 1 above if the statement called <code>test</code> is evaluated as <code>TRUE</code> then <code>event1</code> is executed. If <code>test</code> is evaluated as <code>FALSE</code> then nothing happens.</p>
<p>Example 2 is an if…else statement. In this example if the statement called <code>test</code> is evaluated as <code>TRUE</code> then <code>event1</code> is executed. If <code>test</code> is evaluated as <code>FALSE</code> then <code>event2</code> is executed.</p>
<p>Let’s take a look at a worked example that will print output on the screen depending on the outcome of the <code>test</code> expression.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">40</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">50</span>) {</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&#39;Greater Than 50&#39;</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&#39;Less Than 50&#39;</span>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Less Than 50</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x<span class="sc">*</span><span class="dv">2</span> <span class="sc">&gt;</span> <span class="dv">50</span>) {</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&#39;Greater Than 50&#39;</span>)</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&#39;Less Than 50&#39;</span>)</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Greater Than 50</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">50</span>) {</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&#39;Greater Than 50&#39;</span>)</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<p>In the first example above, the evaluation of <code>x &gt; 50</code> was <code>FALSE</code> so the statement in brackets after <code>else</code> was evaluated. In the second example, the evaluation of <code>x*2 &gt;50</code> was <code>TRUE</code> so the first statement was evaluated. Finally, in the third example, <code>x &gt; 50</code> was <code>FALSE</code> and since there is no <code>else</code> statement nothing happened.</p>
<p>If you want to apply an if…else statement to a vector of values rather than one at a time, you can use a useful function <code>ifelse()</code>. The <code>ifelse()</code> function expects the first item in the parenthesis to be the test expression, followed by the event to execute if the statement is true and then the event to execute if the expression is false.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]   5  10  15  20  25  30  35  40  45  50  55  60  65  70</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15]  75  80  85  90  95 100</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(x <span class="sc">&gt;</span> <span class="dv">50</span>, <span class="st">&quot;Greater Than 50&quot;</span>, <span class="st">&quot;Less Than 50&quot;</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;Less Than 50&quot;    &quot;Less Than 50&quot;    &quot;Less Than 50&quot;   </span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;Less Than 50&quot;    &quot;Less Than 50&quot;    &quot;Less Than 50&quot;   </span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;Less Than 50&quot;    &quot;Less Than 50&quot;    &quot;Less Than 50&quot;   </span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;Less Than 50&quot;    &quot;Greater Than 50&quot; &quot;Greater Than 50&quot;</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;Greater Than 50&quot; &quot;Greater Than 50&quot; &quot;Greater Than 50&quot;</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] &quot;Greater Than 50&quot; &quot;Greater Than 50&quot; &quot;Greater Than 50&quot;</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] &quot;Greater Than 50&quot; &quot;Greater Than 50&quot;</span></span></code></pre></div>
</div>
<div id="which" class="section level3 unnumbered">
<h3 class="unnumbered">which Function</h3>
<p>Another useful and frequently used conditional function is the <code>which()</code> function. This function allows you to evaluate which items in an object meet a given condition. Let’s take a look at an example to see how this works:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>) <span class="co"># sequence of numbers 1 to 10</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">&gt;</span> <span class="dv">5</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  6  7  8  9 10</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">20</span>, <span class="at">by =</span> <span class="dv">2</span>) <span class="co"># sequence of numbers 2 to 20 by 2s</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  2  4  6  8 10 12 14 16 18 20</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(y <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  6  7  8  9 10</span></span></code></pre></div>
<p>In the first example above, we created a sequence of numbers from 1 to 10 and then evaluated which were greater than 5. The results indicated that items 6, 7, 8, 9, and 10 in the vector were greater than 5. Note that these results are not referring to the values but instead are the numeric indexes of the values. The second example illustrates this. This is much like the first example by we create a sequence of numbers from 2 to 20 counting by 2s. When we evaluate which numbers in the vector are greater than 10, our results tell us the 6th, 7th, 8th, 9th, and 10th numbers are greater than 10.</p>
</div>
<div id="Loops" class="section level3 unnumbered">
<h3 class="unnumbered">Loops</h3>
<p>A loop provides a set of instructions for R to repeat a code block some number of times based on rules we supply. The typical syntax is:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (value <span class="cf">in</span> sequence) {</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  event</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>What this means is that for every value in a sequence of values, evaluate the expression in the <code>event</code> chunk. Let’s take a look at a worked example to help clarify this.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { <span class="co"># for every value in the sequence from 1:5</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>As this example helps illustrate, the <code>for (i in 1:5)</code> statement defines <code>i = 1</code> and then evaluates the statement <code>print(i * 2)</code>, and then defines <code>i = 2</code> and evaluates <code>print(i * 2)</code>, and so on until it completes the chunk for <code>i = 5</code>. The key feature of for loops is that we can use the value assigned to the iterator <code>i</code> in the statement inside the curly brackets <code>{}</code> to evaluate the statement for a range of values. The sequence of values assigned to the iterator are arbitrary and can occur in any order:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>val_seq <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (m <span class="cf">in</span> val_seq) {</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(m)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<p>We can also assign the results of any expressions in the curly brackets to a new variable. If you want to retain all results and not have the results rewritten, you will need to first define an output object before you start.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare these two chunks of code</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (z <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> z</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>out</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (z <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  out[z] <span class="ot">&lt;-</span> z</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>out</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>In the second example, the statement within the brackets tells R to assign the value of <code>z</code> to <code>out</code> at position <code>[z]</code> and therefore all results are retained rather than rewritten each sequence of the loop.</p>
<p>There is a lot more than can be done with loops but this basic description should be all you need to know to understand the code in this document.</p>
</div>
<div id="CustomFunctions" class="section level3 unnumbered">
<h3 class="unnumbered">Custom Functions</h3>
<p>Finally, we are going to end with a discussion of how R can be used to create custom functions. If there is some operation you do again and again, it doesn’t make sense to keep copying and pasting the code every time. It makes more sense to define a function and then just call that. Once defined, a custom function works just like all the built-in and package functions we’ve seen above. Here is the basic syntax of a function in R:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(arguments) {</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> expression_to_evaluate</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Once defined function can be run as</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="fu">function_name</span>(arguments)</span></code></pre></div>
<p>This format is a fairly simple example. Some functions can be quite complex, but that complexity is usually about combining loops and conditional statements and other processes discussed above within the function rather than anything new or beyond what we’ve shown you so far. Let’s take a look at a simple worked example to see how custom functions work:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>func1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> (x <span class="sc">*</span> y) <span class="sc">+</span> (x <span class="sc">-</span> y)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="fu">func1</span>(<span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 21</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="fu">func1</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 75</span></span></code></pre></div>
<p>As this shows, any named argument in the function call can be used in the expression evaluated within the brackets. Functions can contain many lines of code and many arguments but the features and format are the same as the simple examples here. Let’s look at a somewhat more complex function to see how this works:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>myfunct <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    z[i] <span class="ot">&lt;-</span> (x[i] <span class="sc">*</span> i) <span class="sc">/</span> <span class="dv">5</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(z)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>val_seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="fu">myfunct</span>(val_seq)</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  0.2  0.8  1.8  3.2  5.0  7.2  9.8 12.8 16.2 20.0</span></span></code></pre></div>
<p>Let’s break down what is happening in the chunk of code above. First, we defined a function with one argument <code>x</code>. Inside the function expression we then initialized a new variable for the output called <code>z</code>. We then enter a for loop that iterates values of <code>i</code> for a sequence of numbers from 1 to the length of vector <code>x</code>. The value of <code>z</code> at position <code>i</code> is defined as the value of <code>x</code> at position <code>i</code> times <code>i</code> divided by 5. Once this loop finishes, the function returns the vector <code>z</code> with the results. As this example shows, arguments need not be limited to single values and can include vectors, data.frames, matrices, lists, or any type of R object.</p>
</div>
<div id="test-your-skills" class="section level3 unnumbered">
<h3 class="unnumbered">Test Your Skills</h3>
<p>If you’ve followed along with this tutorial so far, you should be able to do many basic operations in R and R-Studio. Let’s now put your skills to the test. Use what you have learned above to create a function that converts Fahrenheit temperatures to Celsius. The formula for this conversion is <code>(F_temp - 32) * 5 / 9</code>. Create a function that reads in the F temperature and outputs C and the run it for the sequence of values below.</p>
<p>Hints: Remember that you can’t use <code>F</code> as an object name because that is the designation R uses for <code>FALSE</code>. Also, think about what you are trying to accomplish here. You want to create a function that iterates across a vector. That’s very much what the previous example did so you can use that code as inspiration.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>F_temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">44</span>, <span class="dv">59</span>, <span class="dv">59</span>, <span class="dv">39</span>, <span class="dv">50</span>, <span class="dv">59</span>, <span class="dv">35</span>)</span></code></pre></div>
<p>Once you have a working function, the use the <code>round()</code> function to convert your results to integers (check <code>?round()</code> if you need hints on how to do that) and output these results into an object called <code>res</code>. Finally run the chunk of code below for a surprise:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(LETTERS[res])</span></code></pre></div>
<p>We have provided the answer below but give this a try on your own first before peeking at the answer.</p>
<p>No peeking until you try!!</p>
<p>Here is our solution below:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>temp_func <span class="ot">&lt;-</span> <span class="cf">function</span>(f) {</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(f)) {</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    results[i] <span class="ot">&lt;-</span> ((f[i] <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span>)</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(results)</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>F_temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">44</span>,<span class="dv">59</span>,<span class="dv">59</span>,<span class="dv">39</span>,<span class="dv">50</span>,<span class="dv">59</span>,<span class="dv">35</span>)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">temp_func</span>(F_temp)</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>out</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  6.666667 15.000000 15.000000  3.888889 10.000000</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] 15.000000  1.666667</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">round</span>(out, <span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>res</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  7 15 15  4 10 15  2</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(LETTERS[res])</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;G&quot; &quot;O&quot; &quot;O&quot; &quot;D&quot; &quot;J&quot; &quot;O&quot; &quot;B&quot;</span></span></code></pre></div>
<!--chapter:end:index.Rmd-->
</div>
</div>
</div>
<div id="data-and-workspace-setup" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Data and Workspace Setup</h1>
<p>This section provides downloadable files for the network datasets used in this online companion and in the book as well as information on the primary R packages used for analysis and visualization throughout this tutorial. We also provide very brief instructions for importing these data into R using R-studio and some guidance on setting up your R-studio working environment. For additional guidance see the resources provided in the introduction.</p>
<div id="Datasets" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Datasets</h2>
<p>In the analyses illustrated in this document we use a number of real and simulated archaeological datasets to serve as examples for particular data types and techniques. Most of the datasets used here are provided in .csv (comma separated value) or .RData formats and can be downloaded so that you can follow along with these analyses on your own computer. We encourage you to explore these files and see how they are formatted as a guide for setting up your own datasets.</p>
<p>The data used here include a range of different network data formats and types. The primary datasets are described in detail in Brughmans and Peeples (2022) Chapter 2.8. Note that where spatial locations for archaeological sites are provided the locations have been randomly jittered up to 10 kilometers from their actual locations to maintain data security.</p>
<p>For the files below you can right click and “save as” to save them for use locally. Note that there are many additional datasets relating to the replication of particular figures in the book that are provided where the code for that particular figure occurs. If you’d like to just download everything at once <a href="#Everything">see the next section</a></p>
<div id="Everything" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Just Give Me Everything</h3>
<p>Hey, we get it. You’re busy and just want all of the data in one convenient package. We provide all of the data used in the appendix here in a single .zip file for you to download. To follow along with the examples in this appendix you need to choose an R working directory and place the contents of the *.zip folder within it such that all of the individual files are contained within a folder called “data”. Note that this includes all of the additional files that are required for reproducing particular figures as well.</p>
<p><a href="All_data.zip">All_data.zip</a> - A single compressed file containing all of the data files used in this appendix.</p>
</div>
<div id="RomanRoad" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Roman Road Networks</h3>
<p>The development of an elaborate road system is one of the most enduring legacies of the Roman Republic and Empire. Areas that came under Roman control were connected to Rome and important provincial centers through entirely new roads as well as redeveloped existing roads. From roughly the second century AD onward this resulted in an integrated terrestrial transport network connecting North-Africa, the Middle East, and western and southern Europe. Much of the subsequent development of transport systems in these regions built on this Roman system.</p>
<p>Our primary source for roads of the entire Roman world is the Barrington Atlas of the Greek and Roman World (Talbert 2000) and their digitization by the Ancient World Mapping Center (2012). In many of our examples we will focus in particular on the roads of the Iberian Peninsula, which have been digitized in great detail by Pau de Soto (de Soto and Carreras 2021). In our analyses of the Roman road network ancient settlements are represented as nodes and the existence of a road between two settlements is represented by an edge. We also include the length of a road as an edge attribute.</p>
<ul>
<li><a href="data/Hispania_nodes.csv">Hispania_nodes</a> - NodeIDs and names for Roman era settlements in the Iberian Peninsula along with names and latitude and longitude locations in decimal degrees.</li>
<li><a href="data/Hispania_roads.csv">Hispania_roads</a> - Edge list of road connections using NodeIDs from Hispania_nodes file. This file contains a “weight” variable defined for each edge which denotes the length of the road segment.</li>
</ul>
</div>
<div id="SWSN" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Southwest Social Networks Project Ceramic Similarity Networks</h3>
<p>The Southwest Social Networks (SWSN) Project (and subsequent <a href="https://cybersw.org">cyberSW</a> project) is a large collaborative effort focused on exploring methods and models for network analysis of archaeological data to better understand patterns of interaction, population movement, and demographic change across the U.S. Southwest and Mexican Northwest through time (ca. A.D. 800-1800; Borck et al. 2015; Giomi et al. 2021; Mills et al. 2013a; 2013b; 2015; 2018; Peeples and Haas 2013; Peeples et al. 2016; Peeples and Roberts 2013). During the interval considered by this project the region was inhabited largely by sedentary agricultural populations (though more mobile populations were also present throughout this period) with communities as large as several thousand people at the peak. The region is blessed with excellent archaeological preservation, a fine grained chronology anchored by dendrochronological dates, and nearly 150 years of focused archaeological research.</p>
<p>The SWSN/cyberSW project team has gathered a massive database with information on the location and size of tens of thousands of archaeological sites and ceramic and other material cultural typological frequency data consisting of millions of objects to explore how patterns of material similarity, exchange, and technology change across time and space in the study area. These data as well as tools needed to analyze them are available in an online platform called <a href="https://cybersw.org">cyberSW (cyberSW.org)</a>. This online platform even allows you to explore these data directly in your internet browser. The size and complexity of the SWSN/cyberSW data make it a particularly good example for discussing the decision processes involved in visualizing and analyzing large networks.</p>
<p>In several sections of this book we also use subsets of this larger dataset: the San Pedro Valley, and the Chaco World. The San Pedro Valley in southern Arizona is a well-studied portion of the SWSN study area (see Clark and Lyons 2012; Gerald 2019) that was an early focus of network methodological exploration by the team (Mills et al. 2013b). This data subset includes detailed ceramic typological frequency for all known major settlements across this region during the late pre-Hispanic period (ca. A.D. 1200-1450). The Chaco World is a large-scale social and political system that spanned much of the Colorado Plateau ca. A.D. 800-1150. This settlement system was marked by the construction of massive public architectural features known as great houses and great kivas. This subset of the database includes information on architecture and ceramic typological data for a large portion of the known Chacoan architectural complexes throughout the U.S. Southwest. The Chaco World has been a major focus of the SWSN/cyberSW project (Giomi et al. 2021; Giomi and Peeples 2019; Mills et al. 2018).</p>
<p>In these networks, individual settlements are treated as nodes and edges are defined and weighted based on similarities in the ceramic wares recovered at those settlements. Ceramic data used to generate networks are apportioned into a sequence of 50-year chronological intervals using methods described in detail by Roberts and colleagues (2012) and Ortman (2016; see discussion in Mills et al. 2018) so that we are able to explore change through time. Site locations and other site attribute data are also considered in some examples. R implementations of these chronological apportioning methods are available on GitHub as well (<a href="https://github.com/mpeeples2008/CeramicApportioning">R implementation of Roberts et al. 2012</a>, <a href="https://github.com/mpeeples2008/UniformProbabilityDensityAnalysis">R implementation of Ortman 2016</a>).</p>
<ul>
<li><a href="data/AD1300attr.csv">SWSN Attribute Data AD 1300-1350</a> - Attribute data for SWSN sites dating between AD 1300 and 1350 including site name, site sub-region (Macro), and jittered easting and northing UTM coordinates.</li>
<li><a href="data/AD1300sim.csv">SWSN Similarity Data AD 1300-1350</a> - Symmetric similarity matrix based on Brainerd-Robinson similarities for all SWSN sites dating between AD 1300 and 1350.</li>
<li><a href="data/AD1050attr.csv">The Chaco World Attribute Data AD 1050-1100</a> - Attribute data for sites with Chacoan architectural features dating between AD 1050 and 1100 including site IDs, site names, site sub-regions, counts of different kinds of public architectural features, and jittered easting and northing site locations.</li>
<li><a href="data/AD1050cer.csv">The Chaco World Ceramic Data AD 1050-1100</a> - Ceramic count data by ware for sites with Chacoan architectural features dating between AD 1050 and 1100.</li>
<li><a href="data/AD1050net.csv">The Chaco World Network AD 1050-1100</a> - Adjacency matrix of binarized network of ceramic similarity for sites with Chacoan architectural features dating between AD 1050 and 1100.</li>
<li><a href="data/Figure6_20.Rdata">San Pedro Networks throgh Time</a> - An .RData file that contains igraph network objects for the San Pedro region ceramic similarity networks for AD1250-1300, AD1300-1350, and AD1350-1400.</li>
</ul>
</div>
<div id="Cibola" class="section level3" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> Cibola Region Technological Similarity Networs</h3>
<p>The Cibola region along the Arizona and New Mexico border in the U.S. Southwest is a large and diverse physiographic region spanning the southern edge of the Colorado Plateau and the ancestral homeland of the contemporary Zuni (A:shiwi) people. Peeples and colleagues (Peeples 2011, 2018; Peeples et al. 2021) have explored patterns of technological similarity and communities of practice in this region at a series of sites dating ca. A.D. 1100-1350 through explorations of corrugated ceramic cooking pots. Corrugated pots, which are produced across much of the U.S. Southwest from at least the 9th through the 14th centuries, are coiled ceramic vessels where the coils used to make the vessel are never fully smoothed. Thus, these ceramics retain substantial amounts of evidence of the specific techniques used to produce them.</p>
<p>In the book we use data on ceramic technological production techniques to generate similarity networks originally published by Peeples (2011; 2018). In these networks each settlement is treated as a node with similarity metrics defining the weights of edges between pairs of sites based on an analysis of a number of metric and coded attributes of individual ceramic vessels. In addition to these material cultural data, we also have additional site attributes such as location and the types and frequency of public architectural features.</p>
<p>Ceramic technological data from Peeples (2018): Additional data and documentation from this project is available on tDAR <a href="https://core.tdar.org/project/427899/connected-communities-networks-identity-and-social-change-in-the-ancient-cibola-world">in this collection</a>. Nodes are defined as individual settlements with edges defined based on similarities in the technological attributes of cooking pots recovered at those settlements. For more details on the methods and assumptions used to define these networks see Peeples (2018, pg. 100-104).</p>
<ul>
<li><a href="data/Cibola_clust.csv">Cibola Ceramic Technological Clusters</a> - Counts of ceramic technological clusters for sites in the Cibola region sample.</li>
<li><a href="data/Cibola_attr.csv">Cibola Site Attributes</a> - Site location, public architectural feature types, and sub-region designations for sites in the Cibola region sample.</li>
<li><a href="data/Cibola_edgelist.csv">Cibola Binary Network Edge List</a> - Binary edge list of Cibola technological similarity network.</li>
<li><a href="data/Cibola_adj.csv">Cibola Binary Network Adjacency Matrix</a> - Binary adjacency matrix of Cibola technological similarity network.</li>
<li><a href="data/Peeples2018.Rdata">Peeples2018.Rdata</a> - This file contains a number of objects in R format including the site attributes (site_info), a symmetric Brainerd-Robinson similarity matrix (ceramicBR), a binary network object in the statnet/network format (BRnet), and a weighted network object in the statnet/network format (BRnet_w)</li>
</ul>
</div>
<div id="Himalaya" class="section level3" number="1.1.5">
<h3><span class="header-section-number">1.1.5</span> Himalayan Visibility Networks</h3>
<p>Hundreds of forts and small fortified structures are located on mountain tops and ridges in the central Himalayan region of Garhwal in Uttarakhand (India). Despite being such a prominent feature of the history of the region that is interwoven with local folklore (Garhwal is derived from ‘land of forts’), this fortification phenomenon has received very little research attention. It might have had its origins during the downfall of the Katyuri dynasty in the 11th century and continued up to the 15th century when the region was consolidated by the Parmar dynasty and possibly even later as attested by Mughal, Tibetan, and British aggressions.</p>
<p>In the book we use this research context as an example of spatial networks and more specifically visibility networks.This is made possible thanks to the survey of forts in the region performed in the context of the PhD project by Dr Nagendra Singh Rawat (2017). We use a catalog of 193 sites (Rawat et al. 2020, Appendix S1), and use the case of Chaundkot fort and its surroundings as a particular case study. Chaundkot fort is theorized to have been one of the key strongholds in the region and is also the only one to have been partly excavated (Rawat and Nautiyal 2020). In these case studies we represent strongholds as nodes, and the ability for a line-of-sight to exist between observers located at a pair of strongholds is represented by a directed edge. The length of each line-of-sight is represented by an edge attribute.</p>
<ul>
<li><a href="data/Himalaya_nodes.csv">Himalayan Node data</a> - Node attribute data for the Himalayan sites including locations in lat/long, elevation, site name/type, and descriptions of landscape features.</li>
<li><a href="data/Himalaya_visiblity.csv">Himalayan Edge List</a> - Edge list data with information on connections among nodes within 25kms of each other with information on the distance and whether or not the target site is visible from the source. Note that only edges with “Visible = TRUE” should be included as activated edges.</li>
</ul>
</div>
<div id="ArchPubs" class="section level3" number="1.1.6">
<h3><span class="header-section-number">1.1.6</span> Archaeological Publication Networks</h3>
<p>Our knowledge and stories of past human behavior are as much shaped by the material remains we excavate, as they are by the actions and interactions of the archaeologists that study them. Aspects of these actions and interactions are formally represented in publications. Such papers can be co-authored, reflecting scientific collaboration networks and communities of practice. Authors cite other authors’ works to indicate explicitly that they were influenced by it or that it is related to the paper’s subject matter.</p>
<p>In previous work, we have turned the tools of archaeological network science on archaeological network researchers themselves (Brughmans 2013; Brughmans and Peeples 2017). We studied the co-authorship and citation practices of the more than 250 publications that have applied formal network methods to archaeological research topics from 1968 to the present. From a list of publications, an undirected co-authorship network can be made by representing individual authors as nodes, and connecting a pair of authors with an edge if they have been co-authors on one or more papers, with edge values representing the number of papers they co-authored. Moreover, a directed citation network can be made from the bibliographies of this list of publications. In a citation network, each node represents an individual publication which is connected to all other publications in its bibliography with a directed edge. The edge goes from the citing publication to the cited publication, so it represents the source and direction of academic influence as explicitly expressed in publication. We use networks of archaeological network research publications throughout this volume to illustrate concepts like the acyclic structure of citation networks.</p>
<ul>
<li><a href="data/biblio_attr.csv">Publication Networks Attribute Data</a> - Attribute data table including information on publications including a unique key identifier, publication type, publication title, publication date, and the author list separated by semi-colons.</li>
<li><a href="data/biblio_dat.csv">Publication Networks Co-Authorship Incidence Matrix</a> - An incidence matrix with unique publications as rows and authors as columns.</li>
</ul>
</div>
<div id="Guadalquivir" class="section level3" number="1.1.7">
<h3><span class="header-section-number">1.1.7</span> Iron Age Sites in Southern Spain</h3>
<p>The Guadalquivir river valley in the south of Spain between present-day Seville and Córdoba was densely urbanized in the late Iron Age (early 5th c. BC to late 3rd c. BC). Many settlements were dotted along the rivers and the southern part of the valley (Fig. 2.6), and this settlement pattern was focused on nuclear settlements sometimes referred to as oppida. Some of these reveal defensive architecture and many are located on elevations. Previous studies of Iron Age settlements in the region have explored possible explanations for their locations (Keay and Earl 2011; Brughmans et al. 2014, 2015). Given their elevated locations, one theory that has received considerable attention was intervisibility. Could small settlements surrounding oppida be seen from them, and could oppida be located partly to allow for visual control over surrounding settlements? Did groups of Iron Age settlements tend to be intervisible, forming communities that were visible on a daily basis? Were there chains of intervisibility that allowed for passing on information from one site to another via visual smoke or fire signals, and did these chains follow the other key communication medium in the area: the navigable rivers?</p>
<p>These questions have been explored in previous research using GIS and network methods, using a dataset of 86 sites and lines-of-sight connecting pairs of Iron Age settlements at distances up to 20km at which large fire and smoke signals would be visible (more about this dataset and research topic: Keay and Earl 2011; Brughmans et al. 2014, 2015). To account for errors in the Digital Elevation Model (DEM), a probabilistic line-of-sight analysis was performed that introduces random errors into the DEM which can have a blocking or enhancing effect on the lines-of-sight. The locations of these 86 sites and the network displayed in figure 2.9 are also available as Appendix A in Brughmans et al. 2014. These locations are used in Chapter 7 of the book to illustrate spatial network models that explore different geographical structures that might underlie the settlement pattern.</p>
<ul>
<li><a href="data/Guadalquivir.csv">Guadalquivir settlement data</a> - Site number and locations in decimal degrees for all sites in the Guadalquivir survey area.</li>
</ul>
</div>
</div>
<div id="Importing" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Importing Data in R</h2>
<p>This section briefly describes how the data provided above (or your own data) can be imported in to R for further analyses (see <a href="#WorkingWithFiles">Working With Files</a> for more info). Before running the code below, however, you need to ensure that your R session is set to the correct working directory (the location where you placed the .csv files you just downloaded). To do that, go to the menu bar at the top and click Session &gt; Set Working Directory &gt; Choose Directory and navigate to the place on your hard drive where these files reside.</p>
<p>For this example we will read in the <code>Cibola_edgelist.csv</code> file and define an object called <code>EL1</code> which includes the data in that file using the <code>read.csv()</code> command. Note that in this case the file we want to read is in a sub-folder of our working directory called “data” so we need to use the <code>data/</code> prefix before the file name to correctly call that file. If you do not chose to use a sub-folder or if you call your folder something else, you will need to modify the <code>data/</code> section of the code.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read in data with first row representing column names (header=TRUE)</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>EL1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the first few rows</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EL1)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           FROM                   TO</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Apache Creek         Casa Malpais</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Apache Creek         Coyote Creek</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Apache Creek         Hooper Ranch</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Apache Creek      Horse Camp Mill</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Apache Creek        Hubble Corner</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Apache Creek Mineral Creek Pueblo</span></span></code></pre></div>
<p>In addition to the .csv files, several examples in this book and several of the datasets above are provide as .RData files which can be read directly in R and can contain multiple R objects. These can be read directly into the R environment using the <code>load()</code> function. See the example below. Again note that you must specify the specific directory within the working directory where the file is located.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/map.RData&quot;</span>)</span></code></pre></div>
</div>
<div id="installing-requiredsuggested-r-packages" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Installing Required/Suggested R Packages</h2>
<p>In this appendix we rely on a number of pre-existing R packages. In order to use these packages in a new installation of R and R-studio, you first need to install them. Note that you will only need to do this once on a new installation of R. To install packages, you can click on the “Packages” tab in the window in the bottom right of R studio, then click the “Install” button at the top and type the names of the packages separated by commas. Alternatively you can install packages from the console by simply typing <code>install.packages("nameofpackagehere")</code>.</p>
<p><code>install.packages(c("statnet", "igraph"))</code></p>
<p>We use a number of R packages in the modules here and in the book for manipulating and analyzing network data and for other general analyses and procedures. The most frequently used network packages include:</p>
<ul>
<li><a href="https://igraph.org/">igraph (Csardi and Nepusz 2006)</a> - analytical routines for simple graphs and graph analysis</li>
<li><a href="http://statnet.org/">statnet (Krivitsky et al. 2020)</a> - A suite of packages designed for the management and statistical analysis of networks</li>
<li><a href="https://cran.r-project.org/web/packages/intergraph/intergraph.pdf">intergraph (Bojanowski 2015)</a> - a set of routines for coercing objects between common network formats in R</li>
<li><a href="https://CRAN.R-project.org/package=ggraph">ggraph (Pederson 2021)</a> - a powerful graph visualization package that is based off of the ggplot2 plotting format</li>
</ul>
<p>No matter how you plan on working with these documents, you should install these four packages at a minimum by running the code below.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;igraph&quot;</span>, <span class="st">&quot;statnet&quot;</span>, <span class="st">&quot;intergraph&quot;</span>, <span class="st">&quot;ggraph&quot;</span>))</span></code></pre></div>
<div id="PrimaryPackages" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> A Brief Introduction to the Primary Network Packages in R</h3>
<p>Throughout this Online Companion, we will consistently rely on <code>igraph</code> and <code>statnet</code> (<code>statnet</code> is actually a suite of packages that includes <code>sna</code>, <code>network</code>, <code>ergm</code>, and others). For the most part these two packages do many of the same things. You can use them to calculate centrality metrics, define groups, or evaluate other network structures. In general <code>igraph</code> is a bit more centered on complex networks and mathematical models and <code>statnet</code> and affiliated packages are more focused on social network analysis though there is considerable overlap.</p>
<p>Although <code>igraph</code> and <code>statnet</code> have many of the same features, they are not directly compatible and use different network formats to store data in R. Adding to the potential confusion, function call names are often the same between the two packages. For example degree centrality is calculated using a <code>degree()</code> function in both. If you simply use the <code>degree()</code> call R will use the function from whichever package was initialized most recently. If this is the wrong package for your data format, you will get an error. In order to avoid such errors and to clear up ambiguity we use the package name followed by <code>::</code> in the function call (i.e., <code>igraph::function_name</code> or <code>sna::function_name</code>) so that R knows which package we intend to use. You can do this with any R function where you want to specify the package (<code>package::function_name</code>).</p>
<p>In general in this Online Companion we use the <code>igraph</code> package wherever possible as we find the data format and especially the functions for converting between network data types to be the most useful and intuitive for most kinds of analyses. We use <code>statnet</code> and affiliated packages in specific cases where <code>igraph</code> lacks specific functionality or important features. Luckily the package called <code>intergraph</code> lets us convert network objects from one format to another as we will see in the examples ahead.</p>
<p>Finally, we recommend installing <code>ggraph</code> as this is a very useful and intuitive package that allows for diverse network visualizations and customization. These four packages account for the bulk of the examples in this book.</p>
</div>
<div id="should-i-just-install-everything" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Should I Just Install Everything?</h3>
<p>If you have plenty of disk space and time and don’t wont to worry about installing packages piecemeal, you can install everything at the same time using the code below. Note that there are a large number of packages and dependencies here and many are only used in one or two places in this Online Companion. We generally recommend that you install packages as you need them while you work through this document but you do you.</p>
<p>If you choose to install everything, however, you can simply run the chunk of code below. Note that the code below will not reinstall packages already installed in your current version of R. Note if you are familiar with Git and R Environments, it will be much faster to just use the <code>renv::restore()</code> function to build an environment from the repository. See the <a href="#Repro">Reproducibility section</a> in the introduction for more information.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">&quot;ape&quot;</span>, <span class="st">&quot;devtools&quot;</span>, <span class="st">&quot;igraph&quot;</span>, <span class="st">&quot;statnet&quot;</span>, <span class="st">&quot;intergraph&quot;</span>,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;tnet&quot;</span>, <span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;rjson&quot;</span>, <span class="st">&quot;d3r&quot;</span>,<span class="st">&quot;cccd&quot;</span>, <span class="st">&quot;networkD3&quot;</span>,<span class="st">&quot;visNetwork&quot;</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;GISTools&quot;</span>, <span class="st">&quot;rgeos&quot;</span>,<span class="st">&quot;maptools&quot;</span>, <span class="st">&quot;sf&quot;</span>, <span class="st">&quot;igraphdata&quot;</span>, <span class="st">&quot;ggrepel&quot;</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ggsn&quot;</span>, <span class="st">&quot;tidyverse&quot;</span>,<span class="st">&quot;superheat&quot;</span>,<span class="st">&quot;ggplotify&quot;</span>,<span class="st">&quot;ggforce&quot;</span>, <span class="st">&quot;colorspace&quot;</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ggmap&quot;</span>, <span class="st">&quot;dplyr&quot;</span>, <span class="st">&quot;ggpubr&quot;</span>, <span class="st">&quot;ggraph&quot;</span>, <span class="st">&quot;reshape2&quot;</span>, <span class="st">&quot;multinet&quot;</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;RColorBrewer&quot;</span>, <span class="st">&quot;Rcpp&quot;</span>, <span class="st">&quot;deldir&quot;</span>, <span class="st">&quot;vegan&quot;</span>, <span class="st">&quot;geosphere&quot;</span>, <span class="st">&quot;networkDynamic&quot;</span>,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;scatterplot3d&quot;</span>, <span class="st">&quot;patchwork&quot;</span>, <span class="st">&quot;concaveman&quot;</span>)</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">setdiff</span>(packages, <span class="fu">rownames</span>(<span class="fu">installed.packages</span>())))  </span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;liamgilbey/ggwaffle&quot;</span>)</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;BiocManager&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;BiocManager&quot;</span>)</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>BiocManager<span class="sc">::</span><span class="fu">install</span>(<span class="st">&quot;RBGL&quot;</span>)</span></code></pre></div>
<p>In addition to the R packages listed above, there is one procedure used in this Online Companion that requires you to have an installation of Python 3.7 with particular packages on your computer. In order to implement these sections of code, you will need to also run the following lines of code. Note that this is a large install that takes about about 1.4 GB of hard drive space so only do this if you have the space and REALLY want to explore edge bundling (<a href="#EdgeBundling">see Edge Bundling Visualizations</a>). You will be able to reproduce everything in this document except for two chunks of code without this so feel free to sit this one out.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;edgebundle&quot;</span>, <span class="st">&quot;reticulate&quot;</span>)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(edgebundle)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install_bundle_py</span>(<span class="at">method =</span> <span class="st">&quot;auto&quot;</span>, <span class="at">conda =</span> <span class="st">&quot;auto&quot;</span>)</span></code></pre></div>
</div>
<div id="PackagesUsed" class="section level3" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> R Packages Used</h3>
<p>This version of the book was built with R version 4.2.0 (2022-04-22 ucrt) and the following packages:</p>
<table>
<thead>
<tr class="header">
<th align="left">package</th>
<th align="left">version</th>
<th align="left">source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ape</td>
<td align="left">5.6-2</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">cccd</td>
<td align="left">1.6</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">colorspace</td>
<td align="left">2.0-3</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">concaveman</td>
<td align="left">1.1.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">d3r</td>
<td align="left">1.0.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">deldir</td>
<td align="left">1.0-6</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">devtools</td>
<td align="left">2.4.3</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">dplyr</td>
<td align="left">1.0.9</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">edgebundle</td>
<td align="left">0.3.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">geosphere</td>
<td align="left">1.5-14</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">ggforce</td>
<td align="left">0.3.3</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">ggmap</td>
<td align="left">3.0.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">ggplot2</td>
<td align="left">3.3.6</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">ggplotify</td>
<td align="left">0.1.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">ggpubr</td>
<td align="left">0.4.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">ggraph</td>
<td align="left">2.0.5</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">ggrepel</td>
<td align="left">0.9.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">ggsn</td>
<td align="left">0.5.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">GISTools</td>
<td align="left">0.7-4</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">igraph</td>
<td align="left">1.3.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">igraphdata</td>
<td align="left">1.0.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">intergraph</td>
<td align="left">2.0-2</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">maptools</td>
<td align="left">1.1-4</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">multinet</td>
<td align="left">4.0.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">networkD3</td>
<td align="left">0.4</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">networkDynamic</td>
<td align="left">0.11.2</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">patchwork</td>
<td align="left">1.1.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">RBGL</td>
<td align="left">1.72.0</td>
<td align="left">Bioconductor</td>
</tr>
<tr class="odd">
<td align="left">RColorBrewer</td>
<td align="left">1.1-3</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">Rcpp</td>
<td align="left">1.0.8.3</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">reshape2</td>
<td align="left">1.4.4</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">reticulate</td>
<td align="left">1.25</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">rgeos</td>
<td align="left">0.5-9</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">rjson</td>
<td align="left">0.2.21</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">scatterplot3d</td>
<td align="left">0.3-41</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">sf</td>
<td align="left">1.0-7</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">statnet</td>
<td align="left">2019.6</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">superheat</td>
<td align="left">0.1.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">tidyverse</td>
<td align="left">1.3.1</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">tnet</td>
<td align="left">3.0.16</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="odd">
<td align="left">vegan</td>
<td align="left">2.6-2</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
<tr class="even">
<td align="left">visNetwork</td>
<td align="left">2.1.0</td>
<td align="left">CRAN (R 4.2.0)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="WorkspaceSetup" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Suggested Workspace Setup</h2>
<p>In order to follow along with the examples in this Online Companion it will be easiest if you set up your R working directory in a similar format to that used in creating it. Specifically, we suggest you create a new working directory and create an R studio project tied to that specific directory.</p>
<p>In order to do this, open R-Studio and go to “File &gt; New Project” and click on “New Directory &gt; New Project” in the dialog and then give it an appropriate name and location on your disk. Next, navigate to that location on your disk and create a sub-folder called “data” (directory names are case sensitive). Place any of the data files you downloaded above or in any other section of this Online Companion in that Folder. Note that if you chose the “Just Give Me Everything” download you will have a .zip file that already contains a sub-folder called “data” so be sure you’re not double nesting your folders (you want “working_directory/data” not “working_directory/data/data”).</p>
<p>When you close R you will see a dialog that asks if you want to save your workspace image. If you do this and provide a name, you can reopen the .RData file at a later time and pick up exactly where your previous session left off.</p>
<p>If you are new to the R environment and file structures, we suggest you reveiw the <a href="#GettingStarted">Getting Started with R</a> section.</p>
<!--chapter:end:01-data.Rmd-->
</div>
</div>
<div id="NetworkData" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Network Data Formats</h1>
<p>A network is simply a set of entities and the formally defined relationships among them. There are, however, many different ways that networks can be encoded and displayed. This section provides examples of many of the most common network formats and data types discussed in Chapter 3 of Brughmans and Peeples 2022. For most of the examples below we use the Cibola technological similarity network dataset (described in Chapter 2.8.3 and <a href="#Cibola">here</a>) because it is relatively small and easy to display in a variety of formats.</p>
<div id="network-data-formats" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Network Data Formats</h2>
<p>This section follows Chapter 3.2 in Brughmans and Peeples (2022) to provide examples of the same network and attribute data in a variety of different data formats as well as code for converting among these formats in R.</p>
<p>Let’s first get started by initializing all of the packages we will use in this section.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize packages</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multinet)</span></code></pre></div>
<p>The primary packages used in this Section (<code>igraph</code>, <code>statnet</code>, and <code>intergraph</code>) are already described <a href="#PrimaryPackage">in the last section</a>. We also use here the <code>vegan</code> package which includes many functions focused on community ecology. In this document, we rely on this package to calculate several distance/similarity metrics that are useful for generating <a href="#SimilarityNetworks">similarity networks</a>. Finally, we provide a brief example at the end of this section using <code>multinet</code> which is a package focused on conducting <a href="#Multinet">multilayer network analyses</a>.</p>
<div id="NetworkDataFunctions" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Defining Network Objects in R</h3>
<p>In general most of the examples of network data formats in the remainder of this Section are converted into R network objects in two basic steps.</p>
<ul>
<li>First, we read in some external data file that contains network data, usually generated in some sort of spreadsheet program, and create an R data frame or matrix object.</li>
<li>Next, we call a function that expects the given data format (edgelist, adjacency matrix, incidence matrix, etc.) and converts it in to an R network object.</li>
</ul>
<p>As you will see below, we mostly rely on <code>igraph</code> functions that take the following basic format:</p>
<p><code>igraph::graph_from_DataType</code></p>
<p>where <code>DataType</code> is replaced with the appropriate format such as <code>edgelist</code>, <code>adjacency_matrix</code>, and so on. In most of the examples below we then plot the network just to confirm that everything works, but that is certainly optional.</p>
</div>
<div id="Edgelist" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Edge List</h3>
<p>The edge list is a very quick and easy way to capture network data. It simply lists the edges in the network one by one by node id: E=((n1,n2),(n1,n3),(n1,n4),…,(ni,nj)). For the purposes of data management it is usually easiest to create an edge list as a data frame or matrix where each row represents a pair of nodes with connections going from the node in one column to the node in the second column (additional columns can be used for edge weight or other edge attributes).</p>
<p>In this example, we import the Cibola dataset in this format as a data frame and then convert it to an <code>igraph</code> network object for further analysis. You can download the <a href="data/Cibola_edgelist.csv">edgelist file here</a> to follow along on your own. Since the edges in this network are undirected this will be a simple binary network, and we will use the <code>directed = FALSE</code> argument in the <code>igraph::graph_from_edgelist</code> function call. This function simply takes a edge list in tabular format and converts it to a network object R recognizes that can further be used for analysis and visualization.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the first several rows</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Cibola_edgelist)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           FROM                   TO</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Apache Creek         Casa Malpais</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Apache Creek         Coyote Creek</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Apache Creek         Hooper Ranch</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Apache Creek      Horse Camp Mill</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Apache Creek        Hubble Corner</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Apache Creek Mineral Creek Pueblo</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create graph object. The dataframe is converted to a matrix as that</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="co">#is required by this specific function. Since this is an undirected</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a><span class="co"># network directed = FALSE.</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>Cibola_net <span class="ot">&lt;-</span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist),</span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>                              <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Display igraph network object and then plot a simple node-link diagram</span></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>Cibola_net</span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH defcc4d UN-- 30 167 -- </span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from defcc4d (vertex names):</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache Creek--Casa Malpais        </span></span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache Creek--Coyote Creek        </span></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache Creek--Hooper Ranch        </span></span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache Creek--Horse Camp Mill     </span></span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache Creek--Hubble Corner       </span></span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Apache Creek--Mineral Creek Pueblo</span></span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache Creek--Rudd Creek Ruin     </span></span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Apache Creek--Techado Springs     </span></span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3523</span>) <span class="co"># set random seed to ensure graph layout stays the same each time.</span></span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_net)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="adjacency-list" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Adjacency List</h3>
<p>The adjacency list consists of a set of rows, where the first node in each row is connected to all subsequent nodes in that same row. It is therefore more concise than the edge list (in which each relationship has its own row), but unlike the edge list it does not result in rows of equal length (each row in an edge list typically has two values, representing the pair of nodes). Adjacency lists are relatively rare in practice but can sometimes be useful formats for directly gathering network data in small networks and are supported by many network analysis software packages.</p>
<p>In the following chunk of code, we convert the network object we created above into an adjacency list using the <code>igraph::as_adj_edge_list()</code> function and examine a couple of the rows.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert edge list to adjacency list using igraph function</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>adj_list <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_adj_edge_list</span>(Cibola_net)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="co"># examine adjacency list for the site Apache Creek</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>adj_list<span class="sc">$</span><span class="st">`</span><span class="at">Apache Creek</span><span class="st">`</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 11/167 edges from defcc4d (vertex names):</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache Creek--Casa Malpais        </span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache Creek--Coyote Creek        </span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache Creek--Hooper Ranch        </span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache Creek--Horse Camp Mill     </span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache Creek--Hubble Corner       </span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Apache Creek--Mineral Creek Pueblo</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache Creek--Rudd Creek Ruin     </span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Apache Creek--Techado Springs     </span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] Apache Creek--Tri-R Pueblo        </span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] Apache Creek--UG481               </span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a><span class="co"># It is also possible to call specific nodes by number. In this case,</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a><span class="co"># site 2 is Casa Malpais</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>adj_list[[<span class="dv">2</span>]] </span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 11/167 edges from defcc4d (vertex names):</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache Creek--Casa Malpais   </span></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Casa Malpais--Coyote Creek   </span></span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Casa Malpais--Hooper Ranch   </span></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Casa Malpais--Horse Camp Mill</span></span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Casa Malpais--Hubble Corner  </span></span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Casa Malpais--Rudd Creek Ruin</span></span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Casa Malpais--Techado Springs</span></span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Casa Malpais--Tri-R Pueblo   </span></span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] Casa Malpais--UG481          </span></span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] Casa Malpais--Garcia Ranch   </span></span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<p>The output for a particular node can be called by either referencing the name using using <code>$</code> followed by the site name or <code>[[k]]</code> double brackets where <code>k</code> is the row number of the node in question. The printed output is essentially a list of all of the edges incident on the node in question identified by the name of the sending and receiving node.</p>
</div>
<div id="adjacency-matrix" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Adjacency Matrix</h3>
<p>The adjacency matrix is perhaps the most common and versatile network data format for data analysis in network science (in sociology it is sometimes referred to as the sociomatrix). It is a symmetric matrix of size n x n, with a set of rows and columns denoting the nodes in that network. The node names or identifiers are typically used to label both rows and columns. When a pair of nodes is connected by an edge (i.e. when they are adjacent), the corresponding cell will have an entry. The diagonal of this matrix represents “self loops” and can variously be defined as connected or unconnected depending on the application.</p>
<p>We can obtain an adjacency matrix object in R by converting our network object created above or by reading in a file directly with rows and columns denoting site and with 0 or 1 denoting the presence or absence of a relation. We take the data frame object <code>adj_mat</code> which is a square matrix of 1s and 0s and convert it into a network object using the <code>igraph::graph_from_adjacency_matrix()</code> function. You can download the csv file to follow along on your own <a href="data/Cibola_adj.csv">here</a>.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to adjacency matrix then display first few rows/columns</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>adj_mat <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_adjacency_matrix</span>(Cibola_net)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>adj_mat[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 x 5 sparse Matrix of class &quot;dgCMatrix&quot;</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Apache Creek Casa Malpais Coyote Creek</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek               .            1            1</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais               1            .            1</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek               1            1            .</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hooper Ranch               1            1            1</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Horse Camp Mill            1            1            1</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Hooper Ranch Horse Camp Mill</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek               1               1</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais               1               1</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek               1               1</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hooper Ranch               .               1</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Horse Camp Mill            1               .</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in adjacency matrix and convert to network object for plotting</span></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>adj_mat2 <span class="ot">&lt;-</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_adj.csv&quot;</span>,</span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> T,</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>adj_mat2[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Apache.Creek Atsinna Baca.Pueblo Casa.Malpais</span></span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek            0       0           0            1</span></span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna                 0       0           0            0</span></span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo             0       0           0            0</span></span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais            1       0           0            0</span></span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a>Cibola_net2 <span class="ot">&lt;-</span></span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(adj_mat2),</span>
<span id="cb66-33"><a href="#cb66-33" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb66-34"><a href="#cb66-34" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4352</span>)</span>
<span id="cb66-35"><a href="#cb66-35" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_net2)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Note when you compare this network graph to the one produced based on the edge list there is an additional unconnected node (WS Ranch) that was not shown in the previous network. This is one of the advantages of an adjacency matrix is it provides a way of easily including unconnected nodes without having to manually add them or include self-loops.</p>
</div>
<div id="incidence-matrix" class="section level3" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> Incidence Matrix</h3>
<p>An incidence matrix is most frequently used to define connections among different sets of nodes in a two-mode or bipartite network where the rows and columns represent two different classes of nodes and the presence/absence or value of an edge is indicated in the corresponding cell.</p>
<p>By way of example here we can read in the data that were used to generate the one-mode networks of ceramic technological similarity we have been examining so far. In the corresponding data frame, each row represents a site and each column represents a specific cluster of technological attributes in cooking pottery (see Peeples 2018, pg. 100-104 for more details) with the number in each cell representing the count of each technological cluster at each site.</p>
<p>After reading in this rectangular data frame, we can create a network object using the <code>igraph::graph_from_incidence_matrix()</code> function. We then plot it as a simple two-mode network with color representing node class. We discuss plotting options in greater detail in the visualization section of this document.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in two-way table of sites and ceramic technological clusters</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_clust.csv&quot;</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Cibola_clust)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Clust1 Clust2 Clust3 Clust4 Clust5 Clust6</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek      7      3      6     16      6      1</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna           0     12     26      5      0      1</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo       0      9      3     12      1      2</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais      2     15      7     28     17     16</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cienega           2     28     34      2      0     10</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek     10     13      8     30     20      5</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Clust7 Clust8 Clust9 Clust10</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek      1      2      0       0</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna           6      0      7       0</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo       5      0     16       1</span></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais      2      5      1       0</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cienega          11      0      5       1</span></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek      1      8      0       5</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert into a network object using the incidence matrix format. Note that</span></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a><span class="co"># multiple=TRUE as we want this defined as a bipartite network.</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>Cibola_inc <span class="ot">&lt;-</span></span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(Cibola_clust, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">multiple =</span></span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>                                        <span class="cn">TRUE</span>)</span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Cibola_inc)</span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 x 41 sparse Matrix of class &quot;dgCMatrix&quot;</span></span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                           </span></span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna      . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo  . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cienega      . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                         </span></span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek . . . . . . . .  7  3  6 16  6  1  1 2  . .</span></span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna      . . . . . . . .  . 12 26  5  .  1  6 .  7 .</span></span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo  . . . . . . . .  .  9  3 12  1  2  5 . 16 1</span></span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais . . . . . . . .  2 15  7 28 17 16  2 5  1 .</span></span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cienega      . . . . . . . .  2 28 34  2  . 10 11 .  5 1</span></span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek . . . . . . . . 10 13  8 30 20  5  1 8  . 5</span></span>
<span id="cb67-43"><a href="#cb67-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-44"><a href="#cb67-44" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4543</span>)</span>
<span id="cb67-45"><a href="#cb67-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot as two-mode network</span></span>
<span id="cb67-46"><a href="#cb67-46" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_inc, <span class="at">vertex.color =</span> <span class="fu">as.numeric</span>(<span class="fu">V</span>(Cibola_inc)<span class="sc">$</span>type) <span class="sc">+</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="node-and-edge-information" class="section level3" number="2.1.6">
<h3><span class="header-section-number">2.1.6</span> Node and Edge Information</h3>
<p>Frequently we want to use other information about nodes and edges (node location, site type, edge weight, etc.) in our analyses and need to track these data in a separate attribute object or data column. One common way to do this is to simply create a data frame that contains the required attribute information and call specific data from this data frame when needed. As the following example shows, it is also possible to directly assign attributes to nodes or edges in an <code>igraph</code> network object and use those for subsequent analyses using the <code>V()</code> for vertices (nodes) and <code>E()</code> for edges calls within igraph.</p>
<p>In the following example we use <a href="data/Cibola_attr.csv">this file</a> which includes basic attribute data by site (node) for all sites in the network we’ve been working with here. This file includes x and y coordinates for the sites, information on the presence/absence and shape of Great Kiva public architectural features at those sites, and the Region to which they have been assigned. First we read in the data.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in attribute data and look at the first few rows.</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>Cibola_attr <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_attr.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Cibola_attr)</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           Site      x       y             Great.Kiva</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Apache Creek 724125 3747310 Rectangular Great Kiva</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      Atsinna 726741 3895499                   none</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Baca Pueblo 651431 3797143                   none</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Casa Malpais 659021 3786211 Rectangular Great Kiva</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      Cienega 738699 3887985                   none</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Coyote Creek 671154 3780509 Rectangular Great Kiva</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                  Region</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    Mogollon Highlands</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       El Morro Valley</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Upper Little Colorado</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Upper Little Colorado</span></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       El Morro Valley</span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Upper Little Colorado</span></span></code></pre></div>
<p>In order to assign an attribute to a particular node or edge we can use the <code>V</code> and <code>E</code> (vertex and edge) calls in <code>igraph</code>. For example, in the following example, we will assign a <code>region</code> variable to each node in the network we created above using the <code>V</code> function to assign a vertex attribute. You simply type the name of the network object in the parenthesis after <code>V</code> and use the <code>$</code> atomic variable symbol to assign a name to the attribute that will be associated with that network object.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign a variable called &quot;region&quot; to the Cibola_net2 based on the</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="co"># column in the Cibola_attr table called &quot;Region&quot;</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(Cibola_net2)<span class="sc">$</span>region <span class="ot">&lt;-</span> Cibola_attr<span class="sc">$</span>Region</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># If we now call that attribute we get a vector listing each assigned value</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(Cibola_net2)<span class="sc">$</span>region</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;Mogollon Highlands&quot;    &quot;El Morro Valley&quot;      </span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;Upper Little Colorado&quot; &quot;Upper Little Colorado&quot;</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;El Morro Valley&quot;       &quot;Upper Little Colorado&quot;</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;Mogollon Highlands&quot;    &quot;Carrizo Wash&quot;         </span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;Pescado Basin&quot;         &quot;West Zuni&quot;            </span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;Upper Little Colorado&quot; &quot;Mariana Mesa&quot;         </span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;Mariana Mesa&quot;          &quot;West Zuni&quot;            </span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;El Morro Valley&quot;       &quot;Vernon Area&quot;          </span></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17] &quot;El Morro Valley&quot;       &quot;West Zuni&quot;            </span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] &quot;Pescado Basin&quot;         &quot;Carrizo Wash&quot;         </span></span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21] &quot;El Morro Valley&quot;       &quot;Upper Little Colorado&quot;</span></span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [23] &quot;El Morro Valley&quot;       &quot;West Zuni&quot;            </span></span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] &quot;Mariana Mesa&quot;          &quot;El Morro Valley&quot;      </span></span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27] &quot;Mariana Mesa&quot;          &quot;Mariana Mesa&quot;         </span></span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29] &quot;Mariana Mesa&quot;          &quot;Mogollon Highlands&quot;   </span></span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] &quot;Pescado Basin&quot;</span></span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that &quot;region&quot; is now listed as an attribute when we view </span></span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a><span class="co"># the network object</span></span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a>Cibola_net2</span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH df33892 UN-- 31 167 -- </span></span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c), region (v/c)</span></span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from df33892 (vertex names):</span></span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache.Creek--Casa.Malpais        </span></span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache.Creek--Coyote.Creek        </span></span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache.Creek--Hooper.Ranch        </span></span>
<span id="cb69-33"><a href="#cb69-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache.Creek--Horse.Camp.Mill     </span></span>
<span id="cb69-34"><a href="#cb69-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache.Creek--Hubble.Corner       </span></span>
<span id="cb69-35"><a href="#cb69-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Apache.Creek--Mineral.Creek.Pueblo</span></span>
<span id="cb69-36"><a href="#cb69-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache.Creek--Rudd.Creek.Ruin     </span></span>
<span id="cb69-37"><a href="#cb69-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Apache.Creek--Techado.Springs     </span></span>
<span id="cb69-38"><a href="#cb69-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span></code></pre></div>
<p>This can further be used for plotting or other analyses by calling the variable as a factor (<a href="https://r4ds.had.co.nz/factors.html">see this resource to learn more about the factor data type</a>).</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">43534</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_net2, <span class="at">vertex.color =</span> <span class="fu">as.factor</span>(<span class="fu">V</span>(Cibola_net2)<span class="sc">$</span>region))</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
</div>
<div id="TypesOfNetworks" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Types of Networks</h2>
<p>This section roughly follows Brughmans and Peeples (2022) Chapter 3.3 to describe and provide examples in R format of many of the most common types of networks. In the examples below we will use the <code>igraph</code> R package but we also show how to use the <code>statnet</code> and <code>network</code> packages where applicable.</p>
<div id="SimpleNetworks" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Simple Networks</h3>
<p>We call network data a simple network (or simple graph) if we only have a set of nodes and a set of edges connecting them, with no additional information about the edges or specific rules they need to follow. Simple networks are, in other words, unweighted and undirected one-mode networks. By way of example we will use the Cibola region <a href="data/Cibola_adj.csv">adjacency matrix file</a> and convert it into a simple network using both <code>igraph</code> and <code>network</code>. Notice how in both examples we specify that this is an undirected network (<code>mode = "undirected"</code> and <code>directed = FALSE</code>).</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in raw adjacency matrix file</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>adj_mat2 <span class="ot">&lt;-</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_adj.csv&quot;</span>,</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> T,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to a network object using igraph</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>simple_net_i <span class="ot">&lt;-</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(adj_mat2),</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>simple_net_i</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e0270d6 UN-- 31 167 -- </span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e0270d6 (vertex names):</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache.Creek--Casa.Malpais        </span></span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache.Creek--Coyote.Creek        </span></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache.Creek--Hooper.Ranch        </span></span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache.Creek--Horse.Camp.Mill     </span></span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache.Creek--Hubble.Corner       </span></span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Apache.Creek--Mineral.Creek.Pueblo</span></span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache.Creek--Rudd.Creek.Ruin     </span></span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Apache.Creek--Techado.Springs     </span></span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Covert to a network object using statnet/network</span></span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>simple_net_s <span class="ot">&lt;-</span></span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a>  network<span class="sc">::</span><span class="fu">network</span>(<span class="fu">as.matrix</span>(adj_mat2), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a>simple_net_s</span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vertices = 31 </span></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   multiple = FALSE </span></span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total edges= 167 </span></span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     non-missing edges= 167 </span></span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb71-42"><a href="#cb71-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb71-43"><a href="#cb71-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No edge attributes</span></span></code></pre></div>
<p>Notice how the two formats differ in the way they internally store network data in R and the way they print output to the screen but that both show a total of 31 nodes (vertices) and 167 edges (for the igraph object the first row specifies node and edge numbers between the – marks).</p>
</div>
<div id="DirectedNetworks" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Directed Networks</h3>
<p>Sometimes relationships are directional, meaning they have an orientation. For example, the flow of a river is directed downstream. In such cases we can incorporate this information in our network data by distinguishing between the source and the target of an edge.</p>
<p>By way of example here we will modify the Cibola network edge list to remove some number of edges at random to simulate directed network data. We will then convert these data into various network and matrix formats to illustrate how directed networks are stored and used in R. We first use the <code>sample</code> function to define a sub-sample of our network nodes and then we create a network object from that random sub-sample. By randomly removing some edges from the edge list we are left with a directed network where not all edges will be reciprocated.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a random sub-sample of 125 edges out of the total 167 using</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="co"># the &quot;sample&quot; function</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">45325</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>EL2 <span class="ot">&lt;-</span> Cibola_edgelist[<span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(Cibola_edgelist)), <span class="dv">125</span>,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">replace =</span> <span class="cn">FALSE</span>), ]</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create graph object from the edge list using the directed=TRUE argument</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a><span class="co"># to ensure this is treated as a directed network object.</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>directed_net <span class="ot">&lt;-</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(EL2), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>directed_net</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e02f9b0 DN-- 30 125 -- </span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e02f9b0 (vertex names):</span></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Coyote Creek   -&gt;Techado Springs      </span></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Hubble Corner  -&gt;Tri-R Pueblo         </span></span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Hubble Corner  -&gt;Techado Springs      </span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Heshotauthla   -&gt;Pueblo de los Muertos</span></span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Rudd Creek Ruin-&gt;Techado Springs      </span></span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Heshotauthla   -&gt;Hinkson              </span></span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Los Gigantes   -&gt;Yellowhouse          </span></span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Los Gigantes   -&gt;Pueblo de los Muertos</span></span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a><span class="co"># View as adjacency matrix of direted network object</span></span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a>(<span class="fu">as_adjacency_matrix</span>(directed_net))[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 x 5 sparse Matrix of class &quot;dgCMatrix&quot;</span></span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Coyote Creek Techado Springs Hubble Corner</span></span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek               .               1             1</span></span>
<span id="cb72-34"><a href="#cb72-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Techado Springs            .               .             .</span></span>
<span id="cb72-35"><a href="#cb72-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hubble Corner              .               1             .</span></span>
<span id="cb72-36"><a href="#cb72-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Tri-R Pueblo               .               .             .</span></span>
<span id="cb72-37"><a href="#cb72-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Heshotauthla               .               .             .</span></span>
<span id="cb72-38"><a href="#cb72-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Tri-R Pueblo Heshotauthla</span></span>
<span id="cb72-39"><a href="#cb72-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek               .            .</span></span>
<span id="cb72-40"><a href="#cb72-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Techado Springs            1            .</span></span>
<span id="cb72-41"><a href="#cb72-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hubble Corner              1            .</span></span>
<span id="cb72-42"><a href="#cb72-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Tri-R Pueblo               .            .</span></span>
<span id="cb72-43"><a href="#cb72-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Heshotauthla               .            .</span></span>
<span id="cb72-44"><a href="#cb72-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-45"><a href="#cb72-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot network</span></span>
<span id="cb72-46"><a href="#cb72-46" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4353</span>)</span>
<span id="cb72-47"><a href="#cb72-47" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(directed_net)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Notice that when we look at the igraph network plot it has arrows indicating the direction of connection in the edge list. If you are making your own directed edge list, the sending node by default will be in the left column and the receiving node in the right column. In the adjacency matrix the upper and lower triangles are no longer identical. Again, if you are generating your own adjacency matrix, you can simply mark edges sent from nodes denoted as rows and edges received from the same nodes as columns. Finally, in the plot, since R recognizes this as a directed igraph object when we plot the network, it automatically shows arrows indicating the direction of the edge.</p>
</div>
<div id="WeightedNetworks" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Signed, Categorized, and Valued Networks</h3>
<p>In many situations we want to add values to specific edges such as signs (sometimes called valences) or weights defining the strength or nature of relationships. There are a variety of ways that we can record and assign such weights or values to edges in R. The simplest way is to directly include that information in one of the formats described above such as an edge list or adjacency matrix. For example, we can add a third column to an edge list that denotes the weight or sign of each edge or can fill the cells in an adjacency matrix with specific values rather than simply 1s or 0s.</p>
<p>In this example, we will randomly generate edge weights for the Cibola network edge list and adjacency matrix to illustrate how R handles these formats. We use the <code>sample</code> function again to create a random vector of values between 1 and 4 for every edge in the network and then add it to the edgelist as a new variable called <code>$Weight</code>. We then convert this data frame into a network object.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edge list file as data frame</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add additional column of weights as random integers between 1 and 4</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="co"># for each edge</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist<span class="sc">$</span>Weight <span class="ot">&lt;-</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">4</span>), <span class="fu">nrow</span>(Cibola_edgelist), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create weighted network object calling only the first two columns</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>weighted_net <span class="ot">&lt;-</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]),</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>                              <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="co"># add edge attribute to indicate weight</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight <span class="ot">&lt;-</span> Cibola_edgelist<span class="sc">$</span>Weight</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore the first few rows and columns of network object</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">get.data.frame</span>(weighted_net))</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           from                   to weight</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Apache Creek         Casa Malpais      4</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Apache Creek         Coyote Creek      1</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Apache Creek         Hooper Ranch      1</span></span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Apache Creek      Horse Camp Mill      3</span></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Apache Creek        Hubble Corner      4</span></span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Apache Creek Mineral Creek Pueblo      4</span></span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a><span class="co"># View network as adjacency matrix. Notice the attr=&quot;weight&quot; command that</span></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a><span class="co"># indicates which edge attribute to use for values in the matrix</span></span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">as_adjacency_matrix</span>(weighted_net, <span class="at">attr =</span> <span class="st">&quot;weight&quot;</span>))[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 x 5 sparse Matrix of class &quot;dgCMatrix&quot;</span></span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Apache Creek Casa Malpais Coyote Creek</span></span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek               .            4            1</span></span>
<span id="cb73-32"><a href="#cb73-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais               4            .            1</span></span>
<span id="cb73-33"><a href="#cb73-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek               1            1            .</span></span>
<span id="cb73-34"><a href="#cb73-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hooper Ranch               1            1            1</span></span>
<span id="cb73-35"><a href="#cb73-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Horse Camp Mill            3            2            4</span></span>
<span id="cb73-36"><a href="#cb73-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 Hooper Ranch Horse Camp Mill</span></span>
<span id="cb73-37"><a href="#cb73-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek               1               3</span></span>
<span id="cb73-38"><a href="#cb73-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais               1               2</span></span>
<span id="cb73-39"><a href="#cb73-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek               1               4</span></span>
<span id="cb73-40"><a href="#cb73-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hooper Ranch               .               4</span></span>
<span id="cb73-41"><a href="#cb73-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Horse Camp Mill            4               .</span></span>
<span id="cb73-42"><a href="#cb73-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-43"><a href="#cb73-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the network</span></span>
<span id="cb73-44"><a href="#cb73-44" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb73-45"><a href="#cb73-45" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(weighted_net, <span class="at">edge.width =</span> <span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Notice in the final plot that line thickness is used to indicate edges with various weights. We will explore further options for such visualizations in the network visualizations section of this appendix.</p>
</div>
<div id="TwoMode" class="section level3" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Two-mode Networks and Affiliation Networks</h3>
<p>Two-mode networks are networks where two separate categories of nodes are defined with a structural variable (edges) between these categories. In sociology, two-mode networks are often used for studying the affiliation of individuals with organizations, such as the presence of professionals on the boards of companies or the attendance of scholars at conferences (referred to as affiliation networks).</p>
<p>Two-mode network data are typically recorded in a two-way table with rows and columns representing two different classes of nodes and with individual cells representing the presence/absence or weight of edges between those classes of nodes. By way of example here we will return to the table of ceramic technological clusters by sites for the Cibola region data. The simplest way to create an unweighted two-mode network from these data is to create a network object directly from a two-way table as we saw above. In this example this will create an edge between each site and each technological cluster present there irrespective of relative frequency using the <code>igraph::graph_from_incidence_matrix</code> function.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in two-way table of sites and ceramic technological clusters</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_clust.csv&quot;</span>,</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create network from incidence matrix based on presence/absence of</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="co"># a cluster at a site</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>Cibola_inc <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(Cibola_clust,</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">multiple =</span> <span class="cn">TRUE</span>)</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>Cibola_inc</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e078be8 UN-B 41 2214 -- </span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: type (v/l), name (v/c)</span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e078be8 (vertex names):</span></span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache Creek--Clust1 Apache Creek--Clust1</span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache Creek--Clust1 Apache Creek--Clust1</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache Creek--Clust1 Apache Creek--Clust1</span></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache Creek--Clust1 Apache Creek--Clust2</span></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] Apache Creek--Clust2 Apache Creek--Clust2</span></span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] Apache Creek--Clust3 Apache Creek--Clust3</span></span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] Apache Creek--Clust3 Apache Creek--Clust3</span></span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] Apache Creek--Clust3 Apache Creek--Clust3</span></span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4537643</span>)</span>
<span id="cb74-24"><a href="#cb74-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot as two-mode network</span></span>
<span id="cb74-25"><a href="#cb74-25" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_inc, <span class="at">vertex.color =</span> <span class="fu">as.numeric</span>(<span class="fu">V</span>(Cibola_inc)<span class="sc">$</span>type) <span class="sc">+</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>In this case since most clusters are present at most sites, this creates a pretty busy network that may not be particularly useful. An alternative to this is to define some threshold (either in terms of raw count or proportion) to define an edge between a node of one class and another. We provide an example here and build a function that you could modify to do this for your own data. In this function you can set the proportion threshold that you would like to used to define an edge between two classes of nodes. If the proportion of that cluster at that site is greater than or equal to that threshold an edge will be present. In the example below the threshold is set at 0.25 meaning that we will define edges between nodes that share a common type that makes of at least a quarter of the assemblage of both sites.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function for creating incidence matrix with threshold</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>two_mode <span class="ot">&lt;-</span> <span class="cf">function</span> (x, <span class="at">thresh =</span> <span class="fl">0.25</span>) {</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create matrix of proportions from x input into function</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(x), <span class="dv">1</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define anything with greater than or equal to threshold as</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># present (1)</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  temp[temp <span class="sc">&gt;=</span> thresh] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define all other cells as absent (0)</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  temp[temp <span class="sc">&lt;</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return the new binarized table as output of the function</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(temp)</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function and create network object</span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a><span class="co"># thresh is set to 0.25 but could be any values from 0-1</span></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>mod_clust <span class="ot">&lt;-</span> <span class="fu">two_mode</span>(Cibola_clust, <span class="at">thresh =</span> <span class="fl">0.25</span>)</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the first few rows</span></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mod_clust)</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Clust1 Clust2 Clust3 Clust4 Clust5 Clust6</span></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek      0      0      0      1      0      0</span></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna           0      0      1      0      0      0</span></span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo       0      0      0      0      0      0</span></span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais      0      0      0      1      0      0</span></span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cienega           0      1      1      0      0      0</span></span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek      0      0      0      1      0      0</span></span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Clust7 Clust8 Clust9 Clust10</span></span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek      0      0      0       0</span></span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna           0      0      0       0</span></span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo       0      0      1       0</span></span>
<span id="cb75-30"><a href="#cb75-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais      0      0      0       0</span></span>
<span id="cb75-31"><a href="#cb75-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Cienega           0      0      0       0</span></span>
<span id="cb75-32"><a href="#cb75-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coyote Creek      0      0      0       0</span></span>
<span id="cb75-33"><a href="#cb75-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a graph matrix from the new incidence matrix</span></span>
<span id="cb75-34"><a href="#cb75-34" aria-hidden="true" tabindex="-1"></a>two_mode_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(</span>
<span id="cb75-35"><a href="#cb75-35" aria-hidden="true" tabindex="-1"></a>                          mod_clust,</span>
<span id="cb75-36"><a href="#cb75-36" aria-hidden="true" tabindex="-1"></a>                          <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb75-37"><a href="#cb75-37" aria-hidden="true" tabindex="-1"></a>                          <span class="at">multiple =</span> <span class="cn">TRUE</span>)</span>
<span id="cb75-38"><a href="#cb75-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-39"><a href="#cb75-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot results</span></span>
<span id="cb75-40"><a href="#cb75-40" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4537</span>)</span>
<span id="cb75-41"><a href="#cb75-41" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(two_mode_net, </span>
<span id="cb75-42"><a href="#cb75-42" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color =</span> <span class="fu">as.numeric</span>(<span class="fu">V</span>(Cibola_inc)<span class="sc">$</span>type) <span class="sc">+</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Notice how there are now far fewer ties and if you are familiar with the sites in question you might notice some clear regional patterning.</p>
<p>It is also possible to create one-mode projections of the two-mode data here using simple matrix algebra. All you need to do is multiply a matrix by the transpose of that matrix. The results will be a adjacency matrix for whichever set of nodes represented the rows in the first matrix in the matrix multiplication. Here is an example using the <code>mod_clust</code> incidence matrix with threshold created above. In the resulting incidence matrix individual cells will represent the number of different edges in common between the nodes in question and can be treated like an edge weight. The diagonal of the matrix will be the total number of clusters that were present in a site assemblage. In R the operator <code>%*%</code> indicates matrix mulitplication and the function <code>t()</code> will transpose a given matrix.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In R the command &quot;%*%&quot; indicates matrix multiplication and &quot;t()&quot;</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># gives the transpose of the matrix within the parentheses.</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets first create a one-mode projection focused on sites</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>site_mode <span class="ot">&lt;-</span> mod_clust <span class="sc">%*%</span> <span class="fu">t</span>(mod_clust)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>site_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(site_mode,</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>                                                <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>,</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>                                                <span class="at">diag =</span> <span class="cn">FALSE</span>)</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(site_net)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now lets create a one-mode projection focused on ceramic</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># technological clusters.</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that the only change is we switch which side of the</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix multiplication we transpose.</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>clust_mode <span class="ot">&lt;-</span> <span class="fu">t</span>(mod_clust) <span class="sc">%*%</span> mod_clust</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clust_mode)</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        Clust1 Clust2 Clust3 Clust4 Clust5 Clust6 Clust7</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust1      1      0      0      0      0      0      0</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust2      0     16      9      1      0      2      0</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust3      0      9     10      0      0      1      0</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust4      0      1      0     11      1      0      0</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust5      0      0      0      1      1      0      0</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust6      0      2      1      0      0      2      0</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        Clust8 Clust9 Clust10</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust1      0      0       0</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust2      0      0       0</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust3      0      0       0</span></span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust4      0      0       0</span></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust5      0      0       0</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Clust6      0      0       0</span></span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a>clust_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(clust_mode,</span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>,</span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">diag =</span> <span class="cn">FALSE</span>)</span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(clust_net)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
</div>
<div id="SimilarityNetworks" class="section level3" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> Similarity Networks</h3>
<p>Similarity networks simply refer to one-mode networks where nodes are defined as entities of interest with edges defined and/or weighted based on some metric of similarity (or distance) defined based on the features, attributes, or assemblage associated with that node. Such an approach is frequently used in archaeology to explore material cultural networks where nodes are contexts of interests (e.g., sites, excavation units, houses, etc.) and edges are defined or weighted based on similarities in the relative frequencies of artifacts or particular classes of artifacts recovered in those contexts.</p>
<p>There are many different ways to define and track similarity network data for use in R. In this example, we will show several methods using the affiliation data we used in the previous example. Specifically, we will define and weight edges based on similarities in the frequencies of ceramic technological clusters at sites in our Cibola region sample.</p>
<p>For most of these examples we will use the statnet package and the network package within it rather than igraph because statnet has a few additional functions that are useful when working with similarity data. In the following examples, we will first demonstrate several different similarity/distance metrics and then discuss approaches to binarization of these similarity networks and other options for working with weighted data.</p>
<div id="brainerd-robinson-similarity" class="section level4 unnumbered">
<h4 class="unnumbered">Brainerd-Robinson Similarity</h4>
<p>The first metric we will explore here is a rescaled version of the Brainerd-Robinson (BR) similarity metric. This BR measure is commonly used in archaeology including in a number of recent (and not so recent) network studies. This measure represents the total similarity in proportional representation of categories and is defined as:</p>
<p><span class="math display">\[S = {\frac{2-\sum_{k} \left|x_{k} - y_{k}\right|} {2}}\]</span></p>
<p>where, for all categories <span class="math inline">\(k\)</span>, <span class="math inline">\(x\)</span> is the proportion of <span class="math inline">\(k\)</span> in the first assemblage and <span class="math inline">\(y\)</span> is the proportion of <span class="math inline">\(k\)</span> in the second. We subtract the sum from 2 as 2 is the maximum proportional difference possible between two samples. We further divide the result by 2. This provides a scale of similarity from 0-1 where 1 is perfect similarity and 0 indicates no similarity. The chunk below defines the code for calculating this modified BR similarity measure. Note here we use a distance metric called “Manhattan Distance” built into the <code>vegan</code> package in R. This metric is identical to the Brainerd-Robinson metric.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in raw data</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_clust.csv&quot;</span>,</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="co"># First we need to convert the ceramic technological clusters into proportions</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>clust_p <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(Cibola_clust), <span class="at">margin =</span> <span class="dv">1</span>)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="co"># The following line uses the vegdist function in the vegan package</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="co"># to calculate the Brainard-Robinson similarity score. Since vegdist</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a><span class="co"># by default defines an unscaled distance we must subtract the results</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a><span class="co"># from 2 and then divide by 2 to get a similarity scaled from 0 to 1.</span></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>Cibola_BR <span class="ot">&lt;-</span> (<span class="dv">2</span> <span class="sc">-</span> <span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(clust_p,</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;manhattan&#39;</span>))) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets look at the first few rows.</span></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a>Cibola_BR[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Apache Creek   Atsinna Baca Pueblo</span></span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek    1.0000000 0.3433584   0.4455782</span></span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna         0.3433584 1.0000000   0.5750090</span></span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo     0.4455782 0.5750090   1.0000000</span></span>
<span id="cb78-23"><a href="#cb78-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais    0.7050691 0.3740804   0.5608953</span></span>
<span id="cb78-24"><a href="#cb78-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Casa Malpais</span></span>
<span id="cb78-25"><a href="#cb78-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek    0.7050691</span></span>
<span id="cb78-26"><a href="#cb78-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna         0.3740804</span></span>
<span id="cb78-27"><a href="#cb78-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo     0.5608953</span></span>
<span id="cb78-28"><a href="#cb78-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais    1.0000000</span></span></code></pre></div>
<p>At this point we could simply define this as a weighted network object where weights are equal to the similarity scores, or we could define a threshold for defining edges as present or absent. We will discuss these options in detail after presenting other similarity/distance metrics.</p>
</div>
<div id="morisitas-overlap-index" class="section level4 unnumbered">
<h4 class="unnumbered">Morisita’s Overlap Index</h4>
<p>Another measure that has been used for defining similarities among assemblages for archaeological similarity networks is Morisita’s overlap index. This measure is a measure of the overlap of individual assemblages within a larger population that takes the size of samples into account. Specifically, the approach assumes that as sample size increases diversity will likely increase. This measure produces results that are very similar to the Brainerd-Robinson metric in practice in most cases but this measure may be preferred where there are dramatic differences in assemblage sizes among observations.</p>
<p>Morisita’s index is calculated as:</p>
<p><span class="math display">\[C_D=\frac{2 \Sigma^Sx_iy_i}{(D_x + D_y)XY}\]</span></p>
<p>Where:
<span class="math inline">\(x_i\)</span> is the number of rows where category <span class="math inline">\(i\)</span> is represented in the total <span class="math inline">\(X\)</span> from the population.
<span class="math inline">\(y_i\)</span> is the number of rows where category <span class="math inline">\(i\)</span> is presented in the total <span class="math inline">\(Y\)</span> from the population.
<span class="math inline">\(D_x\)</span> and <span class="math inline">\(D_y\)</span> are the Simpson’s diversity index values for <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> respectively.
<span class="math inline">\(S\)</span> is the total number of columns.</p>
<p>This metric ranges from 0 (where no categories overlap at all) to 1 where the categories occur in the same proportions in both samples. Because this metric works on absolute counts we can run the vegdist function directly on the “Cibola_clust” object. Because we want a similarity rather than a distance (which is the default for this function in R) we subtract the results from 1.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate matrix of Morisita similarities based on the</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Cibola_clust two-way table.</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>Cibola_Mor <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(Cibola_clust,</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;morisita&#39;</span>))</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>Cibola_Mor[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Apache Creek   Atsinna Baca Pueblo</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek    1.0000000 0.4885799   0.6014729</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna         0.4885799 1.0000000   0.5885682</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo     0.6014729 0.5885682   1.0000000</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais    0.9060751 0.4459998   0.6529069</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Casa Malpais</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek    0.9060751</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna         0.4459998</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo     0.6529069</span></span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais    1.0000000</span></span></code></pre></div>
</div>
<div id="chi2-distance" class="section level4 unnumbered">
<h4 class="unnumbered"><span class="math inline">\(\chi^{2}\)</span> Distance</h4>
<p>The next measure we will use is the <span class="math inline">\(\chi^{2}\)</span> distance metric which is the basis of correspondence analysis and related methods commonly used for frequency seriation in archaeology (note that this should probably really be called the <span class="math inline">\(\chi\)</span> distance since the typical form we use is not squared, but the name persists this way in the literature so that’s what we use here). This measure is defined as:</p>
<p><span class="math display">\[\chi_{jk} = \sqrt{\sum \frac 1{c_{j}}
({x_{j}-y_{j})^{2}}}\]</span></p>
<p>where <span class="math inline">\(c_j\)</span> denotes the <span class="math inline">\(j_{th}\)</span> element of the average row profile (the proportional abundance of <span class="math inline">\(j\)</span> across all rows) and <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> represent row profiles for the two sites under comparison. This metric therefore takes raw abundance (rather than simply proportional representation) into account when defining distance between sites. The definition of this metric is such that rare categories play a greater role in defining distances among sites than common categories (as in correspondence analysis). This measure has a minimum value of 0 and no theoretical upper limit.</p>
<p>The code for calculating <span class="math inline">\(\chi^{2}\)</span> distances is defined in the chunk below and a new object called “Cibola_X” is created using this measure. It is sometimes preferable to rescale this measure so that it is bounded between 0 and 1. We create a second object called “Cibola_X01” which represents rescaled distances by simply dividing the matrix by the maximum observed value (there are many other ways to do this but this will be fine for our demonstration purposes). Again, we subtract these results from 1 to convert a distance to a similarity.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function for calculating chi-squared distance</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>chi_dist <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculates the profile for every row</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  rowprof <span class="ot">&lt;-</span> x <span class="sc">/</span> <span class="fu">apply</span>(x, <span class="dv">1</span>, sum)</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculates the average profile</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  avgprof <span class="ot">&lt;-</span> <span class="fu">apply</span>(x, <span class="dv">2</span>, sum) <span class="sc">/</span> <span class="fu">sum</span>(x)</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># creates a distance object of chi-squared distances</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>  chid <span class="ot">&lt;-</span> <span class="fu">dist</span>(<span class="fu">as.matrix</span>(rowprof) <span class="sc">%*%</span> <span class="fu">diag</span>(<span class="dv">1</span> <span class="sc">/</span> <span class="fu">sqrt</span>(avgprof)))</span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return the results</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">as.matrix</span>(chid))</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the script and then create the rescaled 0-1 version</span></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>Cibola_X <span class="ot">&lt;-</span> <span class="fu">chi_dist</span>(Cibola_clust)</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>Cibola_X01 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> (Cibola_X <span class="sc">/</span> <span class="fu">max</span>(Cibola_X))</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>Cibola_X01[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Apache Creek   Atsinna Baca Pueblo</span></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek    1.0000000 0.2904662   0.1010795</span></span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna         0.2904662 1.0000000   0.3393173</span></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo     0.1010795 0.3393173   1.0000000</span></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais    0.6166508 0.2999925   0.1469591</span></span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Casa Malpais</span></span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek    0.6166508</span></span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna         0.2999925</span></span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca Pueblo     0.1469591</span></span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa Malpais    1.0000000</span></span></code></pre></div>
</div>
<div id="creating-network-objects-from-similarity-matrices" class="section level4 unnumbered">
<h4 class="unnumbered">Creating Network Objects from Similarity Matrices</h4>
<p>Now that we have defined our three measures of similarity, the next step is to convert these into network objects that our R packages will be able to work with. We can do this by either creating binary networks (where ties are either present or absent) or weighted networks (which in many cases are simply the raw similarity/distance matrices we calculated above). We will provide examples of both approaches, starting with simple binary networks. There are many ways to define networks from matrices like those we generated above and our examples below should not been seen as an exhaustive set of procedures.</p>
<div id="creating-binary-network-objects" class="section level5 unnumbered">
<h5 class="unnumbered">Creating binary network objects</h5>
<p>First, we will produce a network object based on our BR similarity matrix created above. In this example, we define ties as present between pairs of sites when they share more than 65% commonality (BR &gt; 0.65) in terms of the proportions of ceramics recovered from pairs of sites.</p>
<p>In the code below, the <code>event2dichot</code> function (from the <code>statnet</code> package) takes our matrix and divides it into 1s and 0s based on the cut off we choose. Here we’re using and <code>absolute</code> cut off meaning we’re assigning a specific value to use as the cut off (0.65). We then send the output of this function to the network function just as before.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define our binary network object from BR similarity</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>BRnet <span class="ot">&lt;-</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">network</span>(<span class="fu">event2dichot</span>(Cibola_BR, <span class="at">method =</span> <span class="st">&quot;absolute&quot;</span>, <span class="at">thresh =</span> <span class="fl">0.65</span>),</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Now let&#39;s add names for our nodes based on the row names</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="co"># of our original matrix</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>BRnet <span class="sc">%v%</span> <span class="st">&quot;vertex.names&quot;</span> <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Cibola_clust)</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the results.</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>BRnet</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vertices = 31 </span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   multiple = FALSE </span></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total edges= 167 </span></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     non-missing edges= 167 </span></span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No edge attributes</span></span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-26"><a href="#cb81-26" aria-hidden="true" tabindex="-1"></a><span class="co"># plot network using default layout</span></span>
<span id="cb81-27"><a href="#cb81-27" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">7564</span>)</span>
<span id="cb81-28"><a href="#cb81-28" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(BRnet)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>In the next chunk of code we will use the <span class="math inline">\(\chi^2\)</span> distances to create binary networks. This time, we will not use an absolute value to define ties as present, but instead will define those similarities greater than 80 percent of all similarities as present. We will then once again plot just as above.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note we use 1 minus chacoX01 here so to convert a distance</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to a similarity</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>Xnet <span class="ot">&lt;-</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">network</span>(<span class="fu">event2dichot</span>(Cibola_X01, </span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">method =</span> <span class="st">&quot;quantile&quot;</span>, </span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">thresh =</span> <span class="fl">0.80</span>),</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Once again add vertext names as row names of data frame</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>Xnet <span class="sc">%v%</span> <span class="st">&quot;vertex.names&quot;</span> <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Cibola_clust)</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the results</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>Xnet</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vertices = 31 </span></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   multiple = FALSE </span></span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total edges= 80 </span></span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     non-missing edges= 80 </span></span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb82-25"><a href="#cb82-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb82-26"><a href="#cb82-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No edge attributes</span></span>
<span id="cb82-27"><a href="#cb82-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-28"><a href="#cb82-28" aria-hidden="true" tabindex="-1"></a><span class="co"># plot network using default layout</span></span>
<span id="cb82-29"><a href="#cb82-29" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb82-30"><a href="#cb82-30" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Xnet)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="creating-weighted-network-objects" class="section level5 unnumbered">
<h5 class="unnumbered">Creating Weighted Network Objects</h5>
<p>It is also possible to use R to create weighted networks where individual edges are valued. We have found that this works reasonably well with networks of co-presence or something similar (counts of mentions in texts or monuments for example) but this does not perform well when applied to large similarity or distance matrices (because every possible link has a value, the network gets unwieldy very fast). In the latter case, we have found it is often better to just work directly with the underlying similarity/distance matrix.</p>
<p>If you do, however, chose do create a weighted network object from a similarity matrix it only requires a slight modification from the procedure above. In the chunk of code below, we will simply add the arguments <code>ignore.eval = F</code> and <code>names.eval = "weight"</code> to let the network function know we would like weights to be retained and we would like that attribute called ‘weight’. We will apply this to the matrix of Morisita similarities defined above and then plot the result.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create weighted network object from co-occurrence matrix by</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co"># adding the ignore.eval=F argument</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>Mor_wt <span class="ot">&lt;-</span> <span class="fu">network</span>(</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  Cibola_Mor,</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ignore.eval =</span> <span class="cn">FALSE</span>,</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">names.eval =</span> <span class="st">&quot;weight&quot;</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>Mor_wt <span class="sc">%v%</span> <span class="st">&quot;vertex.names&quot;</span> <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Cibola_Mor)</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>Mor_wt</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vertices = 31 </span></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   multiple = FALSE </span></span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total edges= 465 </span></span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     non-missing edges= 465 </span></span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb83-24"><a href="#cb83-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb83-25"><a href="#cb83-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb83-26"><a href="#cb83-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Edge attribute names: </span></span>
<span id="cb83-27"><a href="#cb83-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     weight</span></span>
<span id="cb83-28"><a href="#cb83-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-29"><a href="#cb83-29" aria-hidden="true" tabindex="-1"></a><span class="co"># plot weighted network using default layout</span></span>
<span id="cb83-30"><a href="#cb83-30" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4634</span>)</span>
<span id="cb83-31"><a href="#cb83-31" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Mor_wt)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>The resulting network is nearly complete so it is a bit unwieldy for plotting but calculating network statistics on this weighted network can often still be useful as we will see in the exploratory analysis section.</p>
</div>
</div>
</div>
<div id="ego-networks" class="section level3" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Ego Networks</h3>
<p>When we aim to understand the relational environment within which an entity is embedded, because it is relevant for our research questions or because data collection challenges dictate this focus, archaeological network research can make use of so-called ego-networks: a type of network that includes a focal node (the so-called ego), the set of nodes the ego is connected to by an edge (the so-called alters) and the edges between this set of nodes.</p>
<p>Extracting an ego-network from an existing igraph network object in R is very easy. Here we will extract and plot the ego-network for Apache Creek, the first site in the network files we created above. First we read in data and create a network object and then we apply the <code>igraph::make_ego_graph</code> function to the network object we created.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create graph object. The dataframe is converted to a matrix as</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="co"># that is required by this specific function. Since this is an</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="co"># undirected network, directed = FALSE.</span></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>Cibola_net <span class="ot">&lt;-</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist),</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>                              <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract ego-networks</span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>ego_nets <span class="ot">&lt;-</span> <span class="fu">make_ego_graph</span>(Cibola_net)</span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the first ego-network</span></span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a>ego_nets[[<span class="dv">1</span>]]</span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e1d3a6c UN-- 12 59 -- </span></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e1d3a6c (vertex names):</span></span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache Creek--Casa Malpais   </span></span>
<span id="cb84-21"><a href="#cb84-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache Creek--Coyote Creek   </span></span>
<span id="cb84-22"><a href="#cb84-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Casa Malpais--Coyote Creek   </span></span>
<span id="cb84-23"><a href="#cb84-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache Creek--Hooper Ranch   </span></span>
<span id="cb84-24"><a href="#cb84-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Casa Malpais--Hooper Ranch   </span></span>
<span id="cb84-25"><a href="#cb84-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Coyote Creek--Hooper Ranch   </span></span>
<span id="cb84-26"><a href="#cb84-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache Creek--Horse Camp Mill</span></span>
<span id="cb84-27"><a href="#cb84-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Casa Malpais--Horse Camp Mill</span></span>
<span id="cb84-28"><a href="#cb84-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb84-29"><a href="#cb84-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-30"><a href="#cb84-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Apache Creek ego-network</span></span>
<span id="cb84-31"><a href="#cb84-31" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">754</span>)</span>
<span id="cb84-32"><a href="#cb84-32" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ego_nets[[<span class="dv">1</span>]])</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Platt Ranch ego-network for comparison</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">45367</span>)</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ego_nets[[<span class="dv">30</span>]])</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<p>In these ego-networks, only nodes connected to the target nodes (Apache Creek in the first example and then Platt Ranch in the second) are shown and only edges among those included nodes are shown.</p>
<p>It is also possible to determine the size of ego-networks for an entire one-mode network using the <code>ego_size</code> function. The output of this function is a vector that can be further assigned as a network node attribute.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ego_size</span>(Cibola_net)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 12 12 12 12 13 14 13 13 10 14 15  7  9 14 13 14 15 11</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] 14 14 15  2 14 19 15 12 12 11  7  6</span></span></code></pre></div>
</div>
<div id="converting-among-network-object-formats" class="section level3" number="2.2.7">
<h3><span class="header-section-number">2.2.7</span> Converting Among Network Object Formats</h3>
<p>In most of the examples in this document we have been using the <code>igraph</code> package but for the similarity networks we chose to use <code>statnet</code> due to the convenience of functions for working directly with similarity data. Not to worry as it is easy to convert one format to another and preserve all of the attributes using a package called <code>intergraph</code>. By way of example below we can covert the weighted network object we created in the previous step and convert it to a <code>igraph</code> object and view the attributes using the <code>asIgraph</code> function. If we wanted to go the other direction and covert a <code>igraph</code> object to a <code>statnet</code> object we would instead use <code>asNetwrok</code>.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>Mor_wt_i <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(Mor_wt)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>Mor_wt_i</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e201ff8 U-W- 31 465 -- </span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: na (v/l), vertex.names (v/c), na (e/l),</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; | weight (e/n)</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e201ff8:</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1-- 2 1-- 3 1-- 4 1-- 5 1-- 6 1-- 7 1-- 8 1-- 9 1--10</span></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] 1--11 1--12 1--13 1--14 1--15 1--16 1--17 1--18 1--19</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] 1--20 1--21 1--22 1--23 1--24 1--25 1--26 1--27 1--28</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28] 1--29 1--30 1--31 2-- 3 2-- 4 2-- 5 2-- 6 2-- 7 2-- 8</span></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [37] 2-- 9 2--10 2--11 2--12 2--13 2--14 2--15 2--16 2--17</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46] 2--18 2--19 2--20 2--21 2--22 2--23 2--24 2--25 2--26</span></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [55] 2--27 2--28 2--29 2--30 2--31 3-- 4 3-- 5 3-- 6 3-- 7</span></span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a><span class="co"># view first 10 edge weights to show that they are retained</span></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(Mor_wt_i)<span class="sc">$</span>weight[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 0.4885799 0.6014729 0.9060751 0.4049019 1.0000000</span></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] 0.7087214 0.7724938 0.4521581 0.7996468 1.0000000</span></span></code></pre></div>
</div>
<div id="Multinet" class="section level3" number="2.2.8">
<h3><span class="header-section-number">2.2.8</span> Multilayer Network</h3>
<p>In the simplest terms, multilayer networks are networks where a single set of nodes are connected by two or more sets of edges that each represent a different kind of relationship among the nodes. This is a relatively new area of network science in archaeological network research but we expect this will likely change in the coming years. There are now new R packages which help manage and analyze multilayer network data.</p>
<p>The <code>multinet</code> package (Rossi and Vega 2021) is designed to facilitate the analysis of multilayer networks. In order to explore some of the possibilities here we use example data and analyses included in this package. Specifically, we will look at the famous network data on Florentine families in the 14th century where connections were defined in terms of both business and marriage.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create object with Florentine multilayer network data</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>florentine <span class="ot">&lt;-</span> <span class="fu">ml_florentine</span>()</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the data</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>florentine</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ml-net[15, 2, 26, 35 (35,0)]</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(florentine)</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           n  m dir nc slc      dens        cc      apl dia</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; _flat_   15 35   0  1  15 0.3333333 0.3409091 2.085714   4</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; business 11 15   0  1  11 0.2727273 0.4166667 2.381818   5</span></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; marriage 15 20   0  1  15 0.1904762 0.1914894 2.485714   5</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the data</span></span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(florentine)</span></code></pre></div>
<p><img src="02-network-data-formats_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>The <code>multinet</code> network objects are essentially compatible with <code>igraph</code> and individual layers can be analyzed just like other <code>igraph</code> network objects. Where this <code>multinet</code> approach likely has greater utility is in conducting comparisons among layers or conducting analyses that take several layers into account simultaneously. A detailed exploration of this approach is beyond the scope of this document (but we provide a simple example below) and we suggest interested readers read the package information and tutorials associated with this package for more. In the example here we calculate degree across multiple layers using the <code>degree_ml</code> function and then run a Louvain cluster detection algorithm across all graph layers using <code>glouvain_ml</code>. Multilayer networks have considerable potential for archaeological data and we hope to see more research in this area in the future.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If we want to calculate degree centrality across multiple layers of a</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># multilayer network, the multinet package can help us do that directly</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and quite simply.</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>multinet<span class="sc">::</span><span class="fu">degree_ml</span>(florentine)</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  3  4  7  4  2  3  3  6  6 11  3  6  6  5  1</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Similarly, we could apply cluster detection algorithms to all layers</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="co"># of a multilayer network simultaneously.</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>multinet<span class="sc">::</span><span class="fu">glouvain_ml</span>(florentine)</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           actor    layer cid</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       Ridolfi marriage   0</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    Tornabuoni business   0</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    Tornabuoni marriage   0</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4         Pazzi business   0</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5         Pazzi marriage   0</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      Salviati business   0</span></span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7      Salviati marriage   0</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8        Ginori business   0</span></span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9        Ginori marriage   0</span></span>
<span id="cb89-20"><a href="#cb89-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10       Medici business   0</span></span>
<span id="cb89-21"><a href="#cb89-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11       Medici marriage   0</span></span>
<span id="cb89-22"><a href="#cb89-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12      Albizzi marriage   0</span></span>
<span id="cb89-23"><a href="#cb89-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13    Barbadori business   0</span></span>
<span id="cb89-24"><a href="#cb89-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14    Barbadori marriage   0</span></span>
<span id="cb89-25"><a href="#cb89-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15   Acciaiuoli marriage   0</span></span>
<span id="cb89-26"><a href="#cb89-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16      Peruzzi business   1</span></span>
<span id="cb89-27"><a href="#cb89-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17      Peruzzi marriage   1</span></span>
<span id="cb89-28"><a href="#cb89-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18      Strozzi marriage   1</span></span>
<span id="cb89-29"><a href="#cb89-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19   Castellani business   1</span></span>
<span id="cb89-30"><a href="#cb89-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20   Castellani marriage   1</span></span>
<span id="cb89-31"><a href="#cb89-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 21     Bischeri business   1</span></span>
<span id="cb89-32"><a href="#cb89-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 22     Bischeri marriage   1</span></span>
<span id="cb89-33"><a href="#cb89-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23     Guadagni business   1</span></span>
<span id="cb89-34"><a href="#cb89-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24     Guadagni marriage   1</span></span>
<span id="cb89-35"><a href="#cb89-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25 Lamberteschi business   1</span></span>
<span id="cb89-36"><a href="#cb89-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26 Lamberteschi marriage   1</span></span></code></pre></div>
<!--chapter:end:02-network-data-formats.Rmd-->
</div>
</div>
</div>
<div id="exploratory-network-analysis" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Exploratory Network Analysis</h1>
<p>Exploratory network analysis is simply exploratory data analysis applied to network data. This covers a range of statistical and visual techniques designed to explore the structure of networks as well as the relative positions of nodes and edges. These methods can be used to look for particular structures or patterning of interest, such as the most central nodes, or to summarize and describe the structure of the network to paint a general picture of it before further analysis. This section serves as a companion to Chapter 4 in Brughmans and Peeples 2022 and provides basic examples of the exploratory network analysis methods outlined in the book as well as a few others.</p>
<div id="example-network-objects" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Example Network Objects</h2>
<p>In order to facilitate the exploratory analysis examples in this section, we want to first create a set of <code>igraph</code> and <code>statnet</code> network objects that will serve our purposes across all of the analyses below. Specifically, we will generate and define:</p>
<ul>
<li><code>simple_net</code> - A simple undirected binary network with isolates</li>
<li><code>simple_net_noiso</code> - A simple undirected binary network without isolates</li>
<li><code>directed_net</code> - A directed binary network</li>
<li><code>weighted_net</code> - An undirected weighted network</li>
<li><code>sim_net_i</code> - A similarity network with edges weighted by similarity in the <code>igraph</code> format</li>
<li><code>sim_net</code> - A similarity network with edges weighted by similarity in the <code>statnet</code> format</li>
<li><code>sim_mat</code> - A data frame object containing a weighted similarity matrix</li>
</ul>
<p>Each of these will be used as appropriate to illustrate particular methods.</p>
<p>In the following chunk of code we initialize all of the packages that we will use in this section and define all of the network objects that we will use (using the object names above). In these examples we will once again use the Cibola technological similarity data we used in the Network Data Formats section previously.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize packages</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="co"># read in csv data</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>Cibola_adj_mat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_adj.csv&quot;</span>,</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>                           <span class="at">header =</span> T,</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>                           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple network with isolates</span></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>simple_net <span class="ot">&lt;-</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(Cibola_adj_mat),</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple network with no isolates</span></span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>simple_net_noiso <span class="ot">&lt;-</span></span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist),</span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a>                              <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a directed network by subsampling edgelist</span></span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">45325</span>)</span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a>EL2 <span class="ot">&lt;-</span> Cibola_edgelist[<span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(Cibola_edgelist)), <span class="dv">125</span>,</span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a>                              <span class="at">replace =</span> <span class="cn">FALSE</span>),]</span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a>directed_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(EL2),</span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a weighted undirected network by adding column of random</span></span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a><span class="co"># weights to edgelist</span></span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist<span class="sc">$</span>Weight <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">4</span>), <span class="fu">nrow</span>(Cibola_edgelist),</span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a>weighted_net <span class="ot">&lt;-</span></span>
<span id="cb90-37"><a href="#cb90-37" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]),</span>
<span id="cb90-38"><a href="#cb90-38" aria-hidden="true" tabindex="-1"></a>                              <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb90-39"><a href="#cb90-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-40"><a href="#cb90-40" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight <span class="ot">&lt;-</span> Cibola_edgelist<span class="sc">$</span>Weight</span>
<span id="cb90-41"><a href="#cb90-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-42"><a href="#cb90-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a similarity network using the Brainerd-Robinson metric</span></span>
<span id="cb90-43"><a href="#cb90-43" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span></span>
<span id="cb90-44"><a href="#cb90-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_clust.csv&quot;</span>,</span>
<span id="cb90-45"><a href="#cb90-45" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb90-46"><a href="#cb90-46" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb90-47"><a href="#cb90-47" aria-hidden="true" tabindex="-1"></a>clust_p <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(Cibola_clust), <span class="at">margin =</span> <span class="dv">1</span>)</span>
<span id="cb90-48"><a href="#cb90-48" aria-hidden="true" tabindex="-1"></a>sim_mat <span class="ot">&lt;-</span></span>
<span id="cb90-49"><a href="#cb90-49" aria-hidden="true" tabindex="-1"></a>  (<span class="dv">2</span> <span class="sc">-</span> <span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(clust_p, <span class="at">method =</span> <span class="st">&#39;manhattan&#39;</span>))) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb90-50"><a href="#cb90-50" aria-hidden="true" tabindex="-1"></a>sim_net <span class="ot">&lt;-</span> <span class="fu">network</span>(</span>
<span id="cb90-51"><a href="#cb90-51" aria-hidden="true" tabindex="-1"></a>  sim_mat,</span>
<span id="cb90-52"><a href="#cb90-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb90-53"><a href="#cb90-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">ignore.eval =</span> <span class="cn">FALSE</span>,</span>
<span id="cb90-54"><a href="#cb90-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">names.eval =</span> <span class="st">&#39;weight&#39;</span></span>
<span id="cb90-55"><a href="#cb90-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-56"><a href="#cb90-56" aria-hidden="true" tabindex="-1"></a>sim_net_i <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(sim_net)</span></code></pre></div>
</div>
<div id="CalcMetric" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Calculating Network Metrics in R</h2>
<p>Although the calculations behind the scenes for centrality metrics, clustering algorithms, and other network measures may be somewhat complicated, calculating these measures in R using network objects is usually quite straight forward and typically only involves a single function and a couple of arguments within it. There are, however, some things that need to be kept in mind when applying these methods to network data. In this document, we provide examples of some of the most common functions you may use as well as a few caveats and potential problems.</p>
<p>Certain network metrics require networks with specific properties and may produce unexpected results if the wrong kind of network is used. For example, closeness centrality is only well defined for binary networks that have no isolates. If you were to use the <code>igraph::closeness</code> command to calculate closeness centrality on a network with isolates, you would get results but you would also get a warning telling you “closeness centrality is not well-defined for disconnected graphs.” For other functions if you provide data that does not meet the criteria required by that function you my instead get an error and have no results returned. In some cases, however, a function may simply return results and not provide any warning so it is important that you are careful when selecting methods to avoid providing data that violates assumptions of the method provided. Remember, that if you have questions about how a function works or what it requires you can type <code>?function_name</code> at the console with the function in question and you will get the help document that should provide more information. You can also include package names in the help call to avoid getting something unexpected (i.e., <code>?igraph::degree</code>)</p>
</div>
<div id="centrality" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Centrality</h2>
<p>One of the most common kinds of exploratory network analysis involves calculating basic network centrality and centralization statistics. There are a wide array of methods available in R through the <code>igraph</code> and <code>statnet</code> packages. In this section we highlight a few examples as well as a few caveats to keep in mind.</p>
<div id="degree-centrality" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Degree Centrality</h3>
<p>Degree centrality can be calculated using the <code>igraph::degree</code> function for simple networks with or without isolates as well as simple directed networks. This method is not, however, appropriate for weighted networks or similarity networks (because it expects binary values). If you apply the <code>igraph::degree</code> function to a weighted network object you will simply get the binary network degree centrality values. The alternative for calculating weighted degree for weighted and similarity networks is to simply calculate the row sums of the underlying similarity matrix (minus 1 to account for self loops) or adjacency matrix. For the degree function the returned output is a vector of values representing degree centrality which can further be assigned to an R object, plotted, or otherwise used. We provide a few examples here to illustrate. Note that for directed graphs you can also specify the mode as <code>in</code> for indegree or <code>out</code> for outdegree or <code>all</code> for the sum of both.</p>
<p>Graph level degree centralization is equally simple to call using the <code>centr_degree</code> function. This function returns an object with multiple parts including a vector of degree centrality scores, the graph level centralization metric, and the theoretical maximum number of edges (n * [n-1]). This metric can be normalized such that the maximum centralization value would be 1 using the <code>normalize = TRUE</code> argument as we demonstrate below. See the comments in the code chunk below to follow along with which type of network object is used in each call. In most cases we only display the first 5 values to prevent long lists of output (using the <code>[1:5]</code> command).</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># simple network with isolates</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(simple_net)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek      Atsinna  Baca.Pueblo Casa.Malpais </span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           11            8            1           11 </span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega </span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           13</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="co"># simple network no isolates</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(simple_net_noiso)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              11              11              11 </span></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              11              12</span></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a><span class="co"># directed network</span></span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(directed_net, <span class="at">mode =</span> <span class="st">&quot;in&quot;</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="co"># indegree</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Coyote Creek Techado Springs   Hubble Corner </span></span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               1               6               5 </span></span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Tri-R Pueblo    Heshotauthla </span></span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               6               2</span></span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(directed_net, <span class="at">mode =</span> <span class="st">&quot;out&quot;</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="co"># outdegree</span></span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Coyote Creek Techado Springs   Hubble Corner </span></span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               6               2               5 </span></span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Tri-R Pueblo    Heshotauthla </span></span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               2              11</span></span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a><span class="co"># weighted network - rowSums of adjacency matrix</span></span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a>(<span class="fu">rowSums</span>(<span class="fu">as.matrix</span>(</span>
<span id="cb91-28"><a href="#cb91-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_adjacency_matrix</span>(weighted_net,</span>
<span id="cb91-29"><a href="#cb91-29" aria-hidden="true" tabindex="-1"></a>                      <span class="at">attr =</span> <span class="st">&quot;weight&quot;</span>)</span>
<span id="cb91-30"><a href="#cb91-30" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">-</span> <span class="dv">1</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb91-31"><a href="#cb91-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb91-32"><a href="#cb91-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              25              29              21 </span></span>
<span id="cb91-33"><a href="#cb91-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb91-34"><a href="#cb91-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              18              27</span></span>
<span id="cb91-35"><a href="#cb91-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-36"><a href="#cb91-36" aria-hidden="true" tabindex="-1"></a><span class="co"># similarity network. Note we use the similarity matrix here and</span></span>
<span id="cb91-37"><a href="#cb91-37" aria-hidden="true" tabindex="-1"></a><span class="co"># not the network object</span></span>
<span id="cb91-38"><a href="#cb91-38" aria-hidden="true" tabindex="-1"></a>(<span class="fu">rowSums</span>(sim_mat) <span class="sc">-</span> <span class="dv">1</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb91-39"><a href="#cb91-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache Creek      Atsinna  Baca Pueblo Casa Malpais </span></span>
<span id="cb91-40"><a href="#cb91-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     16.00848     15.87024     14.77997     17.30358 </span></span>
<span id="cb91-41"><a href="#cb91-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega </span></span>
<span id="cb91-42"><a href="#cb91-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     17.09394</span></span>
<span id="cb91-43"><a href="#cb91-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-44"><a href="#cb91-44" aria-hidden="true" tabindex="-1"></a><span class="co"># If you want to normalize your degree centrality metric by the</span></span>
<span id="cb91-45"><a href="#cb91-45" aria-hidden="true" tabindex="-1"></a><span class="co"># number of nodes present you can do that by adding the normalize=TRUE</span></span>
<span id="cb91-46"><a href="#cb91-46" aria-hidden="true" tabindex="-1"></a><span class="co"># command to the function calls above. For weighted and similarity</span></span>
<span id="cb91-47"><a href="#cb91-47" aria-hidden="true" tabindex="-1"></a><span class="co"># networks you can simply divide by the number of nodes minus 1.</span></span>
<span id="cb91-48"><a href="#cb91-48" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(simple_net, <span class="at">normalize =</span> T)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb91-49"><a href="#cb91-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek      Atsinna  Baca.Pueblo Casa.Malpais </span></span>
<span id="cb91-50"><a href="#cb91-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0.36666667   0.26666667   0.03333333   0.36666667 </span></span>
<span id="cb91-51"><a href="#cb91-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega </span></span>
<span id="cb91-52"><a href="#cb91-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0.43333333</span></span>
<span id="cb91-53"><a href="#cb91-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-54"><a href="#cb91-54" aria-hidden="true" tabindex="-1"></a><span class="co"># it is also possible to directly plot the degree distribution for</span></span>
<span id="cb91-55"><a href="#cb91-55" aria-hidden="true" tabindex="-1"></a><span class="co"># a given network using the degree.distribution function.</span></span>
<span id="cb91-56"><a href="#cb91-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we embed that call directly in a call for a histogram plot</span></span>
<span id="cb91-57"><a href="#cb91-57" aria-hidden="true" tabindex="-1"></a><span class="co"># using the &quot;hist&quot; function</span></span>
<span id="cb91-58"><a href="#cb91-58" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(igraph<span class="sc">::</span><span class="fu">degree.distribution</span>(simple_net))</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co"># graph level centralization</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">centr_degree</span>(simple_net)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $res</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 11  8  1 11 13 11  6 13 14 18 11 12 13 11 12 12 13 14</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] 11  5 10 12 13 13  9 14 13 14  6  0 10</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $centralization</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.2408602</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $theoretical_max</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 930</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a><span class="co"># To calculate centralization score for a similarity matrix, use the</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a><span class="co"># sna::centralization function</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>sna<span class="sc">::</span><span class="fu">centralization</span>(sim_mat, <span class="at">normalize =</span> <span class="cn">TRUE</span>, sna<span class="sc">::</span>degree)</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.1082207</span></span></code></pre></div>
<p>If you are interested in calculating graph level density you can do this using the <code>edge_density</code> function. Note that just like the degree function above, this only works for binary networks and if you submit a weighted network object you will simply get the binary edge density value.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">edge_density</span>(simple_net_noiso)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.383908</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="fu">edge_density</span>(weighted_net)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.383908</span></span></code></pre></div>
</div>
<div id="betweenness-centrality" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Betweenness Centrality</h3>
<p>The betweenness functions work very much like the degree function calls above. Betweenness centrality in <code>igraph</code> can be calculated for simple networks with and without isolates, directed networks, and weighted networks. In the case of weighted networks or similarity networks, the shortest paths between sets of nodes are calculated such that the path of greatest weight is taken at each juncture. You can normalize your results by using <code>normalize = TRUE</code> just like you could for degree. The <code>igraph::betweenness</code> function will automatically detect if a graph is directed or weighted and use the appropriate method but you can also specify a particular edge attribute to use for weight if you perhaps have more than one weighting scheme.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate betweenness for simple network</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">betweenness</span>(simple_net)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek      Atsinna  Baca.Pueblo Casa.Malpais </span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     1.125000     0.000000     0.000000     8.825306 </span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega </span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     8.032865</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate betweenness for weighted network</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">betweenness</span>(weighted_net, <span class="at">directed =</span> <span class="cn">FALSE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        20.94423        18.96259        17.67829 </span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        15.66853         2.78036</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate betweenness for weighted network specifying weight attribute</span></span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">betweenness</span>(weighted_net, <span class="at">weights =</span> <span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        20.94423        18.96259        17.67829 </span></span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        15.66853         2.78036</span></span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate graph level centralization</span></span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a><span class="fu">centr_betw</span>(simple_net)</span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $res</span></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]   1.1250000   0.0000000   0.0000000   8.8253059</span></span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5]   8.0328650   3.2862641   0.2500000  58.7048084</span></span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9]  15.6031093 142.3305364   1.1250000   9.0503059</span></span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13]  11.9501530   6.2604913   1.2590038  12.8566507</span></span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17]   8.0328650  41.0052110   0.5722222   2.7950980</span></span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21]   0.2844828   9.0503059  15.3558646   8.0328650</span></span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25]   0.0000000  16.0653473  11.9501530  17.0225282</span></span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29]   0.0000000   0.0000000   2.1735632</span></span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $centralization</span></span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.3064557</span></span>
<span id="cb94-34"><a href="#cb94-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb94-35"><a href="#cb94-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $theoretical_max</span></span>
<span id="cb94-36"><a href="#cb94-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 13050</span></span></code></pre></div>
</div>
<div id="eigenvector-centrality" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Eigenvector Centrality</h3>
<p>The <code>igraph::eigen_centrality</code> function can be calculated for simple networks with and without isolates, directed networks, and weighted networks. By default scores are scaled such that the maximum score of 1. You can turn this scaling of by using the <code>scale = FALSE</code> argument. This function automatically detects whether a network object is directed or weighted but you can also call edge attributes to specify a particular weight attribute. By default this function outputs many other features of the analysis such as the number of steps toward convergence and the number of iterations but if you just want the centrality results you can use the atomic vector call to $vector.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen_centrality</span>(simple_net, </span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">scale =</span> <span class="cn">TRUE</span>)<span class="sc">$</span>vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek      Atsinna  Baca.Pueblo Casa.Malpais </span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0.46230981   0.54637071   0.07114132   0.53026366 </span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega </span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0.85007181</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen_centrality</span>(</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>  weighted_net,</span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">weights =</span> <span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight,</span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale =</span> <span class="cn">FALSE</span></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>)<span class="sc">$</span>vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.08116512      0.10608344      0.07254989 </span></span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.05355994      0.10123595</span></span></code></pre></div>
</div>
<div id="page-rank-centrality" class="section level3" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Page Rank Centrality</h3>
<p>The <code>igraph::page_rank</code> function can be calculated for simple networks with and without isolates, directed networks, and weighted networks. By default scores are scaled such that the maximum score is 1. You can turn this scaling off by using the <code>scale = FALSE</code> argument. This function automatically detects whether a network object is directed or weighted but you can also call edge attributes to specify a particular weight attribute. You can change the algorithm used to implement the page rank algorithm (see help for details) and can also change the damping factor if desired.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">page_rank</span>(directed_net, </span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">TRUE</span>)<span class="sc">$</span>vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Coyote Creek Techado Springs   Hubble Corner </span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.01375364      0.03433734      0.02521968 </span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Tri-R Pueblo    Heshotauthla </span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.04722743      0.01549665</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="fu">page_rank</span>(</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>  weighted_net,</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">weights =</span> <span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight,</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">algo =</span> <span class="st">&quot;prpack&quot;</span></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>)<span class="sc">$</span>vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.03340837      0.03761940      0.02901255 </span></span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.02610001      0.03551477</span></span></code></pre></div>
</div>
<div id="closeness-centrality" class="section level3" number="3.3.5">
<h3><span class="header-section-number">3.3.5</span> Closeness Centrality</h3>
<p>The <code>igraph::closeness</code> function calculates closeness centrality and can be calculated for directed and undirected simple or weighted networks with no isolates. This function can also be used for networks with isolates, but you will receive an additional message suggesting that closeness is undefined for networks that are not fully connected. For very large networks you can use the <code>igraph::estimate_closeness</code> function with a cutoff setting that will consider paths of length up to cutoff to calculate closeness scores. For directed networks you can also specify whether connections in, out, or in both directions should be used.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">closeness</span>(simple_net)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek      Atsinna  Baca.Pueblo Casa.Malpais </span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0.01470588   0.01470588   0.01315789   0.01886792 </span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega </span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0.02000000</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">closeness</span>(simple_net_noiso)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.01470588      0.01886792      0.01754386 </span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.01470588      0.01923077</span></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">closeness</span>(weighted_net, <span class="at">weights =</span> <span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Apache Creek    Casa Malpais    Coyote Creek </span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.01010101      0.01298701      0.01219512 </span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Hooper Ranch Horse Camp Mill </span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.01111111      0.01063830</span></span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">closeness</span>(directed_net, <span class="at">mode =</span> <span class="st">&quot;in&quot;</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Coyote Creek Techado Springs   Hubble Corner </span></span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      1.00000000      0.04166667      0.04761905 </span></span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Tri-R Pueblo    Heshotauthla </span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.04347826      0.09090909</span></span></code></pre></div>
</div>
<div id="hubs-and-authorities" class="section level3" number="3.3.6">
<h3><span class="header-section-number">3.3.6</span> Hubs and Authorities</h3>
<p>In directed networks it is possible to calculate hub and authority scores to identify nodes that are characterized by high indegree and high outdegree in particular. Because this is a measure that depends on direction it is only appropriate for directed network objects. If you run this function for an undirected network hub scores and authority scores will be identical. These functions can also be applied networks that are both directed and weighted. If you do not want all options printed you can use the atomic vector $vector call as well.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">hub_score</span>(directed_net)<span class="sc">$</span>vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Coyote Creek Techado Springs   Hubble Corner </span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.31998744      0.12265832      0.30740409 </span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Tri-R Pueblo    Heshotauthla </span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.08450797      1.00000000</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">authority_score</span>(directed_net)<span class="sc">$</span>vector[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Coyote Creek Techado Springs   Hubble Corner </span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.05372558      0.32708203      0.28835263 </span></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Tri-R Pueblo    Heshotauthla </span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      0.35970234      0.25265287</span></span></code></pre></div>
</div>
</div>
<div id="triads-and-clustering" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Triads and clustering</h2>
<p>Another important topic in network science concerns considerations of the overall structure and clustering of connections across a network as a whole. There are a variety of methods which have been developed to characterize the overall degree of clustering and closure in networks, many of which are based on counting triads of various configurations. In this section, we briefly outline approaches toward evaluating triads, transitivity, and clustering in R.</p>
<div id="triads" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Triads</h3>
<p>A triad is simply a set of three nodes and a description of the configuration of edges among them. For undirected graphs, there are four possibilities for describing the connections among those nodes (empty graph, 1 connection, 2 connections, 3 connections). For directed graphs the situation is considerably more complicated because ties can be considered in both directions and an edge in one direction isn’t necessarily reciprocated. Thus there are 16 different configurations that can exist (see Brughmans and Peeples 2022: Figure 4.4).</p>
<p>One common method for outlining the overall structural properties of a network is to conduct a “triad census” which counts each of the 4 or 16 possible triads for a given network. Although a triad census can be conducted on an undirected network using the <code>igraph::triad_census</code> function, a warning will be returned along with 0 results for all impossible triad configurations so be aware. The results are returned as a vector of counts of each possible node configuration in an order outlined in the help document associated with the function (see <code>?triad_census</code> for more).</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">triad_census</span>(directed_net)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1404 2007    0  134  146  174    0    0  195    0    0</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12]    0    0    0    0    0</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">triad_census</span>(simple_net)</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in igraph::triad_census(simple_net): At core/misc/</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; motifs.c:1165 : Triad census called on an undirected graph.</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1033    0 2551    0    0    0    0    0    0    0  441</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12]    0    0    0    0  470</span></span></code></pre></div>
<p>Often can be useful to visualize the motifs defined for each entry in the triad census and this can be done using the <code>graph_from_isomorphism_class()</code> function which outputs every possible combination of nodes of a given size you specify (3 in this case). We can plot these configurations in a single plot using the <code>ggraph</code> and <code>ggpubr</code> packages. These packages are described in more detail in the visualization section of this document.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="fl">0.1</span>, <span class="fl">0.45</span>, <span class="fl">0.45</span>),</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrow =</span> <span class="dv">3</span>,</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">byrow =</span> T</span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">15</span>) {</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>  g_temp <span class="ot">&lt;-</span> <span class="fu">graph_from_isomorphism_class</span>(<span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">number =</span> i,</span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">directed =</span> T)</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>  g[[i <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g_temp,</span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> xy[, <span class="dv">1</span>],</span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> xy[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">col =</span> <span class="st">&quot;purple&quot;</span>) <span class="sc">+</span></span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_fan</span>(</span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">4</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>                    <span class="at">type =</span> <span class="st">&quot;closed&quot;</span>),</span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">6</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">6</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>(</span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot_margin =</span></span>
<span id="cb100-34"><a href="#cb100-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">margin</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb100-35"><a href="#cb100-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">border =</span> T,</span>
<span id="cb100-36"><a href="#cb100-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">foreground =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb100-37"><a href="#cb100-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb100-38"><a href="#cb100-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb100-39"><a href="#cb100-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-40"><a href="#cb100-40" aria-hidden="true" tabindex="-1"></a><span class="co"># motifs ordered by order in triad_census function</span></span>
<span id="cb100-41"><a href="#cb100-41" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb100-42"><a href="#cb100-42" aria-hidden="true" tabindex="-1"></a>  g[[<span class="dv">1</span>]], g[[<span class="dv">2</span>]], g[[<span class="dv">4</span>]], g[[<span class="dv">7</span>]],</span>
<span id="cb100-43"><a href="#cb100-43" aria-hidden="true" tabindex="-1"></a>  g[[<span class="dv">3</span>]], g[[<span class="dv">5</span>]], g[[<span class="dv">6</span>]], g[[<span class="dv">10</span>]],</span>
<span id="cb100-44"><a href="#cb100-44" aria-hidden="true" tabindex="-1"></a>  g[[<span class="dv">8</span>]], g[[<span class="dv">12</span>]], g[[<span class="dv">11</span>]], g[[<span class="dv">9</span>]],</span>
<span id="cb100-45"><a href="#cb100-45" aria-hidden="true" tabindex="-1"></a>  g[[<span class="dv">13</span>]], g[[<span class="dv">14</span>]], g[[<span class="dv">15</span>]], g[[<span class="dv">16</span>]],</span>
<span id="cb100-46"><a href="#cb100-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">4</span>,</span>
<span id="cb100-47"><a href="#cb100-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">4</span></span>
<span id="cb100-48"><a href="#cb100-48" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-10-1.png" width="576" /></p>
</div>
<div id="transitivity-and-clustering" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Transitivity and Clustering</h3>
<p>A network’s global average transitivity (or clustering coefficient) is three times the number of closed triads over the total number of triads in a network. This measure can be calculated using <code>igraph::transitivity</code> for simple networks with or without isolates, directed networks, and weighted networks. There are options within the function to determine the specific type of transitivity (global transitivity is the default) and for how to treat isolates. See the help document (<code>?igraph::transitivity</code>) for more details. If you want to calculate local transitivity for a particular node you can use the <code>type = "local"</code> argument. This will return a <code>NA</code> value for nodes that are not part of any triads (isolates and nodes with a single connection).</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">transitivity</span>(simple_net, <span class="at">type =</span> <span class="st">&quot;global&quot;</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.7617504</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">transitivity</span>(simple_net, <span class="at">type =</span> <span class="st">&quot;local&quot;</span>)</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 0.8727273 1.0000000       NaN 0.8363636 0.8333333</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] 0.8727273 0.8666667 0.4358974 0.7252747 0.4183007</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] 0.8727273 0.8333333 0.7435897 0.8000000 0.8787879</span></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] 0.7272727 0.8333333 0.6703297 0.9272727 0.7000000</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21] 0.9555556 0.8333333 0.7692308 0.8333333 1.0000000</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26] 0.7582418 0.7435897 0.7142857 1.0000000       NaN</span></span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] 0.8222222</span></span></code></pre></div>
</div>
</div>
<div id="walks-paths-and-distance" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Walks, Paths, and Distance</h2>
<p>There are a variety of network metrics which rely on distance and paths across networks that can be calculated in R. There are a great many functions available and we highlight just a few here.</p>
<div id="distance" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Distance</h3>
<p>In some cases, you may simply want information about the graph distance between nodes in general or perhaps the average distance. There are a variety of functions that can help with this including <code>igraph::distances</code> and <code>igraph::mean_distance</code>. These work on simple networks, directed networks, and weighted networks.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create matrix of all distances among nodes and view the first</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co"># few rows and columns</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">distances</span>(simple_net)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Apache.Creek Atsinna Baca.Pueblo Casa.Malpais</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek            0       4           4            1</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Atsinna                 4       0           2            3</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Baca.Pueblo             4       2           0            3</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Casa.Malpais            1       3           3            0</span></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean distance for a network</span></span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">mean_distance</span>(simple_net)</span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.949425</span></span></code></pre></div>
</div>
<div id="shortest-paths" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Shortest Paths</h3>
<p>If you want to identify particular shortest paths to or from nodes in a network you can use the <code>igraph::shortest_paths</code> function or alternatively the <code>igraph::all_shortest_paths</code> if you want all shortest paths originating at a particular node. To call this function you simply need to provide a network object and an id for the origin and destination of the path. The simplest solution is just to call the node number. This function works with directed and undirected networks with or without weights. Although it can be applied to networks with isolates, the isolates themselves will produce <code>NA</code> results.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># track shortest path from Apache Creek to Pueblo de los Muertos</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">shortest_paths</span>(simple_net, <span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">21</span>)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $vpath</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $vpath[[1]]</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 5/31 vertices, named, from e621975:</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Apache.Creek          Casa.Malpais         </span></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] Garcia.Ranch          Heshotauthla         </span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] Pueblo.de.los.Muertos</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $epath</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $predecessors</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $inbound_edges</span></span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
<p>The output provides the ids for all nodes crossed in the path from origin to destination.</p>
</div>
<div id="diameter" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Diameter</h3>
<p>The <code>igraph::diameter</code> function calculates the diameter of a network (the longest shortest path) and you can also use the <code>farthest_vertices</code> function to get the ids of the nodes that form the ends of that longest shortest path. This metric can be calculated for directed and undirected, weighted and unweighted networks, with or without isolates.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">diameter</span>(directed_net, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">farthest_vertices</span>(directed_net, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $vertices</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 2/30 vertices, named, from e622876:</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Apache Creek          Pueblo de los Muertos</span></span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $distance</span></span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
</div>
</div>
<div id="components-and-bridges" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Components and Bridges</h2>
<p>Identifying fully connected subgraphs within a large network is a common analytical procedure and is quite straight forward in R using the igraph package. If you first want to know whether or not a given network is fully connected you can use the <code>igraph::is_connected</code> function to check.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">is_connected</span>(simple_net)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">is_connected</span>(simple_net_noiso)</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>You can also count components using the <code>count_components</code> function.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">count_components</span>(simple_net)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<div id="identifying-components" class="section level3" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Identifying Components</h3>
<p>If you want to decompose a network object into its distinct components you can use the <code>igraph::decompose</code> function which outputs a list object with each entry representing a distinct component. Each object in the list can then be called using <code>[[k]]</code> where <code>k</code> is the number of the item in the list.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>components <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">decompose</span>(simple_net, <span class="at">min.vertices =</span> <span class="dv">1</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>components</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e85c9f5 UN-- 30 167 -- </span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e85c9f5 (vertex names):</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache.Creek--Casa.Malpais        </span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache.Creek--Coyote.Creek        </span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache.Creek--Hooper.Ranch        </span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache.Creek--Horse.Camp.Mill     </span></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache.Creek--Hubble.Corner       </span></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Apache.Creek--Mineral.Creek.Pueblo</span></span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache.Creek--Rudd.Creek.Ruin     </span></span>
<span id="cb107-15"><a href="#cb107-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Apache.Creek--Techado.Springs     </span></span>
<span id="cb107-16"><a href="#cb107-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb107-17"><a href="#cb107-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb107-18"><a href="#cb107-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb107-19"><a href="#cb107-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH e85ca19 UN-- 1 0 -- </span></span>
<span id="cb107-20"><a href="#cb107-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb107-21"><a href="#cb107-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from e85ca19 (vertex names):</span></span>
<span id="cb107-22"><a href="#cb107-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-23"><a href="#cb107-23" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(components[[<span class="dv">2</span>]])<span class="sc">$</span>name</span>
<span id="cb107-24"><a href="#cb107-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;WS.Ranch&quot;</span></span></code></pre></div>
<p>In the example here this network is fully connected with the exception of 1 node (WS Ranch). When you run the decompose function it separates WS ranch into a component as an isolate with no edges.</p>
</div>
<div id="cutpoints" class="section level3" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Cutpoints</h3>
<p>A cutpoint is a node, the removal which creates a network with a higher number of components. There is not a convenient igraph function for identifying cutpoints but there is a function in the <code>sna</code> package within the <code>statnet</code> suite. Using the <code>intergraph</code> package we can easily convert an <code>igraph</code> object to an <code>sna</code> object (using the <code>asNetwork</code> function) within the call to use this function.</p>
<p>The <code>sna::cutpoint</code> function returns the node id for any cutpoints detected. We can use the numbers returned to find the name of the node in question.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>cut_p <span class="ot">&lt;-</span> <span class="fu">cutpoints</span>(<span class="fu">asNetwork</span>(simple_net))</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>cut_p</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 18</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(simple_net)<span class="sc">$</span>name[cut_p]</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Ojo.Bonito&quot;</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4536</span>)</span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(simple_net)</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>The example here reveals that Ojo Bonito is a cutpoint and if we look at the figure we can see that it is the sole connection with Baca Pueblo which would otherwise become and isolate and distinct component if Ojo Bonito were removed.</p>
</div>
<div id="bridges" class="section level3" number="3.6.3">
<h3><span class="header-section-number">3.6.3</span> Bridges</h3>
<p>A bridge is an edge, the removal of which results in a network with a higher number of components. The function igraph::min_cut finds bridges in network objects for sets of nodes or for the graph as a whole. The output of this function includes a vector called $cut which provides the edges representing bridges. By default this function only outputs the cut value but you can use the argument <code>value.only = FALSE</code> to get the full output.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min_cut</span>(simple_net_noiso, <span class="at">value.only =</span> <span class="cn">FALSE</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $value</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $cut</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 1/167 edge from e621f09 (vertex names):</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Ojo Bonito--Baca Pueblo</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $partition1</span></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 1/30 vertex, named, from e621f09:</span></span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Baca Pueblo</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $partition2</span></span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 29/30 vertices, named, from e621f09:</span></span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache Creek          Casa Malpais         </span></span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Coyote Creek          Hooper Ranch         </span></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Horse Camp Mill       Hubble Corner        </span></span>
<span id="cb109-18"><a href="#cb109-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Mineral Creek Pueblo  Rudd Creek Ruin      </span></span>
<span id="cb109-19"><a href="#cb109-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] Techado Springs       Tri-R Pueblo         </span></span>
<span id="cb109-20"><a href="#cb109-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] UG481                 UG494                </span></span>
<span id="cb109-21"><a href="#cb109-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] Atsinna               Cienega              </span></span>
<span id="cb109-22"><a href="#cb109-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] Los Gigantes          Mirabal              </span></span>
<span id="cb109-23"><a href="#cb109-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17] Ojo Bonito            Pueblo de los Muertos</span></span>
<span id="cb109-24"><a href="#cb109-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] Scribe S              Spier 170            </span></span>
<span id="cb109-25"><a href="#cb109-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several vertices</span></span></code></pre></div>
<p>As this example illustrates the edge between Ojo Bonito and Baca Pueblo is a bridge (perhaps not surprising as Ojo Bonito was a cut point).</p>
</div>
</div>
<div id="cliques-and-communities" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Cliques and Communities</h2>
<p>Another very common task in network analysis involves creating cohesive sub-groups of nodes in a larger network. There are wide variety of methods available for defining such groups and we highlight a few of the most common here.</p>
<div id="cliques" class="section level3" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Cliques</h3>
<p>A clique as a network science concept is arguably the strictest method of defining a cohesive subgroup. It is any set of three or more nodes in which each node is directly connected to all other nodes. It can be alternatively defined as a completely connected subnetwork, or a subnetwork with maximum density. The function <code>igraph::max_cliques</code> finds all maximal cliques in a network and outputs a list object with nodes in each set indicated. For the sake of space here we only output one clique of the 24 that were defined by this function call.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max_cliques</span>(simple_net, <span class="at">min =</span> <span class="dv">1</span>)[[<span class="dv">24</span>]]</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + 9/31 vertices, named, from e621975:</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Los.Gigantes    Cienega         Tinaja         </span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] Spier.170       Scribe.S        Pescado.Cluster</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7] Mirabal         Heshotauthla    Yellowhouse</span></span></code></pre></div>
<p>Note in this list that the same node can appear in more than one maximal clique.</p>
</div>
<div id="k-cores" class="section level3" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> K-cores</h3>
<p>A k-core is a maximal subnetwork in which each vertex has at least degree k within the subnetwork. In R this can be obtained using the <code>igraph::coreness</code> function and the filtering by value as appropriate. This function creates a vector of k values which can then be used to remove nodes as appropriate or symbolize them in plots.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define coreness of each node</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>kcore <span class="ot">&lt;-</span> <span class="fu">coreness</span>(simple_net)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>kcore[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek      Atsinna  Baca.Pueblo Casa.Malpais </span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            9            8            1            9 </span></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Cienega Coyote.Creek </span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            9            9</span></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a><span class="co"># set up colorscale</span></span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>col_set <span class="ot">&lt;-</span> <span class="fu">heat.colors</span>(<span class="fu">max</span>(kcore), <span class="at">rev =</span> <span class="cn">TRUE</span>)</span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2509</span>)</span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(simple_net, <span class="at">vertex.color =</span> col_set[kcore])</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>In the plot shown here the darker read colors represent higher maximal k-core values.</p>
</div>
<div id="cluster-detection-algorithms" class="section level3" number="3.7.3">
<h3><span class="header-section-number">3.7.3</span> Cluster Detection Algorithms</h3>
<p>R allows you to use a variety of common cluster detection algorithms to define groups of nodes in a network using a variety of different assumptions. We highlight a few of the most common here.</p>
<div id="girvan-newman-clustering" class="section level4" number="3.7.3.1">
<h4><span class="header-section-number">3.7.3.1</span> Girvan-Newman Clustering</h4>
<p>Girvan-Newman clustering is a divisive algorithm based on betweenness that defines a partition of network that maximizes modularity by removing nodes with high betweenness iteratively (see discussion in Brughmans and Peeples 2022 Chapter 4.6). In R this is referred to as the <code>igraph::edge.betweenness.community</code> function. This function can be used on directed or undirected networks with or without edge weights. This function outputs a variety of information including individual edge betweenness scores, modularity information, and partition membership. See the help documents for more information</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>GN <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">edge.betweenness.community</span>(simple_net)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4353</span>)</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(simple_net, <span class="at">vertex.color =</span> GN<span class="sc">$</span>membership)</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="walktrap-algorithm" class="section level4" number="3.7.3.2">
<h4><span class="header-section-number">3.7.3.2</span> Walktrap Algorithm</h4>
<p>The walktrap algorithm is designed to work for either binary or weighted networks and defines communities by generating a large number of short random walks and determining which sets of nodes consistently fall along the same short random walks. This can called using the <code>igraph::cluster_walktrap</code> function. The “steps” argument determines the length of the short walks and is set to 4 by default.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>WT <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">cluster_walktrap</span>(simple_net, <span class="at">steps =</span> <span class="dv">4</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4353</span>)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(simple_net, <span class="at">vertex.color =</span> WT<span class="sc">$</span>membership)</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="louvain-modularity" class="section level4" number="3.7.3.3">
<h4><span class="header-section-number">3.7.3.3</span> Louvain Modularity</h4>
<p>Louvain modularity is a cluster detection algorithm based on modularity. The algorithm iteratively moves nodes among community definitions in a way that optimizes modularity. This measure can be calculated on simple networks, directed networks, and weighted networks and is implemented in R through the <code>igraph::cluster_louvain</code> function.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>LV <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">cluster_louvain</span>(simple_net)</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4353</span>)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(simple_net, <span class="at">vertex.color =</span> LV<span class="sc">$</span>membership)</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="calculating-modularity-for-partitions" class="section level4" number="3.7.3.4">
<h4><span class="header-section-number">3.7.3.4</span> Calculating Modularity for Partitions</h4>
<p>If you would like to compare modularity scores among partitions of the same graph, this can be achieved using the <code>igraph::modularity</code> function. In the modularity call you simply supply an argument indicating the partition membership for each node. Note that this can also be used for attribute data such as regional designations. In the following chunk of code we will compare modularity for each of the clustering methods described above as well using subregion designations <a href="data/Cibola_attr.csv">from the original Cibola region attribute data</a></p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modularity for Girvan-Newman</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(simple_net, <span class="at">membership =</span> <span class="fu">membership</span>(GN))</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.4103589</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Modularity for walktrap</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(simple_net, <span class="at">membership =</span> <span class="fu">membership</span>(WT))</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.4157195</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Modularity for Louvain clustering</span></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(simple_net, <span class="at">membership =</span> <span class="fu">membership</span>(LV))</span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.4157195</span></span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Modularity for subregion</span></span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a>Cibola_attr <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Cibola_attr.csv&quot;</span>)</span>
<span id="cb115-15"><a href="#cb115-15" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(simple_net, <span class="at">membership =</span> <span class="fu">as.factor</span>(Cibola_attr<span class="sc">$</span>Region))</span>
<span id="cb115-16"><a href="#cb115-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.1325612</span></span></code></pre></div>
<p>Note that although modularity can be useful in comparing among partitions like this approach has been shown to be poor at detecting small communities within a network so will not always be appropriate.</p>
</div>
<div id="finding-edges-within-and-between-communities" class="section level4" number="3.7.3.5">
<h4><span class="header-section-number">3.7.3.5</span> Finding Edges Within and Between Communities</h4>
<p>In many cases you may be interested in identifying edges that remain within or extend between some network partition. This can be done using the <code>igraph::crossing</code> function. This function expects a igraph cluster definition object and an igraph network and will return a list of <code>TRUE</code> and <code>FALSE</code> values for each edge where true indicates an edge that extends beyond the cluster assigned to the nodes. Let’s take a look at the first 10 edges in our simple_net object based on the Louvain cluster definition.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">crossing</span>(LV, simple_net)[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Apache.Creek|Casa.Malpais </span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             FALSE </span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Apache.Creek|Coyote.Creek </span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             FALSE </span></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Apache.Creek|Hooper.Ranch </span></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             FALSE </span></span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Apache.Creek|Horse.Camp.Mill </span></span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             FALSE </span></span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        Apache.Creek|Hubble.Corner </span></span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             FALSE </span></span>
<span id="cb116-12"><a href="#cb116-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Apache.Creek|Mineral.Creek.Pueblo </span></span>
<span id="cb116-13"><a href="#cb116-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             FALSE</span></span></code></pre></div>
<p>Beyond this, if you plot an igraph object and add a cluster definition to the call it will produce a network graph with the clusters outlined and with nodes that extend between clusters shown in red.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">54</span>)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(LV, simple_net)</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="case-study" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Case Study</h2>
<p>In the case study provided at the end of Chapter 4 of Brughmans and Peeples (2022) we take a simple network based on <a href="#RomanRoads">Roman era roads</a> and spatial proximity of settlements in the Iberian Peninsula and calculate some basic exploratory network statistics. As described in the book, we can create different definitions and criteria for network edges and these can have impacts on the network and node level properties. In this case, we define three different networks as follows:</p>
<ul>
<li><code>road_net</code> - A basic network where every road connecting two settlements is an edge</li>
<li><code>road_net2</code> - A network that retains all of the ties of the above network but also connects isolated nodes that are within 50 Kms of one of the road network settlements</li>
<li><code>road_net3</code> - A network that retains all of the ties of the first road network but connects each isolate to its nearest neighbor among the road network settlements</li>
</ul>
<p>First let’s read in the <a href="data/road_networks.RData">data file</a> that contains all three networks and start by plotting them in turn on a map. For more details on how these plots work, see the on network visualization for more details on making these network maps.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/road_networks.RData&quot;</span>)</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert attribute location data to sf coordinates</span></span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span></span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(nodes, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;long&quot;</span>, <span class="st">&quot;lat&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb118-11"><a href="#cb118-11" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(locations_sf)) <span class="sc">%&gt;%</span></span>
<span id="cb118-12"><a href="#cb118-12" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb118-13"><a href="#cb118-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-14"><a href="#cb118-14" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb118-15"><a href="#cb118-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb118-16"><a href="#cb118-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-17"><a href="#cb118-17" aria-hidden="true" tabindex="-1"></a>myMap <span class="ot">&lt;-</span></span>
<span id="cb118-18"><a href="#cb118-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_stamenmap</span>(<span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">9.5</span>, <span class="dv">36</span>, <span class="dv">3</span>, <span class="fl">43.8</span>),</span>
<span id="cb118-19"><a href="#cb118-19" aria-hidden="true" tabindex="-1"></a>                <span class="at">maptype =</span> <span class="st">&quot;watercolor&quot;</span>,</span>
<span id="cb118-20"><a href="#cb118-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">zoom =</span> <span class="dv">6</span>)</span>
<span id="cb118-21"><a href="#cb118-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-22"><a href="#cb118-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-23"><a href="#cb118-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object for road_net</span></span>
<span id="cb118-24"><a href="#cb118-24" aria-hidden="true" tabindex="-1"></a>edgelist1 <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(road_net)</span>
<span id="cb118-25"><a href="#cb118-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-26"><a href="#cb118-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb118-27"><a href="#cb118-27" aria-hidden="true" tabindex="-1"></a>edges1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist1), <span class="dv">4</span>))</span>
<span id="cb118-28"><a href="#cb118-28" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb118-29"><a href="#cb118-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist1)) {</span>
<span id="cb118-30"><a href="#cb118-30" aria-hidden="true" tabindex="-1"></a>  edges1[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist1[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb118-31"><a href="#cb118-31" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist1[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb118-32"><a href="#cb118-32" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist1[i, <span class="dv">2</span>]), <span class="dv">3</span>],</span>
<span id="cb118-33"><a href="#cb118-33" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist1[i, <span class="dv">2</span>]), <span class="dv">2</span>])</span>
<span id="cb118-34"><a href="#cb118-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb118-35"><a href="#cb118-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-36"><a href="#cb118-36" aria-hidden="true" tabindex="-1"></a>basic_net <span class="ot">&lt;-</span> <span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb118-37"><a href="#cb118-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb118-38"><a href="#cb118-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges1,</span>
<span id="cb118-39"><a href="#cb118-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb118-40"><a href="#cb118-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb118-41"><a href="#cb118-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb118-42"><a href="#cb118-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb118-43"><a href="#cb118-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb118-44"><a href="#cb118-44" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb118-45"><a href="#cb118-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb118-46"><a href="#cb118-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb118-47"><a href="#cb118-47" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-48"><a href="#cb118-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb118-49"><a href="#cb118-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb118-50"><a href="#cb118-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb118-51"><a href="#cb118-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb118-52"><a href="#cb118-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb118-53"><a href="#cb118-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb118-54"><a href="#cb118-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb118-55"><a href="#cb118-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb118-56"><a href="#cb118-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb118-57"><a href="#cb118-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-58"><a href="#cb118-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Basic Network&quot;</span>) <span class="sc">+</span></span>
<span id="cb118-59"><a href="#cb118-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb118-60"><a href="#cb118-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-61"><a href="#cb118-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-62"><a href="#cb118-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object for road_net2</span></span>
<span id="cb118-63"><a href="#cb118-63" aria-hidden="true" tabindex="-1"></a>edgelist2 <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(road_net2)</span>
<span id="cb118-64"><a href="#cb118-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-65"><a href="#cb118-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb118-66"><a href="#cb118-66" aria-hidden="true" tabindex="-1"></a>edges2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist2), <span class="dv">4</span>))</span>
<span id="cb118-67"><a href="#cb118-67" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb118-68"><a href="#cb118-68" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist2)) {</span>
<span id="cb118-69"><a href="#cb118-69" aria-hidden="true" tabindex="-1"></a>  edges2[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist2[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb118-70"><a href="#cb118-70" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist2[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb118-71"><a href="#cb118-71" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist2[i, <span class="dv">2</span>]), <span class="dv">3</span>],</span>
<span id="cb118-72"><a href="#cb118-72" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist2[i, <span class="dv">2</span>]), <span class="dv">2</span>])</span>
<span id="cb118-73"><a href="#cb118-73" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb118-74"><a href="#cb118-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-75"><a href="#cb118-75" aria-hidden="true" tabindex="-1"></a>basic_net_50 <span class="ot">&lt;-</span> <span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb118-76"><a href="#cb118-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb118-77"><a href="#cb118-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges2,</span>
<span id="cb118-78"><a href="#cb118-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb118-79"><a href="#cb118-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb118-80"><a href="#cb118-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb118-81"><a href="#cb118-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb118-82"><a href="#cb118-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb118-83"><a href="#cb118-83" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb118-84"><a href="#cb118-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb118-85"><a href="#cb118-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb118-86"><a href="#cb118-86" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-87"><a href="#cb118-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb118-88"><a href="#cb118-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb118-89"><a href="#cb118-89" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb118-90"><a href="#cb118-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb118-91"><a href="#cb118-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb118-92"><a href="#cb118-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb118-93"><a href="#cb118-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb118-94"><a href="#cb118-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb118-95"><a href="#cb118-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb118-96"><a href="#cb118-96" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-97"><a href="#cb118-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Basic Network + 50Km Buffer&quot;</span>) <span class="sc">+</span></span>
<span id="cb118-98"><a href="#cb118-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb118-99"><a href="#cb118-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-100"><a href="#cb118-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object for road_net 3</span></span>
<span id="cb118-101"><a href="#cb118-101" aria-hidden="true" tabindex="-1"></a>edgelist3 <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(road_net3)</span>
<span id="cb118-102"><a href="#cb118-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-103"><a href="#cb118-103" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb118-104"><a href="#cb118-104" aria-hidden="true" tabindex="-1"></a>edges3 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist3), <span class="dv">4</span>))</span>
<span id="cb118-105"><a href="#cb118-105" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges3) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb118-106"><a href="#cb118-106" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist3)) {</span>
<span id="cb118-107"><a href="#cb118-107" aria-hidden="true" tabindex="-1"></a>  edges3[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist3[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb118-108"><a href="#cb118-108" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist3[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb118-109"><a href="#cb118-109" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist3[i, <span class="dv">2</span>]), <span class="dv">3</span>],</span>
<span id="cb118-110"><a href="#cb118-110" aria-hidden="true" tabindex="-1"></a>                   nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist3[i, <span class="dv">2</span>]), <span class="dv">2</span>])</span>
<span id="cb118-111"><a href="#cb118-111" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb118-112"><a href="#cb118-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-113"><a href="#cb118-113" aria-hidden="true" tabindex="-1"></a>basic_net_nn <span class="ot">&lt;-</span> <span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb118-114"><a href="#cb118-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb118-115"><a href="#cb118-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges3,</span>
<span id="cb118-116"><a href="#cb118-116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb118-117"><a href="#cb118-117" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb118-118"><a href="#cb118-118" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb118-119"><a href="#cb118-119" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb118-120"><a href="#cb118-120" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb118-121"><a href="#cb118-121" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb118-122"><a href="#cb118-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb118-123"><a href="#cb118-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb118-124"><a href="#cb118-124" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-125"><a href="#cb118-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb118-126"><a href="#cb118-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb118-127"><a href="#cb118-127" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb118-128"><a href="#cb118-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb118-129"><a href="#cb118-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb118-130"><a href="#cb118-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb118-131"><a href="#cb118-131" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb118-132"><a href="#cb118-132" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb118-133"><a href="#cb118-133" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb118-134"><a href="#cb118-134" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-135"><a href="#cb118-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Basic Network + Nearest Neighbor Isolates&quot;</span>) <span class="sc">+</span></span>
<span id="cb118-136"><a href="#cb118-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb118-137"><a href="#cb118-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-138"><a href="#cb118-138" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb118-139"><a href="#cb118-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-140"><a href="#cb118-140" aria-hidden="true" tabindex="-1"></a>basic_net</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/iberian_roads-1.png" width="672" /></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>basic_net_50</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/iberian_roads-2.png" width="672" /></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>basic_net_nn</span></code></pre></div>
<p><img src="03-exploratory-analysis_files/figure-html/iberian_roads-3.png" width="672" /></p>
<p>Now that we’ve replicated the visuals, we want to replicate network statistics. Since we’re going to calculate several of the same network statistics for the networks in question, we can wrap this all into a function to save a bit of time. The following function expects an <code>igraph</code> network object and calculates each of the 10 variables show in the example in the book and returns them as a matrix.</p>
<p>Although the function below is somewhat long, it is very simple. It defines a function with a single argument <code>net</code> which is an <code>igraph</code> network object. It then creates an output matrix called <code>out</code> with the appropriate number of rows and columns and then populates the first columen with the name of each measure. Next each network measure is evaluated in turn and assigned to the appropriate row in column 2 of the <code>out</code> matrix. Finally, the full matrix is returned: <code>return(out)</code>.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>net_stats <span class="ot">&lt;-</span> <span class="cf">function</span>(net) {</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>  out[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Nodes&quot;</span>, <span class="st">&quot;Edges&quot;</span>, <span class="st">&quot;Isolates&quot;</span>, <span class="st">&quot;Density&quot;</span>, <span class="st">&quot;Average Degree&quot;</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Average Shortest Path&quot;</span>, <span class="st">&quot;Diamater&quot;</span>, </span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Clustering Coefficient&quot;</span>, <span class="st">&quot;Closed Triad Count&quot;</span>,</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Open Triad Count&quot;</span>)</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># number of nodes</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">1</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">vcount</span>(net)</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># number of edges</span></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">2</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">ecount</span>(net)</span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># number of isolates</span></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">3</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">isolates</span>(<span class="fu">asNetwork</span>(net)))</span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># network density rounding to the third digit</span></span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">4</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">edge_density</span>(net), <span class="dv">3</span>)</span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mean degree rounding to the third digit</span></span>
<span id="cb121-19"><a href="#cb121-19" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">5</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">mean</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(net)), <span class="dv">3</span>)</span>
<span id="cb121-20"><a href="#cb121-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mean shortest path length rounding to the third digit</span></span>
<span id="cb121-21"><a href="#cb121-21" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">6</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">round</span>(igraph<span class="sc">::</span><span class="fu">mean_distance</span>(net), <span class="dv">3</span>)</span>
<span id="cb121-22"><a href="#cb121-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># network diameter</span></span>
<span id="cb121-23"><a href="#cb121-23" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">7</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">diameter</span>(net)</span>
<span id="cb121-24"><a href="#cb121-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># average global transitivity rounding to the third digit</span></span>
<span id="cb121-25"><a href="#cb121-25" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">8</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">round</span>(igraph<span class="sc">::</span><span class="fu">transitivity</span>(net, <span class="at">type =</span> <span class="st">&#39;average&#39;</span>), <span class="dv">3</span>)</span>
<span id="cb121-26"><a href="#cb121-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># closed triads in triad_census</span></span>
<span id="cb121-27"><a href="#cb121-27" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">9</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">triad_census</span>(net)[<span class="dv">16</span>]</span>
<span id="cb121-28"><a href="#cb121-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># open triads in triad_census</span></span>
<span id="cb121-29"><a href="#cb121-29" aria-hidden="true" tabindex="-1"></a>  out[<span class="dv">10</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">triad_census</span>(net)[<span class="dv">11</span>] </span>
<span id="cb121-30"><a href="#cb121-30" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(out)</span>
<span id="cb121-31"><a href="#cb121-31" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now let’s run it for each of the three networks in turn to reproduce the results in the book. We then combine the results into a single table that is nicely formatted using the <code>kable</code> function.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>ns1 <span class="ot">&lt;-</span> <span class="fu">net_stats</span>(road_net)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>ns2 <span class="ot">&lt;-</span> <span class="fu">net_stats</span>(road_net2)</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>ns3 <span class="ot">&lt;-</span> <span class="fu">net_stats</span>(road_net3)</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>ns_res <span class="ot">&lt;-</span> <span class="fu">cbind</span>(ns1, ns2[, <span class="dv">2</span>], ns3[, <span class="dv">2</span>])</span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ns_res) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Measure&quot;</span>, <span class="st">&quot;Basic Network&quot;</span>, <span class="st">&quot;50 Km Buffer&quot;</span>,</span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;Nearest Neighbors&quot;</span>)</span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(ns_res, <span class="at">format =</span> <span class="st">&quot;html&quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Measure
</th>
<th style="text-align:left;">
Basic Network
</th>
<th style="text-align:left;">
50 Km Buffer
</th>
<th style="text-align:left;">
Nearest Neighbors
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Nodes
</td>
<td style="text-align:left;">
122
</td>
<td style="text-align:left;">
122
</td>
<td style="text-align:left;">
122
</td>
</tr>
<tr>
<td style="text-align:left;">
Edges
</td>
<td style="text-align:left;">
127
</td>
<td style="text-align:left;">
144
</td>
<td style="text-align:left;">
160
</td>
</tr>
<tr>
<td style="text-align:left;">
Isolates
</td>
<td style="text-align:left;">
33
</td>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Density
</td>
<td style="text-align:left;">
0.017
</td>
<td style="text-align:left;">
0.02
</td>
<td style="text-align:left;">
0.022
</td>
</tr>
<tr>
<td style="text-align:left;">
Average Degree
</td>
<td style="text-align:left;">
2.082
</td>
<td style="text-align:left;">
2.361
</td>
<td style="text-align:left;">
2.623
</td>
</tr>
<tr>
<td style="text-align:left;">
Average Shortest Path
</td>
<td style="text-align:left;">
6.603
</td>
<td style="text-align:left;">
6.758
</td>
<td style="text-align:left;">
7.088
</td>
</tr>
<tr>
<td style="text-align:left;">
Diamater
</td>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Clustering Coefficient
</td>
<td style="text-align:left;">
0.162
</td>
<td style="text-align:left;">
0.199
</td>
<td style="text-align:left;">
0.136
</td>
</tr>
<tr>
<td style="text-align:left;">
Closed Triad Count
</td>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
Open Triad Count
</td>
<td style="text-align:left;">
241
</td>
<td style="text-align:left;">
279
</td>
<td style="text-align:left;">
331
</td>
</tr>
</tbody>
</table>
<!--chapter:end:03-exploratory-analysis.Rmd-->
</div>
</div>
<div id="quantifying-uncertainty" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Quantifying Uncertainty</h1>
<p>This section provides code and examples to accompany Chapter 5 of Brughmans and Peeples (2022) and our discussions of missing and poor quality data in archaeological networks. For many of the other analyses in the book it is possible to use a number of different network software packages to conduct similar analyses. The analyses presented in Chapter 5, however, require the creation of custom scripts and procedures that are only possible in a programming language environment like R. We attempt here to not only provide information on how to replicate the examples in the book but also provide guidance on how you might modify the functions and code provided here for your own purposes.</p>
<div id="a-general-approach-to-uncertainty" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> A General Approach to Uncertainty</h2>
<p>As outlined in the book, our basic approach to quantifying and dealing with uncertainty is to use the sample we have as a means for understanding the robustness or vulnerability of the population from which that sample was drawn to the kinds of variability or perturbations we might expect. The procedures we advocate primarily take the following basic form:</p>
<ul>
<li>Define a network based on the available sample, calculate the metrics and characterize the properties of interest in that network.</li>
<li>Derive a large number of modified samples from the network created in step 1 (or the underlying data) that simulate the potential data problem we are trying to address. For example, if we are interested in the impact of nodes missing at random, we could randomly delete some proportion of the nodes in each sample derived from the network created in step 1.</li>
<li>Calculate the metrics and characterize the properties of the features of interest in every one of the random samples created in step 2 and assess central tendency (mean, median) and distributional properties (range, standard deviation, distribution shape, etc.) or other features of the output as appropriate.</li>
<li>Compare the distributions of metrics and properties (at the graph, node, or edge level) from the random samples to the “original” network created in step 1 to assess the potential impacts of the perturbation or data treatment. This comparison between the properties of the network created in step 1 and the distribution of properties created in step 3 will provide information directly relevant to assessing the impact of the kind of perturbation created in step 2 on the original network sample and, by extension, the complete network from which it was drawn.</li>
</ul>
<p>The underlying assumption of the approach outlined here is that the robustness or vulnerability to a particular perturbation of the observed network data, drawn from a complete network that is unattainable, provides information about the robustness or vulnerability of that unattainable complete network to the same kinds of perturbations. For example, if we are interested in exploring the degree distribution of a network and our sampling experiments show massive fluctuations in that distribution in sub-samples with only small numbers of nodes removed at random, this would suggest that the particular properties of this network are not robust to nodes missing at random for degree calculations and we should not place much confidence in any results obtained from the original sample as indicative of the complete network from which it was drawn. On the other hand, say we instead find that in the resampling experiments the degree distributions in our sub-samples are substantially similar to that of the original network sample even when moderate or large numbers of nodes are removed. In that case, we might conclude that our network structure is such that assessments of degree distribution are robust to node missigness within the range of what we might expect for our original sample in relation to the complete network from which it was drawn. It is important to note, however, that this finding should not be transferred to any other metrics as any given network is likely to be robust to certain kinds of perturbations for certain network metrics, but not to others.</p>
<p>In the sub-sections below we create a basic function to conduct these analyses and show how it can be modified to fit almost any data perturbation you chose to simulate. In general we have attempted to make this Section modular in that independent chunks of code can be run out of order so you can go right to what you need within each sub-section.</p>
</div>
<div id="MissingAtRandom" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Missing at Random</h2>
<p>This sub-section accompanies the discussion of nodes or edges missing at random in Brughmans and Peeples (2022) Chapter 5.3.1. Here we take one interval of the Chaco World ceramic similarity network (ca. A.D. 1050-1100) and simulate the impact of nodes missing at random on network centrality statistics. Download the <a href="data/AD1050net.csv">ceramic similarity adjacency matrix</a> to follow along.</p>
<p>The first thing we need to do is to initialize our required libraries and import the ceramic ware data and convert it into a network object. Here we will once again use the igraph package. For our example here we are using a simple undirected network.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tnet)</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Import adjacency matrix and covert to network</span></span>
<span id="cb123-11"><a href="#cb123-11" aria-hidden="true" tabindex="-1"></a>chaco <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&#39;data/AD1050net.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb123-12"><a href="#cb123-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-13"><a href="#cb123-13" aria-hidden="true" tabindex="-1"></a>chaco_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(chaco),</span>
<span id="cb123-14"><a href="#cb123-14" aria-hidden="true" tabindex="-1"></a>                                                 <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span></code></pre></div>
<p>Now we need to define a function that removes a specified proportion of nodes at random, assesses the specified metric of interest, and compares each sub-sample to the original sample in terms of the rank order correlation (Spearman’s <span class="math inline">\(\rho\)</span>) among nodes for the metric in question. We have attempted to write this function to be as general as possible so that you can modify it and use it to meet your own needs in your own research. In subsequent steps in this document we will modify this basic function to assess different data perturbations.</p>
<div id="NodesAtRandom" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Nodes Missing at Random</h3>
<p>First, following Chapter 5.3.1, we will assess the robustness of these data to nodes missing at random for betweenness centrality.</p>
<p>The <code>nodes_missing_at_random_bw</code> function below requires three specific pieces of information from the user.</p>
<ul>
<li><code>net</code> - You must include a network object in igraph format. The current version expects a simple network but the code could be modified for other types.</li>
<li><code>nsim</code> - You must specify the number of simulations to perform. The default is 1000.</li>
<li><code>props</code> - Finally, you must specify the proportion of nodes to be retained for each set of nsim runs. This should be provided as a vector of proportions ranging from &gt; 0 to 1. By default, the script will calculate a 90% sub-sample all the way down to a 10% sub-sample at 10% intervals using <code>props=c(0.9,0.8,0.7,0.6,0.5,0.4,0.3,0.2,0.1)</code>.</li>
</ul>
<p>As we said, this function is designed to assess betweenness centrality but if you wish to assess another network metric, you simply need to modify the code in two places as marked below. Let’s initialize the script then take a look at the example from the book first using betweenness centrality and then modifying the code for eigenvector centrality. Note that depending on the size of your network and the number of simulations you specify, this could take from several seconds to several minutes.</p>
<p>To briefly describe how this works, the inner portion of this function contains two nested for loops which iterate across all values of <code>props</code> and for every simulation 1 to <code>nsim</code>. The <code>sub_samp</code> object is a vector of random integers based on node ids that determine which nodes will be retained. The <code>sub_net</code> object is a subset of the larger graph which includes only those nodes indicated in <code>sub_samp</code>. Next, we then calculate betweenness centrality for the “sub_net” object and create a vector of those values called <code>temp_stats</code>. Finally, we compare rank order correlation of centrality scores in the <code>temp_stats</code> to the <code>met_orig</code> which is the vector of values in the original network and add to the output matrix. Once we run the script we can visualize the results.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for assessing the impact of nodes missing at random on</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness centrality</span></span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>nodes_missing_at_random_bw <span class="ot">&lt;-</span> <span class="cf">function</span>(net,</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">nsim =</span> <span class="dv">1000</span>,</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>, <span class="fl">0.6</span>,</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fl">0.5</span>, <span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>,</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fl">0.1</span>)) {</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># insert measure of interest in line below</span></span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>  met_orig <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(net)</span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, nsim, <span class="fu">length</span>(props))</span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(output) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(props)</span>
<span id="cb124-12"><a href="#cb124-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(props)) {</span>
<span id="cb124-13"><a href="#cb124-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb124-14"><a href="#cb124-14" aria-hidden="true" tabindex="-1"></a>      sub_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">vcount</span>(net)), <span class="at">size =</span></span>
<span id="cb124-15"><a href="#cb124-15" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">round</span>(<span class="fu">vcount</span>(net) <span class="sc">*</span> props[j], <span class="dv">0</span>))</span>
<span id="cb124-16"><a href="#cb124-16" aria-hidden="true" tabindex="-1"></a>      sub_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">induced_subgraph</span>(net, <span class="fu">sort</span>(sub_samp))</span>
<span id="cb124-17"><a href="#cb124-17" aria-hidden="true" tabindex="-1"></a>      <span class="co"># insert measure of interest in line below (same as above)</span></span>
<span id="cb124-18"><a href="#cb124-18" aria-hidden="true" tabindex="-1"></a>      temp_stats <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(sub_net)</span>
<span id="cb124-19"><a href="#cb124-19" aria-hidden="true" tabindex="-1"></a>      output[i, j] <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">cor</span>(temp_stats,</span>
<span id="cb124-20"><a href="#cb124-20" aria-hidden="true" tabindex="-1"></a>                                           met_orig[<span class="fu">sort</span>(sub_samp)],</span>
<span id="cb124-21"><a href="#cb124-21" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;spearman&#39;</span>))</span>
<span id="cb124-22"><a href="#cb124-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb124-23"><a href="#cb124-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb124-24"><a href="#cb124-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb124-25"><a href="#cb124-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb124-26"><a href="#cb124-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-27"><a href="#cb124-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function</span></span>
<span id="cb124-28"><a href="#cb124-28" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4561</span>)</span>
<span id="cb124-29"><a href="#cb124-29" aria-hidden="true" tabindex="-1"></a>bw_test <span class="ot">&lt;-</span> <span class="fu">nodes_missing_at_random_bw</span>(</span>
<span id="cb124-30"><a href="#cb124-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">net =</span> chaco_net,</span>
<span id="cb124-31"><a href="#cb124-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsim =</span> <span class="dv">1000</span>,</span>
<span id="cb124-32"><a href="#cb124-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>, <span class="fl">0.6</span>, <span class="fl">0.5</span>,</span>
<span id="cb124-33"><a href="#cb124-33" aria-hidden="true" tabindex="-1"></a>            <span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>)</span>
<span id="cb124-34"><a href="#cb124-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb124-35"><a href="#cb124-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-36"><a href="#cb124-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Visuzlize the results as a boxplot using ggplot.</span></span>
<span id="cb124-37"><a href="#cb124-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt wide data format into long data format first.</span></span>
<span id="cb124-38"><a href="#cb124-38" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">melt</span>(<span class="fu">as.data.frame</span>(bw_test))</span>
<span id="cb124-39"><a href="#cb124-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-40"><a href="#cb124-40" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb124-41"><a href="#cb124-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb124-42"><a href="#cb124-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sub-Sample Size as Proportion of Original&quot;</span>) <span class="sc">+</span></span>
<span id="cb124-43"><a href="#cb124-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="fu">expression</span>(<span class="st">&quot;Spearman&#39;s&quot;</span> <span class="sc">~</span> rho)) <span class="sc">+</span></span>
<span id="cb124-44"><a href="#cb124-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb124-45"><a href="#cb124-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb124-46"><a href="#cb124-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb124-47"><a href="#cb124-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb124-48"><a href="#cb124-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb124-49"><a href="#cb124-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb124-50"><a href="#cb124-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))</span>
<span id="cb124-51"><a href="#cb124-51" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Now let’s run the same function for eigenvector centrality, this time using the default arguments in the function we created rather than calling them directly. Note that we modified two lines of code to change <code>igraph::betweenness(net)</code> to <code>igraph::eign_centrality(net)$vector</code>. Because the <code>eigen_centrality</code> function outputs more than just the centrality values, we need to include the <code>$vector</code> call.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for assessing the impact of nodes missing at random on</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness centrality</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>nodes_missing_at_random_ev <span class="ot">&lt;-</span> <span class="cf">function</span>(net,</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">nsim =</span> <span class="dv">1000</span>,</span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>, <span class="fl">0.6</span>, <span class="fl">0.5</span>,</span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>)) {</span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># insert measure of interest in line below</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>  met_orig <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">eigen_centrality</span>(net)<span class="sc">$</span>vector</span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, nsim, <span class="fu">length</span>(props))</span>
<span id="cb125-10"><a href="#cb125-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(output) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(props)</span>
<span id="cb125-11"><a href="#cb125-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(props)) {</span>
<span id="cb125-12"><a href="#cb125-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb125-13"><a href="#cb125-13" aria-hidden="true" tabindex="-1"></a>      sub_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">vcount</span>(net)),</span>
<span id="cb125-14"><a href="#cb125-14" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fu">round</span>(<span class="fu">vcount</span>(net) <span class="sc">*</span> props[j], <span class="dv">0</span>))</span>
<span id="cb125-15"><a href="#cb125-15" aria-hidden="true" tabindex="-1"></a>      sub_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">induced_subgraph</span>(net, <span class="fu">sort</span>(sub_samp))</span>
<span id="cb125-16"><a href="#cb125-16" aria-hidden="true" tabindex="-1"></a>      <span class="co"># insert measure of interest in line below (same as above)</span></span>
<span id="cb125-17"><a href="#cb125-17" aria-hidden="true" tabindex="-1"></a>      temp_stats <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">eigen_centrality</span>(sub_net)<span class="sc">$</span>vector</span>
<span id="cb125-18"><a href="#cb125-18" aria-hidden="true" tabindex="-1"></a>      output[i, j] <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">cor</span>(temp_stats,</span>
<span id="cb125-19"><a href="#cb125-19" aria-hidden="true" tabindex="-1"></a>                                           met_orig[<span class="fu">sort</span>(sub_samp)],</span>
<span id="cb125-20"><a href="#cb125-20" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;spearman&#39;</span>))</span>
<span id="cb125-21"><a href="#cb125-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb125-22"><a href="#cb125-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb125-23"><a href="#cb125-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb125-24"><a href="#cb125-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-25"><a href="#cb125-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-26"><a href="#cb125-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function</span></span>
<span id="cb125-27"><a href="#cb125-27" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5609</span>)</span>
<span id="cb125-28"><a href="#cb125-28" aria-hidden="true" tabindex="-1"></a>ev_test <span class="ot">&lt;-</span> <span class="fu">nodes_missing_at_random_ev</span>(<span class="at">net =</span> chaco_net)</span>
<span id="cb125-29"><a href="#cb125-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-30"><a href="#cb125-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Visuzlize the results as a boxplot.</span></span>
<span id="cb125-31"><a href="#cb125-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt wide data format into long data format</span></span>
<span id="cb125-32"><a href="#cb125-32" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">melt</span>(<span class="fu">as.data.frame</span>(ev_test))</span>
<span id="cb125-33"><a href="#cb125-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-34"><a href="#cb125-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb125-35"><a href="#cb125-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb125-36"><a href="#cb125-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sub-Sample Size as Proportion of Original&quot;</span>) <span class="sc">+</span></span>
<span id="cb125-37"><a href="#cb125-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="fu">expression</span>(<span class="st">&quot;Spearman&#39;s&quot;</span> <span class="sc">~</span> rho)) <span class="sc">+</span></span>
<span id="cb125-38"><a href="#cb125-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb125-39"><a href="#cb125-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb125-40"><a href="#cb125-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb125-41"><a href="#cb125-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb125-42"><a href="#cb125-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb125-43"><a href="#cb125-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb125-44"><a href="#cb125-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))</span>
<span id="cb125-45"><a href="#cb125-45" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="EdgesAtRandom" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Edges Missing at Random</h3>
<p>We can also modify the function we defined above a little more to assess the impacts of edges missing at random. In this case we assess the impact of edges missing at random on degree centrality. We changed the same two lines <code>met_orig</code> and <code>temp_stats</code> to calculate degree and we also had to slightly change the lines beginning with <code>sub_samp</code>, <code>sub_net</code>, and <code>output[i,j]</code> to expect variation in edges rather than nodes. Specifically, in the line that starts with <code>sub_samp</code> we change <code>vcount</code> to <code>ecount</code>to get a sample of edges rather than nodes (vertices). In the next line we use that <code>sub_samp</code>object to <code>delete_edges</code> for all not in that sub sample. Finally, we remove the brackets after <code>met_orig</code> since all nodes are retained in this example.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for assessing the impact of edges missing at random on</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="co"># degree centrality</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>edges_missing_at_random_dg <span class="ot">&lt;-</span> <span class="cf">function</span>(net,</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">nsim =</span> <span class="dv">1000</span>,</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>, <span class="fl">0.6</span>, <span class="fl">0.5</span>,</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>)) {</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># insert measure of interest in line below</span></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>  met_orig <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(net)</span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, nsim, <span class="fu">length</span>(props))</span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(output) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(props)</span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(props)) {</span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a>      sub_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">ecount</span>(net)),</span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fu">round</span>(<span class="fu">ecount</span>(net) <span class="sc">*</span> props[j], <span class="dv">0</span>))</span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a>      sub_net <span class="ot">&lt;-</span></span>
<span id="cb126-16"><a href="#cb126-16" aria-hidden="true" tabindex="-1"></a>        igraph<span class="sc">::</span><span class="fu">delete_edges</span>(net, <span class="fu">which</span>(<span class="sc">!</span>(<span class="fu">seq</span>(</span>
<span id="cb126-17"><a href="#cb126-17" aria-hidden="true" tabindex="-1"></a>          <span class="dv">1</span>, <span class="fu">ecount</span>(net)</span>
<span id="cb126-18"><a href="#cb126-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb126-19"><a href="#cb126-19" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%in%</span> sub_samp)))</span>
<span id="cb126-20"><a href="#cb126-20" aria-hidden="true" tabindex="-1"></a>      <span class="co"># insert measure of interest in line below (same as above)</span></span>
<span id="cb126-21"><a href="#cb126-21" aria-hidden="true" tabindex="-1"></a>      temp_stats <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(sub_net)</span>
<span id="cb126-22"><a href="#cb126-22" aria-hidden="true" tabindex="-1"></a>      output[i, j] <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">cor</span>(temp_stats, met_orig,</span>
<span id="cb126-23"><a href="#cb126-23" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;spearman&#39;</span>))</span>
<span id="cb126-24"><a href="#cb126-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb126-25"><a href="#cb126-25" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb126-26"><a href="#cb126-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb126-27"><a href="#cb126-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb126-28"><a href="#cb126-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-29"><a href="#cb126-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function</span></span>
<span id="cb126-30"><a href="#cb126-30" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5609</span>)</span>
<span id="cb126-31"><a href="#cb126-31" aria-hidden="true" tabindex="-1"></a>dg_edge_test <span class="ot">&lt;-</span> <span class="fu">edges_missing_at_random_dg</span>(<span class="at">net =</span> chaco_net)</span>
<span id="cb126-32"><a href="#cb126-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-33"><a href="#cb126-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Visuzlize the results as a boxplot.</span></span>
<span id="cb126-34"><a href="#cb126-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt wide data format into long data format</span></span>
<span id="cb126-35"><a href="#cb126-35" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">melt</span>(<span class="fu">as.data.frame</span>(dg_edge_test))</span>
<span id="cb126-36"><a href="#cb126-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-37"><a href="#cb126-37" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb126-38"><a href="#cb126-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb126-39"><a href="#cb126-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sub-Sample Size as Proportion of Original&quot;</span>) <span class="sc">+</span></span>
<span id="cb126-40"><a href="#cb126-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="fu">expression</span>(<span class="st">&quot;Spearman&#39;s&quot;</span> <span class="sc">~</span> rho)) <span class="sc">+</span></span>
<span id="cb126-41"><a href="#cb126-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb126-42"><a href="#cb126-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb126-43"><a href="#cb126-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb126-44"><a href="#cb126-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb126-45"><a href="#cb126-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb126-46"><a href="#cb126-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb126-47"><a href="#cb126-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))</span>
<span id="cb126-48"><a href="#cb126-48" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
</div>
<div id="IndNodesAtRandom" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Assessing Indivdiual Nodes/Edges</h2>
<p>This sub-section follows along with Chapter 5.3.2 in Brughmans and Peeples (2022). Here we will once again use the Cibola technological similarity network to make this assessment. This script is similar to that used above but instead of outputting correlation coefficients it outputs the specific rank order of the node in question.</p>
<p>The function requires four pieces of information from the user:</p>
<ul>
<li><code>net</code> - An igraph network object. Again this is currently set up for simple networks but could easily be modified.</li>
<li><code>target</code> - The name of the target node you wish to assess</li>
<li><code>prop</code> - The proportion of nodes you wish to retain in the test.</li>
<li><code>nsim</code> - The number of simulations. The default is 1000.</li>
</ul>
<p>Briefly how this function works is it first determines which node number corresponds with the <code>target</code> you wish to assess and creates a <code>sub_sample</code> that retains that <code>target</code> node. A subgraph is then induced (<code>sub_net</code>) and the metric of interest is calculated (betweenness in this case). The <code>output</code> object is a vector that records the specific rank order that the node in question fell in in terms of the metric in question.</p>
<p><a href="data/Cibola_edgelist.csv">Use these data</a> to follow along.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe and create network object</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>Cibola_net <span class="ot">&lt;-</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>  igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist),</span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>                              <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for assessing the impact of rank order correlation in</span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness centrality to nodes missing at random</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a>individual_nodes_bw <span class="ot">&lt;-</span> <span class="cf">function</span>(net, target, prop, <span class="at">nsim =</span> <span class="dv">1000</span>) {</span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a>    target_number <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(net)<span class="sc">$</span>name <span class="sc">==</span> target)</span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a>    sub_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">setdiff</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">vcount</span>(net), target_number),</span>
<span id="cb127-15"><a href="#cb127-15" aria-hidden="true" tabindex="-1"></a>                       <span class="at">size =</span> <span class="fu">round</span>(<span class="fu">vcount</span>(net) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> prop), <span class="dv">0</span>))</span>
<span id="cb127-16"><a href="#cb127-16" aria-hidden="true" tabindex="-1"></a>    sub_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">induced_subgraph</span>(net,</span>
<span id="cb127-17"><a href="#cb127-17" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">sort</span>(<span class="fu">setdiff</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">vcount</span>(net), sub_samp)))</span>
<span id="cb127-18"><a href="#cb127-18" aria-hidden="true" tabindex="-1"></a>    temp_stats <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(sub_net)</span>
<span id="cb127-19"><a href="#cb127-19" aria-hidden="true" tabindex="-1"></a>    output[i] <span class="ot">&lt;-</span></span>
<span id="cb127-20"><a href="#cb127-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">which</span>(<span class="fu">names</span>(<span class="fu">sort</span>(temp_stats, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)) <span class="sc">==</span> target)</span>
<span id="cb127-21"><a href="#cb127-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb127-22"><a href="#cb127-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb127-23"><a href="#cb127-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb127-24"><a href="#cb127-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-25"><a href="#cb127-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function</span></span>
<span id="cb127-26"><a href="#cb127-26" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">52793</span>)</span>
<span id="cb127-27"><a href="#cb127-27" aria-hidden="true" tabindex="-1"></a>GR <span class="ot">&lt;-</span> <span class="fu">individual_nodes_bw</span>(</span>
<span id="cb127-28"><a href="#cb127-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">net =</span> Cibola_net,</span>
<span id="cb127-29"><a href="#cb127-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">target =</span> <span class="st">&quot;Garcia Ranch&quot;</span>,</span>
<span id="cb127-30"><a href="#cb127-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">prop =</span> <span class="fl">0.8</span>,</span>
<span id="cb127-31"><a href="#cb127-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">nsim =</span> <span class="dv">1000</span></span>
<span id="cb127-32"><a href="#cb127-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb127-33"><a href="#cb127-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-34"><a href="#cb127-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the results</span></span>
<span id="cb127-35"><a href="#cb127-35" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(GR)</span>
<span id="cb127-36"><a href="#cb127-36" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="st">&quot;RankOrder&quot;</span></span>
<span id="cb127-37"><a href="#cb127-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-38"><a href="#cb127-38" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> RankOrder)) <span class="sc">+</span></span>
<span id="cb127-39"><a href="#cb127-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb127-40"><a href="#cb127-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb127-41"><a href="#cb127-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot; &quot;</span>, <span class="at">x =</span> <span class="st">&quot;Rank Order&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb127-42"><a href="#cb127-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb127-43"><a href="#cb127-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb127-44"><a href="#cb127-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb127-45"><a href="#cb127-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb127-46"><a href="#cb127-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>))</span>
<span id="cb127-47"><a href="#cb127-47" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="MissingBiased" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Missing Due to Biased Sampling</h2>
<p>This sub-section follows along with Brughmans and Peeples (2022) Chapter 5.3.3. There are many situations where we are interested in modeling situations where the data that are missing are not missing at random but instead are influenced by some biased sampling process. For example, say we have a study area where there have been lots of general reconnaissance surveys that have recorded most of the large sites but few full coverage surveys that have captured smaller sites. In that case, we may wish to model missingness such that small sites would more likely be missing than large sites.</p>
<p>We illustrate this approach using the co-authorship network example presented in the book. In this case we start with an incidence matrix of publications and authors and we want to assess the potential impact of missing data. Since we gathered these data from digital repositories and citations, it is likely that we are missing some publication and it is reasonable to assume that we would be more likely to miss older publications than newer ones given the inclusion of newer publications in searchable digital indexes. Thus, in this example we want to assess missingness such that newer publications are more likely to be retained than older ones in our sample. We compare this to missing at random to assess how these results relate to one another.</p>
<p>First we need to provide two data files. The first is the <a href="data/biblio_attr.csv">bibliographic attribute data</a> which includes date, publication type, and other information on each publication designated by a unique identifier. The second is an <a href="data/biblio_dat.csv">incidence matrix</a> of publications denoted by unique identifier and authors. We read this into R and then create an adjaceny matrix of author to author connections using matrix algebra, convert it into a igraph network object and then calculate betweenness centrality for all nodes. We then provide a simple network node link diagram to visualize these data.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in publication and author attribute data</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>bib <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/biblio_attr.csv&#39;</span>)</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in incidence matrix of publication and author data</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>bib_dat <span class="ot">&lt;-</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>(<span class="fu">read.table</span>(</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;data/biblio_dat2.csv&#39;</span>,</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">header =</span> T,</span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">&quot;,&quot;</span></span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create adjacency matrix from incidence matrix using matrix algebra</span></span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a>bib_adj <span class="ot">&lt;-</span> <span class="fu">t</span>(bib_dat) <span class="sc">%*%</span> bib_dat</span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to igraph network object removing self loops (diag=FALSE)</span></span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a>bib_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(bib_adj,</span>
<span id="cb128-16"><a href="#cb128-16" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>,</span>
<span id="cb128-17"><a href="#cb128-17" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">diag =</span> <span class="cn">FALSE</span>)</span>
<span id="cb128-18"><a href="#cb128-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Betweenness Centrality</span></span>
<span id="cb128-19"><a href="#cb128-19" aria-hidden="true" tabindex="-1"></a>bw_all <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(bib_net)</span>
<span id="cb128-20"><a href="#cb128-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-21"><a href="#cb128-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot network with nodes scaled based on betweenness</span></span>
<span id="cb128-22"><a href="#cb128-22" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb128-23"><a href="#cb128-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(bib_net, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb128-24"><a href="#cb128-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb128-25"><a href="#cb128-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb128-26"><a href="#cb128-26" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">size =</span> bw_all <span class="sc">*</span> <span class="dv">5</span>),</span>
<span id="cb128-27"><a href="#cb128-27" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> <span class="st">&#39;gray&#39;</span>,</span>
<span id="cb128-28"><a href="#cb128-28" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb128-29"><a href="#cb128-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb128-30"><a href="#cb128-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>With these network objects created we then need to modify our <code>nodes_missing_at_random_bw</code> function from above to the specific nature of our question and these data. Indeed since our example here relies on an incidence matrix that includes information defined across multiple publications, we have to me additional changes to the structure of that function.</p>
<p>We create a <code>nodes_missing_biased_bw</code> function below that requires five specific pieces of information from the user.</p>
<ul>
<li><code>net</code> - You must include a network object in igraph format. The current version expects a simple network but the code could be modified for other types.</li>
<li><code>inc</code> - You must also include an incidence matrix (as an R matrix object) which describes the relationships between publications and authors</li>
<li><code>nsim</code> - You must specify the number of simulations to perform. The default is 1000.</li>
<li><code>props</code> - You must specify the proportion of nodes to be retained for each set of <code>nsim</code> runs. This should be provided as a vector of proportions ranging from &gt; 0 to 1. By default, the script will calculate a 90% sub-sample all the way down to a 10% sub-sample at 10% intervals using <code>props=c(0.9,0.8,0.7,0.6,0.5,0.4,0.3,0.2,0.1)</code>.</li>
<li><code>lookup_dat</code> - Finally, you must provide the lookup data which connects the publication key code to the year as that is the basis of our simulation. Note that this function is designed to work with a lookup file that has column names exactly as shown here (“Publication.Year”, “prob”, “Key”) and this would need to be modified to work with data with different columns.</li>
</ul>
<p>The first step is to create a new column in the lookup file called <code>prob</code> that defines the probability that a node will be retained in each random sub-sample. To do this we simply take the vector of publication years and rescale them such that the maximum value (most recent publication) equals 1 and older publications are less than 1. This will mean that older publications will more often be removed in our random sub-samples than newer ones.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe of all unique combinations of publication code</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="co"># and year from attributes data</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>lookup <span class="ot">&lt;-</span> <span class="fu">unique</span>(bib[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)])</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign a probability for a publication to be retained inverse to</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="co"># the year it was published</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>lookup<span class="sc">$</span>prob <span class="ot">&lt;-</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>  (lookup<span class="sc">$</span>Publication.Year <span class="sc">-</span> <span class="fu">min</span>(lookup<span class="sc">$</span>Publication.Year)) <span class="sc">/</span></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">max</span>(lookup<span class="sc">$</span>Publication.Year) <span class="sc">-</span> <span class="fu">min</span>(lookup<span class="sc">$</span>Publication.Year))</span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lookup)</span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Key Publication.Year      prob</span></span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  FUV8A7JK             2014 0.9583333</span></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  C7MRVHWA             2013 0.9375000</span></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  3EG6T4P6             1991 0.4791667</span></span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  I3UPKTTM             2014 0.9583333</span></span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 9ZVD38UW             2001 0.6875000</span></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 XRWFR6XU             1977 0.1875000</span></span></code></pre></div>
<p>Next we create a function that wraps all of this together. This is similar to the <code>nodes_missing_at_random_bw</code> function with a few key differences. Specifically:</p>
<ul>
<li>The line starting with <code>sub_samp</code> includes an additional argument <code>prob</code> which is assigned to the probability variable we created in the last step such that higher probability (newer) publications will be more likely to be retained.</li>
<li>Next, since the network of co-authorship includes connections that could be made by more than one publication we actually need to sub-sample from the incidence matrix. The line beginning with <code>sub</code> finds all publications that were retained in the <code>sub_samp</code> object.</li>
<li>Next we convert <code>sub</code> to an adjacency matrix called <code>sub_adj</code> using matrix algebra and then a network object called <code>sub_net</code></li>
<li>Finally, we calculate betweenness centrality and rank order correlations and put the results in the output object.</li>
</ul>
<p>Here we are going to run the function for <code>nsim = 1000</code> and for 3 sampling fractions <code>(0.9, 0.8, 0.7)</code>.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for assessing the impact of data missing due to biased process</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="co"># on betweenness centrality</span></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>nodes_missing_biased_bw <span class="ot">&lt;-</span> <span class="cf">function</span>(net,</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>                                    inc,</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">nsim =</span> <span class="dv">1000</span>,</span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>, <span class="fl">0.6</span>, <span class="fl">0.5</span>,</span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>                                              <span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>),</span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>                                    lookup_dat) {</span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># insert measure of interest in line below</span></span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a>  met_orig <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(net)</span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, nsim, <span class="fu">length</span>(props))</span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(output) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(props)</span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(props)) {</span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>      sub_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(lookup_dat)),</span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fu">round</span>(<span class="fu">nrow</span>(lookup_dat) <span class="sc">*</span> props[j], <span class="dv">0</span>),</span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a>                         <span class="at">prob =</span> lookup_dat<span class="sc">$</span>prob) <span class="co"># added prob argument</span></span>
<span id="cb130-18"><a href="#cb130-18" aria-hidden="true" tabindex="-1"></a>      sub <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">rownames</span>(bib_dat) <span class="sc">%in%</span> lookup<span class="sc">$</span>Key[sub_samp])</span>
<span id="cb130-19"><a href="#cb130-19" aria-hidden="true" tabindex="-1"></a>      sub_adj <span class="ot">&lt;-</span> <span class="fu">t</span>(inc[sub, ]) <span class="sc">%*%</span> inc[sub, ]</span>
<span id="cb130-20"><a href="#cb130-20" aria-hidden="true" tabindex="-1"></a>      sub_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(sub_adj)</span>
<span id="cb130-21"><a href="#cb130-21" aria-hidden="true" tabindex="-1"></a>      <span class="co"># insert measure of interest in line below (same as above)</span></span>
<span id="cb130-22"><a href="#cb130-22" aria-hidden="true" tabindex="-1"></a>      temp_stats <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(sub_net)</span>
<span id="cb130-23"><a href="#cb130-23" aria-hidden="true" tabindex="-1"></a>      output[i, j] <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">cor</span>(temp_stats, met_orig,</span>
<span id="cb130-24"><a href="#cb130-24" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;spearman&#39;</span>))</span>
<span id="cb130-25"><a href="#cb130-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb130-26"><a href="#cb130-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb130-27"><a href="#cb130-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb130-28"><a href="#cb130-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb130-29"><a href="#cb130-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-30"><a href="#cb130-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Run fuction</span></span>
<span id="cb130-31"><a href="#cb130-31" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4634</span>)</span>
<span id="cb130-32"><a href="#cb130-32" aria-hidden="true" tabindex="-1"></a>bib_bias <span class="ot">&lt;-</span> <span class="fu">nodes_missing_biased_bw</span>(</span>
<span id="cb130-33"><a href="#cb130-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">net =</span> bib_net,</span>
<span id="cb130-34"><a href="#cb130-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">inc =</span> bib_dat,</span>
<span id="cb130-35"><a href="#cb130-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">lookup_dat =</span> lookup,</span>
<span id="cb130-36"><a href="#cb130-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>)</span>
<span id="cb130-37"><a href="#cb130-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-38"><a href="#cb130-38" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bib_bias)</span>
<span id="cb130-39"><a href="#cb130-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            0.9       0.8       0.7</span></span>
<span id="cb130-40"><a href="#cb130-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 0.9327931 0.9314217 0.8433757</span></span>
<span id="cb130-41"><a href="#cb130-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] 0.9200489 0.9818085 0.7750152</span></span>
<span id="cb130-42"><a href="#cb130-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] 0.9999088 0.9763457 0.9079782</span></span>
<span id="cb130-43"><a href="#cb130-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] 1.0000000 0.9311525 0.7161128</span></span>
<span id="cb130-44"><a href="#cb130-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] 0.9779243 0.8115974 0.8307865</span></span>
<span id="cb130-45"><a href="#cb130-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] 0.9778791 0.9998792 0.7273099</span></span></code></pre></div>
<p>With this in place, we now need a function that deals with our incidence matrix data but simulates missigness at random. This only requires a single argument to change from our last function. Specifically, all we need to do is remove the <code>prob = lookup_dat$prob</code> argument from the line beginning with <code>sub_samp</code> and we’re ready to go.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function for assessing the impact of nodes missing at random on</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness centrality</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>nodes_missing_at_random_inc_bw <span class="ot">&lt;-</span> <span class="cf">function</span>(net,</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>                                           inc,</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">nsim =</span> <span class="dv">1000</span>,</span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>, </span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>                                                     <span class="fl">0.6</span>, <span class="fl">0.5</span>, <span class="fl">0.4</span>,</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>                                                     <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>),</span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>                                           lookup_dat) {</span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># insert measure of interest in line below</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a>  met_orig <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(net)</span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, nsim, <span class="fu">length</span>(props))</span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(output) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(props)</span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(props)) {</span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a>      sub_samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(lookup_dat)),</span>
<span id="cb131-17"><a href="#cb131-17" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fu">round</span>(<span class="fu">nrow</span>(lookup_dat) <span class="sc">*</span> props[j], <span class="dv">0</span>))</span>
<span id="cb131-18"><a href="#cb131-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># removed prob argument</span></span>
<span id="cb131-19"><a href="#cb131-19" aria-hidden="true" tabindex="-1"></a>      sub <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">rownames</span>(bib_dat) <span class="sc">%in%</span> lookup<span class="sc">$</span>Key[sub_samp])</span>
<span id="cb131-20"><a href="#cb131-20" aria-hidden="true" tabindex="-1"></a>      sub_adj <span class="ot">&lt;-</span> <span class="fu">t</span>(inc[sub, ]) <span class="sc">%*%</span> inc[sub, ]</span>
<span id="cb131-21"><a href="#cb131-21" aria-hidden="true" tabindex="-1"></a>      sub_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(sub_adj)</span>
<span id="cb131-22"><a href="#cb131-22" aria-hidden="true" tabindex="-1"></a>      <span class="co"># insert measure of interest in line below (same as above)</span></span>
<span id="cb131-23"><a href="#cb131-23" aria-hidden="true" tabindex="-1"></a>      temp_stats <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(sub_net)</span>
<span id="cb131-24"><a href="#cb131-24" aria-hidden="true" tabindex="-1"></a>      output[i, j] <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">cor</span>(temp_stats, met_orig,</span>
<span id="cb131-25"><a href="#cb131-25" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">method =</span> <span class="st">&#39;spearman&#39;</span>))</span>
<span id="cb131-26"><a href="#cb131-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb131-27"><a href="#cb131-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb131-28"><a href="#cb131-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb131-29"><a href="#cb131-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb131-30"><a href="#cb131-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-31"><a href="#cb131-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function</span></span>
<span id="cb131-32"><a href="#cb131-32" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4363</span>)</span>
<span id="cb131-33"><a href="#cb131-33" aria-hidden="true" tabindex="-1"></a>bib_rand <span class="ot">&lt;-</span> <span class="fu">nodes_missing_at_random_inc_bw</span>(</span>
<span id="cb131-34"><a href="#cb131-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">net =</span> bib_net,</span>
<span id="cb131-35"><a href="#cb131-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">inc =</span> bib_dat,</span>
<span id="cb131-36"><a href="#cb131-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">lookup_dat =</span> lookup,</span>
<span id="cb131-37"><a href="#cb131-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">props =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>)</span>
<span id="cb131-38"><a href="#cb131-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb131-39"><a href="#cb131-39" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bib_rand)</span>
<span id="cb131-40"><a href="#cb131-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            0.9       0.8       0.7</span></span>
<span id="cb131-41"><a href="#cb131-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 0.9805339 0.9474142 0.8404082</span></span>
<span id="cb131-42"><a href="#cb131-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] 0.9551694 0.9539318 0.8840402</span></span>
<span id="cb131-43"><a href="#cb131-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] 0.9582099 0.8897556 0.9311734</span></span>
<span id="cb131-44"><a href="#cb131-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] 0.9763482 0.8442237 0.7942490</span></span>
<span id="cb131-45"><a href="#cb131-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] 0.8576312 0.8242232 0.8278691</span></span>
<span id="cb131-46"><a href="#cb131-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] 1.0000000 0.8433042 0.8883410</span></span></code></pre></div>
<p>Now we can combine the results into a single dataframe and plot them as paired boxplots for comparison.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">melt</span>(bib_rand) <span class="co"># convert wide data to long format</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">melt</span>(bib_bias) <span class="co"># convert wide data to long format</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a variable denoting which sample design it came from</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>df1<span class="sc">$</span>Treatment <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;Random&quot;</span>, <span class="fu">nrow</span>(df1))</span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>Treatment <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;Biased&quot;</span>, <span class="fu">nrow</span>(df2))</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind into a single dataframe, convert sampling faction to factor</span></span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a><span class="co"># and change order of levels for plotting</span></span>
<span id="cb132-10"><a href="#cb132-10" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df1, df2)</span>
<span id="cb132-11"><a href="#cb132-11" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Var2 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(df<span class="sc">$</span>Var2)</span>
<span id="cb132-12"><a href="#cb132-12" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Var2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Var2, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;0.9&quot;</span>, <span class="st">&quot;0.8&quot;</span>, <span class="st">&quot;0.7&quot;</span>))</span>
<span id="cb132-13"><a href="#cb132-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-14"><a href="#cb132-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb132-15"><a href="#cb132-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df) <span class="sc">+</span></span>
<span id="cb132-16"><a href="#cb132-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Var2, <span class="at">y =</span> value, <span class="at">fill =</span> Treatment)) <span class="sc">+</span></span>
<span id="cb132-17"><a href="#cb132-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;gray&quot;</span>)) <span class="sc">+</span></span>
<span id="cb132-18"><a href="#cb132-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sub-Sample Size as Proportion of Original&quot;</span>) <span class="sc">+</span></span>
<span id="cb132-19"><a href="#cb132-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="fu">expression</span>(<span class="st">&quot;Spearman&#39;s&quot;</span> <span class="sc">~</span> rho)) <span class="sc">+</span></span>
<span id="cb132-20"><a href="#cb132-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb132-21"><a href="#cb132-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb132-22"><a href="#cb132-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb132-23"><a href="#cb132-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb132-24"><a href="#cb132-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb132-25"><a href="#cb132-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb132-26"><a href="#cb132-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>))</span>
<span id="cb132-27"><a href="#cb132-27" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="EdgeProbability" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Edge Probability Modeling</h2>
<p>In this section we take inspiration from some recent work in the area of “Dark Networks” (see Everton 2012). In this field, a number of methods have recently been developed that allow us to more directly incorporate our assessments of the reliability of specific edges into our analysis. This can be done in a number of different ways. Perhaps the most common approach for networks based on data gathered from intelligence sources (such as studies of terrorist networks) is to qualitatively assign different levels of confidence to ties between pairs of actors using an ordinal scale determined based on the source of the information (reliable, usually reliable,… unreliable). This ordinal scale of confidence can then be converted into a probability (from 0 to 1) and that probability value could be used to inform the creation of a range of “possible” networks given the underlying data.</p>
<p>We are not aware of any archaeological examples where edges have been formally/qualitatively assigned “confidence levels” in exactly this way, but we think there are potential applications of this method. For example, we could define a network where we assign a low probability of a tie between two archaeological sites if they share an import from a third site/region and a higher probability for a tie between two sites if they share imports from each others region. Importantly, such methods can be used to combine information from different sources into a single assessment of the likelihood of connection.</p>
<p>Since we do not have any data structured in exactly this way, we will again simulate a small example and then analyze it. Let’s create a network with ties associated with “probabilities” and the plot it. We use the <code>rg_w</code> function within the <code>tnet</code> package to simulate a random weighted network in this way.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create random weighted network edgelist with weights from list</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>sim_edge <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">rg_w</span>(</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nodes =</span> <span class="dv">20</span>,</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">arcs =</span> <span class="dv">80</span>,</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">weights =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="dv">1</span>),</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> F,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">41267</span></span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create network object and assign edge weights and node names</span></span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a>sim_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(sim_edge[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(sim_net)<span class="sc">$</span>weight <span class="ot">&lt;-</span> sim_edge[<span class="fu">order</span>(sim_edge[, <span class="dv">3</span>]), <span class="dv">3</span>]</span>
<span id="cb133-13"><a href="#cb133-13" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(sim_net)<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)</span>
<span id="cb133-14"><a href="#cb133-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-15"><a href="#cb133-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create color ramp palette</span></span>
<span id="cb133-16"><a href="#cb133-16" aria-hidden="true" tabindex="-1"></a>edge_cols <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&#39;gray&#39;</span>, <span class="st">&#39;darkblue&#39;</span>))(<span class="dv">5</span>)</span>
<span id="cb133-17"><a href="#cb133-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-18"><a href="#cb133-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the resulting network</span></span>
<span id="cb133-19"><a href="#cb133-19" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4364672</span>)</span>
<span id="cb133-20"><a href="#cb133-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(sim_net, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb133-21"><a href="#cb133-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> <span class="fu">E</span>(sim_net)<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">5</span>),</span>
<span id="cb133-22"><a href="#cb133-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">edge_colour =</span> edge_cols[<span class="fu">E</span>(sim_net)<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">5</span>],</span>
<span id="cb133-23"><a href="#cb133-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb133-24"><a href="#cb133-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb133-25"><a href="#cb133-25" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(sim_net) <span class="sc">+</span> <span class="dv">3</span>,</span>
<span id="cb133-26"><a href="#cb133-26" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb133-27"><a href="#cb133-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(</span>
<span id="cb133-28"><a href="#cb133-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">as.character</span>(name)),</span>
<span id="cb133-29"><a href="#cb133-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb133-30"><a href="#cb133-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>,</span>
<span id="cb133-31"><a href="#cb133-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">repel =</span> F</span>
<span id="cb133-32"><a href="#cb133-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb133-33"><a href="#cb133-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>In the next chunk of code we define a function that iterates over every edge in the simulated network we just created and defines each edge as either present or absent using a simple random binomial with the probability set by the edge weight as described above. The output of this function (<code>edge_liklihood</code>) is a list object that contains <code>nsim</code> <code>igraph</code> network objects that are candidate networks of the original.</p>
<p>Next, in order to extract values of interest from these candidate networks, we created another function called <code>compile_stat</code> that could be modified for any measure of interest. This function iterates over all <code>nsim</code> networks in the <code>net_list</code> list object and calculates <code>degree</code> in this case returning the results as a simple matrix. It is then possible to compare things like average degree or the distribution of degree for particular nodes across all of the candidate networks.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function for assessing and retaining edges based on edge</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="co"># weight probabilities</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>edge_prob <span class="ot">&lt;-</span> <span class="cf">function</span>(net, nsim) {</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>  net_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>    sub_set <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ecount</span>(net)) {</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>      temp <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="at">prob =</span> sim_edge[j, <span class="dv">3</span>])</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (temp <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a>        sub_set <span class="ot">&lt;-</span> <span class="fu">c</span>(sub_set, j)</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb134-12"><a href="#cb134-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb134-13"><a href="#cb134-13" aria-hidden="true" tabindex="-1"></a>    net_list[[i]] <span class="ot">&lt;-</span></span>
<span id="cb134-14"><a href="#cb134-14" aria-hidden="true" tabindex="-1"></a>      igraph<span class="sc">::</span><span class="fu">delete_edges</span>(net, <span class="fu">which</span>(<span class="sc">!</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">ecount</span>(</span>
<span id="cb134-15"><a href="#cb134-15" aria-hidden="true" tabindex="-1"></a>        net</span>
<span id="cb134-16"><a href="#cb134-16" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb134-17"><a href="#cb134-17" aria-hidden="true" tabindex="-1"></a>      <span class="sc">%in%</span> sub_set)))</span>
<span id="cb134-18"><a href="#cb134-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb134-19"><a href="#cb134-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(net_list)</span>
<span id="cb134-20"><a href="#cb134-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb134-21"><a href="#cb134-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-22"><a href="#cb134-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function for assessing statistic of interest</span></span>
<span id="cb134-23"><a href="#cb134-23" aria-hidden="true" tabindex="-1"></a>compile_stat <span class="ot">&lt;-</span> <span class="cf">function</span>(net_list, nsim) {</span>
<span id="cb134-24"><a href="#cb134-24" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">length</span>(net_list), nsim)</span>
<span id="cb134-25"><a href="#cb134-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb134-26"><a href="#cb134-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># degree could be changed to any other igraph function that outputs</span></span>
<span id="cb134-27"><a href="#cb134-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># a vector of length vcount</span></span>
<span id="cb134-28"><a href="#cb134-28" aria-hidden="true" tabindex="-1"></a>    out[, i] <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(net_list[[i]])</span>
<span id="cb134-29"><a href="#cb134-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb134-30"><a href="#cb134-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(out)</span>
<span id="cb134-31"><a href="#cb134-31" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now we run the edge_prob function for <code>nsim = 1000</code> and display a few candidate networks.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>EL_test <span class="ot">&lt;-</span> <span class="fu">edge_prob</span>(sim_net, <span class="at">nsim =</span> <span class="dv">1000</span>)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">9651</span>)</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>comp1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(EL_test[[<span class="dv">1</span>]], <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> <span class="fu">E</span>(EL_test[[<span class="dv">1</span>]])<span class="sc">$</span>weight),</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">edge_colour =</span> edge_cols[<span class="fu">E</span>(EL_test[[<span class="dv">1</span>]])<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">5</span>],</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(sim_net),</span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(</span>
<span id="cb135-12"><a href="#cb135-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">as.character</span>(name)),</span>
<span id="cb135-13"><a href="#cb135-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb135-14"><a href="#cb135-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb135-15"><a href="#cb135-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">repel =</span> F</span>
<span id="cb135-16"><a href="#cb135-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb135-17"><a href="#cb135-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb135-18"><a href="#cb135-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-19"><a href="#cb135-19" aria-hidden="true" tabindex="-1"></a>comp2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(EL_test[[<span class="dv">2</span>]], <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb135-20"><a href="#cb135-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> <span class="fu">E</span>(EL_test[[<span class="dv">2</span>]])<span class="sc">$</span>weight),</span>
<span id="cb135-21"><a href="#cb135-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">edge_colour =</span> edge_cols[<span class="fu">E</span>(EL_test[[<span class="dv">2</span>]])<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">5</span>],</span>
<span id="cb135-22"><a href="#cb135-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb135-23"><a href="#cb135-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb135-24"><a href="#cb135-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(sim_net),</span>
<span id="cb135-25"><a href="#cb135-25" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb135-26"><a href="#cb135-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(</span>
<span id="cb135-27"><a href="#cb135-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">as.character</span>(name)),</span>
<span id="cb135-28"><a href="#cb135-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb135-29"><a href="#cb135-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb135-30"><a href="#cb135-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">repel =</span> F</span>
<span id="cb135-31"><a href="#cb135-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb135-32"><a href="#cb135-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb135-33"><a href="#cb135-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-34"><a href="#cb135-34" aria-hidden="true" tabindex="-1"></a>comp3 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(EL_test[[<span class="dv">3</span>]], <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb135-35"><a href="#cb135-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> <span class="fu">E</span>(EL_test[[<span class="dv">3</span>]])<span class="sc">$</span>weight),</span>
<span id="cb135-36"><a href="#cb135-36" aria-hidden="true" tabindex="-1"></a>                  <span class="at">edge_colour =</span> edge_cols[<span class="fu">E</span>(EL_test[[<span class="dv">3</span>]])<span class="sc">$</span>weight <span class="sc">*</span> <span class="dv">5</span>],</span>
<span id="cb135-37"><a href="#cb135-37" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb135-38"><a href="#cb135-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb135-39"><a href="#cb135-39" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(sim_net),</span>
<span id="cb135-40"><a href="#cb135-40" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb135-41"><a href="#cb135-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(</span>
<span id="cb135-42"><a href="#cb135-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">as.character</span>(name)),</span>
<span id="cb135-43"><a href="#cb135-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb135-44"><a href="#cb135-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb135-45"><a href="#cb135-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">repel =</span> F</span>
<span id="cb135-46"><a href="#cb135-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb135-47"><a href="#cb135-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb135-48"><a href="#cb135-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-49"><a href="#cb135-49" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(comp1, comp2, comp3)</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>We then use the <code>compile_stat</code> function to assess degree centrality for one particular node, displaying a histogram of values with mean indicated.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>dg_stat <span class="ot">&lt;-</span> <span class="fu">compile_stat</span>(EL_test, <span class="at">nsim =</span> <span class="dv">1000</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>dg_20 <span class="ot">&lt;-</span> dg_stat[<span class="dv">20</span>, ]</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">val =</span> dg_20) <span class="sc">%&gt;%</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(., <span class="fu">aes</span>(val)) <span class="sc">+</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Degree Centrality of Node 20&quot;</span>) <span class="sc">+</span></span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(dg_20), <span class="at">col =</span> <span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="SampleSize" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Small or Variable Sample Size</h2>
<p>This section follows Brughmans and Peeples (2022) Chapter 5.3.5 to provide an example of how you can use the simulation approach outlined here to assess sampling variability in the data underlying archaeological networks. In this example, we use apportioned ceramic frequency data from the Chaco World portion of the Southwest Social Networks database. You can <a href="data/AD1050cer.csv">download the data here</a> to follow along.</p>
<p>The goal of this sub-section is to illustrate how you can use a bootstrappping approach to assess variability in network properties based on sampling error in the raw data underlying archaeological networks. In our example based on ceramic similarity networks here this involves creating a large number of random replicates of each row of our raw ceramic data with sample size held constant (as the observed sample size for that site) and with the probabilities that a given sherd will be a given type determined by the underlying multinomial frequency distribition of types at that site. In other words, we pull a bunch of random samples from the site with the probability that a given sample is a given type determined by the relative frequency of that type in the actual data. Once this procedure has been completed, we can then assess centrality metrics or any other graph, node, or edge level property and determine the degree to which absolute values and relative ranks are potentially influenced by sampling error.</p>
<p>There are many ways to set up such a resampling procedure and many complications (for example, how do we deal with limited diversity of small samples?). For the purposes of illustration here, we will implement a very simple procedure where we simply generate new samples of a fixed size based on our observed data and determine the degree to which our network measures are robust to this perturbation. In the chunk of code below we create 1000 replicates based on our original ceramic data.</p>
<p>The following chunk of code first reads in the ceramic data, converts it to a Brainerd-Robinson similarity matrix and then defines a function called <code>sampling_error_sim</code> which creates <code>nsim</code> random replciates of the ceramic data, converts them to similarity matrices, and ouputs those results as a list object.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in raw ceramic data</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>ceramic <span class="ot">&lt;-</span></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/AD1050cer.csv&quot;</span>,</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to proportion</span></span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a>ceramic_p <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(ceramic), <span class="at">margin =</span> <span class="dv">1</span>)</span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to Brainerd-Robinson similarity matrix</span></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a>ceramic_BR <span class="ot">&lt;-</span> (<span class="dv">2</span> <span class="sc">-</span> <span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(ceramic_p,</span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">method =</span> <span class="st">&#39;manhattan&#39;</span>))) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-12"><a href="#cb137-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create function for assessing impact of sampling error on</span></span>
<span id="cb137-13"><a href="#cb137-13" aria-hidden="true" tabindex="-1"></a><span class="co"># weighted degree for similarity network</span></span>
<span id="cb137-14"><a href="#cb137-14" aria-hidden="true" tabindex="-1"></a>sampling_error_sim <span class="ot">&lt;-</span> <span class="cf">function</span>(cer, <span class="at">nsim =</span> <span class="dv">1000</span>) {</span>
<span id="cb137-15"><a href="#cb137-15" aria-hidden="true" tabindex="-1"></a>  sim_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb137-16"><a href="#cb137-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nsim) {</span>
<span id="cb137-17"><a href="#cb137-17" aria-hidden="true" tabindex="-1"></a>    data_sim <span class="ot">&lt;-</span>  <span class="cn">NULL</span></span>
<span id="cb137-18"><a href="#cb137-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the for-loop below creates a random multinomial replicate</span></span>
<span id="cb137-19"><a href="#cb137-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># of the ceramic data</span></span>
<span id="cb137-20"><a href="#cb137-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cer)) {</span>
<span id="cb137-21"><a href="#cb137-21" aria-hidden="true" tabindex="-1"></a>      data_sim <span class="ot">&lt;-</span></span>
<span id="cb137-22"><a href="#cb137-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rbind</span>(data_sim, <span class="fu">t</span>(<span class="fu">rmultinom</span>(<span class="dv">1</span>, <span class="fu">rowSums</span>(cer)[j], <span class="at">prob =</span> cer[j, ])))</span>
<span id="cb137-23"><a href="#cb137-23" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb137-24"><a href="#cb137-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert simulated data to proportion, create similarity matrix,</span></span>
<span id="cb137-25"><a href="#cb137-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate degree, and assess correlation</span></span>
<span id="cb137-26"><a href="#cb137-26" aria-hidden="true" tabindex="-1"></a>    temp_p <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(data_sim), <span class="at">margin =</span> <span class="dv">1</span>)</span>
<span id="cb137-27"><a href="#cb137-27" aria-hidden="true" tabindex="-1"></a>    sim_list[[i]] <span class="ot">&lt;-</span> (<span class="dv">2</span> <span class="sc">-</span> <span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(temp_p,</span>
<span id="cb137-28"><a href="#cb137-28" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">method =</span> <span class="st">&#39;manhattan&#39;</span>))) <span class="sc">/</span></span>
<span id="cb137-29"><a href="#cb137-29" aria-hidden="true" tabindex="-1"></a>      <span class="dv">2</span></span>
<span id="cb137-30"><a href="#cb137-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb137-31"><a href="#cb137-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(sim_list)</span>
<span id="cb137-32"><a href="#cb137-32" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The following chunk of code runs the <code>sampling_error_sim</code> function defined above for our Chaco ceramic data and then defines a new function called <code>sim_cor</code> which takes the output of <code>sampling_error_sim</code> and the original ceramic similarity matrix (<code>ceramic_BR</code>) and calculates weighted degree centrality and the Speraman’s <span class="math inline">\(\rho\)</span> correlations between the original similarity matrix and each random replicate. This <code>sim_cor</code> script could be modified to use any network metric that outputs a vector. Once these results are returned we visualize the results as a histogram.</p>
<p>Note that this could take several seconds to a few minutes depending on your computer.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4634</span>)</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>sim_nets <span class="ot">&lt;-</span> <span class="fu">sampling_error_sim</span>(<span class="at">cer =</span> ceramic, <span class="at">nsim =</span> <span class="dv">1000</span>)</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>sim_cor <span class="ot">&lt;-</span> <span class="cf">function</span>(sim_nets, sim) {</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># change this line to use a different metric</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>  dg_orig <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(sim)</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>  dg_cor <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sim_nets)) {</span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># change this line to use a different metric</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>    dg_temp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(sim_nets[[i]])</span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a>    dg_cor[i] <span class="ot">&lt;-</span></span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">suppressWarnings</span>(<span class="fu">cor</span>(dg_orig, dg_temp, <span class="at">method =</span> <span class="st">&quot;spearman&quot;</span>))</span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dg_cor)</span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-17"><a href="#cb138-17" aria-hidden="true" tabindex="-1"></a>dg_cor <span class="ot">&lt;-</span> <span class="fu">sim_cor</span>(sim_nets, ceramic_BR)</span>
<span id="cb138-18"><a href="#cb138-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-19"><a href="#cb138-19" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dg_cor)</span>
<span id="cb138-20"><a href="#cb138-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-21"><a href="#cb138-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> dg_cor)) <span class="sc">+</span></span>
<span id="cb138-22"><a href="#cb138-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">100</span>, <span class="at">color =</span> <span class="st">&#39;white&#39;</span>, <span class="at">fill =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb138-23"><a href="#cb138-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb138-24"><a href="#cb138-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">&#39;Correlation in Degree Centraility&#39;</span>,</span>
<span id="cb138-25"><a href="#cb138-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb138-26"><a href="#cb138-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb138-27"><a href="#cb138-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb138-28"><a href="#cb138-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb138-29"><a href="#cb138-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb138-30"><a href="#cb138-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb138-31"><a href="#cb138-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>))</span>
<span id="cb138-32"><a href="#cb138-32" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>As described in Chapter 5.3.5, in some cases we want to observe patterns of variation due to sampling error for individual sites or sets of sites. In the next chunk of code we illustrate how to produce figure 5.14 from the Brughmans and Peeples (2022) book. Specifically, this plot consists of a series of line plots where the x axis represents each node in the network ordered by degree centrality in the original observed network. For each node there is a vertical line which represents the 95% confidence interval around degree across the <code>nsim</code> random replicates produced to evaluate sampling error. The blue line represents degree in the original network and the red line represents median degree in the resampled networks.</p>
<p>To create this plot, we first iterate through every object in <code>sim_nets</code> and calculate weighted degree centrality and then add that to a two-column matrix along with a node id. Once we have done this for all simulations, we use the <code>summarise</code> function to calculate the Mean and</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data frame containing degree and site id for nsim random</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="co"># similarity matrices</span></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="dv">1</span>, <span class="dv">2</span>) <span class="co"># define empty matrix</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate degree centrality for each random run and bind in</span></span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix along with id</span></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sim_nets)) {</span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(sim_nets[[i]])), <span class="fu">rowSums</span>(sim_nets[[i]]))</span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df, temp)</span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(df[<span class="sc">-</span><span class="dv">1</span>, ]) <span class="co"># remove first row in initial matrix</span></span>
<span id="cb139-11"><a href="#cb139-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;site&quot;</span>, <span class="st">&quot;degree&quot;</span>) <span class="co"># add column names</span></span>
<span id="cb139-12"><a href="#cb139-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-13"><a href="#cb139-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Use summarise function to create median, confidence intervals,</span></span>
<span id="cb139-14"><a href="#cb139-14" aria-hidden="true" tabindex="-1"></a><span class="co"># and other statistics for degree by site.</span></span>
<span id="cb139-15"><a href="#cb139-15" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb139-16"><a href="#cb139-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(site) <span class="sc">%&gt;%</span></span>
<span id="cb139-17"><a href="#cb139-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb139-18"><a href="#cb139-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(degree),</span>
<span id="cb139-19"><a href="#cb139-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Median =</span> <span class="fu">median</span>(degree),</span>
<span id="cb139-20"><a href="#cb139-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">Max =</span> <span class="fu">max</span>(degree),</span>
<span id="cb139-21"><a href="#cb139-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Min =</span> <span class="fu">min</span>(degree),</span>
<span id="cb139-22"><a href="#cb139-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">Conf =</span> <span class="fu">sd</span>(degree) <span class="sc">*</span> <span class="fl">1.96</span></span>
<span id="cb139-23"><a href="#cb139-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb139-24"><a href="#cb139-24" aria-hidden="true" tabindex="-1"></a>out<span class="sc">$</span>site <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(out<span class="sc">$</span>site)</span>
<span id="cb139-25"><a href="#cb139-25" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> out[<span class="fu">order</span>(<span class="fu">rowSums</span>(ceramic_BR)), ]</span>
<span id="cb139-26"><a href="#cb139-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-27"><a href="#cb139-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of degree centrality for the original ceramic</span></span>
<span id="cb139-28"><a href="#cb139-28" aria-hidden="true" tabindex="-1"></a><span class="co"># similarity matrix</span></span>
<span id="cb139-29"><a href="#cb139-29" aria-hidden="true" tabindex="-1"></a>dg_wt <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">rowSums</span>(ceramic_BR))</span>
<span id="cb139-30"><a href="#cb139-30" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dg_wt) <span class="ot">&lt;-</span> <span class="st">&quot;dg.wt&quot;</span></span>
<span id="cb139-31"><a href="#cb139-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-32"><a href="#cb139-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb139-33"><a href="#cb139-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb139-34"><a href="#cb139-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(</span>
<span id="cb139-35"><a href="#cb139-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> out,</span>
<span id="cb139-36"><a href="#cb139-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb139-37"><a href="#cb139-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">reorder</span>(site, Median),</span>
<span id="cb139-38"><a href="#cb139-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Median,</span>
<span id="cb139-39"><a href="#cb139-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> <span class="dv">1</span></span>
<span id="cb139-40"><a href="#cb139-40" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb139-41"><a href="#cb139-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;red&#39;</span>,</span>
<span id="cb139-42"><a href="#cb139-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="fl">1.5</span>,</span>
<span id="cb139-43"><a href="#cb139-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb139-44"><a href="#cb139-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb139-45"><a href="#cb139-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">data =</span> out, <span class="fu">aes</span>(</span>
<span id="cb139-46"><a href="#cb139-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">reorder</span>(site, Median),</span>
<span id="cb139-47"><a href="#cb139-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> Median <span class="sc">-</span> Conf,</span>
<span id="cb139-48"><a href="#cb139-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> Median <span class="sc">+</span> Conf</span>
<span id="cb139-49"><a href="#cb139-49" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb139-50"><a href="#cb139-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(</span>
<span id="cb139-51"><a href="#cb139-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">sort</span>(dg_wt),</span>
<span id="cb139-52"><a href="#cb139-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">order</span>(dg.wt), <span class="at">y =</span> dg.wt),</span>
<span id="cb139-53"><a href="#cb139-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;blue&#39;</span>,</span>
<span id="cb139-54"><a href="#cb139-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="fl">1.5</span>,</span>
<span id="cb139-55"><a href="#cb139-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb139-56"><a href="#cb139-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb139-57"><a href="#cb139-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb139-58"><a href="#cb139-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&#39;Degree&#39;</span>) <span class="sc">+</span></span>
<span id="cb139-59"><a href="#cb139-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">&#39;Sites in Rank Order of Degree&#39;</span>) <span class="sc">+</span></span>
<span id="cb139-60"><a href="#cb139-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb139-61"><a href="#cb139-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb139-62"><a href="#cb139-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb139-63"><a href="#cb139-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb139-64"><a href="#cb139-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb139-65"><a href="#cb139-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb139-66"><a href="#cb139-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>))</span>
<span id="cb139-67"><a href="#cb139-67" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-uncertainty_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<!--chapter:end:04-uncertainty.Rmd-->
</div>
</div>
<div id="network-visualization" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Network Visualization</h1>
<p>This section follows along with Brughmans and Peeples (2022) chapter 6 to illustrate the wide variety of techniques which can be used for network visualization. We begin with some general examples of network plotting and then demonstrate how to replicate all of the specific examples that appear in the book. For most of the examples below we rely on R but in a few cases we use other software and provide additional details and data formats.</p>
<p>There are already some excellent resources online for learning how to create beautiful and informative network visuals. We recommend the excellent online materials produced by Dr. Katherine Ognyanova <a href="https://kateto.net/">available on her website</a> and her <a href="https://kateto.net/network-visualization">Static and dynamic network visualization with R</a> workshop materials in particular. Many of the examples here and in the book take inspiration from her work. In addition to this, the <a href="https://www.r-graph-gallery.com/">R Graph Gallery</a> website created by <a href="https://github.com/holtzy">Holtz Yan</a> provides numerous excellent examples of plots in R using the ggplot2 and ggraph packages among many others. If you are new to R, it will probably be helpful for you to read a bit about basic graphic functions (including in the tutorials listed here) before getting started.</p>
<div id="datasets-and-r-setup" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Datasets and R Setup</h2>
<p>In order to make it as easy as possible for users to replicate specific visuals from the book and the other examples in this tutorial we have tried to make the examples as modular as possible. This means that we provide calls to initialize the required libraries for each plot within each relevant chunk of code (so that you can more easily tell what package does what) and we also provide links to download the data required to replicate each figure in the description of that figure below. The datasets we use here include both .csv and other format files as well as .Rdata files that contain sets of specific R objects formatted as required for individual chunks of code.</p>
<p>If you plan on working through this entire tutorial and would like to download all of the associated data at once <a href="All_data.zip">you can download this zip file</a>. Simply extract this zip folder into your R working directory and the examples below will then work. Note that all of the examples below are setup such that the data should be contained in a sub-folder of your working directory called “data” (note that directories and file names are case sensitive).</p>
</div>
<div id="visualizing-networks-in-r" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Visualizing Networks in R</h2>
<p>There are many tools available for creating network visualizations in R including functions built directly into the <code>igraph</code> and <code>statnet</code> packages. Before we get into the details, we first briefly illustrate the primary network plotting options for <code>igraph</code>, <code>statnet</code> and a visualization package called <code>ggraph</code>. We start here by initializing our required libraries and reading in an adjacency matrix and creating network objects in both the <code>igraph</code> and <code>statnet</code> format. These will be the basis for all examples in this section.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>Cibola <span class="ot">&lt;-</span></span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_adj.csv&quot;</span>,</span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a>Cibola_attr <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_attr.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb140-13"><a href="#cb140-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-14"><a href="#cb140-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create network in igraph format</span></span>
<span id="cb140-15"><a href="#cb140-15" aria-hidden="true" tabindex="-1"></a>Cibola_i <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(Cibola),</span>
<span id="cb140-16"><a href="#cb140-16" aria-hidden="true" tabindex="-1"></a>                                                <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb140-17"><a href="#cb140-17" aria-hidden="true" tabindex="-1"></a>Cibola_i</span>
<span id="cb140-18"><a href="#cb140-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH 5c2b137 UN-- 31 167 -- </span></span>
<span id="cb140-19"><a href="#cb140-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (v/c)</span></span>
<span id="cb140-20"><a href="#cb140-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from 5c2b137 (vertex names):</span></span>
<span id="cb140-21"><a href="#cb140-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] Apache.Creek--Casa.Malpais        </span></span>
<span id="cb140-22"><a href="#cb140-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] Apache.Creek--Coyote.Creek        </span></span>
<span id="cb140-23"><a href="#cb140-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] Apache.Creek--Hooper.Ranch        </span></span>
<span id="cb140-24"><a href="#cb140-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] Apache.Creek--Horse.Camp.Mill     </span></span>
<span id="cb140-25"><a href="#cb140-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] Apache.Creek--Hubble.Corner       </span></span>
<span id="cb140-26"><a href="#cb140-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] Apache.Creek--Mineral.Creek.Pueblo</span></span>
<span id="cb140-27"><a href="#cb140-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] Apache.Creek--Rudd.Creek.Ruin     </span></span>
<span id="cb140-28"><a href="#cb140-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8] Apache.Creek--Techado.Springs     </span></span>
<span id="cb140-29"><a href="#cb140-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + ... omitted several edges</span></span>
<span id="cb140-30"><a href="#cb140-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-31"><a href="#cb140-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Create network object in statnet/network format</span></span>
<span id="cb140-32"><a href="#cb140-32" aria-hidden="true" tabindex="-1"></a>Cibola_n <span class="ot">&lt;-</span> <span class="fu">asNetwork</span>(Cibola_i)</span>
<span id="cb140-33"><a href="#cb140-33" aria-hidden="true" tabindex="-1"></a>Cibola_n</span>
<span id="cb140-34"><a href="#cb140-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Network attributes:</span></span>
<span id="cb140-35"><a href="#cb140-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vertices = 31 </span></span>
<span id="cb140-36"><a href="#cb140-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   directed = FALSE </span></span>
<span id="cb140-37"><a href="#cb140-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   hyper = FALSE </span></span>
<span id="cb140-38"><a href="#cb140-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   loops = FALSE </span></span>
<span id="cb140-39"><a href="#cb140-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   multiple = FALSE </span></span>
<span id="cb140-40"><a href="#cb140-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bipartite = FALSE </span></span>
<span id="cb140-41"><a href="#cb140-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total edges= 167 </span></span>
<span id="cb140-42"><a href="#cb140-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     missing edges= 0 </span></span>
<span id="cb140-43"><a href="#cb140-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     non-missing edges= 167 </span></span>
<span id="cb140-44"><a href="#cb140-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb140-45"><a href="#cb140-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Vertex attribute names: </span></span>
<span id="cb140-46"><a href="#cb140-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     vertex.names </span></span>
<span id="cb140-47"><a href="#cb140-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb140-48"><a href="#cb140-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No edge attributes</span></span></code></pre></div>
<div id="networkstatnet" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> network/statnet</h3>
<p>All you need to do to plot a <code>network/statnet</code> network object is to simply type <code>plot(nameofnetwork)</code>. By default, this creates a network plot where all nodes and edges are shown the same color and weight using the Fruchterman-Reingold graph layout by default. There are, however, many options that can be altered for this basic plot. In order to see the details you can type <code>?plot.network</code> at the console for the associated document.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">6332</span>)</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_n)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig_net_simple-1.png" width="672" /></p>
<p>In order to change the color of nodes, the layout, symbols, or any other features, you can add arguments as detailed in the help document. These arguments can include calls to other functions, mathematical expressions, or even additional data in other attribute files. For example in the following plot, we calculate degree centrality directly within the plot call and then divide the result by 10 to ensure that the nodes are a reasonable size in the plot. We use the <code>vertex.cex</code> argument to set node size based on the results of that expression. Further we change the layout using the “mode” argument to produce a network graph using the Kamada-Kawai layout. We change the color of the nodes so that they represent the <code>Region</code> variable in the associated attribute file using the <code>vertex.col</code> argument and and set change all edge colors using the <code>edge.col</code> argument. Finally, we use <code>displayisolates = FALSE</code> to indicate that we do not want the single isolated node to be plotted. These are but a few of the many options.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">436</span>)</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>  Cibola_n,</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.cex =</span> sna<span class="sc">::</span><span class="fu">degree</span>(Cibola_n) <span class="sc">/</span> <span class="dv">10</span>,</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;kamadakawai&quot;</span>,</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.col =</span> <span class="fu">as.factor</span>(Cibola_attr<span class="sc">$</span>Region),</span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.col =</span> <span class="st">&quot;darkgray&quot;</span>,</span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">displayisolates =</span> <span class="cn">FALSE</span></span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig_network_net-1.png" width="672" /></p>
</div>
<div id="igraph" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> igraph</h3>
<p>The <code>igraph</code> package also has a built in plotting function called <code>plot.igraph</code>. To call this you again just need to type <code>plot(yournetworkhere)</code> and provide an igraph object (R can tell what kind of object you have if you simply type plot). The default igraph plot again uses a Fruchterman-Reingold layout just like <code>statnet/network</code> but by default each node is labeled.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">435</span>)</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_i)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig_igraph_simple-1.png" width="672" /></p>
<p>Let’s take a look at a few of the options we can alter to change this plot. There are again many options to explore here and the help documents for igraph.plotting describe them in detail (type ?igraph.plotting at the console for more). If you want to explore <code>igraph</code> further, we suggest you check the <a href="https://kateto.net/network-visualization">Network Visualization</a> tutorial linked above which provides a discussion of the wide variety of options.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3463</span>)</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  Cibola_i,</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size =</span> igraph<span class="sc">::</span><span class="fu">eigen_centrality</span>(Cibola_i)<span class="sc">$</span>vector <span class="sc">*</span> <span class="dv">20</span>,</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.color =</span> <span class="fu">as.factor</span>(Cibola_attr<span class="sc">$</span>Great.Kiva),</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.color =</span> <span class="st">&quot;darkblue&quot;</span>,</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.frame.color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label =</span> <span class="cn">NA</span></span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig_igraph-1.png" width="672" /></p>
</div>
<div id="ggraph" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> ggraph</h3>
<p>The <code>ggraph</code> package provides a powerful set of tools for plotting and visualizing network data in R. The format used for this package is a bit different from what we saw above and instead relies on the <code>ggplot2</code> style of plots where a plot type is called and modifications are made with sets of lines with additional arguments separated by <code>+</code>. Although this takes a bit of getting used to we have found that the ggplot format is often more intuitive for making complex graphics once you understand the basics.</p>
<p>Essentially, the way the <code>ggraph</code> call works is you start with a <code>ggraph</code> function call which includes the network object and the layout information. You then provide lines specifying the edges <code>geom_edge_link</code> and nodes <code>geom_node_point</code> features and so on. Conveniently the <code>ggraph</code> function call will take either an <code>igraph</code> or a <code>network/statnet</code> object so you do not need to convert.</p>
<p>Here is an example. Here we first the call for the igraph network object <code>Cibola_i</code> and specify the Fruchterman-Reingold layout using <code>layout = "fr"</code>. Next, we call the <code>geom_edge_link</code> and specify edge colors. The <code>geom_node_point</code> call then specifies many attributes of the nodes including the fill color, outline color, transparency (alpha), shape, and size using the <code>igraph::degree</code> function. The <code>scale_size</code> call then tells the plot to scale the node size specified in the previous line to range between 1 and 4. Finally <code>theme_graph</code> is a basic call to the <code>ggraph</code> theme that tells the plot to make the background white and to remove the margins around the edge of the plot. Let’s see how this looks.</p>
<p>In the next section we go over the most common options in <code>ggraph</code> in detail.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4368</span>)</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify network to use and layout</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(Cibola_i, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Specify edge features</span></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">&quot;darkgray&quot;</span>) <span class="sc">+</span></span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Specify node features</span></span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb145-9"><a href="#cb145-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb145-10"><a href="#cb145-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb145-11"><a href="#cb145-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">22</span>,</span>
<span id="cb145-12"><a href="#cb145-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(Cibola_i)</span>
<span id="cb145-13"><a href="#cb145-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb145-14"><a href="#cb145-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set the upper and lower limit of the &quot;size&quot; variable</span></span>
<span id="cb145-15"><a href="#cb145-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb145-16"><a href="#cb145-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set the theme &quot;theme_graph&quot; is the default theme for networks</span></span>
<span id="cb145-17"><a href="#cb145-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() </span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig_ggraph-1.png" width="672" /></p>
<p>There are many options for the ggraph package and we recommend exploring the help document (?ggraph) as well as the <a href="https://www.data-imaginist.com/tags/visualization">Data Imaginist</a> ggraph tutorial online for more. Most of the examples below will use the ggraph format.</p>
</div>
</div>
<div id="network-visualization-options" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Network Visualization Options</h2>
<p>In this section we illustrate some of the most useful graphical options for visualizing networks, focusing in particular on the <code>ggraph</code> format. In most cases there are similar options available in the plotting functions for both <code>statnet</code> and <code>igraph</code>. Where relevant we reference specific figures from the book and this tutorial and the code for all of the figures produced in R is presented in the next session. For all of the examples in this section we will use the <a href="data/Peeples2018.Rdata">Cibola technological similarity data (click here to download)</a>. First we call the required packages and import the data.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Peeples2018.Rdata&quot;</span>)</span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-9"><a href="#cb146-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create igraph object for plots below</span></span>
<span id="cb146-10"><a href="#cb146-10" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(BRnet)</span></code></pre></div>
<div id="graph-layout" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Graph Layout</h3>
<p>Graph layout simply refers to the placement and organization in 2-dimensional or 3-dimensional space of nodes and edges in a network.</p>
<div id="manual-or-user-defined-layouts" class="section level4" number="5.3.1.1">
<h4><span class="header-section-number">5.3.1.1</span> Manual or User Defined Layouts</h4>
<p>There are a few options for manually defining node placement and graph layout in R and the easiest is to simply provide x and y coordinates directly. In this example, we plot the Cibola technological similarity network with a set of x and y coordinates that group sites in the same region in a grid configuration. For another example of this approach see <a href="#Figure_6_1">Figure 6.1 below</a>. For an example of how you can interactively define a layout see <a href="#Figure_6_5">Figure 6.5</a></p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># site_info - site location and attribute data</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create xy coordinates grouped by region</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">matrix</span>(</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">1.2</span>, <span class="dv">3</span>, <span class="fl">3.2</span>, <span class="dv">2</span>, <span class="fl">1.4</span>, <span class="dv">1</span>, <span class="fl">1.2</span>, <span class="dv">2</span>, <span class="fl">2.2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="fl">2.2</span>, <span class="dv">1</span>, </span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>      <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="fl">3.2</span>, <span class="dv">3</span>, <span class="fl">1.2</span>, <span class="dv">3</span>, <span class="fl">3.4</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">3.2</span>, <span class="fl">3.2</span>, <span class="dv">3</span>, <span class="fl">1.4</span>, <span class="dv">3</span>, <span class="fl">2.2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="fl">3.2</span>, <span class="fl">3.4</span>, </span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>      <span class="fl">2.2</span>, <span class="fl">1.2</span>, <span class="fl">3.4</span>, <span class="fl">3.2</span>, <span class="fl">3.2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">3.4</span>, <span class="fl">3.4</span>, <span class="fl">3.4</span>, <span class="fl">2.2</span>, <span class="dv">3</span>, <span class="fl">2.2</span>, <span class="fl">3.2</span>, <span class="fl">2.2</span>, <span class="fl">3.4</span>, </span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>, <span class="fl">1.4</span>, <span class="dv">3</span>, <span class="fl">2.4</span>), </span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrow =</span> <span class="dv">31</span>, </span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol =</span> <span class="dv">2</span>, </span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb147-14"><a href="#cb147-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-15"><a href="#cb147-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot using &quot;manual&quot; layout and specify xy coordinates</span></span>
<span id="cb147-16"><a href="#cb147-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net,</span>
<span id="cb147-17"><a href="#cb147-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb147-18"><a href="#cb147-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> xy[, <span class="dv">1</span>],</span>
<span id="cb147-19"><a href="#cb147-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> xy[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb147-20"><a href="#cb147-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb147-21"><a href="#cb147-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb147-22"><a href="#cb147-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb147-23"><a href="#cb147-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/manual_layout-1.png" width="672" /></p>
</div>
<div id="geographic-layouts" class="section level4" number="5.3.1.2">
<h4><span class="header-section-number">5.3.1.2</span> Geographic Layouts</h4>
<p>Plotting networks using a a geographic layout is essentially the same as plotting with a manual layout except that you specify geographic coordinates instead of other coordinates. See <a href="#Figure_6_2">Figure 6.2</a> for another example.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net,</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> site_info<span class="sc">$</span>x,</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> site_info<span class="sc">$</span>y) <span class="sc">+</span></span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb148-8"><a href="#cb148-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/map1-1.png" width="672" /></p>
<p>When working with geographic data, it is also sometimes useful to plot directly on top of some sort of base map. There are many options for this but one of the most convenient is to use the <code>sf</code> and <code>ggmap</code> packages to directly download the relevant base map layer and plot directly on top of it. This first requires converting points to latitude and longitude in decimal degrees if they are not already in that format. See the details on the <a href="https://r-spatial.github.io/sf/">sf package</a> and <a href="https://github.com/dkahle/ggmap">ggmap package</a> for more details. In addition to this example <a href="#Figure_6_7">Figure 6.7 in the book</a> provides another example.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert attribute location data to sf coordinates and change</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="co"># map projection</span></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span></span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(site_info, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">crs =</span> <span class="dv">26912</span>)</span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a>loc_trans <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(locations_sf, <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(loc_trans)) <span class="sc">%&gt;%</span></span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-15"><a href="#cb149-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-16"><a href="#cb149-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Get basemap &quot;terrain-background&quot; data for map in black and white</span></span>
<span id="cb149-17"><a href="#cb149-17" aria-hidden="true" tabindex="-1"></a><span class="co"># the bbox argument is used to specify the corners of the box to be</span></span>
<span id="cb149-18"><a href="#cb149-18" aria-hidden="true" tabindex="-1"></a><span class="co"># used and zoom determines the detail.</span></span>
<span id="cb149-19"><a href="#cb149-19" aria-hidden="true" tabindex="-1"></a>base_cibola <span class="ot">&lt;-</span> <span class="fu">get_stamenmap</span>(</span>
<span id="cb149-20"><a href="#cb149-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">110.2</span>, <span class="fl">33.4</span>, <span class="sc">-</span><span class="fl">107.8</span>, <span class="fl">35.3</span>),</span>
<span id="cb149-21"><a href="#cb149-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom =</span> <span class="dv">10</span>,</span>
<span id="cb149-22"><a href="#cb149-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">maptype =</span> <span class="st">&quot;terrain-background&quot;</span>,</span>
<span id="cb149-23"><a href="#cb149-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">&quot;bw&quot;</span></span>
<span id="cb149-24"><a href="#cb149-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb149-25"><a href="#cb149-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-26"><a href="#cb149-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object</span></span>
<span id="cb149-27"><a href="#cb149-27" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(net)</span>
<span id="cb149-28"><a href="#cb149-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-29"><a href="#cb149-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb149-30"><a href="#cb149-30" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(xy[edgelist[, <span class="dv">1</span>], ], xy[edgelist[, <span class="dv">2</span>], ])</span>
<span id="cb149-31"><a href="#cb149-31" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb149-32"><a href="#cb149-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-33"><a href="#cb149-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot original data on map</span></span>
<span id="cb149-34"><a href="#cb149-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(base_cibola, <span class="at">darken =</span> <span class="fl">0.35</span>) <span class="sc">+</span></span>
<span id="cb149-35"><a href="#cb149-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb149-36"><a href="#cb149-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges,</span>
<span id="cb149-37"><a href="#cb149-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb149-38"><a href="#cb149-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb149-39"><a href="#cb149-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb149-40"><a href="#cb149-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb149-41"><a href="#cb149-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb149-42"><a href="#cb149-42" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb149-43"><a href="#cb149-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb149-44"><a href="#cb149-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb149-45"><a href="#cb149-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb149-46"><a href="#cb149-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb149-47"><a href="#cb149-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb149-48"><a href="#cb149-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb149-49"><a href="#cb149-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">col =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb149-50"><a href="#cb149-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb149-51"><a href="#cb149-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb149-52"><a href="#cb149-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb149-53"><a href="#cb149-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb149-54"><a href="#cb149-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/geo_layout-1.png" width="672" /></p>
</div>
<div id="shape-based-and-algorithmic-layouts" class="section level4" number="5.3.1.3">
<h4><span class="header-section-number">5.3.1.3</span> Shape-Based and Algorithmic Layouts</h4>
<p>There are a wide variety of shape-based and algorithmic layouts available for use in R. In most cases, all it takes to change layouts is to simply modify a single line the <code>ggraph</code> call to specify our desired layout. The <code>ggraph</code> package can use any of the <code>igraph</code> layouts as well as many that are built directly into the package. See <code>?ggraph</code> for more details and to see the options. Here we show a few examples. Note that we leave the figures calls the same except for the argument <code>layout = "yourlayout"</code> in each <code>ggraph</code> call and the <code>ggtitle</code> name. For the layouts that involve randomization, we use the <code>set.seed()</code> function to make sure they will always plot the same. See the discussion of <a href="#Figure_6_8">Figure 6.8</a> below for more details. Beyond this <a href="#Figure_6_9">Figure 6.9</a> provides additional options that can be used for hierarchical network data.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># circular layout</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>circ_net <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;circle&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> site_info<span class="sc">$</span>Region), <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Circle&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)))</span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Fruchcterman-Reingold layout</span></span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4366</span>)</span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>fr_net <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-13"><a href="#cb150-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> site_info<span class="sc">$</span>Region), <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb150-14"><a href="#cb150-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Fruchterman-Reingold&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-15"><a href="#cb150-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb150-16"><a href="#cb150-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)))</span>
<span id="cb150-17"><a href="#cb150-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-18"><a href="#cb150-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Davidsons and Harels annealing algorithm layout</span></span>
<span id="cb150-19"><a href="#cb150-19" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3467</span>)</span>
<span id="cb150-20"><a href="#cb150-20" aria-hidden="true" tabindex="-1"></a>dh_net <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;dh&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-21"><a href="#cb150-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-22"><a href="#cb150-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb150-23"><a href="#cb150-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb150-24"><a href="#cb150-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Davidson-Harel&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-25"><a href="#cb150-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb150-26"><a href="#cb150-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)))</span>
<span id="cb150-27"><a href="#cb150-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-28"><a href="#cb150-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-29"><a href="#cb150-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb150-30"><a href="#cb150-30" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(circ_net, fr_net, dh_net, <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/layouts-1.png" width="672" /></p>
</div>
</div>
<div id="node-and-edge-options" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Node and Edge Options</h3>
<p>There are many options for altering color and symbol for nodes and edges within R. In this section we very briefly discuss some of the most common options. For more details see the discussion of <a href="#Figure_6_10">figures 6.10 through 6.16</a> below.</p>
<div id="nodes" class="section level4" number="5.3.2.1">
<h4><span class="header-section-number">5.3.2.1</span> Nodes</h4>
<p>In <code>ggraph</code> changing node options mostly consists of changing options within the <code>geom_node_point</code> call within the <code>ggraph</code> figure call. As we have already seen it is possible to set color for all nodes or by some variable, to change the size of points, and we can also scale points by some metric like centrality. Indeed, it is even possible to make the call to the centrality function in question directly within the figure code.</p>
<p>When selecting point shapes you can use any of the shapes available in base R using <code>pch</code> point codes. Here are all of the available options:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>ggpubr<span class="sc">::</span><span class="fu">show_point_shapes</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/pch_points-1.png" width="672" /></p>
<p>There are many options for selecting colors for nodes and edges. These can be assigned using standard color names or can be assigned using rgb or hex codes. It is also possible to use standard palettes in packages like <code>RColorBrewer</code> or <code>scales</code> to specify categorical or continuous color schemes. This is often done using either the <code>scale_fill_brewer</code> or <code>scale_color_brewer</code> calls from <code>RColorBrewer</code>. Here are a couple of examples. In these examples, colors are grouped by site region, node size is scaled to degree centrality, and node and edge color and shape are specified in each call. Note the <code>alpha</code> command which controls the transparency of the relevant part of the plot. The scale_size call specifies the maximum and minimum size of points in the plot.</p>
<p>The <a href="https://www.r-graph-gallery.com/38-rcolorbrewers-palettes.html">R Graph Gallery</a> has a good overview of the available color palettes in RColorBrewer and when the can be used.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">347</span>)</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(net) <span class="sc">/</span> <span class="dv">2</span>,</span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb152-15"><a href="#cb152-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-16"><a href="#cb152-16" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">347</span>)</span>
<span id="cb152-17"><a href="#cb152-17" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb152-18"><a href="#cb152-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb152-19"><a href="#cb152-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb152-20"><a href="#cb152-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">col =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb152-21"><a href="#cb152-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">15</span>,</span>
<span id="cb152-22"><a href="#cb152-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(net) <span class="sc">/</span> <span class="dv">2</span>,</span>
<span id="cb152-23"><a href="#cb152-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="dv">1</span></span>
<span id="cb152-24"><a href="#cb152-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb152-25"><a href="#cb152-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set1&quot;</span>) <span class="sc">+</span></span>
<span id="cb152-26"><a href="#cb152-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb152-27"><a href="#cb152-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb152-28"><a href="#cb152-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-29"><a href="#cb152-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(g1, g2, <span class="at">nrow =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/color_brewer-1.png" width="672" /></p>
<p>There are also a number of more advanced methods for displaying nodes including displaying figures or other data visualizations in the place of nodes or using images for nodes. There are examples of each of these in the book and code outlining how to create such visuals in the discussions of <a href="#Figure_6_3">Figure 6.3</a> and <a href="#Figure_6_13">Figure 6.13</a> below.</p>
</div>
<div id="edges" class="section level4" number="5.3.2.2">
<h4><span class="header-section-number">5.3.2.2</span> Edges</h4>
<p>Edges can be modified in terms of color, line type, thickness and many other features just like nodes and this is typically done using the <code>geom_edge_link</code> call within <code>ggraph</code>. Let’s take a look at a couple of additional examples. In this case we’re going to use a weighted network object in the original <a href="data/Peeples2018.Rdata">Peeples2018.Rdata</a> file to show how we can vary edges in relation to edge attributes like weight.</p>
<p>In the example here we plot both the line thickness and transparency using the edge weights associated with the network object. We also are using the <code>scale_edge_color_viridis</code> to specify a continuous edge color scheme. For more details see <code>?scale_edge_color</code></p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>net2 <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(BRnet_w)</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">436</span>)</span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net2, <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> weight, <span class="at">alpha =</span> weight, <span class="at">col =</span> weight)) <span class="sc">+</span></span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_viridis</span>() <span class="sc">+</span></span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">edge_color =</span> <span class="st">&quot;Edge Weight Color Scale&quot;</span>) <span class="sc">+</span></span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/edge_options1-1.png" width="672" /></p>
<p>Another feature of edges that is often important in visualizations is the presence or absence and type of arrows. Arrows can be modified in ggraph using the <code>arrow</code> argument within a <code>geom_edge_link</code> call. The most relevant options are the length of the arrow (which determines size), the <code>type</code> argument which specifies an open or closed arrow, and the spacing of the arrow which can be set by the <code>end_cap</code> and <code>start_cap</code> respectively which define the gap between the arrow point and the node. These values can all be set using absolute measurements as shown in the example below. Since this is an undirected network we use the argument <code>ends='first'</code> to simulated a directed network so that arrowheads will only be drawn the first time an edge appears in the edge list. See <code>?arrow</code> for more details on options.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">436</span>)</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net, <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ends =</span> <span class="st">&quot;first&quot;</span>,</span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;closed&quot;</span></span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">0</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb154-11"><a href="#cb154-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb154-12"><a href="#cb154-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb154-13"><a href="#cb154-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb154-14"><a href="#cb154-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/edge_options2-1.png" width="672" /></p>
<p>Another common consideration with edges is the shape of the edges themselves. So far we have used examples where the edges are all straight lines, but it is also possible to draw them as arcs or so that they fan out from nodes so that multiple connections are visible. In general, all you need to do to change this option is to use another command in the “geom_edge_” family of commands. For example, in the following chunk of code we produce a network with arcs rather than straight lines. In this case the argument “strength” controls the amount of bend in the lines.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">436</span>)</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net, <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">strength =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/edge_arc-1.png" width="672" /></p>
<p>It is also possible to not show edges at all but instead just a gradient scale representing the density of edges using the <code>geom_edge_density</code> call. This could be useful in very large and complex networks.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">436</span>)</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net2, <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_density</span>() <span class="sc">+</span></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/edge_density-1.png" width="672" /></p>
</div>
</div>
<div id="label-options" class="section level3" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Label Options</h3>
<p>In many cases you may want to label either the nodes, edges, or other features of a network. This is relatively easy to do in <code>ggraph</code> with the <code>geom_node_text()</code> command. This will place labels as specified on each node. If you use the <code>repel = TRUE</code> argument it will repel the names slightly from the node to make them more readable. As shown in the example for <a href="#Figure_6_4">Figure 6.4</a> it is also possible to filter labels to label only certain nodes.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First set a node attribute called name based on site names</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(net2)<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">get.vertex.attribute</span>(BRnet_w, <span class="at">attr =</span> <span class="st">&quot;vertex.names&quot;</span>)</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">436</span>)</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net2, <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb157-9"><a href="#cb157-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/node_label-1.png" width="672" /></p>
<p>It is also possible to label edges by adding an argument directly into the <code>geom_link_</code> command. In practice, this really only works with very small networks. In the next chunk of code, we create a small network and demonstrate this function.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>,</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>,</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>,</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>,</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>,</span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;D&quot;</span>, <span class="st">&quot;C&quot;</span>))</span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>weight <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-10"><a href="#cb158-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4351</span>)</span>
<span id="cb158-11"><a href="#cb158-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&#39;stress&#39;</span>) <span class="sc">+</span></span>
<span id="cb158-12"><a href="#cb158-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">label =</span> weight)) <span class="sc">+</span></span>
<span id="cb158-13"><a href="#cb158-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">&#39;lightblue&#39;</span>) <span class="sc">+</span></span>
<span id="cb158-14"><a href="#cb158-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="at">label =</span> <span class="fu">V</span>(g)<span class="sc">$</span>name) <span class="sc">+</span></span>
<span id="cb158-15"><a href="#cb158-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/edge_label-1.png" width="672" /></p>
</div>
<div id="be-kind-to-the-color-blind" class="section level3" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Be Kind to the Color Blind</h3>
<p>When selecting your color schemes, it is important to consider the impact of a particular color scheme on color blind readers. There is an excellent set of R scripts on GitHub in a package called <a href="https://github.com/clauswilke/colorblindr">colorblindr</a> which can help you do just that. I have slightly modified the code from the <code>colorblindr</code> package and created a script called <a href="data/colorblindr.R">colorblindr.R</a> which you can download and use to test out your network. Simply run the code in the script and then use the <code>cvd_grid2()</code> function on a <code>ggplot</code> or <code>ggraph</code> object to see simulated colors.</p>
<p>The chunk of code below loads the <code>colorblindr.R</code> script and then plots a figure using <code>RColorBrewer</code> color <code>Set2</code> in its original unmodified format and then as it might look to readers with some of the most common forms of color vision issues.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(colorspace)</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;data/colorblindr.R&quot;</span>)</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cvd_grid2</span>(g1)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/colorblind-1.png" width="672" /></p>
</div>
<div id="communities-and-groups" class="section level3" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> Communities and Groups</h3>
<p>Showing communities or other groups in network visualizations can be as simple as color coding nodes or edges as we have seen in many examples here. It is sometimes also useful to highlight groups by creating a convex hull or circle around the relevant points. This can be done in ggraph using the <code>geom_mark_hull</code> command within the <code>ggforce</code> package.</p>
<p>The following chunk of code provides a simple example using the Louvain clustering algorithm.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define clusters</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>grp <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">cluster_louvain</span>(net2)<span class="sc">$</span>membership)</span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4343</span>)</span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net2, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb160-10"><a href="#cb160-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp),</span>
<span id="cb160-11"><a href="#cb160-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb160-12"><a href="#cb160-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb160-13"><a href="#cb160-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb160-14"><a href="#cb160-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create hull around points within group and label</span></span>
<span id="cb160-15"><a href="#cb160-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_mark_hull</span>(</span>
<span id="cb160-16"><a href="#cb160-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb160-17"><a href="#cb160-17" aria-hidden="true" tabindex="-1"></a>      x,</span>
<span id="cb160-18"><a href="#cb160-18" aria-hidden="true" tabindex="-1"></a>      y,</span>
<span id="cb160-19"><a href="#cb160-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> grp,</span>
<span id="cb160-20"><a href="#cb160-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> grp,</span>
<span id="cb160-21"><a href="#cb160-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> grp</span>
<span id="cb160-22"><a href="#cb160-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb160-23"><a href="#cb160-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">concavity =</span> <span class="dv">4</span>,</span>
<span id="cb160-24"><a href="#cb160-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">&quot;mm&quot;</span>),</span>
<span id="cb160-25"><a href="#cb160-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.25</span>,</span>
<span id="cb160-26"><a href="#cb160-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.fontsize =</span> <span class="dv">10</span></span>
<span id="cb160-27"><a href="#cb160-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb160-28"><a href="#cb160-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb160-29"><a href="#cb160-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/ggforce-1.png" width="672" /></p>
<p>The discussion of <a href="#Figure_6_4">Figure 6.4</a> below provides another similar example. There are many more complicated ways of showing network groups provided by the examples covering figures from the book. For example, <a href="#Figure_6_18">Figure 6.18</a> provides an example of the “group-in-a-box” technique using the NodeXL software package. <a href="#Figure_6_19">Figure 6.19</a> illustrates the use of matrices as visualization tools and <a href="#Figure_6_20">Figure 6.20</a> provides links to the Nodetrix hybrid visualization software.</p>
</div>
</div>
<div id="replicating-the-book-figures" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Replicating the Book Figures</h2>
<p>In this section we go through each figure in Chapter 6 of Brughmans and Peeples (2022) and detail how the final graph was created for all figures that were created using R. For those figures not created in R we describe what software and data were used and provide additional resources where available. We hope these examples will serve as inspiration for your own network visualization experiments. Some of these figures are relatively simple while others are quite complex. They are presented in the order they appear in the book.</p>
<div id="Figure_6_1" class="section level3" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Figure 6.1: Manual Layout</h3>
<p>Figure 6.1. An example of an early hand drawn network graph (sociogram) published by Moreno (1932: 101). Moreno noted that the nodes at the top and bottom of the sociogram have the most connections and therefore represent the nodes of greatest importance. These specific “important” points are emphasized through both their size and their placement.</p>
<p>Note that the hand drawn version of this figure is presented in the book and this digital example is presented only for illustrative purposes. This shows how you can employ user defined layouts by directly supplying coordinates for the nodes in the plot. <a href="%22data/Moreno.csv%22">Download the Moreno data to follow along</a>.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in adjacency matrix of Moreno data and covert to network</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>Moreno <span class="ot">&lt;-</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>(<span class="fu">read.csv</span>(<span class="st">&#39;data/Moreno.csv&#39;</span>, <span class="at">header =</span> T, <span class="at">row.names =</span> <span class="dv">1</span>))</span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>g.Moreno <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(Moreno)</span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-9"><a href="#cb161-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create xy coordinates associated with each node</span></span>
<span id="cb161-10"><a href="#cb161-10" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb161-11"><a href="#cb161-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="fl">2.5</span>, <span class="dv">6</span>, <span class="fl">2.5</span>, <span class="dv">4</span>, <span class="dv">1</span>),</span>
<span id="cb161-12"><a href="#cb161-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">9</span>,</span>
<span id="cb161-13"><a href="#cb161-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb161-14"><a href="#cb161-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> T</span>
<span id="cb161-15"><a href="#cb161-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb161-16"><a href="#cb161-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-17"><a href="#cb161-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the network using layout = &quot;manual&quot; to place nodes using xy coordinates</span></span>
<span id="cb161-18"><a href="#cb161-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g.Moreno,</span>
<span id="cb161-19"><a href="#cb161-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb161-20"><a href="#cb161-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> xy[, <span class="dv">1</span>],</span>
<span id="cb161-21"><a href="#cb161-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> xy[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb161-22"><a href="#cb161-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb161-23"><a href="#cb161-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">fill =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb161-24"><a href="#cb161-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb161-25"><a href="#cb161-25" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(g.Moreno)) <span class="sc">+</span></span>
<span id="cb161-26"><a href="#cb161-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb161-27"><a href="#cb161-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() </span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_1-1.png" width="192" /></p>
</div>
<div id="Figure_6_2" class="section level3" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Figure 6.2: Examples of Common Network Plot Formats</h3>
<p>Figure 6.2. These plots are all different visual representations of the same network data from Peeples’s (2018) data where edges are defined based on the technological similarities of cooking pots from each node which represent archaeological settlements.</p>
<p>The code below creates each of the individual figures and then compiles them into a single composite figure for plotting.</p>
<p>First read in the data (<a href="data/Peeples2018.Rdata">all data are combined in a single RData file here</a>).</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplotify)</span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">&quot;data/Peeples2018.Rdata&quot;</span>)</span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a><span class="do">## contains objects</span></span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a><span class="co"># site_info - site locations and attributes</span></span>
<span id="cb162-11"><a href="#cb162-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ceramicBR - raw Brainerd-Robinson similarity among sites</span></span>
<span id="cb162-12"><a href="#cb162-12" aria-hidden="true" tabindex="-1"></a><span class="co"># BRnet - binary network with similarity values &gt; 0.65</span></span>
<span id="cb162-13"><a href="#cb162-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     defined as edges in statnet/network format</span></span>
<span id="cb162-14"><a href="#cb162-14" aria-hidden="true" tabindex="-1"></a><span class="co"># BRnet_w - weighted network with edges (&gt;0.65) given weight</span></span>
<span id="cb162-15"><a href="#cb162-15" aria-hidden="true" tabindex="-1"></a><span class="co">#     values based on BR similarity in statnet/network format</span></span>
<span id="cb162-16"><a href="#cb162-16" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span></code></pre></div>
<p>Fig 6.2a - A simple network graph with nodes placed based on the Fruchterman-Reingold algorithm</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="do">## create simple graph with Fruchterman - Reingold layout</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">423</span>)</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>a <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(BRnet, <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">5</span>), <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>a</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_2a-1.png" width="672" /></p>
<p>Fig 6.2b - Network graph nodes with placed based on the real geographic locations of settlements and are color coded based on sub-regions.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="do">## create graph with layout determined by site location and nodes color coded by region</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>b <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(BRnet, <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> site_info<span class="sc">$</span>x,</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> site_info<span class="sc">$</span>y) <span class="sc">+</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">col =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>b</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_2b-1.png" width="672" /></p>
<p>Fig 6.2c - A graph designed to show how many different kinds of information can be combined in a single network plot. In this network graph node placement is defined by the stress majorization algorithm (see below), with nodes color coded based on region, with different symbols for different kinds of public architectural features found at those sites, and with nodes scaled based on betweenness centrality scores. The line weight of each edge is used to indicate relative tie-strength.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create vectors of attributes and betweenness centrality and plot</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="co"># network with nodes color coded by region, sized by betweenness,</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="co"># with symbols representing public architectural features, and</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="co"># with edges weighted by BR similarity</span></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>((site_info<span class="sc">$</span>Great.Kiva))</span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a>col2 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>((site_info<span class="sc">$</span>Region))</span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a>bw <span class="ot">&lt;-</span> sna<span class="sc">::</span><span class="fu">betweenness</span>(BRnet_w)</span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>c <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(BRnet_w, <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> weight, <span class="at">alpha =</span> weight),</span>
<span id="cb165-11"><a href="#cb165-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb165-12"><a href="#cb165-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb165-13"><a href="#cb165-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb165-14"><a href="#cb165-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(</span>
<span id="cb165-15"><a href="#cb165-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> bw,</span>
<span id="cb165-16"><a href="#cb165-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> col1,</span>
<span id="cb165-17"><a href="#cb165-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> col1,</span>
<span id="cb165-18"><a href="#cb165-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> site_info<span class="sc">$</span>Region</span>
<span id="cb165-19"><a href="#cb165-19" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb165-20"><a href="#cb165-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb165-21"><a href="#cb165-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>() <span class="sc">+</span></span>
<span id="cb165-22"><a href="#cb165-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb165-23"><a href="#cb165-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb165-24"><a href="#cb165-24" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>c</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_2c-1.png" width="672" /></p>
<p>Fig. 6.2d - This network graph is laid out using the Kamada-Kawai force directed algorithm with nodes color coded based on communities detected using the Louvain community detection algorithm. Each community is also indicated by a circle highlighting the relevant nodes. Edges within communities are shown in black and edges between communities are shown in red.</p>
<p>In this plot we use the <code>as.ggplot</code> function to convert a traditional <code>igraph</code> plot to a <code>ggraph</code> plot to illustrate how this can be done.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert network object to igraph object and calculate Louvain</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cluster membership plot and convert to grob to combine in ggplot</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(BRnet_w)</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>clst <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g)</span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>d <span class="ot">&lt;-</span> <span class="fu">as.ggplot</span>(</span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">plot</span>(</span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a>    clst,</span>
<span id="cb166-9"><a href="#cb166-9" aria-hidden="true" tabindex="-1"></a>    g,</span>
<span id="cb166-10"><a href="#cb166-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb166-11"><a href="#cb166-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb166-12"><a href="#cb166-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">vertex.size =</span> <span class="dv">10</span>,</span>
<span id="cb166-13"><a href="#cb166-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="dv">4</span>)[clst<span class="sc">$</span>membership]</span>
<span id="cb166-14"><a href="#cb166-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb166-15"><a href="#cb166-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb166-16"><a href="#cb166-16" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.2</span>d</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_2d-1.png" width="672" /></p>
<p>Finally, we use the <code>ggarrange</code> function from the <code>ggpubr</code> package to combine all of these plots into a single composite plot.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all plots into a single figure using ggarrange</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>figure_6_2 <span class="ot">&lt;-</span> <span class="fu">ggarrange</span>(</span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>  F6<span class="fl">.2</span>a,</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>  F6<span class="fl">.2</span>b,</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>  F6<span class="fl">.2</span>c,</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>  F6<span class="fl">.2</span>d,</span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;(a)&#39;</span>, <span class="st">&#39;(b)&#39;</span>, <span class="st">&#39;(c)&#39;</span>, <span class="st">&#39;(d)&#39;</span>),</span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">font.label =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">22</span>)</span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-13"><a href="#cb167-13" aria-hidden="true" tabindex="-1"></a>figure_6_2</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_2_all-1.png" width="672" /></p>
</div>
<div id="Figure_6_3" class="section level3" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Figure 6.3: Examples of Rare Network Plot Formats</h3>
<p>Figure 6.3. More visualizations using the Cibola technological similarity data.</p>
<p>Fig 6.3a - A weighted heat plot of the underlying similarity matrix with hierarchical clusters shown on each axis. This plot relies on a packages called <code>superheat</code> that produces plots formatted as we see here.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplotify)</span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(superheat)</span>
<span id="cb168-9"><a href="#cb168-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-10"><a href="#cb168-10" aria-hidden="true" tabindex="-1"></a>ceramicBRa <span class="ot">&lt;-</span> ceramicBR</span>
<span id="cb168-11"><a href="#cb168-11" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(ceramicBRa) <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb168-12"><a href="#cb168-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-13"><a href="#cb168-13" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>a <span class="ot">&lt;-</span> <span class="fu">as.ggplot</span>(</span>
<span id="cb168-14"><a href="#cb168-14" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">superheat</span>(</span>
<span id="cb168-15"><a href="#cb168-15" aria-hidden="true" tabindex="-1"></a>    ceramicBRa,</span>
<span id="cb168-16"><a href="#cb168-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.dendrogram =</span> T,</span>
<span id="cb168-17"><a href="#cb168-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.dendrogram =</span> T,</span>
<span id="cb168-18"><a href="#cb168-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid.hline.col =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb168-19"><a href="#cb168-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid.vline.col =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb168-20"><a href="#cb168-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> F,</span>
<span id="cb168-21"><a href="#cb168-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">left.label.size =</span> <span class="dv">0</span>,</span>
<span id="cb168-22"><a href="#cb168-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">bottom.label.size =</span> <span class="dv">0</span></span>
<span id="cb168-23"><a href="#cb168-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb168-24"><a href="#cb168-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb168-25"><a href="#cb168-25" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>a</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_3a-1.png" width="672" /></p>
<p>Fig. 6.3b - An arcplot with within group ties shown above the plot and between group ties shown below.</p>
<p>For this plot, we read in a adjacency matrix that is ordered in the order we want it to show up in the final plot. <a href="data/Peeples_arcplot.csv">Download the file here</a> to follow along.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>arc_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/Peeples_arcplot.csv&#39;</span>,</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">header =</span> T,</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(<span class="fu">t</span>(arc_dat)))</span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a><span class="co"># set groups for color</span></span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>grp <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,</span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)) </span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the graph</span></span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>b <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&quot;linear&quot;</span>) <span class="sc">+</span></span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_arc</span>(</span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb169-18"><a href="#cb169-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_width =</span> <span class="fl">0.7</span>,</span>
<span id="cb169-19"><a href="#cb169-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">fold =</span> F,</span>
<span id="cb169-20"><a href="#cb169-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">strength =</span> <span class="dv">1</span>,</span>
<span id="cb169-21"><a href="#cb169-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb169-22"><a href="#cb169-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb169-23"><a href="#cb169-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb169-24"><a href="#cb169-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb169-25"><a href="#cb169-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(g),</span>
<span id="cb169-26"><a href="#cb169-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> grp,</span>
<span id="cb169-27"><a href="#cb169-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> grp</span>
<span id="cb169-28"><a href="#cb169-28" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb169-29"><a href="#cb169-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb169-30"><a href="#cb169-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb169-31"><a href="#cb169-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb169-32"><a href="#cb169-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb169-33"><a href="#cb169-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb169-34"><a href="#cb169-34" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>b</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_3b-1.png" width="672" /></p>
<p>Fig. 6.3c - Network plot with sites in geographic locations and edges bundled using the edge bundling hammer routine.</p>
<p>This function requires the <code>edgebundle</code> package be installed along with <code>reticulate</code> and Python 3.7 (see <a href="#Packages">Packages</a>) and uses the <a href="data/Peeples2018.Rdata">Cibola technological similarity data</a>.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(edgebundle)</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Peeples2018.Rdata&quot;</span>)</span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create attribute file with rquired data</span></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>xy<span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(site_info[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">cbind</span>(xy,site_info<span class="sc">$</span>Region)</span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;Region&#39;</span>)</span>
<span id="cb170-8"><a href="#cb170-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-9"><a href="#cb170-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Run hammer bundling routine</span></span>
<span id="cb170-10"><a href="#cb170-10" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(BRnet)</span>
<span id="cb170-11"><a href="#cb170-11" aria-hidden="true" tabindex="-1"></a>hbundle <span class="ot">&lt;-</span> <span class="fu">edge_bundle_hammer</span>(g, xy, <span class="at">bw =</span> <span class="dv">5</span>, <span class="at">decay =</span> <span class="fl">0.3</span>)</span>
<span id="cb170-12"><a href="#cb170-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-13"><a href="#cb170-13" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>c <span class="ot">&lt;-</span>   <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb170-14"><a href="#cb170-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="at">data =</span> hbundle,<span class="fu">aes</span>(x,y,<span class="at">group=</span>group),</span>
<span id="cb170-15"><a href="#cb170-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">col=</span><span class="st">&quot;gray66&quot;</span>,<span class="at">size=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb170-16"><a href="#cb170-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> xy,<span class="fu">aes</span>(x,y,<span class="at">col=</span>Region),</span>
<span id="cb170-17"><a href="#cb170-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">size=</span><span class="dv">5</span>, <span class="at">alpha=</span><span class="fl">0.75</span>, <span class="at">show.legend=</span>F)<span class="sc">+</span></span>
<span id="cb170-18"><a href="#cb170-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb170-19"><a href="#cb170-19" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>c</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_3c-1.png" width="672" /></p>
<p>Fig. 6.3d - Network graph where nodes are replaced by waffle plots that show relative frequencies of the most common ceramic technological clusters.</p>
<p>This is a somewhat complicated plot that requires a couple of specialized libraries and additional steps along the way. We provide comments in the code below to help you follow along. Essentially the routine creates a series of waffle plots and then uses them as annotation to replace the nodes in the final <code>ggraph</code>.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize libraries</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github(&quot;liamgilbey/ggwaffle&quot;) # run this if ggwaffle not installed</span></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggwaffle)</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create igraph object from data imported above</span></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a>Cibola_adj <span class="ot">&lt;-</span></span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_adj.csv&quot;</span>,</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(Cibola_adj),</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Import raw ceramic data and convert to proportions</span></span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>ceramic_clust <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/Cibola_clust.csv&quot;</span>,</span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a>                          <span class="at">header =</span> T,</span>
<span id="cb171-17"><a href="#cb171-17" aria-hidden="true" tabindex="-1"></a>                          <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb171-18"><a href="#cb171-18" aria-hidden="true" tabindex="-1"></a>ceramic.p <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(ceramic_clust), <span class="at">margin =</span> <span class="dv">1</span>)</span>
<span id="cb171-19"><a href="#cb171-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-20"><a href="#cb171-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign vertex attributes to the network object g which represent</span></span>
<span id="cb171-21"><a href="#cb171-21" aria-hidden="true" tabindex="-1"></a><span class="co"># columns in the ceramic.p table</span></span>
<span id="cb171-22"><a href="#cb171-22" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C1 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">1</span>]</span>
<span id="cb171-23"><a href="#cb171-23" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C2 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">2</span>]</span>
<span id="cb171-24"><a href="#cb171-24" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C3 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">3</span>]</span>
<span id="cb171-25"><a href="#cb171-25" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C4 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">4</span>]</span>
<span id="cb171-26"><a href="#cb171-26" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C5 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">5</span>]</span>
<span id="cb171-27"><a href="#cb171-27" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C6 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">6</span>]</span>
<span id="cb171-28"><a href="#cb171-28" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C7 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">7</span>]</span>
<span id="cb171-29"><a href="#cb171-29" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C8 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">8</span>]</span>
<span id="cb171-30"><a href="#cb171-30" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C9 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">9</span>]</span>
<span id="cb171-31"><a href="#cb171-31" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>C10 <span class="ot">&lt;-</span> ceramic.p[, <span class="dv">10</span>]</span>
<span id="cb171-32"><a href="#cb171-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-33"><a href="#cb171-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Precompute the layout and assign coordinates as x and y in network g</span></span>
<span id="cb171-34"><a href="#cb171-34" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">345434534</span>)</span>
<span id="cb171-35"><a href="#cb171-35" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(g)</span>
<span id="cb171-36"><a href="#cb171-36" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>x <span class="ot">&lt;-</span> xy[, <span class="dv">1</span>]</span>
<span id="cb171-37"><a href="#cb171-37" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>y <span class="ot">&lt;-</span> xy[, <span class="dv">2</span>]</span>
<span id="cb171-38"><a href="#cb171-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-39"><a href="#cb171-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame that contains the 4 most common</span></span>
<span id="cb171-40"><a href="#cb171-40" aria-hidden="true" tabindex="-1"></a><span class="co"># categories in the ceramic table, the node id, and the proportion</span></span>
<span id="cb171-41"><a href="#cb171-41" aria-hidden="true" tabindex="-1"></a><span class="co"># of that ceramic category at that node</span></span>
<span id="cb171-42"><a href="#cb171-42" aria-hidden="true" tabindex="-1"></a>nodes_wide <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(g, <span class="st">&quot;vertices&quot;</span>)</span>
<span id="cb171-43"><a href="#cb171-43" aria-hidden="true" tabindex="-1"></a>nodes_long <span class="ot">&lt;-</span> nodes_wide <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(C1<span class="sc">:</span>C4) <span class="sc">%&gt;%</span></span>
<span id="cb171-44"><a href="#cb171-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(nodes_wide)) <span class="sc">%&gt;%</span></span>
<span id="cb171-45"><a href="#cb171-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="st">&quot;attr&quot;</span>, <span class="st">&quot;value&quot;</span>, C1<span class="sc">:</span>C4)</span>
<span id="cb171-46"><a href="#cb171-46" aria-hidden="true" tabindex="-1"></a>nodes_out <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb171-47"><a href="#cb171-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(nodes_long)) {</span>
<span id="cb171-48"><a href="#cb171-48" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">do.call</span>(<span class="st">&quot;rbind&quot;</span>, <span class="fu">replicate</span>(<span class="fu">round</span>(nodes_long[j, ]<span class="sc">$</span>value <span class="sc">*</span> <span class="dv">50</span>, <span class="dv">0</span>),</span>
<span id="cb171-49"><a href="#cb171-49" aria-hidden="true" tabindex="-1"></a>                                     nodes_long[j, ], <span class="at">simplify =</span> <span class="cn">FALSE</span>))</span>
<span id="cb171-50"><a href="#cb171-50" aria-hidden="true" tabindex="-1"></a>  nodes_out <span class="ot">&lt;-</span> <span class="fu">rbind</span>(nodes_out, temp)</span>
<span id="cb171-51"><a href="#cb171-51" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb171-52"><a href="#cb171-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-53"><a href="#cb171-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list object for the call to each bar chart by node</span></span>
<span id="cb171-54"><a href="#cb171-54" aria-hidden="true" tabindex="-1"></a>bar_list <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">vcount</span>(g), <span class="cf">function</span>(i) {</span>
<span id="cb171-55"><a href="#cb171-55" aria-hidden="true" tabindex="-1"></a>  gt_plot <span class="ot">&lt;-</span> <span class="fu">ggplotGrob</span>(</span>
<span id="cb171-56"><a href="#cb171-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">waffle_iron</span>(nodes_out[nodes_out<span class="sc">$</span>id <span class="sc">==</span> i,],</span>
<span id="cb171-57"><a href="#cb171-57" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes_d</span>(<span class="at">group =</span> attr))) <span class="sc">+</span></span>
<span id="cb171-58"><a href="#cb171-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_waffle</span>(<span class="fu">aes</span>(x, y, <span class="at">fill =</span> group), <span class="at">size =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb171-59"><a href="#cb171-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb171-60"><a href="#cb171-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb171-61"><a href="#cb171-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb171-62"><a href="#cb171-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb171-63"><a href="#cb171-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb171-64"><a href="#cb171-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">line =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb171-65"><a href="#cb171-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="fu">element_blank</span>()</span>
<span id="cb171-66"><a href="#cb171-66" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb171-67"><a href="#cb171-67" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb171-68"><a href="#cb171-68" aria-hidden="true" tabindex="-1"></a>  panel_coords <span class="ot">&lt;-</span> gt_plot<span class="sc">$</span>layout[gt_plot<span class="sc">$</span>layout<span class="sc">$</span>name <span class="sc">==</span> <span class="st">&quot;panel&quot;</span>,]</span>
<span id="cb171-69"><a href="#cb171-69" aria-hidden="true" tabindex="-1"></a>  gt_plot[panel_coords<span class="sc">$</span>t<span class="sc">:</span>panel_coords<span class="sc">$</span>b, panel_coords<span class="sc">$</span>l<span class="sc">:</span>panel_coords<span class="sc">$</span>r]</span>
<span id="cb171-70"><a href="#cb171-70" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb171-71"><a href="#cb171-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-72"><a href="#cb171-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the results above into custom annotation</span></span>
<span id="cb171-73"><a href="#cb171-73" aria-hidden="true" tabindex="-1"></a>annot_list <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">vcount</span>(g), <span class="cf">function</span>(i) {</span>
<span id="cb171-74"><a href="#cb171-74" aria-hidden="true" tabindex="-1"></a>  xmin <span class="ot">&lt;-</span> nodes_wide<span class="sc">$</span>x[i] <span class="sc">-</span> .<span class="dv">2</span></span>
<span id="cb171-75"><a href="#cb171-75" aria-hidden="true" tabindex="-1"></a>  xmax <span class="ot">&lt;-</span> nodes_wide<span class="sc">$</span>x[i] <span class="sc">+</span> .<span class="dv">2</span></span>
<span id="cb171-76"><a href="#cb171-76" aria-hidden="true" tabindex="-1"></a>  ymin <span class="ot">&lt;-</span> nodes_wide<span class="sc">$</span>y[i] <span class="sc">-</span> .<span class="dv">2</span></span>
<span id="cb171-77"><a href="#cb171-77" aria-hidden="true" tabindex="-1"></a>  ymax <span class="ot">&lt;-</span> nodes_wide<span class="sc">$</span>y[i] <span class="sc">+</span> .<span class="dv">2</span></span>
<span id="cb171-78"><a href="#cb171-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotation_custom</span>(</span>
<span id="cb171-79"><a href="#cb171-79" aria-hidden="true" tabindex="-1"></a>    bar_list[[i]],</span>
<span id="cb171-80"><a href="#cb171-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmin =</span> xmin,</span>
<span id="cb171-81"><a href="#cb171-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmax =</span> xmax,</span>
<span id="cb171-82"><a href="#cb171-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> ymin,</span>
<span id="cb171-83"><a href="#cb171-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> ymax</span>
<span id="cb171-84"><a href="#cb171-84" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb171-85"><a href="#cb171-85" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb171-86"><a href="#cb171-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-87"><a href="#cb171-87" aria-hidden="true" tabindex="-1"></a><span class="co"># create basic network</span></span>
<span id="cb171-88"><a href="#cb171-88" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g, <span class="st">&quot;manual&quot;</span>, <span class="at">x =</span> <span class="fu">V</span>(g)<span class="sc">$</span>x, <span class="at">y =</span> <span class="fu">V</span>(g)<span class="sc">$</span>y) <span class="sc">+</span></span>
<span id="cb171-89"><a href="#cb171-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>() <span class="sc">+</span></span>
<span id="cb171-90"><a href="#cb171-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb171-91"><a href="#cb171-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span>
<span id="cb171-92"><a href="#cb171-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-93"><a href="#cb171-93" aria-hidden="true" tabindex="-1"></a><span class="co"># put everything together by combining with the annotation (bar plots + network)</span></span>
<span id="cb171-94"><a href="#cb171-94" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>d <span class="ot">&lt;-</span> <span class="fu">Reduce</span>(<span class="st">&quot;+&quot;</span>, annot_list, p)</span>
<span id="cb171-95"><a href="#cb171-95" aria-hidden="true" tabindex="-1"></a>F6<span class="fl">.3</span>d</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_3d-1.png" width="576" /></p>
<p><img src="images/Figure_6_3.jpg.jpeg" style="width:100.0%" /></p>
</div>
<div id="Figure_6_4" class="section level3" number="5.4.4">
<h3><span class="header-section-number">5.4.4</span> Figure 6.4: Simple Network with Clusters</h3>
<p>Figure 6.4 is a network of shared lithic material sources among Clovis sites in western North America.</p>
<p>This example shows how to define and indicate groups and label points.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a>Clovis <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Clovis.csv&quot;</span>, <span class="at">header =</span> T, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb172-7"><a href="#cb172-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Clovis) <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Clovis)</span>
<span id="cb172-8"><a href="#cb172-8" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(Clovis),</span>
<span id="cb172-9"><a href="#cb172-9" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>, <span class="at">diag =</span> F)</span>
<span id="cb172-10"><a href="#cb172-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-11"><a href="#cb172-11" aria-hidden="true" tabindex="-1"></a>bw <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(graph)</span>
<span id="cb172-12"><a href="#cb172-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-13"><a href="#cb172-13" aria-hidden="true" tabindex="-1"></a>grp <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">cluster_louvain</span>(graph)<span class="sc">$</span>membership)</span>
<span id="cb172-14"><a href="#cb172-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-15"><a href="#cb172-15" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">43643548</span>)</span>
<span id="cb172-16"><a href="#cb172-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(graph, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb172-17"><a href="#cb172-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span></span>
<span id="cb172-18"><a href="#cb172-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp, <span class="at">size =</span> bw, <span class="at">color =</span> grp),</span>
<span id="cb172-19"><a href="#cb172-19" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb172-20"><a href="#cb172-20" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb172-21"><a href="#cb172-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb172-22"><a href="#cb172-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_mark_hull</span>(</span>
<span id="cb172-23"><a href="#cb172-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb172-24"><a href="#cb172-24" aria-hidden="true" tabindex="-1"></a>      x,</span>
<span id="cb172-25"><a href="#cb172-25" aria-hidden="true" tabindex="-1"></a>      y,</span>
<span id="cb172-26"><a href="#cb172-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">group =</span> grp,</span>
<span id="cb172-27"><a href="#cb172-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> grp,</span>
<span id="cb172-28"><a href="#cb172-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> grp,</span>
<span id="cb172-29"><a href="#cb172-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="cn">NA</span></span>
<span id="cb172-30"><a href="#cb172-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb172-31"><a href="#cb172-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">concavity =</span> <span class="dv">4</span>,</span>
<span id="cb172-32"><a href="#cb172-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">&quot;mm&quot;</span>),</span>
<span id="cb172-33"><a href="#cb172-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.25</span>,</span>
<span id="cb172-34"><a href="#cb172-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.fontsize =</span> <span class="dv">12</span></span>
<span id="cb172-35"><a href="#cb172-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb172-36"><a href="#cb172-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb172-37"><a href="#cb172-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb172-38"><a href="#cb172-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>),</span>
<span id="cb172-39"><a href="#cb172-39" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb172-40"><a href="#cb172-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(bw <span class="sc">&gt;</span> <span class="dv">40</span>,</span>
<span id="cb172-41"><a href="#cb172-41" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">as.character</span>(name),</span>
<span id="cb172-42"><a href="#cb172-42" aria-hidden="true" tabindex="-1"></a>                                    <span class="cn">NA_character_</span>)), <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb172-43"><a href="#cb172-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb172-44"><a href="#cb172-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_4-1.png" width="672" /></p>
</div>
<div id="Figure_6_5" class="section level3" number="5.4.5">
<h3><span class="header-section-number">5.4.5</span> Figure 6.5: Interactive Layout</h3>
<p>Figure 6.5 was produced in NetDraw by creating a simple network and just creating two configurations of nodes. There are a few options for creating a similar figure in R. The simplest is to use an igraph network object and the <code>tkplot</code> function. This function brings up a window that lets you drag and move nodes (with or without an initial algorithmic layout) and when you’re done you can assign the new positions to a variable to use for plotting. <a href="data/Peeples2018.Rdata">Use these data</a> to follow along.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Peeples2018.Rdata&quot;</span>)</span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>Cibola_i <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(BRnet)</span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a>locs <span class="ot">&lt;-</span> <span class="fu">tkplot</span>(Cibola_i)</span>
<span id="cb173-9"><a href="#cb173-9" aria-hidden="true" tabindex="-1"></a>Coords <span class="ot">&lt;-</span> <span class="fu">tkplot.getcoords</span>(locs)</span></code></pre></div>
<p>This will bring up a window like the example below and when you click “Close” it will automatically create the variables with the locational information for plotting.</p>
<p><img src="images/interactive.jpg" style="width:100.0%" /></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_i, <span class="at">layout=</span>Coords)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_5c-1.png" width="672" /></p>
</div>
<div id="Figure_6_6" class="section level3" number="5.4.6">
<h3><span class="header-section-number">5.4.6</span> Figure 6.6: Absolute Geographic Layout</h3>
<p>Fig. 6.6. Map of major Roman roads and major settlements on the Iberian Peninsula, (a) with roads mapped along their actual geographic paths and (b) roads shown as simple line segments between nodes.</p>
<p>The figure that appears in the book was originally created using GIS software but it is possible to prepare a quite similar figure in R using the tools we outlined above. To reproduce the results presented here you will need to download <a href="data/Hispania_nodes.csv">the node information file</a> and the <a href="data/Hispania_roads.csv">road edge list</a>.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb175-5"><a href="#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb175-6"><a href="#cb175-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-7"><a href="#cb175-7" aria-hidden="true" tabindex="-1"></a>edges1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Hispania_roads.csv&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb175-8"><a href="#cb175-8" aria-hidden="true" tabindex="-1"></a>edges1 <span class="ot">&lt;-</span> edges1[<span class="fu">which</span>(edges1<span class="sc">$</span>Weight <span class="sc">&gt;</span> <span class="dv">25</span>), ]</span>
<span id="cb175-9"><a href="#cb175-9" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Hispania_nodes.csv&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb175-10"><a href="#cb175-10" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">%in%</span> <span class="fu">c</span>(edges1<span class="sc">$</span>Source, edges1<span class="sc">$</span>Target)), ]</span>
<span id="cb175-11"><a href="#cb175-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-12"><a href="#cb175-12" aria-hidden="true" tabindex="-1"></a>road_net <span class="ot">&lt;-</span></span>
<span id="cb175-13"><a href="#cb175-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(edges1[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb175-14"><a href="#cb175-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-15"><a href="#cb175-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert attribute location data to sf coordinates</span></span>
<span id="cb175-16"><a href="#cb175-16" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span></span>
<span id="cb175-17"><a href="#cb175-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(nodes, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;long&quot;</span>, <span class="st">&quot;lat&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb175-18"><a href="#cb175-18" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(locations_sf)) <span class="sc">%&gt;%</span></span>
<span id="cb175-19"><a href="#cb175-19" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb175-20"><a href="#cb175-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-21"><a href="#cb175-21" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb175-22"><a href="#cb175-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb175-23"><a href="#cb175-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-24"><a href="#cb175-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object</span></span>
<span id="cb175-25"><a href="#cb175-25" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(road_net)</span>
<span id="cb175-26"><a href="#cb175-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-27"><a href="#cb175-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb175-28"><a href="#cb175-28" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist), <span class="dv">4</span>))</span>
<span id="cb175-29"><a href="#cb175-29" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb175-30"><a href="#cb175-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist)) {</span>
<span id="cb175-31"><a href="#cb175-31" aria-hidden="true" tabindex="-1"></a>  edges[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb175-32"><a href="#cb175-32" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb175-33"><a href="#cb175-33" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">3</span>],</span>
<span id="cb175-34"><a href="#cb175-34" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">2</span>])</span>
<span id="cb175-35"><a href="#cb175-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb175-36"><a href="#cb175-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-37"><a href="#cb175-37" aria-hidden="true" tabindex="-1"></a>myMap <span class="ot">&lt;-</span> <span class="fu">get_stamenmap</span>(<span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">9.5</span>, <span class="dv">36</span>, <span class="dv">3</span>, <span class="fl">43.8</span>),</span>
<span id="cb175-38"><a href="#cb175-38" aria-hidden="true" tabindex="-1"></a>                       <span class="at">maptype =</span> <span class="st">&quot;watercolor&quot;</span>,</span>
<span id="cb175-39"><a href="#cb175-39" aria-hidden="true" tabindex="-1"></a>                       <span class="at">zoom =</span> <span class="dv">6</span>)</span>
<span id="cb175-40"><a href="#cb175-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-41"><a href="#cb175-41" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb175-42"><a href="#cb175-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb175-43"><a href="#cb175-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges,</span>
<span id="cb175-44"><a href="#cb175-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb175-45"><a href="#cb175-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb175-46"><a href="#cb175-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb175-47"><a href="#cb175-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb175-48"><a href="#cb175-48" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb175-49"><a href="#cb175-49" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb175-50"><a href="#cb175-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb175-51"><a href="#cb175-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb175-52"><a href="#cb175-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb175-53"><a href="#cb175-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb175-54"><a href="#cb175-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb175-55"><a href="#cb175-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb175-56"><a href="#cb175-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb175-57"><a href="#cb175-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb175-58"><a href="#cb175-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb175-59"><a href="#cb175-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb175-60"><a href="#cb175-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>,</span>
<span id="cb175-61"><a href="#cb175-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb175-62"><a href="#cb175-62" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb175-63"><a href="#cb175-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_6-1.png" width="672" /></p>
</div>
<div id="Figure_6_7" class="section level3" number="5.4.7">
<h3><span class="header-section-number">5.4.7</span> Figure 6.7: Distorted Geographic Layout</h3>
<p>Fig. 6.7. This ceramic similarity network of the San Pedro River Valley in Arizona shows the challenges of creating geographic network layouts. Figure 6.7a shows sites in their original locations whereas figure 6.7b shifts locations to improve the visibility of network structure. Note how the distorted geographic layout retains the basic relationships among the nodes while altering their locations slightly.</p>
<p>Unfortunately as the first map contains real site locations we cannot share those data here. The second map can still be reproduced given nothing but the code below. The only difference required to produce Figure 6.7a would be to replace the <code>coord</code> site coordinates with the actual site locations.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsn)</span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_7.Rdata&quot;</span>)</span>
<span id="cb176-9"><a href="#cb176-9" aria-hidden="true" tabindex="-1"></a><span class="co"># g.net - igraph network object of San Pedro sites based on</span></span>
<span id="cb176-10"><a href="#cb176-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ceramic similarity</span></span>
<span id="cb176-11"><a href="#cb176-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-12"><a href="#cb176-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Define coordinates of &quot;jittered&quot; points</span></span>
<span id="cb176-13"><a href="#cb176-13" aria-hidden="true" tabindex="-1"></a><span class="co"># These points were originally created using the &quot;jitter&quot; function</span></span>
<span id="cb176-14"><a href="#cb176-14" aria-hidden="true" tabindex="-1"></a><span class="co"># until a reasonable set of points were found.</span></span>
<span id="cb176-15"><a href="#cb176-15" aria-hidden="true" tabindex="-1"></a>coord <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">110.7985</span>, <span class="fl">32.97888</span>,</span>
<span id="cb176-16"><a href="#cb176-16" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.7472</span>, <span class="fl">32.89950</span>,</span>
<span id="cb176-17"><a href="#cb176-17" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.6965</span>, <span class="fl">32.83496</span>,</span>
<span id="cb176-18"><a href="#cb176-18" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.6899</span>, <span class="fl">32.91499</span>,</span>
<span id="cb176-19"><a href="#cb176-19" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.5508</span>, <span class="fl">32.72260</span>,</span>
<span id="cb176-20"><a href="#cb176-20" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.4752</span>, <span class="fl">32.60533</span>,</span>
<span id="cb176-21"><a href="#cb176-21" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.3367</span>, <span class="fl">32.33341</span>,</span>
<span id="cb176-22"><a href="#cb176-22" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.5930</span>, <span class="fl">32.43487</span>,</span>
<span id="cb176-23"><a href="#cb176-23" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.8160</span>, <span class="fl">32.86185</span>,</span>
<span id="cb176-24"><a href="#cb176-24" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.6650</span>, <span class="fl">32.64882</span>,</span>
<span id="cb176-25"><a href="#cb176-25" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.4558</span>, <span class="fl">32.56866</span>,</span>
<span id="cb176-26"><a href="#cb176-26" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.6879</span>, <span class="fl">32.60055</span>,</span>
<span id="cb176-27"><a href="#cb176-27" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.7428</span>, <span class="fl">32.93124</span>,</span>
<span id="cb176-28"><a href="#cb176-28" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.4173</span>, <span class="fl">32.34401</span>,</span>
<span id="cb176-29"><a href="#cb176-29" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fl">110.7000</span>, <span class="fl">32.73344</span>)</span>
<span id="cb176-30"><a href="#cb176-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-31"><a href="#cb176-31" aria-hidden="true" tabindex="-1"></a>attr <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Swingle&#39;s Sample&quot;</span>,<span class="st">&quot;Ash Terrace&quot;</span>,<span class="st">&quot;Lost Mound&quot;</span>,</span>
<span id="cb176-32"><a href="#cb176-32" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Dudleyville Mound&quot;</span>,<span class="st">&quot;Leaverton&quot;</span>,<span class="st">&quot;High Mesa&quot;</span>,</span>
<span id="cb176-33"><a href="#cb176-33" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Elliott Site&quot;</span>,<span class="st">&quot;Bayless Ruin&quot;</span>,<span class="st">&quot;Flieger&quot;</span>,</span>
<span id="cb176-34"><a href="#cb176-34" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Big Bell&quot;</span>,<span class="st">&quot;111 Ranch&quot;</span>,<span class="st">&quot;Twin Hawks&quot;</span>,<span class="st">&quot;Artifact Hill&quot;</span>,</span>
<span id="cb176-35"><a href="#cb176-35" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Jose Solas Ruin&quot;</span>,<span class="st">&quot;Wright&quot;</span>)</span>
<span id="cb176-36"><a href="#cb176-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-37"><a href="#cb176-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-38"><a href="#cb176-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert coordinates to data frame</span></span>
<span id="cb176-39"><a href="#cb176-39" aria-hidden="true" tabindex="-1"></a>zz <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(coord, <span class="at">nrow =</span> <span class="dv">15</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb176-40"><a href="#cb176-40" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(zz) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb176-41"><a href="#cb176-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-42"><a href="#cb176-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Get basemap &quot;terrain-background&quot; data for map in black and white</span></span>
<span id="cb176-43"><a href="#cb176-43" aria-hidden="true" tabindex="-1"></a>base3 <span class="ot">&lt;-</span> <span class="fu">get_stamenmap</span>(</span>
<span id="cb176-44"><a href="#cb176-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">111</span>, <span class="fl">32.2</span>, <span class="sc">-</span><span class="dv">110</span>, <span class="fl">33.1</span>),</span>
<span id="cb176-45"><a href="#cb176-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom =</span> <span class="dv">10</span>,</span>
<span id="cb176-46"><a href="#cb176-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">maptype =</span> <span class="st">&quot;terrain-background&quot;</span>,</span>
<span id="cb176-47"><a href="#cb176-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">&quot;bw&quot;</span></span>
<span id="cb176-48"><a href="#cb176-48" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb176-49"><a href="#cb176-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-50"><a href="#cb176-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object</span></span>
<span id="cb176-51"><a href="#cb176-51" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(g.net)</span>
<span id="cb176-52"><a href="#cb176-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-53"><a href="#cb176-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb176-54"><a href="#cb176-54" aria-hidden="true" tabindex="-1"></a>edges2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(zz[edgelist[, <span class="dv">1</span>], ], zz[edgelist[, <span class="dv">2</span>], ])</span>
<span id="cb176-55"><a href="#cb176-55" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb176-56"><a href="#cb176-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-57"><a href="#cb176-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot jittered coordinates on map</span></span>
<span id="cb176-58"><a href="#cb176-58" aria-hidden="true" tabindex="-1"></a>figure_6_7 <span class="ot">&lt;-</span> <span class="fu">ggmap</span>(base3, <span class="at">darken =</span> <span class="fl">0.35</span>) <span class="sc">+</span></span>
<span id="cb176-59"><a href="#cb176-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb176-60"><a href="#cb176-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges2,</span>
<span id="cb176-61"><a href="#cb176-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb176-62"><a href="#cb176-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb176-63"><a href="#cb176-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb176-64"><a href="#cb176-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb176-65"><a href="#cb176-65" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb176-66"><a href="#cb176-66" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb176-67"><a href="#cb176-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb176-68"><a href="#cb176-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb176-69"><a href="#cb176-69" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb176-70"><a href="#cb176-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb176-71"><a href="#cb176-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> zz,</span>
<span id="cb176-72"><a href="#cb176-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb176-73"><a href="#cb176-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb176-74"><a href="#cb176-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;red&#39;</span>,</span>
<span id="cb176-75"><a href="#cb176-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb176-76"><a href="#cb176-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb176-77"><a href="#cb176-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb176-78"><a href="#cb176-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">label =</span> attr), <span class="at">data =</span> zz, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb176-79"><a href="#cb176-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scalebar</span>(</span>
<span id="cb176-80"><a href="#cb176-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">x.min =</span> <span class="sc">-</span><span class="dv">111</span>,</span>
<span id="cb176-81"><a href="#cb176-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">x.max =</span> <span class="sc">-</span><span class="fl">110.75</span>,</span>
<span id="cb176-82"><a href="#cb176-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">y.min =</span> <span class="fl">32.25</span>,</span>
<span id="cb176-83"><a href="#cb176-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">y.max =</span> <span class="dv">33</span>,</span>
<span id="cb176-84"><a href="#cb176-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">dist =</span> <span class="dv">10</span>,</span>
<span id="cb176-85"><a href="#cb176-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">dist_unit =</span> <span class="st">&quot;km&quot;</span>,</span>
<span id="cb176-86"><a href="#cb176-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">st.bottom =</span> <span class="cn">FALSE</span>,</span>
<span id="cb176-87"><a href="#cb176-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">transform =</span> <span class="cn">TRUE</span>,</span>
<span id="cb176-88"><a href="#cb176-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">&quot;WGS84&quot;</span></span>
<span id="cb176-89"><a href="#cb176-89" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb176-90"><a href="#cb176-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb176-91"><a href="#cb176-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-92"><a href="#cb176-92" aria-hidden="true" tabindex="-1"></a>figure_6_7</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="Figure_6_8" class="section level3" number="5.4.8">
<h3><span class="header-section-number">5.4.8</span> Figure 6.8: Graph Layout Algorithms</h3>
<p>Fig. 6.8. Several different graph layouts all using the same Aegean Sites network. In each graph, nodes are scale based on betweenness centrality and color coded based on optimal clusters based on modularity maximization.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb177-5"><a href="#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb177-6"><a href="#cb177-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraphdata)</span>
<span id="cb177-7"><a href="#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(graphlayouts)</span>
<span id="cb177-8"><a href="#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb177-9"><a href="#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb177-10"><a href="#cb177-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-11"><a href="#cb177-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Load igraph aegean_net data</span></span>
<span id="cb177-12"><a href="#cb177-12" aria-hidden="true" tabindex="-1"></a><span class="co">#data(aegean_net)</span></span>
<span id="cb177-13"><a href="#cb177-13" aria-hidden="true" tabindex="-1"></a>aegean <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/aegean.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>, <span class="at">header =</span> T)</span>
<span id="cb177-14"><a href="#cb177-14" aria-hidden="true" tabindex="-1"></a>aegean_dist <span class="ot">&lt;-</span> aegean</span>
<span id="cb177-15"><a href="#cb177-15" aria-hidden="true" tabindex="-1"></a>aegean_dist[aegean_dist <span class="sc">&gt;</span> <span class="dv">124</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb177-16"><a href="#cb177-16" aria-hidden="true" tabindex="-1"></a>aegean_dist[aegean_dist <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb177-17"><a href="#cb177-17" aria-hidden="true" tabindex="-1"></a>aegean_net <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(aegean_dist))</span>
<span id="cb177-18"><a href="#cb177-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-19"><a href="#cb177-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Define cluster membership and betweenness centrality for plotting</span></span>
<span id="cb177-20"><a href="#cb177-20" aria-hidden="true" tabindex="-1"></a>grp <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">cluster_optimal</span>(aegean_net)<span class="sc">$</span>membership)</span>
<span id="cb177-21"><a href="#cb177-21" aria-hidden="true" tabindex="-1"></a>bw <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(igraph<span class="sc">::</span><span class="fu">betweenness</span>(aegean_net))</span>
<span id="cb177-22"><a href="#cb177-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-23"><a href="#cb177-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create geographic network and plot</span></span>
<span id="cb177-24"><a href="#cb177-24" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/aegean_locs.csv&#39;</span>)</span>
<span id="cb177-25"><a href="#cb177-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-26"><a href="#cb177-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert attribute location data to sf coordinates</span></span>
<span id="cb177-27"><a href="#cb177-27" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span></span>
<span id="cb177-28"><a href="#cb177-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(nodes,</span>
<span id="cb177-29"><a href="#cb177-29" aria-hidden="true" tabindex="-1"></a>           <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;Longitude&quot;</span>, <span class="st">&quot;Latitude&quot;</span>),</span>
<span id="cb177-30"><a href="#cb177-30" aria-hidden="true" tabindex="-1"></a>           <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb177-31"><a href="#cb177-31" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(locations_sf)) <span class="sc">%&gt;%</span></span>
<span id="cb177-32"><a href="#cb177-32" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb177-33"><a href="#cb177-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-34"><a href="#cb177-34" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb177-35"><a href="#cb177-35" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb177-36"><a href="#cb177-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-37"><a href="#cb177-37" aria-hidden="true" tabindex="-1"></a>myMap <span class="ot">&lt;-</span> <span class="fu">get_stamenmap</span>(<span class="at">bbox =</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="fl">34.5</span>, <span class="dv">29</span>, <span class="fl">38.8</span>),</span>
<span id="cb177-38"><a href="#cb177-38" aria-hidden="true" tabindex="-1"></a>                       <span class="at">zoom =</span> <span class="dv">8</span>,</span>
<span id="cb177-39"><a href="#cb177-39" aria-hidden="true" tabindex="-1"></a>                       <span class="at">maptype =</span> <span class="st">&quot;terrain-background&quot;</span>)</span>
<span id="cb177-40"><a href="#cb177-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-41"><a href="#cb177-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object for road_net</span></span>
<span id="cb177-42"><a href="#cb177-42" aria-hidden="true" tabindex="-1"></a>edgelist1 <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(aegean_net)</span>
<span id="cb177-43"><a href="#cb177-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-44"><a href="#cb177-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb177-45"><a href="#cb177-45" aria-hidden="true" tabindex="-1"></a>edges1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist1), <span class="dv">4</span>))</span>
<span id="cb177-46"><a href="#cb177-46" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb177-47"><a href="#cb177-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist1)) {</span>
<span id="cb177-48"><a href="#cb177-48" aria-hidden="true" tabindex="-1"></a>  edges1[i, ] <span class="ot">&lt;-</span></span>
<span id="cb177-49"><a href="#cb177-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Name <span class="sc">==</span> edgelist1[i, <span class="dv">1</span>]), ]<span class="sc">$</span>Longitude,</span>
<span id="cb177-50"><a href="#cb177-50" aria-hidden="true" tabindex="-1"></a>      nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Name <span class="sc">==</span> edgelist1[i, <span class="dv">1</span>]), ]<span class="sc">$</span>Latitude,</span>
<span id="cb177-51"><a href="#cb177-51" aria-hidden="true" tabindex="-1"></a>      nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Name <span class="sc">==</span> edgelist1[i, <span class="dv">2</span>]), ]<span class="sc">$</span>Longitude,</span>
<span id="cb177-52"><a href="#cb177-52" aria-hidden="true" tabindex="-1"></a>      nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Name <span class="sc">==</span> edgelist1[i, <span class="dv">2</span>]), ]<span class="sc">$</span>Latitude)</span>
<span id="cb177-53"><a href="#cb177-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb177-54"><a href="#cb177-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-55"><a href="#cb177-55" aria-hidden="true" tabindex="-1"></a>geo_net <span class="ot">&lt;-</span> <span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb177-56"><a href="#cb177-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb177-57"><a href="#cb177-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges1,</span>
<span id="cb177-58"><a href="#cb177-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb177-59"><a href="#cb177-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb177-60"><a href="#cb177-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb177-61"><a href="#cb177-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb177-62"><a href="#cb177-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb177-63"><a href="#cb177-63" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb177-64"><a href="#cb177-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb177-65"><a href="#cb177-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb177-66"><a href="#cb177-66" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb177-67"><a href="#cb177-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb177-68"><a href="#cb177-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb177-69"><a href="#cb177-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">size =</span> bw, <span class="at">fill =</span> grp),</span>
<span id="cb177-70"><a href="#cb177-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb177-71"><a href="#cb177-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb177-72"><a href="#cb177-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb177-73"><a href="#cb177-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb177-74"><a href="#cb177-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb177-75"><a href="#cb177-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-76"><a href="#cb177-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-77"><a href="#cb177-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb177-78"><a href="#cb177-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Geographic&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-79"><a href="#cb177-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)))</span>
<span id="cb177-80"><a href="#cb177-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-81"><a href="#cb177-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Multidimensional Scaling Layout with color by cluster and node</span></span>
<span id="cb177-82"><a href="#cb177-82" aria-hidden="true" tabindex="-1"></a><span class="co"># size by betweenness</span></span>
<span id="cb177-83"><a href="#cb177-83" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">435353</span>)</span>
<span id="cb177-84"><a href="#cb177-84" aria-hidden="true" tabindex="-1"></a>g.mds <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(aegean_net, <span class="at">layout =</span> <span class="st">&quot;mds&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-85"><a href="#cb177-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb177-86"><a href="#cb177-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp, <span class="at">size =</span> bw),</span>
<span id="cb177-87"><a href="#cb177-87" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb177-88"><a href="#cb177-88" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb177-89"><a href="#cb177-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb177-90"><a href="#cb177-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-91"><a href="#cb177-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-92"><a href="#cb177-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>),</span>
<span id="cb177-93"><a href="#cb177-93" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-94"><a href="#cb177-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb177-95"><a href="#cb177-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-96"><a href="#cb177-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Multi-Dimensional Scaling&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-97"><a href="#cb177-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb177-98"><a href="#cb177-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-99"><a href="#cb177-99" aria-hidden="true" tabindex="-1"></a><span class="co"># Fruchterman-Reingold Layout with color by cluster and node size</span></span>
<span id="cb177-100"><a href="#cb177-100" aria-hidden="true" tabindex="-1"></a><span class="co"># by betweenness</span></span>
<span id="cb177-101"><a href="#cb177-101" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">435353</span>)</span>
<span id="cb177-102"><a href="#cb177-102" aria-hidden="true" tabindex="-1"></a>g.fr <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(aegean_net, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-103"><a href="#cb177-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb177-104"><a href="#cb177-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp, <span class="at">size =</span> bw),</span>
<span id="cb177-105"><a href="#cb177-105" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb177-106"><a href="#cb177-106" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb177-107"><a href="#cb177-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb177-108"><a href="#cb177-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-109"><a href="#cb177-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-110"><a href="#cb177-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>),</span>
<span id="cb177-111"><a href="#cb177-111" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-112"><a href="#cb177-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb177-113"><a href="#cb177-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-114"><a href="#cb177-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Fruchterman-Reingold&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-115"><a href="#cb177-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb177-116"><a href="#cb177-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-117"><a href="#cb177-117" aria-hidden="true" tabindex="-1"></a><span class="co"># Kamada-Kawai Layout with color by cluster and node size by betweenness</span></span>
<span id="cb177-118"><a href="#cb177-118" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">435353</span>)</span>
<span id="cb177-119"><a href="#cb177-119" aria-hidden="true" tabindex="-1"></a>g.kk <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(aegean_net, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-120"><a href="#cb177-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb177-121"><a href="#cb177-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp, <span class="at">size =</span> bw),</span>
<span id="cb177-122"><a href="#cb177-122" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span> ,</span>
<span id="cb177-123"><a href="#cb177-123" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb177-124"><a href="#cb177-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb177-125"><a href="#cb177-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-126"><a href="#cb177-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-127"><a href="#cb177-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>),</span>
<span id="cb177-128"><a href="#cb177-128" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-129"><a href="#cb177-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb177-130"><a href="#cb177-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-131"><a href="#cb177-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Kamada-Kawai&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-132"><a href="#cb177-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb177-133"><a href="#cb177-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-134"><a href="#cb177-134" aria-hidden="true" tabindex="-1"></a><span class="co"># Radial Centrality Layout with color by cluster and node size by</span></span>
<span id="cb177-135"><a href="#cb177-135" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness</span></span>
<span id="cb177-136"><a href="#cb177-136" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">435353</span>)</span>
<span id="cb177-137"><a href="#cb177-137" aria-hidden="true" tabindex="-1"></a>g.cent <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(aegean_net,</span>
<span id="cb177-138"><a href="#cb177-138" aria-hidden="true" tabindex="-1"></a>                 <span class="at">layout =</span> <span class="st">&quot;centrality&quot;</span>,</span>
<span id="cb177-139"><a href="#cb177-139" aria-hidden="true" tabindex="-1"></a>                 <span class="at">centrality =</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(aegean_net)) <span class="sc">+</span></span>
<span id="cb177-140"><a href="#cb177-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb177-141"><a href="#cb177-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp, <span class="at">size =</span> bw),</span>
<span id="cb177-142"><a href="#cb177-142" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb177-143"><a href="#cb177-143" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb177-144"><a href="#cb177-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb177-145"><a href="#cb177-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-146"><a href="#cb177-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-147"><a href="#cb177-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>),</span>
<span id="cb177-148"><a href="#cb177-148" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-149"><a href="#cb177-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb177-150"><a href="#cb177-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-151"><a href="#cb177-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Radial Centrality&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-152"><a href="#cb177-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb177-153"><a href="#cb177-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-154"><a href="#cb177-154" aria-hidden="true" tabindex="-1"></a><span class="co"># Spectral Layout with color by cluster and node size by betweenness</span></span>
<span id="cb177-155"><a href="#cb177-155" aria-hidden="true" tabindex="-1"></a>u1 <span class="ot">&lt;-</span> <span class="fu">layout_with_eigen</span>(aegean_net)</span>
<span id="cb177-156"><a href="#cb177-156" aria-hidden="true" tabindex="-1"></a>g.spec <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(aegean_net,</span>
<span id="cb177-157"><a href="#cb177-157" aria-hidden="true" tabindex="-1"></a>                 <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb177-158"><a href="#cb177-158" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> u1[, <span class="dv">1</span>],</span>
<span id="cb177-159"><a href="#cb177-159" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> u1[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb177-160"><a href="#cb177-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb177-161"><a href="#cb177-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grp, <span class="at">size =</span> bw),</span>
<span id="cb177-162"><a href="#cb177-162" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb177-163"><a href="#cb177-163" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb177-164"><a href="#cb177-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb177-165"><a href="#cb177-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-166"><a href="#cb177-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-167"><a href="#cb177-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>),</span>
<span id="cb177-168"><a href="#cb177-168" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-169"><a href="#cb177-169" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb177-170"><a href="#cb177-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb177-171"><a href="#cb177-171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb177-172"><a href="#cb177-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Spectral&quot;</span>) <span class="sc">+</span></span>
<span id="cb177-173"><a href="#cb177-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb177-174"><a href="#cb177-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-175"><a href="#cb177-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-176"><a href="#cb177-176" aria-hidden="true" tabindex="-1"></a>figure_6_8 <span class="ot">&lt;-</span></span>
<span id="cb177-177"><a href="#cb177-177" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggarrange</span>(geo_net,</span>
<span id="cb177-178"><a href="#cb177-178" aria-hidden="true" tabindex="-1"></a>            g.mds,</span>
<span id="cb177-179"><a href="#cb177-179" aria-hidden="true" tabindex="-1"></a>            g.fr,</span>
<span id="cb177-180"><a href="#cb177-180" aria-hidden="true" tabindex="-1"></a>            g.kk,</span>
<span id="cb177-181"><a href="#cb177-181" aria-hidden="true" tabindex="-1"></a>            g.cent,</span>
<span id="cb177-182"><a href="#cb177-182" aria-hidden="true" tabindex="-1"></a>            g.spec,</span>
<span id="cb177-183"><a href="#cb177-183" aria-hidden="true" tabindex="-1"></a>            <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb177-184"><a href="#cb177-184" aria-hidden="true" tabindex="-1"></a>            <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb177-185"><a href="#cb177-185" aria-hidden="true" tabindex="-1"></a>figure_6_8</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_8-1.png" width="672" /></p>
</div>
<div id="Figure_6_9" class="section level3" number="5.4.9">
<h3><span class="header-section-number">5.4.9</span> Figure 6.9: Heirarchical Graph Layouts</h3>
<p>Fig. 6.9. Examples of visualizations based on hierarchical graph data. A) Graph with nodes color coded by hierarchical level. B) Bubble plot where nodes are scaled proportional to the sub-group size. C) Dendrogram of hierarchical cluster data. D) Radial graph with edges bundled based on similarity in relations. Edges are color coded such that they are red at the origin and purple at the destination to help visualize direction.</p>
<p>These graphs are based on a hierarchical graph that was created by assigning nodes to the leaves of a hierarchical cluster analysis performed on the Cibola ceramic technological cluster data. The data for 6.9d were randomly generated following an example on the R Graph Gallery. <a href="data/Figure6_9.Rdata">Use these data</a> to follow along.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize libraries</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ape)</span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-8"><a href="#cb178-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">&quot;data/Figure6_9.Rdata&quot;</span>)</span>
<span id="cb178-9"><a href="#cb178-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-10"><a href="#cb178-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4353543</span>)</span>
<span id="cb178-11"><a href="#cb178-11" aria-hidden="true" tabindex="-1"></a>h1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(h_graph, <span class="st">&#39;circlepack&#39;</span>) <span class="sc">+</span></span>
<span id="cb178-12"><a href="#cb178-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb178-13"><a href="#cb178-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> depth, <span class="at">size =</span> (<span class="fu">max</span>(depth) <span class="sc">-</span> depth) <span class="sc">/</span> <span class="dv">2</span>),</span>
<span id="cb178-14"><a href="#cb178-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb178-15"><a href="#cb178-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span></span>
<span id="cb178-16"><a href="#cb178-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb178-17"><a href="#cb178-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span>
<span id="cb178-18"><a href="#cb178-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-19"><a href="#cb178-19" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">643346463</span>)</span>
<span id="cb178-20"><a href="#cb178-20" aria-hidden="true" tabindex="-1"></a>h2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(h_graph, <span class="st">&#39;circlepack&#39;</span>) <span class="sc">+</span></span>
<span id="cb178-21"><a href="#cb178-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_circle</span>(<span class="fu">aes</span>(<span class="at">fill =</span> depth),</span>
<span id="cb178-22"><a href="#cb178-22" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="fl">0.25</span>,</span>
<span id="cb178-23"><a href="#cb178-23" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n =</span> <span class="dv">50</span>,</span>
<span id="cb178-24"><a href="#cb178-24" aria-hidden="true" tabindex="-1"></a>                   <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb178-25"><a href="#cb178-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>() <span class="sc">+</span></span>
<span id="cb178-26"><a href="#cb178-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb178-27"><a href="#cb178-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span>
<span id="cb178-28"><a href="#cb178-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-29"><a href="#cb178-29" aria-hidden="true" tabindex="-1"></a>h3 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(h_graph, <span class="st">&#39;dendrogram&#39;</span>) <span class="sc">+</span></span>
<span id="cb178-30"><a href="#cb178-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">filter =</span> leaf),</span>
<span id="cb178-31"><a href="#cb178-31" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&#39;blue&#39;</span> ,</span>
<span id="cb178-32"><a href="#cb178-32" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha =</span> <span class="fl">0.7</span>,</span>
<span id="cb178-33"><a href="#cb178-33" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb178-34"><a href="#cb178-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb178-35"><a href="#cb178-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>()</span>
<span id="cb178-36"><a href="#cb178-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-37"><a href="#cb178-37" aria-hidden="true" tabindex="-1"></a>h4 <span class="ot">&lt;-</span></span>
<span id="cb178-38"><a href="#cb178-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(sub_grp_graph, <span class="at">layout =</span> <span class="st">&#39;dendrogram&#39;</span>, <span class="at">circular =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb178-39"><a href="#cb178-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_conn_bundle</span>(</span>
<span id="cb178-40"><a href="#cb178-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">get_con</span>(<span class="at">from =</span> from, <span class="at">to =</span> to),</span>
<span id="cb178-41"><a href="#cb178-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.2</span>,</span>
<span id="cb178-42"><a href="#cb178-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.9</span>,</span>
<span id="cb178-43"><a href="#cb178-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">tension =</span> <span class="fl">0.9</span>,</span>
<span id="cb178-44"><a href="#cb178-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">colour =</span> ..index..)</span>
<span id="cb178-45"><a href="#cb178-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb178-46"><a href="#cb178-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_colour_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;RdPu&quot;</span>) <span class="sc">+</span></span>
<span id="cb178-47"><a href="#cb178-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(</span>
<span id="cb178-48"><a href="#cb178-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> leaf,</span>
<span id="cb178-49"><a href="#cb178-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> x <span class="sc">*</span> <span class="fl">1.05</span>,</span>
<span id="cb178-50"><a href="#cb178-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> y <span class="sc">*</span> <span class="fl">1.05</span>,</span>
<span id="cb178-51"><a href="#cb178-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> group</span>
<span id="cb178-52"><a href="#cb178-52" aria-hidden="true" tabindex="-1"></a>  ), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb178-53"><a href="#cb178-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">rep</span>(<span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;Paired&quot;</span>) , <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb178-54"><a href="#cb178-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb178-55"><a href="#cb178-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb178-56"><a href="#cb178-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-57"><a href="#cb178-57" aria-hidden="true" tabindex="-1"></a>figure_6_9 <span class="ot">&lt;-</span> <span class="fu">ggarrange</span>(</span>
<span id="cb178-58"><a href="#cb178-58" aria-hidden="true" tabindex="-1"></a>  h1,</span>
<span id="cb178-59"><a href="#cb178-59" aria-hidden="true" tabindex="-1"></a>  h2,</span>
<span id="cb178-60"><a href="#cb178-60" aria-hidden="true" tabindex="-1"></a>  h3,</span>
<span id="cb178-61"><a href="#cb178-61" aria-hidden="true" tabindex="-1"></a>  h4,</span>
<span id="cb178-62"><a href="#cb178-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb178-63"><a href="#cb178-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb178-64"><a href="#cb178-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;(a)&#39;</span>, <span class="st">&#39;(b)&#39;</span>, <span class="st">&#39;(c)&#39;</span>, <span class="st">&#39;(d)&#39;</span>)</span>
<span id="cb178-65"><a href="#cb178-65" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb178-66"><a href="#cb178-66" aria-hidden="true" tabindex="-1"></a>figure_6_9</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_9-1.png" width="672" /></p>
</div>
<div id="Figure_6_10" class="section level3" number="5.4.10">
<h3><span class="header-section-number">5.4.10</span> Figure 6.10: Be kind to the color blind</h3>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb179-6"><a href="#cb179-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(colorspace)</span>
<span id="cb179-7"><a href="#cb179-7" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;data/colorblindr.R&quot;</span>)</span>
<span id="cb179-8"><a href="#cb179-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-9"><a href="#cb179-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Peeples2018.Rdata&quot;</span>)</span>
<span id="cb179-10"><a href="#cb179-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-11"><a href="#cb179-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create igraph object for plots below</span></span>
<span id="cb179-12"><a href="#cb179-12" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(BRnet)</span>
<span id="cb179-13"><a href="#cb179-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-14"><a href="#cb179-14" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">347</span>)</span>
<span id="cb179-15"><a href="#cb179-15" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb179-16"><a href="#cb179-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">edge_color =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb179-17"><a href="#cb179-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(</span>
<span id="cb179-18"><a href="#cb179-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> site_info<span class="sc">$</span>Region),</span>
<span id="cb179-19"><a href="#cb179-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb179-20"><a href="#cb179-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(net) <span class="sc">/</span> <span class="dv">2</span>,</span>
<span id="cb179-21"><a href="#cb179-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb179-22"><a href="#cb179-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb179-23"><a href="#cb179-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set2&quot;</span>) <span class="sc">+</span></span>
<span id="cb179-24"><a href="#cb179-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb179-25"><a href="#cb179-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb179-26"><a href="#cb179-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-27"><a href="#cb179-27" aria-hidden="true" tabindex="-1"></a><span class="fu">cvd_grid2</span>(g1)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_10-1.png" width="672" /></p>
</div>
<div id="Figure_6_11" class="section level3" number="5.4.11">
<h3><span class="header-section-number">5.4.11</span> Figure 6.11: Node Symbol and Color Schemes</h3>
<p>Fig. 6.11. Examples of different node color and symbol schemes. Note how adding color and size eases the identification of particular values, in particular with closely spaced points. Using transparency can similarly aid in showing multiple overlapping nodes.</p>
<p>The version that appears in the book was compiled and labeled in Adobe Illustrator.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">5</span>),</span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">16</span>,</span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="fu">seq</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb180-9"><a href="#cb180-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">4</span>),</span>
<span id="cb180-10"><a href="#cb180-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>,</span>
<span id="cb180-11"><a href="#cb180-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxt =</span> <span class="st">&#39;n&#39;</span>,</span>
<span id="cb180-12"><a href="#cb180-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxt =</span> <span class="st">&#39;n&#39;</span>,</span>
<span id="cb180-13"><a href="#cb180-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>,</span>
<span id="cb180-14"><a href="#cb180-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">&#39;&#39;</span></span>
<span id="cb180-15"><a href="#cb180-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb180-16"><a href="#cb180-16" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(</span>
<span id="cb180-17"><a href="#cb180-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb180-18"><a href="#cb180-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rep</span>(<span class="fl">1.5</span>, <span class="dv">5</span>),</span>
<span id="cb180-19"><a href="#cb180-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb180-20"><a href="#cb180-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="fu">seq</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb180-21"><a href="#cb180-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> <span class="fu">heat.colors</span>(<span class="dv">5</span>, <span class="at">rev =</span> T)</span>
<span id="cb180-22"><a href="#cb180-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb180-23"><a href="#cb180-23" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(</span>
<span id="cb180-24"><a href="#cb180-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb180-25"><a href="#cb180-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>),</span>
<span id="cb180-26"><a href="#cb180-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb180-27"><a href="#cb180-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="fu">seq</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb180-28"><a href="#cb180-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> <span class="st">&#39;skyblue&#39;</span>,</span>
<span id="cb180-29"><a href="#cb180-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&#39;blue&#39;</span>,</span>
<span id="cb180-30"><a href="#cb180-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">lwd =</span> <span class="dv">2</span></span>
<span id="cb180-31"><a href="#cb180-31" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_11-1.png" width="672" /></p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">34456</span>)</span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">15</span>, <span class="dv">1</span>, <span class="fl">0.5</span>)</span>
<span id="cb181-4"><a href="#cb181-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">15</span>, <span class="dv">1</span>, <span class="fl">0.5</span>)</span>
<span id="cb181-5"><a href="#cb181-5" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x, y)</span>
<span id="cb181-6"><a href="#cb181-6" aria-hidden="true" tabindex="-1"></a>xy2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x <span class="sc">+</span> <span class="dv">5</span>, y)</span>
<span id="cb181-7"><a href="#cb181-7" aria-hidden="true" tabindex="-1"></a>xy3 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x <span class="sc">+</span> <span class="dv">10</span>, y)</span>
<span id="cb181-8"><a href="#cb181-8" aria-hidden="true" tabindex="-1"></a>xy4 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x <span class="sc">+</span> <span class="dv">15</span>, y)</span>
<span id="cb181-9"><a href="#cb181-9" aria-hidden="true" tabindex="-1"></a>xy5 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x <span class="sc">+</span> <span class="dv">20</span>, y)</span>
<span id="cb181-10"><a href="#cb181-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-11"><a href="#cb181-11" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>), <span class="at">size =</span> <span class="dv">15</span>, <span class="at">replace =</span> T)</span>
<span id="cb181-12"><a href="#cb181-12" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> size <span class="sc">-</span> <span class="dv">4</span></span>
<span id="cb181-13"><a href="#cb181-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-14"><a href="#cb181-14" aria-hidden="true" tabindex="-1"></a>h.col <span class="ot">&lt;-</span> <span class="fu">heat.colors</span>(<span class="dv">5</span>, <span class="at">rev =</span> T)</span>
<span id="cb181-15"><a href="#cb181-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-16"><a href="#cb181-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb181-17"><a href="#cb181-17" aria-hidden="true" tabindex="-1"></a>  xy[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T), ],</span>
<span id="cb181-18"><a href="#cb181-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">16</span>,</span>
<span id="cb181-19"><a href="#cb181-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&#39;blue&#39;</span>,</span>
<span id="cb181-20"><a href="#cb181-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)],</span>
<span id="cb181-21"><a href="#cb181-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">22</span>),</span>
<span id="cb181-22"><a href="#cb181-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">3</span>),</span>
<span id="cb181-23"><a href="#cb181-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty =</span> <span class="st">&#39;n&#39;</span>,</span>
<span id="cb181-24"><a href="#cb181-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxt =</span> <span class="st">&#39;n&#39;</span>,</span>
<span id="cb181-25"><a href="#cb181-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxt =</span> <span class="st">&#39;n&#39;</span>,</span>
<span id="cb181-26"><a href="#cb181-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>,</span>
<span id="cb181-27"><a href="#cb181-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">&#39;&#39;</span></span>
<span id="cb181-28"><a href="#cb181-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb181-29"><a href="#cb181-29" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(xy2[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T), ],</span>
<span id="cb181-30"><a href="#cb181-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb181-31"><a href="#cb181-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">bg =</span> h.col[size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)]],</span>
<span id="cb181-32"><a href="#cb181-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)])</span>
<span id="cb181-33"><a href="#cb181-33" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(xy3[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T), ],</span>
<span id="cb181-34"><a href="#cb181-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)],</span>
<span id="cb181-35"><a href="#cb181-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">&#39;blue&#39;</span>,</span>
<span id="cb181-36"><a href="#cb181-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)])</span>
<span id="cb181-37"><a href="#cb181-37" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(</span>
<span id="cb181-38"><a href="#cb181-38" aria-hidden="true" tabindex="-1"></a>  xy4[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T), ],</span>
<span id="cb181-39"><a href="#cb181-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb181-40"><a href="#cb181-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&#39;gray66&#39;</span>,</span>
<span id="cb181-41"><a href="#cb181-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg =</span> <span class="fu">alpha</span>(<span class="st">&#39;blue&#39;</span>, <span class="fl">0.7</span>),</span>
<span id="cb181-42"><a href="#cb181-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)]</span>
<span id="cb181-43"><a href="#cb181-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb181-44"><a href="#cb181-44" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(xy5[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T), ],</span>
<span id="cb181-45"><a href="#cb181-45" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">21</span>,</span>
<span id="cb181-46"><a href="#cb181-46" aria-hidden="true" tabindex="-1"></a>       <span class="at">bg =</span> <span class="fu">alpha</span>(h.col[size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)]], <span class="fl">0.7</span>),</span>
<span id="cb181-47"><a href="#cb181-47" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> size[<span class="fu">order</span>(size, <span class="at">decreasing =</span> T)])</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_11-2.png" width="672" /></p>
</div>
<div id="Figure_6_12" class="section level3" number="5.4.12">
<h3><span class="header-section-number">5.4.12</span> Figure 6.12: Image for Node</h3>
<p>Fig. 6.12. Network graph showing similarity among carved faces from Banés, Holguín province, Cuba. Nodes are depicted as the objects in question themselves and edges represent shared attributes with numbers indicating the number of shared attributes for each pair of faces.</p>
<p>Figure 6.12 was used with permission by Angus Mol and the original was produced for his 2014 book.</p>
<p><img src="images/Fig6_12.jpg" style="width:100.0%" /></p>
</div>
<div id="Figure_6_13" class="section level3" number="5.4.13">
<h3><span class="header-section-number">5.4.13</span> Figure 6.13: Images for Nodes</h3>
<p>Fig. 6.13. Two-mode network of ceramics and sites in the San Pedro Valley with ceramic ware categories represented by a graphic example of each type.</p>
<p>The version of Figure 6.13 in the Brughmans and Peeples (2022) book was originally created in NetDraw and modified to add the node pictures in Adobe Photoshop. This approach was preferred as it produced higher resolution and more consistent images than the graphics we could produce directly in R for this particular feature. It is, however, possible to use images in the place of nodes in R networks as the example below illustrates.</p>
<p>We have found in practice that this feature in R works best for simple icons. If you are using high resolution images or lots of color or detail in your images it works better to create an initial image format in something like R or NetDraw and then to modify the network in a graphical editing software after the fact. You can <a href="data/Figure6_13.Rdata">download the data</a> to follow along.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_13.Rdata&quot;</span>)</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="co"># two_mode_net - igraph two mode network object</span></span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a><span class="co"># img.1 &lt;- readPNG(&quot;images/site.png&quot;)</span></span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a><span class="co">#img.2 &lt;- readPNG(&quot;images/pot.png&quot;)</span></span>
<span id="cb182-8"><a href="#cb182-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-9"><a href="#cb182-9" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(two_mode_net)<span class="sc">$</span>raster <span class="ot">&lt;-</span> <span class="fu">list</span>(img<span class="fl">.1</span>, img<span class="fl">.2</span>)[<span class="fu">V</span>(two_mode_net)<span class="sc">$</span>type <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb182-10"><a href="#cb182-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-11"><a href="#cb182-11" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">34673</span>)</span>
<span id="cb182-12"><a href="#cb182-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb182-13"><a href="#cb182-13" aria-hidden="true" tabindex="-1"></a>  two_mode_net,</span>
<span id="cb182-14"><a href="#cb182-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.shape =</span> <span class="st">&quot;raster&quot;</span>,</span>
<span id="cb182-15"><a href="#cb182-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label =</span> <span class="cn">NA</span>,</span>
<span id="cb182-16"><a href="#cb182-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size =</span> <span class="dv">16</span>,</span>
<span id="cb182-17"><a href="#cb182-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size2 =</span> <span class="dv">16</span>,</span>
<span id="cb182-18"><a href="#cb182-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.width =</span> <span class="dv">2</span>,</span>
<span id="cb182-19"><a href="#cb182-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.color =</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb182-20"><a href="#cb182-20" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_13-1.png" width="672" /></p>
</div>
<div id="Figure_6_14" class="section level3" number="5.4.14">
<h3><span class="header-section-number">5.4.14</span> Figure 6.14: Edge Thickness and Color</h3>
<p>Fig. 6.14. A random weighted graph where edge line thickness and color are both used to indicate weight in 5 categories.</p>
<p>You can <a href="data/Figure6_14.Rdata">download the data and images</a> to follow along.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_14.Rdata&quot;</span>)</span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a>edge.cols <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&#39;gray&#39;</span>, <span class="st">&#39;darkblue&#39;</span>))(<span class="dv">5</span>)</span>
<span id="cb183-9"><a href="#cb183-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-10"><a href="#cb183-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">43644</span>)</span>
<span id="cb183-11"><a href="#cb183-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g.net, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb183-12"><a href="#cb183-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> <span class="fu">E</span>(g.net)<span class="sc">$</span>weight),</span>
<span id="cb183-13"><a href="#cb183-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">edge_colour =</span> edge.cols[<span class="fu">E</span>(g.net)<span class="sc">$</span>weight]) <span class="sc">+</span></span>
<span id="cb183-14"><a href="#cb183-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb183-15"><a href="#cb183-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(g.net) <span class="sc">+</span> <span class="dv">3</span>,</span>
<span id="cb183-16"><a href="#cb183-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb183-17"><a href="#cb183-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb183-18"><a href="#cb183-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>()) </span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_14-1.png" width="672" /></p>
</div>
<div id="Figure_6_15" class="section level3" number="5.4.15">
<h3><span class="header-section-number">5.4.15</span> Figure 6.15: Edge Direction</h3>
<p>Fig. 6.15. Two methods of displaying directed ties using arrows (a) and arcs (c). Both of these simple networks represent the same relationships shown in the adjacency matrix in the center (b).</p>
<p>See the tutorial above for more details on using arrows in ggraph.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph</span>( <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>,</span>
<span id="cb184-7"><a href="#cb184-7" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>,</span>
<span id="cb184-8"><a href="#cb184-8" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>,</span>
<span id="cb184-9"><a href="#cb184-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>,</span>
<span id="cb184-10"><a href="#cb184-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;C&quot;</span>,<span class="st">&quot;B&quot;</span>,</span>
<span id="cb184-11"><a href="#cb184-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;D&quot;</span>,<span class="st">&quot;C&quot;</span>))</span>
<span id="cb184-12"><a href="#cb184-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-13"><a href="#cb184-13" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>), <span class="dv">1</span>, <span class="dv">5</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb184-14"><a href="#cb184-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-15"><a href="#cb184-15" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4355467</span>)</span>
<span id="cb184-16"><a href="#cb184-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb184-17"><a href="#cb184-17" aria-hidden="true" tabindex="-1"></a>  g,</span>
<span id="cb184-18"><a href="#cb184-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.arrow.size =</span> <span class="dv">1</span>,</span>
<span id="cb184-19"><a href="#cb184-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb184-20"><a href="#cb184-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size =</span> <span class="dv">50</span>,</span>
<span id="cb184-21"><a href="#cb184-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.frame.color =</span> <span class="st">&quot;gray&quot;</span>,</span>
<span id="cb184-22"><a href="#cb184-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb184-23"><a href="#cb184-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.width =</span> <span class="dv">2</span>,</span>
<span id="cb184-24"><a href="#cb184-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="fl">2.75</span>,</span>
<span id="cb184-25"><a href="#cb184-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.dist =</span> <span class="dv">0</span>,</span>
<span id="cb184-26"><a href="#cb184-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.family =</span> <span class="st">&#39;Helvetica&#39;</span></span>
<span id="cb184-27"><a href="#cb184-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb184-28"><a href="#cb184-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-29"><a href="#cb184-29" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.new</span>()</span>
<span id="cb184-30"><a href="#cb184-30" aria-hidden="true" tabindex="-1"></a>adj1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.matrix</span>(<span class="fu">as_adjacency_matrix</span>(g)))</span>
<span id="cb184-31"><a href="#cb184-31" aria-hidden="true" tabindex="-1"></a>tt2 <span class="ot">&lt;-</span> <span class="fu">ttheme_minimal</span>(<span class="at">base_size =</span> <span class="dv">25</span>)</span>
<span id="cb184-32"><a href="#cb184-32" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.table</span>(adj1, <span class="at">theme =</span> tt2)</span>
<span id="cb184-33"><a href="#cb184-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-34"><a href="#cb184-34" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb184-35"><a href="#cb184-35" aria-hidden="true" tabindex="-1"></a>  g,</span>
<span id="cb184-36"><a href="#cb184-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.arrow.size =</span> <span class="fl">1.25</span>,</span>
<span id="cb184-37"><a href="#cb184-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb184-38"><a href="#cb184-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size =</span> <span class="dv">50</span>,</span>
<span id="cb184-39"><a href="#cb184-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.frame.color =</span> <span class="st">&quot;gray&quot;</span>,</span>
<span id="cb184-40"><a href="#cb184-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb184-41"><a href="#cb184-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.width =</span> <span class="dv">2</span>,</span>
<span id="cb184-42"><a href="#cb184-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.curved =</span> <span class="fl">0.3</span>,</span>
<span id="cb184-43"><a href="#cb184-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="fl">2.75</span>,</span>
<span id="cb184-44"><a href="#cb184-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.dist =</span> <span class="dv">0</span>,</span>
<span id="cb184-45"><a href="#cb184-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.family =</span> <span class="st">&#39;Helvetica&#39;</span></span>
<span id="cb184-46"><a href="#cb184-46" aria-hidden="true" tabindex="-1"></a>) </span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_15-1.png" width="672" /></p>
</div>
<div id="Figure_6_16" class="section level3" number="5.4.16">
<h3><span class="header-section-number">5.4.16</span> Figure 6.16: Edge Binarization</h3>
<p>Fig. 6.16. These networks all show the same data based on similarity scores among sites in the U.S. Southwest (ca. A.D. 1350-1400) but each has a different cutoff for binarization.</p>
<p>The following chunk of code uses <a href="data/Figure6_16.Rdata">ceramic similarity data from the SWSN database</a> and defines three different cutoff thresholds for defining edges.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb185-5"><a href="#cb185-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb185-6"><a href="#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb185-7"><a href="#cb185-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-8"><a href="#cb185-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_16.Rdata&quot;</span>)</span>
<span id="cb185-9"><a href="#cb185-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Contains similarity matrix AD1350sim</span></span>
<span id="cb185-10"><a href="#cb185-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-11"><a href="#cb185-11" aria-hidden="true" tabindex="-1"></a>AD1350sim_cut0_5 <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(<span class="fu">network</span>(</span>
<span id="cb185-12"><a href="#cb185-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">event2dichot</span>(AD1350sim,</span>
<span id="cb185-13"><a href="#cb185-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">method =</span> <span class="st">&quot;absolute&quot;</span>,</span>
<span id="cb185-14"><a href="#cb185-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">thresh =</span> <span class="fl">0.25</span>),</span>
<span id="cb185-15"><a href="#cb185-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span></span>
<span id="cb185-16"><a href="#cb185-16" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb185-17"><a href="#cb185-17" aria-hidden="true" tabindex="-1"></a>AD1350sim_cut0_75 <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(<span class="fu">network</span>(</span>
<span id="cb185-18"><a href="#cb185-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">event2dichot</span>(AD1350sim,</span>
<span id="cb185-19"><a href="#cb185-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">method =</span> <span class="st">&quot;absolute&quot;</span>,</span>
<span id="cb185-20"><a href="#cb185-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">thresh =</span> <span class="fl">0.5</span>),</span>
<span id="cb185-21"><a href="#cb185-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span></span>
<span id="cb185-22"><a href="#cb185-22" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb185-23"><a href="#cb185-23" aria-hidden="true" tabindex="-1"></a>AD1350sim_cut0_9 <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(<span class="fu">network</span>(</span>
<span id="cb185-24"><a href="#cb185-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">event2dichot</span>(AD1350sim,</span>
<span id="cb185-25"><a href="#cb185-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">method =</span> <span class="st">&quot;absolute&quot;</span>,</span>
<span id="cb185-26"><a href="#cb185-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">thresh =</span> <span class="fl">0.75</span>),</span>
<span id="cb185-27"><a href="#cb185-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> <span class="cn">FALSE</span></span>
<span id="cb185-28"><a href="#cb185-28" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb185-29"><a href="#cb185-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-30"><a href="#cb185-30" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4637</span>)</span>
<span id="cb185-31"><a href="#cb185-31" aria-hidden="true" tabindex="-1"></a>g0<span class="fl">.50</span> <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(AD1350sim_cut0_5, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-32"><a href="#cb185-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-33"><a href="#cb185-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span></span>
<span id="cb185-34"><a href="#cb185-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;0.25&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-35"><a href="#cb185-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb185-36"><a href="#cb185-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-37"><a href="#cb185-37" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574578</span>)</span>
<span id="cb185-38"><a href="#cb185-38" aria-hidden="true" tabindex="-1"></a>g0<span class="fl">.75</span> <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(AD1350sim_cut0_75, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-39"><a href="#cb185-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-40"><a href="#cb185-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span></span>
<span id="cb185-41"><a href="#cb185-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;0.50&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-42"><a href="#cb185-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb185-43"><a href="#cb185-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-44"><a href="#cb185-44" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">7343</span>)</span>
<span id="cb185-45"><a href="#cb185-45" aria-hidden="true" tabindex="-1"></a>g0<span class="fl">.90</span> <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(AD1350sim_cut0_9, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-46"><a href="#cb185-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">edge_colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-47"><a href="#cb185-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span></span>
<span id="cb185-48"><a href="#cb185-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;0.75&quot;</span>) <span class="sc">+</span></span>
<span id="cb185-49"><a href="#cb185-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb185-50"><a href="#cb185-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-51"><a href="#cb185-51" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(g0<span class="fl">.50</span>, g0<span class="fl">.75</span>, g0<span class="fl">.90</span>, <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_16-1.png" width="672" /></p>
</div>
<div id="Figure_6_17" class="section level3" number="5.4.17">
<h3><span class="header-section-number">5.4.17</span> Figure 6.17: Edge Bundling</h3>
<p>Fig. 6.17. Network map of ceramic similarity from the U.S. Southwest/Mexican Northwest ca. A.D. 1350-1400 based on the hammer bundling algorithm.</p>
<p>This function relies on the <code>edgebundle</code> package to combine sets of nodes with similar relations into single paths. This package also requires that you install the <code>reticulate</code> package which connects R to Python 3.7 and you must also have Python installed on your computer with the datashader libraries. To install an instance of Python with all of the required libraries you can use the following call: <code>install_bundle_py(method = "auto", conda = "auto")</code>. Note that this will require about 1.4 GB of disk space. <a href="data/Figure6_17.Rdata">Use these data</a> to follow along. Note that this procedure can take several seconds to a few minutes depending on the speed of your computer. Note that this figure will look somewhat different from the one in the book as the locations of sites have been jittered for data security</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(edgebundle)</span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&#39;data/Figure6_17.Rdata&#39;</span>)</span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="co"># attr.dat - site attribute data</span></span>
<span id="cb186-10"><a href="#cb186-10" aria-hidden="true" tabindex="-1"></a><span class="co"># g.net - igraph network object</span></span>
<span id="cb186-11"><a href="#cb186-11" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&#39;data/map.RData&#39;</span>)</span>
<span id="cb186-12"><a href="#cb186-12" aria-hidden="true" tabindex="-1"></a><span class="co"># map3 - state outlines</span></span>
<span id="cb186-13"><a href="#cb186-13" aria-hidden="true" tabindex="-1"></a><span class="co"># base2 - terrain basemap in black and white</span></span>
<span id="cb186-14"><a href="#cb186-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-15"><a href="#cb186-15" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(attr.dat, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;V3&quot;</span>, <span class="st">&quot;V4&quot;</span>),</span>
<span id="cb186-16"><a href="#cb186-16" aria-hidden="true" tabindex="-1"></a>                         <span class="at">crs =</span> <span class="dv">26912</span>)</span>
<span id="cb186-17"><a href="#cb186-17" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(locations_sf, <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb186-18"><a href="#cb186-18" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(z)) <span class="sc">%&gt;%</span></span>
<span id="cb186-19"><a href="#cb186-19" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb186-20"><a href="#cb186-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-21"><a href="#cb186-21" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb186-22"><a href="#cb186-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb186-23"><a href="#cb186-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-24"><a href="#cb186-24" aria-hidden="true" tabindex="-1"></a>hbundle <span class="ot">&lt;-</span> <span class="fu">edge_bundle_hammer</span>(g.net, xy, <span class="at">bw =</span> <span class="fl">0.9</span>, <span class="at">decay =</span> <span class="fl">0.2</span>)</span>
<span id="cb186-25"><a href="#cb186-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-26"><a href="#cb186-26" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(base2, <span class="at">darken =</span> <span class="fl">0.15</span>) <span class="sc">+</span></span>
<span id="cb186-27"><a href="#cb186-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(</span>
<span id="cb186-28"><a href="#cb186-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> map3,</span>
<span id="cb186-29"><a href="#cb186-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y,</span>
<span id="cb186-30"><a href="#cb186-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> Group<span class="fl">.1</span>),</span>
<span id="cb186-31"><a href="#cb186-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb186-32"><a href="#cb186-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb186-33"><a href="#cb186-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span></span>
<span id="cb186-34"><a href="#cb186-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb186-35"><a href="#cb186-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(</span>
<span id="cb186-36"><a href="#cb186-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> hbundle,</span>
<span id="cb186-37"><a href="#cb186-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">group =</span> group),</span>
<span id="cb186-38"><a href="#cb186-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb186-39"><a href="#cb186-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb186-40"><a href="#cb186-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb186-41"><a href="#cb186-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(</span>
<span id="cb186-42"><a href="#cb186-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> hbundle,</span>
<span id="cb186-43"><a href="#cb186-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">group =</span> group),</span>
<span id="cb186-44"><a href="#cb186-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;darkorchid4&quot;</span>,</span>
<span id="cb186-45"><a href="#cb186-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb186-46"><a href="#cb186-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb186-47"><a href="#cb186-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb186-48"><a href="#cb186-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb186-49"><a href="#cb186-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb186-50"><a href="#cb186-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.4</span>,</span>
<span id="cb186-51"><a href="#cb186-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb186-52"><a href="#cb186-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb186-53"><a href="#cb186-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb186-54"><a href="#cb186-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_17-1.png" width="672" /></p>
</div>
<div id="Figure_6_18" class="section level3" number="5.4.18">
<h3><span class="header-section-number">5.4.18</span> Figure 6.18: Group-in-a-box</h3>
<p>Fig. 6.18. Example of a group-in-a-box custom graph layout created in NodeXL based on ceramic similarity data from the U.S. Southwest/Mexican Northwest ca. AD 1350-1400.</p>
<p>The group-in-a-box network format is, as far as we are aware, currently only implemented in the <a href="https://www.smrfoundation.org/nodexl/">NodeXL</a> platform. This software package is an add-in for Microsoft Excel that allows for the creation and analysis of network graphs using a wide variety of useful visualization tools. To produce a “Group-in-a-box” layout you simply need to paste a set of edge list values into the NodeXL Excel Template, define groups (based on an algorithm or some vertex attribute), and the be sure to select “Layout each of the graph’s groups in its own box” in the layout options.</p>
<p>For more details on how to use NodeXL see the extensive documentation online. There are commercial versions of the software available but the group-in-a-box example shown here can be produced in the free version.</p>
<p><img src="images/group-in-a-box.jpg" style="width:100.0%" /></p>
<p>To download an Excel workbook set up for the example provided in the book <a href="%22data/NodeXLGraph1.xlsx%22">click here</a>. When you open this In Excel, it will ask you if it can install the necessary extensions. Say yes to continue and replicate the results in the book.</p>
</div>
<div id="Figure_6_19" class="section level3" number="5.4.19">
<h3><span class="header-section-number">5.4.19</span> Figure 6.19: Weighted Adjacency Matrix</h3>
<p>Fig. 6.19. Dual display of a network graph and associated weighted adjacency matrix based on Peeples (2018) ceramic technology data.</p>
<p>This plot uses a sub-set of the Cibola technological similarity network data to produce both a typical node-link diagram and an associated weighted adjacency matrix. <a href="data/Figure6_19.Rdata">Use these data</a> to follow along.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_19.Rdata&quot;</span>)</span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="co"># graph6.18 - graph object in igraph format</span></span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="co"># node_list - dataframe with node details</span></span>
<span id="cb187-9"><a href="#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="co"># edge_list - edge_list which contains information on groups</span></span>
<span id="cb187-10"><a href="#cb187-10" aria-hidden="true" tabindex="-1"></a><span class="co"># and edge weight</span></span>
<span id="cb187-11"><a href="#cb187-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-12"><a href="#cb187-12" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">343645</span>)</span>
<span id="cb187-13"><a href="#cb187-13" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(graph6<span class="fl">.18</span>)</span>
<span id="cb187-14"><a href="#cb187-14" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(graph6<span class="fl">.18</span>, <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb187-15"><a href="#cb187-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> coords[, <span class="dv">1</span>],</span>
<span id="cb187-16"><a href="#cb187-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> coords[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb187-17"><a href="#cb187-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(),</span>
<span id="cb187-18"><a href="#cb187-18" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">&#39;gray75&#39;</span>,</span>
<span id="cb187-19"><a href="#cb187-19" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb187-20"><a href="#cb187-20" aria-hidden="true" tabindex="-1"></a>                 <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb187-21"><a href="#cb187-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">as.factor</span>(<span class="fu">V</span>(graph6<span class="fl">.18</span>)<span class="sc">$</span>comm), <span class="at">size =</span> <span class="dv">5</span>),</span>
<span id="cb187-22"><a href="#cb187-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb187-23"><a href="#cb187-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;#8da0cb&#39;</span>, <span class="st">&#39;#66c2a5&#39;</span>, <span class="st">&#39;#fc8d62&#39;</span>),</span>
<span id="cb187-24"><a href="#cb187-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">guide =</span> F) <span class="sc">+</span></span>
<span id="cb187-25"><a href="#cb187-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb187-26"><a href="#cb187-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-27"><a href="#cb187-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Set order of nodes to order in which they appear in the y axis in</span></span>
<span id="cb187-28"><a href="#cb187-28" aria-hidden="true" tabindex="-1"></a><span class="co"># the network graph above</span></span>
<span id="cb187-29"><a href="#cb187-29" aria-hidden="true" tabindex="-1"></a>name_order <span class="ot">&lt;-</span> node_list[<span class="fu">order</span>(coords[, <span class="dv">2</span>]), ]<span class="sc">$</span>name</span>
<span id="cb187-30"><a href="#cb187-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-31"><a href="#cb187-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust the &#39;to&#39; and &#39;from&#39; factor levels so they are equal</span></span>
<span id="cb187-32"><a href="#cb187-32" aria-hidden="true" tabindex="-1"></a><span class="co"># to this complete list of node names</span></span>
<span id="cb187-33"><a href="#cb187-33" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> edge_list <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">to =</span> <span class="fu">factor</span>(to, <span class="at">levels =</span> name_order),</span>
<span id="cb187-34"><a href="#cb187-34" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">from =</span> <span class="fu">factor</span>(from, <span class="at">levels =</span> <span class="fu">rev</span>(name_order)))</span>
<span id="cb187-35"><a href="#cb187-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-36"><a href="#cb187-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Now run the ggplot code again</span></span>
<span id="cb187-37"><a href="#cb187-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the adjacency matrix plot</span></span>
<span id="cb187-38"><a href="#cb187-38" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(</span>
<span id="cb187-39"><a href="#cb187-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> from,</span>
<span id="cb187-40"><a href="#cb187-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> to,</span>
<span id="cb187-41"><a href="#cb187-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> group,</span>
<span id="cb187-42"><a href="#cb187-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha =</span> (weight <span class="sc">*</span> <span class="fl">1.5</span>)</span>
<span id="cb187-43"><a href="#cb187-43" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb187-44"><a href="#cb187-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb187-45"><a href="#cb187-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb187-46"><a href="#cb187-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb187-47"><a href="#cb187-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb187-48"><a href="#cb187-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb187-49"><a href="#cb187-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(</span>
<span id="cb187-50"><a href="#cb187-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">angle =</span> <span class="dv">270</span>,</span>
<span id="cb187-51"><a href="#cb187-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb187-52"><a href="#cb187-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)</span>
<span id="cb187-53"><a href="#cb187-53" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb187-54"><a href="#cb187-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb187-55"><a href="#cb187-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">aspect.ratio =</span> <span class="dv">1</span>,</span>
<span id="cb187-56"><a href="#cb187-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb187-57"><a href="#cb187-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb187-58"><a href="#cb187-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&#39;&#39;</span>) <span class="sc">+</span></span>
<span id="cb187-59"><a href="#cb187-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&#39;&#39;</span>) <span class="sc">+</span></span>
<span id="cb187-60"><a href="#cb187-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;#8da0cb&#39;</span>, <span class="st">&#39;#66c2a5&#39;</span>, <span class="st">&#39;#fc8d62&#39;</span>, <span class="st">&#39;black&#39;</span>),</span>
<span id="cb187-61"><a href="#cb187-61" aria-hidden="true" tabindex="-1"></a>                    <span class="at">guide =</span> F)</span>
<span id="cb187-62"><a href="#cb187-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-63"><a href="#cb187-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine into a single figure</span></span>
<span id="cb187-64"><a href="#cb187-64" aria-hidden="true" tabindex="-1"></a>figure6_19 <span class="ot">&lt;-</span> <span class="fu">ggarrange</span>(g1, g2, <span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb187-65"><a href="#cb187-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-66"><a href="#cb187-66" aria-hidden="true" tabindex="-1"></a>figure6_19</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_18-1.png" width="672" /></p>
</div>
<div id="Figure_6_20" class="section level3" number="5.4.20">
<h3><span class="header-section-number">5.4.20</span> Figure 6.20: Nodetrix Diagram</h3>
<p>Fig. 6.20. Nodetrix visualization of the Peeples (2018) ceramic technological data showing one dense cluster as an adjacency matrix and the remainder of the graph as a node-link diagram.</p>
<p>This Nodetrix interactive visualization was created using the Javascript implementation available on <a href="https://github.com/IRT-SystemX/nodetrix">GitHub</a> by user <a href="https://github.com/jdfekete/">jdfekete</a>, Jean-Daniel Fekete who was one of the original authors of the method (Henry et al. 2007).</p>
<p>The details of running the Javascript program are described on the GitHub page and are beyond this scope of this tutorial. We do illustrate below, however, how you can export R in the *.json format required by this program using the <code>d3r</code> and <code>rjson</code> packages.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(d3r)</span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rjson)</span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a><span class="co"># net &lt;- igraph network object</span></span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-7"><a href="#cb188-7" aria-hidden="true" tabindex="-1"></a>data_json <span class="ot">&lt;-</span> <span class="fu">d3_igraph</span>(net)</span>
<span id="cb188-8"><a href="#cb188-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-9"><a href="#cb188-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-10"><a href="#cb188-10" aria-hidden="true" tabindex="-1"></a>dj <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(data_json)</span>
<span id="cb188-11"><a href="#cb188-11" aria-hidden="true" tabindex="-1"></a>dj<span class="sc">$</span>links[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(dj<span class="sc">$</span>links[[<span class="dv">1</span>]])</span>
<span id="cb188-12"><a href="#cb188-12" aria-hidden="true" tabindex="-1"></a>dj<span class="sc">$</span>links[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(dj<span class="sc">$</span>links[[<span class="dv">2</span>]])</span>
<span id="cb188-13"><a href="#cb188-13" aria-hidden="true" tabindex="-1"></a>dj <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(dj)</span>
<span id="cb188-14"><a href="#cb188-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-15"><a href="#cb188-15" aria-hidden="true" tabindex="-1"></a><span class="fu">write</span>(dj, <span class="st">&quot;network.json&quot;</span>)</span></code></pre></div>
</div>
<div id="Figure_6_21" class="section level3" number="5.4.21">
<h3><span class="header-section-number">5.4.21</span> Figure 6.21: The Filmstrip Approach</h3>
<p>Fig. 6.21. A demonstration of the filmstrip approach to plotting longitudinal network data. These data represent networks of ceramic similarity in the San Pedro Valley of Arizona for three consecutive 50-year intervals.</p>
<p><a href="data/Figure6_21.Rdata">Use these data</a> to replicate the figures shown here.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_21.Rdata&quot;</span>)</span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4543</span>)</span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(AD1250net, <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(), <span class="at">color =</span> <span class="st">&#39;gray75&#39;</span>, <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb189-10"><a href="#cb189-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(),</span>
<span id="cb189-11"><a href="#cb189-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb189-12"><a href="#cb189-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F,</span>
<span id="cb189-13"><a href="#cb189-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-14"><a href="#cb189-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;AD1250-1300&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-15"><a href="#cb189-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb189-16"><a href="#cb189-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-17"><a href="#cb189-17" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4543</span>)</span>
<span id="cb189-18"><a href="#cb189-18" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(AD1300net, <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-19"><a href="#cb189-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(), <span class="at">color =</span> <span class="st">&#39;gray75&#39;</span>, <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb189-20"><a href="#cb189-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(),</span>
<span id="cb189-21"><a href="#cb189-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb189-22"><a href="#cb189-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F,</span>
<span id="cb189-23"><a href="#cb189-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-24"><a href="#cb189-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;AD1300-1350&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-25"><a href="#cb189-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb189-26"><a href="#cb189-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-27"><a href="#cb189-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-28"><a href="#cb189-28" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4543</span>)</span>
<span id="cb189-29"><a href="#cb189-29" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(AD1350net, <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-30"><a href="#cb189-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(), <span class="at">color =</span> <span class="st">&#39;gray75&#39;</span>, <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb189-31"><a href="#cb189-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(),</span>
<span id="cb189-32"><a href="#cb189-32" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb189-33"><a href="#cb189-33" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F,</span>
<span id="cb189-34"><a href="#cb189-34" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-35"><a href="#cb189-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;AD1350-1400&quot;</span>) <span class="sc">+</span></span>
<span id="cb189-36"><a href="#cb189-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb189-37"><a href="#cb189-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-38"><a href="#cb189-38" aria-hidden="true" tabindex="-1"></a>figure6_21 <span class="ot">&lt;-</span> <span class="fu">ggarrange</span>(g1, g2, g3, <span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb189-39"><a href="#cb189-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-40"><a href="#cb189-40" aria-hidden="true" tabindex="-1"></a>figure6_21</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_21-1.png" width="672" /></p>
</div>
<div id="Figure_6_22" class="section level3" number="5.4.22">
<h3><span class="header-section-number">5.4.22</span> Figure 6.22: Similtaneous Display</h3>
<p>Fig. 6.22. Examples of simultaneous display of two consecutive intervals for the San Pedro valley ceramic similarity network. A) A network using the Kamada-Kawai algorithm with edges color coded based on time period. B) An arc plot showing ties in consecutive intervals above and below the line.</p>
<p><a href="data/Figure6_22.Rdata">Use these data</a> to follow along.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb190-6"><a href="#cb190-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-7"><a href="#cb190-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_22.Rdata&quot;</span>)</span>
<span id="cb190-8"><a href="#cb190-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-9"><a href="#cb190-9" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(net.all)</span>
<span id="cb190-10"><a href="#cb190-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-11"><a href="#cb190-11" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(graph)</span>
<span id="cb190-12"><a href="#cb190-12" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">cbind</span>(sites,xy)</span>
<span id="cb190-13"><a href="#cb190-13" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(xy)</span>
<span id="cb190-14"><a href="#cb190-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;site&#39;</span>,<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>)</span>
<span id="cb190-15"><a href="#cb190-15" aria-hidden="true" tabindex="-1"></a>xy<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(xy<span class="sc">$</span>x)</span>
<span id="cb190-16"><a href="#cb190-16" aria-hidden="true" tabindex="-1"></a>xy<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(xy<span class="sc">$</span>y)</span>
<span id="cb190-17"><a href="#cb190-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-18"><a href="#cb190-18" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">6436</span>)</span>
<span id="cb190-19"><a href="#cb190-19" aria-hidden="true" tabindex="-1"></a>similt.net <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(graph,<span class="at">layout=</span><span class="st">&quot;manual&quot;</span>,</span>
<span id="cb190-20"><a href="#cb190-20" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x=</span>xy<span class="sc">$</span>x, <span class="at">y=</span>xy<span class="sc">$</span>y) <span class="sc">+</span></span>
<span id="cb190-21"><a href="#cb190-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">colour =</span> Period), <span class="at">alpha=</span><span class="fl">0.3</span>, <span class="at">width=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb190-22"><a href="#cb190-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb190-23"><a href="#cb190-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb190-24"><a href="#cb190-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb190-25"><a href="#cb190-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb190-26"><a href="#cb190-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.height=</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">&#39;cm&#39;</span>),</span>
<span id="cb190-27"><a href="#cb190-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.width=</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">&#39;cm&#39;</span>))</span>
<span id="cb190-28"><a href="#cb190-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-29"><a href="#cb190-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the graph</span></span>
<span id="cb190-30"><a href="#cb190-30" aria-hidden="true" tabindex="-1"></a>lin.net <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(SPgraph, <span class="at">layout=</span><span class="st">&quot;linear&quot;</span>) <span class="sc">+</span></span>
<span id="cb190-31"><a href="#cb190-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">edge_colour=</span><span class="st">&quot;black&quot;</span>, <span class="at">edge_alpha=</span><span class="fl">0.4</span>, <span class="at">edge_width=</span><span class="fl">0.3</span>,</span>
<span id="cb190-32"><a href="#cb190-32" aria-hidden="true" tabindex="-1"></a>                <span class="at">fold=</span>F, <span class="at">strength=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb190-33"><a href="#cb190-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(SPgraph)), <span class="at">col=</span><span class="st">&#39;red&#39;</span>,</span>
<span id="cb190-34"><a href="#cb190-34" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb190-35"><a href="#cb190-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb190-36"><a href="#cb190-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb190-37"><a href="#cb190-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title=</span><span class="fu">element_blank</span>(),</span>
<span id="cb190-38"><a href="#cb190-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin=</span><span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">0.4</span>,<span class="dv">0</span>), <span class="st">&quot;null&quot;</span>),</span>
<span id="cb190-39"><a href="#cb190-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing=</span><span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">3.4</span>,<span class="dv">0</span>), <span class="st">&quot;null&quot;</span>)) <span class="sc">+</span></span>
<span id="cb190-40"><a href="#cb190-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">&quot;AD 1250-1300&quot;</span>,</span>
<span id="cb190-41"><a href="#cb190-41" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb190-42"><a href="#cb190-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">3</span>, <span class="at">label =</span> <span class="st">&quot;AD 1300-1350&quot;</span>,</span>
<span id="cb190-43"><a href="#cb190-43" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">4</span>)</span>
<span id="cb190-44"><a href="#cb190-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-45"><a href="#cb190-45" aria-hidden="true" tabindex="-1"></a>similt.net</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>lin.net</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
</div>
<div id="Figure_6_23" class="section level3" number="5.4.23">
<h3><span class="header-section-number">5.4.23</span> Figure 6:23: Timelines and Time Prisms</h3>
<p>Fig. 6.23. This plot shows two displays of the same ceramic similarity data from the Sonoran Desert in the U.S. Southwest as a time prism (top) and timeline (bottom).</p>
<p><a href="data/Figure6_23.Rdata">Use these data</a> to follow along.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkDynamic)</span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ndtv)</span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GISTools)</span>
<span id="cb192-5"><a href="#cb192-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb192-6"><a href="#cb192-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-7"><a href="#cb192-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_23.Rdata&quot;</span>)</span>
<span id="cb192-8"><a href="#cb192-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-9"><a href="#cb192-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create networkDynamic object from list containing multiple</span></span>
<span id="cb192-10"><a href="#cb192-10" aria-hidden="true" tabindex="-1"></a><span class="co"># sna network objects</span></span>
<span id="cb192-11"><a href="#cb192-11" aria-hidden="true" tabindex="-1"></a>SanPedro <span class="ot">&lt;-</span> <span class="fu">networkDynamic</span>(<span class="at">network.list =</span> SP_nets)</span>
<span id="cb192-12"><a href="#cb192-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Neither start or onsets specified, assuming start=0</span></span>
<span id="cb192-13"><a href="#cb192-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Onsets and termini not specified, assuming each network in network.list should have a discrete spell of length 1</span></span>
<span id="cb192-14"><a href="#cb192-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Argument base.net not specified, using first element of network.list instead</span></span>
<span id="cb192-15"><a href="#cb192-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Created net.obs.period to describe network</span></span>
<span id="cb192-16"><a href="#cb192-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Network observation period info:</span></span>
<span id="cb192-17"><a href="#cb192-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Number of observation spells: 1 </span></span>
<span id="cb192-18"><a href="#cb192-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Maximal time range observed: 0 until 5 </span></span>
<span id="cb192-19"><a href="#cb192-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Temporal mode: discrete </span></span>
<span id="cb192-20"><a href="#cb192-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Time unit: step </span></span>
<span id="cb192-21"><a href="#cb192-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Suggested time increment: 1</span></span>
<span id="cb192-22"><a href="#cb192-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-23"><a href="#cb192-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute animation</span></span>
<span id="cb192-24"><a href="#cb192-24" aria-hidden="true" tabindex="-1"></a><span class="fu">compute.animation</span>(SanPedro, <span class="at">default.dist =</span> <span class="dv">7</span>, <span class="at">animation.mode =</span> <span class="st">&#39;MDSJ&#39;</span>)</span>
<span id="cb192-25"><a href="#cb192-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; slice parameters:</span></span>
<span id="cb192-26"><a href="#cb192-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   start:0</span></span>
<span id="cb192-27"><a href="#cb192-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   end:5</span></span>
<span id="cb192-28"><a href="#cb192-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   interval:1</span></span>
<span id="cb192-29"><a href="#cb192-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   aggregate.dur:1</span></span>
<span id="cb192-30"><a href="#cb192-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   rule:latest</span></span>
<span id="cb192-31"><a href="#cb192-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb192-32"><a href="#cb192-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;MDSJ starting stress: 5333.748322735649&quot;</span></span>
<span id="cb192-33"><a href="#cb192-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;MDSJ ending stress: 959.8403889430563&quot;  </span></span>
<span id="cb192-34"><a href="#cb192-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;MDSJ starting stress: 1513.37664545105&quot;</span></span>
<span id="cb192-35"><a href="#cb192-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;MDSJ ending stress: 953.4925252779665&quot; </span></span>
<span id="cb192-36"><a href="#cb192-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;MDSJ starting stress: 8135.582271649673&quot;</span></span>
<span id="cb192-37"><a href="#cb192-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;MDSJ ending stress: 794.6838984207894&quot;  </span></span>
<span id="cb192-38"><a href="#cb192-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;MDSJ starting stress: 32217.392056956618&quot;</span></span>
<span id="cb192-39"><a href="#cb192-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;MDSJ ending stress: 592.4696838819254&quot;   </span></span>
<span id="cb192-40"><a href="#cb192-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;MDSJ starting stress: 630.6742514219839&quot;</span></span>
<span id="cb192-41"><a href="#cb192-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;MDSJ ending stress: 567.800667042469&quot;</span></span>
<span id="cb192-42"><a href="#cb192-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-43"><a href="#cb192-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for regions</span></span>
<span id="cb192-44"><a href="#cb192-44" aria-hidden="true" tabindex="-1"></a>mycol <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb192-45"><a href="#cb192-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add.alpha</span>(<span class="st">&#39;#1b9e77&#39;</span>, <span class="fl">0.75</span>),</span>
<span id="cb192-46"><a href="#cb192-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add.alpha</span>(<span class="st">&#39;#d95f02&#39;</span>, <span class="fl">0.75</span>),</span>
<span id="cb192-47"><a href="#cb192-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add.alpha</span>(<span class="st">&#39;#7570b3&#39;</span>, <span class="fl">0.75</span>),</span>
<span id="cb192-48"><a href="#cb192-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add.alpha</span>(<span class="st">&#39;#e7298a&#39;</span>, <span class="fl">0.75</span>),</span>
<span id="cb192-49"><a href="#cb192-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add.alpha</span>(<span class="st">&#39;#66a61e&#39;</span>, <span class="fl">0.75</span>),</span>
<span id="cb192-50"><a href="#cb192-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add.alpha</span>(<span class="st">&#39;#e6ab02&#39;</span>, <span class="fl">0.75</span>)</span>
<span id="cb192-51"><a href="#cb192-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb192-52"><a href="#cb192-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-53"><a href="#cb192-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot time prism</span></span>
<span id="cb192-54"><a href="#cb192-54" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">364467</span>)</span>
<span id="cb192-55"><a href="#cb192-55" aria-hidden="true" tabindex="-1"></a><span class="fu">timePrism</span>(</span>
<span id="cb192-56"><a href="#cb192-56" aria-hidden="true" tabindex="-1"></a>  SanPedro,</span>
<span id="cb192-57"><a href="#cb192-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">at =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb192-58"><a href="#cb192-58" aria-hidden="true" tabindex="-1"></a>  <span class="at">displaylabels =</span> F,</span>
<span id="cb192-59"><a href="#cb192-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">planes =</span> <span class="cn">TRUE</span>,</span>
<span id="cb192-60"><a href="#cb192-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">display.isolates =</span> F,</span>
<span id="cb192-61"><a href="#cb192-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.cex =</span> <span class="fl">0.5</span>,</span>
<span id="cb192-62"><a href="#cb192-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">usearrows =</span> F,</span>
<span id="cb192-63"><a href="#cb192-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.cex =</span> <span class="fl">0.5</span>,</span>
<span id="cb192-64"><a href="#cb192-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.col =</span> <span class="st">&#39;gray50&#39;</span>,</span>
<span id="cb192-65"><a href="#cb192-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.col =</span> mycol[<span class="fu">factor</span>(SP_attr<span class="sc">$</span>SWSN_MacroGroup)]</span>
<span id="cb192-66"><a href="#cb192-66" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_23-1.png" width="672" /></p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proximity timeline</span></span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">235254</span>)</span>
<span id="cb193-4"><a href="#cb193-4" aria-hidden="true" tabindex="-1"></a><span class="fu">proximity.timeline</span>(</span>
<span id="cb193-5"><a href="#cb193-5" aria-hidden="true" tabindex="-1"></a>  SanPedro,</span>
<span id="cb193-6"><a href="#cb193-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">default.dist =</span> <span class="dv">10</span>,</span>
<span id="cb193-7"><a href="#cb193-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&#39;sammon&#39;</span>,</span>
<span id="cb193-8"><a href="#cb193-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels.at =</span> <span class="dv">17</span>,</span>
<span id="cb193-9"><a href="#cb193-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.cex =</span> <span class="dv">4</span>,</span>
<span id="cb193-10"><a href="#cb193-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">render.edges =</span> F,</span>
<span id="cb193-11"><a href="#cb193-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.col =</span> mycol[<span class="fu">factor</span>(SP_attr<span class="sc">$</span>SWSN_MacroGroup)],</span>
<span id="cb193-12"><a href="#cb193-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">chain.direction =</span> <span class="st">&#39;reverse&#39;</span>,</span>
<span id="cb193-13"><a href="#cb193-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxt =</span> <span class="st">&#39;n&#39;</span></span>
<span id="cb193-14"><a href="#cb193-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/Fig6_23-2.png" width="672" /></p>
</div>
<div id="Figure_6_24" class="section level3" number="5.4.24">
<h3><span class="header-section-number">5.4.24</span> Figure 6.24: Animation</h3>
<p>Fig. 6.24. An example of three frames from a network animation.</p>
<p>Figure 6.24 was created using the <code>ndtv</code> package and the same data produced above for figure 6.23. We simply rendered the animation as above and then output to an interactive html widget. The figure in the book represents 3 screen shots from the video. See the <code>ndtv</code> documentation for more details.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">render.d3movie</span>(SanPedro, <span class="at">vertex.col =</span> mycol[<span class="fu">factor</span>(SP_attr<span class="sc">$</span>SWSN_MacroGroup)],</span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">output.mode =</span> <span class="st">&quot;inline&quot;</span>)</span></code></pre></div>
<iframe style="width: 100%; height: 500px;" src="data:text/html;base64,PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSdlbic+DQogIDxoZWFkPg0KICAg
IDxtZXRhIGNoYXJzZXQ9J3V0Zi04Jz4NCiAgICAgIDwhLS0gY3NzIGZvciBzdHls
aW5nIHRoZSBkMy5zbGlkZXIgbGliIC0tPg0KICAgICAgPHN0eWxlIHR5cGU9J3Rl
eHQvY3NzJz4uZDMtc2xpZGVyIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAg
IGZvbnQtZmFtaWx5OiBWZXJkYW5hLEFyaWFsLHNhbnMtc2VyaWY7CiAgICBmb250
LXNpemU6IDEuMWVtOwogICAgYm9yZGVyOiAxcHggc29saWQgI2FhYWFhYTsKICAg
IHotaW5kZXg6IDI7Cn0KCi5kMy1zbGlkZXItaG9yaXpvbnRhbCB7CiAgICBoZWln
aHQ6IC44ZW07Cn0gIAoKLmQzLXNsaWRlci1yYW5nZSB7CiAgYmFja2dyb3VuZDoj
Mjk4MGI5OwogIGxlZnQ6MHB4OwogIHJpZ2h0OjBweDsKICBoZWlnaHQ6IDAuOGVt
OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoKLmQzLXNsaWRlci1yYW5nZS12ZXJ0
aWNhbCB7CiAgYmFja2dyb3VuZDojMjk4MGI5OwogIGxlZnQ6MHB4OwogIHJpZ2h0
OjBweDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOjA7Cn0KCi5kMy1zbGlk
ZXItdmVydGljYWwgewogICAgd2lkdGg6IC44ZW07CiAgICBoZWlnaHQ6IDEwMHB4
Owp9ICAgICAgCgouZDMtc2xpZGVyLWhhbmRsZSB7CiAgICBwb3NpdGlvbjogYWJz
b2x1dGU7CiAgICB3aWR0aDogMS4yZW07CiAgICBoZWlnaHQ6IDEuMmVtOwogICAg
Ym9yZGVyOiAxcHggc29saWQgI2QzZDNkMzsKICAgIGJvcmRlci1yYWRpdXM6IDRw
eDsKICAgIGJhY2tncm91bmQ6ICNlZWU7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXIt
Z3JhZGllbnQodG8gYm90dG9tLCAjZWVlIDAlLCAjZGRkIDEwMCUpOwogICAgei1p
bmRleDogMzsKICAgIGN1cnNvcjogbW92ZTsKfQoKLmQzLXNsaWRlci1oYW5kbGU6
aG92ZXIgewogICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTsKfQoKLmQzLXNs
aWRlci1ob3Jpem9udGFsIC5kMy1zbGlkZXItaGFuZGxlIHsKICAgIHRvcDogLS4z
ZW07Cn0KCi5kMy1zbGlkZXItYXhpcyB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7
CiAgICB6LWluZGV4OiAxOyAgICAKfQoKLmQzLXNsaWRlci1heGlzLWJvdHRvbSB7
CiAgICB0b3A6IC44ZW07Cn0KCi5kMy1zbGlkZXItYXhpcy1yaWdodCB7CiAgICBs
ZWZ0OiAuOGVtOwp9CgouZDMtc2xpZGVyLWF4aXMgcGF0aCB7CiAgICBzdHJva2Ut
d2lkdGg6IDA7CiAgICBmaWxsOiBub25lOwp9CgouZDMtc2xpZGVyLWF4aXMgbGlu
ZSB7CiAgICBmaWxsOiBub25lOwogICAgc3Ryb2tlOiAjYWFhOwogICAgc2hhcGUt
cmVuZGVyaW5nOiBjcmlzcEVkZ2VzOwp9CgouZDMtc2xpZGVyLWF4aXMgdGV4dCB7
CiAgICBmb250LXNpemU6IDExcHg7Cn0KCi5kMy1zbGlkZXItdmVydGljYWwgLmQz
LXNsaWRlci1oYW5kbGUgewogICAgbGVmdDogLS4yNWVtOwogICAgbWFyZ2luLWxl
ZnQ6IDA7CiAgICBtYXJnaW4tYm90dG9tOiAtLjZlbTsgICAgICAKfTwvc3R5bGU+
DQogICAgICA8IS0tIGNzcyBmb3Igc3R5bGluZyB0aGUgbmR0di1kMyByZW5kZXIg
YW5kIGNvbXBvbmVudHMgLS0+DQogICAgICA8c3R5bGUgdHlwZT0ndGV4dC9jc3Mn
Pi5uZHR2LWZ1bGxzY3JlZW4geyAKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsK
ICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7Cn0KCi5uZHR2LWQzLWNvbnRh
aW5lciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgoubWFpbiwgLnhsYWIgewog
IHRleHQtYW5jaG9yOiBtaWRkbGU7Cn0KCi5sYWJlbCwgLm1haW4sIC54bGFiLCAu
dG9vbHRpcCB7CiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7Cn0KCi5kcmFnZ2lu
ZyB7CiAgY3Vyc29yOiBtb3ZlOwp9Cgoubm9kZSB7CiAgc3Ryb2tlLXdpZHRoOiAx
cHg7CiAgZmlsbDogcmVkOwogIHN0cm9rZTogYmxhY2s7Cn0KCi5ub2RlLCAuZWRn
ZSB7CiAgY3Vyc29yOiBwb2ludGVyOwogIC8qdHJhbnNpdGlvbjogc3Ryb2tlLXdp
ZHRoIDAuMnMgZWFzZTsqLwp9CgovKi5ub2RlOmhvdmVyLCAuZWRnZTpob3ZlciB7
CiAgc3Ryb2tlLXdpZHRoOiA1cHggIWltcG9ydGFudDsKfSovCgouZWRnZSB7CiAg
c3Ryb2tlOiBibGFjazsKfQoKLmxhYmVsIHsKICBwb2ludGVyLWV2ZW50czogbm9u
ZTsKfQoKLmdyYXBoIHsgCiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93
OiBoaWRkZW47Cn0KCi5rZXkgewogIHBhZGRpbmc6IDEwcHg7CiAgdGV4dC1hbGln
bjogY2VudGVyOwp9CgouY29udHJvbHMgeyAKICBtYXJnaW46IDEwcHggMjBweDsK
ICBoZWlnaHQ6IDQwcHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBwb3Np
dGlvbjogYWJzb2x1dGU7CiAgYm90dG9tOiAwcHg7CiAgbGVmdDogMHB4OwogIHJp
Z2h0OiAwcHg7Cn0KCi5wbGF5LWNvbnRyb2wtY29udGFpbmVyPmRpdiB7CiAgd2lk
dGg6IDI1cHg7CiAgaGVpZ2h0OiAyNXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAg
ZGlzcGxheTogaW5saW5lLWJsb2NrOwp9CgouY29udHJvbHMgLmljb24sIC5uZHR2
LW1lbnUtY29udGFpbmVyIC5pY29uIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6
IDEwMCU7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgouY29udHJvbHMgLmljb246aG92
ZXIgewogIGZpbGw6IGJsdWU7Cn0KCi5kYXRhX2Nob29zZXJfY29udGFpbmVyIHsK
ICBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgbGVmdDogMTBweDsKfQoK
LnBsYXktY29udHJvbC1jb250YWluZXIgewogIGZsb2F0OiByaWdodDsgCiAgYmFj
a2dyb3VuZDogI2NjYzsgCiAgYm9yZGVyLXJhZGl1czogNXB4OyAKICBwYWRkaW5n
OiA3cHg7CiAgcGFkZGluZy1ib3R0b206IDNweDsKICBib3gtc2l6aW5nOiBib3Jk
ZXItYm94Owp9CgoubmR0di1kMy1jb250YWluZXIgeyAKICBwb3NpdGlvbjogcmVs
YXRpdmU7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3JkZXI6IDFweCBz
b2xpZDsKfQoKLnNsaWRlci1jb250cm9sLWNvbnRhaW5lciB7IAogIG1hcmdpbi1y
aWdodDogMTYwcHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLmQzLXNs
aWRlci1oYW5kbGUgewogIG1pbi13aWR0aDogMTBweDsKfQoKLmQzLXNsaWRlci1h
eGlzIHsKICBoZWlnaHQ6IDIwcHg7Cn0KCi50b29sdGlwIHsKICBkaXNwbGF5OiBu
b25lOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB6LWluZGV4OiAxMDAwOwogIHBh
ZGRpbmc6IDEwcHggMTBweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1
LCAxKTsKICBib3JkZXI6IDFweCBzb2xpZCAjNjY2OwogIG9wYWNpdHk6IDE7ICAv
KiB0aGlzIGlzIHRvIHByZXZlbnQgYm9vdHN0cmFwJ3MgdG9vbHRpcCBydWxlIGZy
b20gb3ZlcnJkaW5nICovCn0KCi5mcmFtZUluZm8gewogIGRpc3BsYXk6IG5vbmU7
CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMHB4OwogIGxlZnQ6IDBw
eDsKICBwYWRkaW5nOiA1cHg7Cn0KCi5kdXJhdGlvbkNvbnRyb2wgewogIHdpZHRo
OiAxNTBweDsKICBtYXJnaW4tYm90dG9tOiAyMHB4OyAKfQoKLmNvbnRhaW5lciAu
c2NyZWVuIHsKICBvcGFjaXR5OiAwOwogIHBvaW50ZXItZXZlbnRzOiBub25lOwog
IGZpbGw6IG5vbmU7Cn0KCi5jb250YWluZXIgLnNjcmVlbi5uZXR3b3JrLXNlbGVj
dGVkIHsKICBvcGFjaXR5OiAuNjsKfQoKLm5kdHYtbWVudS1jb250YWluZXIgewog
IHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDVweDsKICByaWdodDogNXB4Owp9
CgoubmR0di1tZW51LWljb24gewogIHdpZHRoOiAyNXB4OwogIGhlaWdodDogMjVw
eDsKICBmbG9hdDogcmlnaHQ7CiAgei1pbmRleDogMTAwOwp9CgoubmR0di1tZW51
LWljb24ubWVudS1hY3RpdmUgewogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm9yZGVy
OiAxcHggc29saWQgIzY2NjsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Zm
ZjsKfQoKLm5kdHYtbWVudSB7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgYm9yZGVy
OiAxcHggc29saWQgIzY2NjsKICBib3gtc2hhZG93OiAwcHggMnB4IDRweCByZ2Jh
KDAsMCwwLDAuMik7CiAgcGFkZGluZzogMTBweDsKICBtYXJnaW4tdG9wOiAyNXB4
OwogIGRpc3BsYXk6IG5vbmU7Cn0KCi5tZW51LWl0ZW0gewogIHBhZGRpbmc6IDEw
cHggMHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjQ0NDOwp9CgoubWVu
dS1pdGVtOmZpcnN0LWNoaWxkIHsKICBwYWRkaW5nLXRvcDogMHB4Owp9CgoubWVu
dS1pdGVtOmxhc3QtY2hpbGQgewogIHBhZGRpbmctYm90dG9tOiAwcHg7CiAgYm9y
ZGVyOiBub25lOwp9Cjwvc3R5bGU+DQogICAgPCEtLSBtaW5pbWl6ZWQgZDMuanMg
bGlicmFyeSAtLT4NCiAgICAgIDxzY3JpcHQ+IWZ1bmN0aW9uKCl7ZnVuY3Rpb24g
bihuLHQpe3JldHVybiB0Pm4/LTE6bj50PzE6bj49dD8wOjAvMH1mdW5jdGlvbiB0
KG4pe3JldHVybiBudWxsIT1uJiYhaXNOYU4obil9ZnVuY3Rpb24gZShuKXtyZXR1
cm57bGVmdDpmdW5jdGlvbih0LGUscix1KXtmb3IoYXJndW1lbnRzLmxlbmd0aDwz
JiYocj0wKSxhcmd1bWVudHMubGVuZ3RoPDQmJih1PXQubGVuZ3RoKTt1PnI7KXt2
YXIgaT1yK3U+Pj4xO24odFtpXSxlKTwwP3I9aSsxOnU9aX1yZXR1cm4gcn0scmln
aHQ6ZnVuY3Rpb24odCxlLHIsdSl7Zm9yKGFyZ3VtZW50cy5sZW5ndGg8MyYmKHI9
MCksYXJndW1lbnRzLmxlbmd0aDw0JiYodT10Lmxlbmd0aCk7dT5yOyl7dmFyIGk9
cit1Pj4+MTtuKHRbaV0sZSk+MD91PWk6cj1pKzF9cmV0dXJuIHJ9fX1mdW5jdGlv
biByKG4pe3JldHVybiBuLmxlbmd0aH1mdW5jdGlvbiB1KG4pe2Zvcih2YXIgdD0x
O24qdCUxOyl0Kj0xMDtyZXR1cm4gdH1mdW5jdGlvbiBpKG4sdCl7dHJ5e2Zvcih2
YXIgZSBpbiB0KU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxlLHt2
YWx1ZTp0W2VdLGVudW1lcmFibGU6ITF9KX1jYXRjaChyKXtuLnByb3RvdHlwZT10
fX1mdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGEobil7cmV0dXJuIG9hK24gaW4gdGhp
c31mdW5jdGlvbiBjKG4pe3JldHVybiBuPW9hK24sbiBpbiB0aGlzJiZkZWxldGUg
dGhpc1tuXX1mdW5jdGlvbiBsKCl7dmFyIG49W107cmV0dXJuIHRoaXMuZm9yRWFj
aChmdW5jdGlvbih0KXtuLnB1c2godCl9KSxufWZ1bmN0aW9uIHMoKXt2YXIgbj0w
O2Zvcih2YXIgdCBpbiB0aGlzKXQuY2hhckNvZGVBdCgwKT09PWFhJiYrK247cmV0
dXJuIG59ZnVuY3Rpb24gZigpe2Zvcih2YXIgbiBpbiB0aGlzKWlmKG4uY2hhckNv
ZGVBdCgwKT09PWFhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGgoKXt9ZnVu
Y3Rpb24gZyhuLHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9ZS5hcHBseSh0
LGFyZ3VtZW50cyk7cmV0dXJuIHI9PT10P246cn19ZnVuY3Rpb24gcChuLHQpe2lm
KHQgaW4gbilyZXR1cm4gdDt0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5z
bGljZSgxKTtmb3IodmFyIGU9MCxyPWNhLmxlbmd0aDtyPmU7KytlKXt2YXIgdT1j
YVtlXSt0O2lmKHUgaW4gbilyZXR1cm4gdX19ZnVuY3Rpb24gdigpe31mdW5jdGlv
biBkKCl7fWZ1bmN0aW9uIG0obil7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgdCxyPWUs
dT0tMSxpPXIubGVuZ3RoOysrdTxpOykodD1yW3VdLm9uKSYmdC5hcHBseSh0aGlz
LGFyZ3VtZW50cyk7cmV0dXJuIG59dmFyIGU9W10scj1uZXcgbztyZXR1cm4gdC5v
bj1mdW5jdGlvbih0LHUpe3ZhciBpLG89ci5nZXQodCk7cmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGg8Mj9vJiZvLm9uOihvJiYoby5vbj1udWxsLGU9ZS5zbGljZSgwLGk9
ZS5pbmRleE9mKG8pKS5jb25jYXQoZS5zbGljZShpKzEpKSxyLnJlbW92ZSh0KSks
dSYmZS5wdXNoKHIuc2V0KHQse29uOnV9KSksbil9LHR9ZnVuY3Rpb24geSgpe1Zv
LmV2ZW50LnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24geCgpe2Zvcih2YXIgbix0
PVZvLmV2ZW50O249dC5zb3VyY2VFdmVudDspdD1uO3JldHVybiB0fWZ1bmN0aW9u
IE0obil7Zm9yKHZhciB0PW5ldyBkLGU9MCxyPWFyZ3VtZW50cy5sZW5ndGg7Kytl
PHI7KXRbYXJndW1lbnRzW2VdXT1tKHQpO3JldHVybiB0Lm9mPWZ1bmN0aW9uKGUs
cil7cmV0dXJuIGZ1bmN0aW9uKHUpe3RyeXt2YXIgaT11LnNvdXJjZUV2ZW50PVZv
LmV2ZW50O3UudGFyZ2V0PW4sVm8uZXZlbnQ9dSx0W3UudHlwZV0uYXBwbHkoZSxy
KX1maW5hbGx5e1ZvLmV2ZW50PWl9fX0sdH1mdW5jdGlvbiBfKG4pe3JldHVybiBz
YShuLHZhKSxufWZ1bmN0aW9uIGIobil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9m
IG4/bjpmdW5jdGlvbigpe3JldHVybiBmYShuLHRoaXMpfX1mdW5jdGlvbiB3KG4p
e3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuP246ZnVuY3Rpb24oKXtyZXR1cm4g
aGEobix0aGlzKX19ZnVuY3Rpb24gUyhuLHQpe2Z1bmN0aW9uIGUoKXt0aGlzLnJl
bW92ZUF0dHJpYnV0ZShuKX1mdW5jdGlvbiByKCl7dGhpcy5yZW1vdmVBdHRyaWJ1
dGVOUyhuLnNwYWNlLG4ubG9jYWwpfWZ1bmN0aW9uIHUoKXt0aGlzLnNldEF0dHJp
YnV0ZShuLHQpfWZ1bmN0aW9uIGkoKXt0aGlzLnNldEF0dHJpYnV0ZU5TKG4uc3Bh
Y2Usbi5sb2NhbCx0KX1mdW5jdGlvbiBvKCl7dmFyIGU9dC5hcHBseSh0aGlzLGFy
Z3VtZW50cyk7bnVsbD09ZT90aGlzLnJlbW92ZUF0dHJpYnV0ZShuKTp0aGlzLnNl
dEF0dHJpYnV0ZShuLGUpfWZ1bmN0aW9uIGEoKXt2YXIgZT10LmFwcGx5KHRoaXMs
YXJndW1lbnRzKTtudWxsPT1lP3RoaXMucmVtb3ZlQXR0cmlidXRlTlMobi5zcGFj
ZSxuLmxvY2FsKTp0aGlzLnNldEF0dHJpYnV0ZU5TKG4uc3BhY2Usbi5sb2NhbCxl
KX1yZXR1cm4gbj1Wby5ucy5xdWFsaWZ5KG4pLG51bGw9PXQ/bi5sb2NhbD9yOmU6
ImZ1bmN0aW9uIj09dHlwZW9mIHQ/bi5sb2NhbD9hOm86bi5sb2NhbD9pOnV9ZnVu
Y3Rpb24gayhuKXtyZXR1cm4gbi50cmltKCkucmVwbGFjZSgvXHMrL2csIiAiKX1m
dW5jdGlvbiBFKG4pe3JldHVybiBuZXcgUmVnRXhwKCIoPzpefFxccyspIitWby5y
ZXF1b3RlKG4pKyIoPzpcXHMrfCQpIiwiZyIpfWZ1bmN0aW9uIEEobil7cmV0dXJu
KG4rIiIpLnRyaW0oKS5zcGxpdCgvXnxccysvKX1mdW5jdGlvbiBDKG4sdCl7ZnVu
Y3Rpb24gZSgpe2Zvcih2YXIgZT0tMTsrK2U8dTspbltlXSh0aGlzLHQpfWZ1bmN0
aW9uIHIoKXtmb3IodmFyIGU9LTEscj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsr
K2U8dTspbltlXSh0aGlzLHIpfW49QShuKS5tYXAoTik7dmFyIHU9bi5sZW5ndGg7
cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/cjplfWZ1bmN0aW9uIE4obil7dmFy
IHQ9RShuKTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtpZih1PWUuY2xhc3NMaXN0KXJl
dHVybiByP3UuYWRkKG4pOnUucmVtb3ZlKG4pO3ZhciB1PWUuZ2V0QXR0cmlidXRl
KCJjbGFzcyIpfHwiIjtyPyh0Lmxhc3RJbmRleD0wLHQudGVzdCh1KXx8ZS5zZXRB
dHRyaWJ1dGUoImNsYXNzIixrKHUrIiAiK24pKSk6ZS5zZXRBdHRyaWJ1dGUoImNs
YXNzIixrKHUucmVwbGFjZSh0LCIgIikpKX19ZnVuY3Rpb24geihuLHQsZSl7ZnVu
Y3Rpb24gcigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobil9ZnVuY3Rpb24g
dSgpe3RoaXMuc3R5bGUuc2V0UHJvcGVydHkobix0LGUpfWZ1bmN0aW9uIGkoKXt2
YXIgcj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1yP3RoaXMuc3R5bGUu
cmVtb3ZlUHJvcGVydHkobik6dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLHIsZSl9
cmV0dXJuIG51bGw9PXQ/cjoiZnVuY3Rpb24iPT10eXBlb2YgdD9pOnV9ZnVuY3Rp
b24gTChuLHQpe2Z1bmN0aW9uIGUoKXtkZWxldGUgdGhpc1tuXX1mdW5jdGlvbiBy
KCl7dGhpc1tuXT10fWZ1bmN0aW9uIHUoKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJn
dW1lbnRzKTtudWxsPT1lP2RlbGV0ZSB0aGlzW25dOnRoaXNbbl09ZX1yZXR1cm4g
bnVsbD09dD9lOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3U6cn1mdW5jdGlvbiBUKG4p
e3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuP246KG49Vm8ubnMucXVhbGlmeShu
KSkubG9jYWw/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNy
ZWF0ZUVsZW1lbnROUyhuLnNwYWNlLG4ubG9jYWwpfTpmdW5jdGlvbigpe3JldHVy
biB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNw
YWNlVVJJLG4pfX1mdW5jdGlvbiBxKG4pe3JldHVybntfX2RhdGFfXzpufX1mdW5j
dGlvbiBSKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBwYSh0aGlzLG4pfX1m
dW5jdGlvbiBEKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RofHwodD1uKSxmdW5j
dGlvbihuLGUpe3JldHVybiBuJiZlP3Qobi5fX2RhdGFfXyxlLl9fZGF0YV9fKToh
bi0hZX19ZnVuY3Rpb24gUChuLHQpe2Zvcih2YXIgZT0wLHI9bi5sZW5ndGg7cj5l
O2UrKylmb3IodmFyIHUsaT1uW2VdLG89MCxhPWkubGVuZ3RoO2E+bztvKyspKHU9
aVtvXSkmJnQodSxvLGUpO3JldHVybiBufWZ1bmN0aW9uIFUobil7cmV0dXJuIHNh
KG4sbWEpLG59ZnVuY3Rpb24gaihuKXt2YXIgdCxlO3JldHVybiBmdW5jdGlvbihy
LHUsaSl7dmFyIG8sYT1uW2ldLnVwZGF0ZSxjPWEubGVuZ3RoO2ZvcihpIT1lJiYo
ZT1pLHQ9MCksdT49dCYmKHQ9dSsxKTshKG89YVt0XSkmJisrdDxjOyk7cmV0dXJu
IG99fWZ1bmN0aW9uIEgoKXt2YXIgbj10aGlzLl9fdHJhbnNpdGlvbl9fO24mJisr
bi5hY3RpdmV9ZnVuY3Rpb24gRihuLHQsZSl7ZnVuY3Rpb24gcigpe3ZhciB0PXRo
aXNbb107dCYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHQsdC4kKSxkZWxl
dGUgdGhpc1tvXSl9ZnVuY3Rpb24gdSgpe3ZhciB1PWModCwkbyhhcmd1bWVudHMp
KTtyLmNhbGwodGhpcyksdGhpcy5hZGRFdmVudExpc3RlbmVyKG4sdGhpc1tvXT11
LHUuJD1lKSx1Ll89dH1mdW5jdGlvbiBpKCl7dmFyIHQsZT1uZXcgUmVnRXhwKCJe
X19vbihbXi5dKykiK1ZvLnJlcXVvdGUobikrIiQiKTtmb3IodmFyIHIgaW4gdGhp
cylpZih0PXIubWF0Y2goZSkpe3ZhciB1PXRoaXNbcl07dGhpcy5yZW1vdmVFdmVu
dExpc3RlbmVyKHRbMV0sdSx1LiQpLGRlbGV0ZSB0aGlzW3JdfX12YXIgbz0iX19v
biIrbixhPW4uaW5kZXhPZigiLiIpLGM9TzthPjAmJihuPW4uc2xpY2UoMCxhKSk7
dmFyIGw9eGEuZ2V0KG4pO3JldHVybiBsJiYobj1sLGM9WSksYT90P3U6cjp0P3Y6
aX1mdW5jdGlvbiBPKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPVZvLmV2
ZW50O1ZvLmV2ZW50PWUsdFswXT10aGlzLl9fZGF0YV9fO3RyeXtuLmFwcGx5KHRo
aXMsdCl9ZmluYWxseXtWby5ldmVudD1yfX19ZnVuY3Rpb24gWShuLHQpe3ZhciBl
PU8obix0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxyPW4ucmVsYXRl
ZFRhcmdldDtyJiYocj09PXR8fDgmci5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0
KSl8fGUuY2FsbCh0LG4pfX1mdW5jdGlvbiBJKCl7dmFyIG49Ii5kcmFnc3VwcHJl
c3MtIisgKytfYSx0PSJjbGljayIrbixlPVZvLnNlbGVjdChKbykub24oInRvdWNo
bW92ZSIrbix5KS5vbigiZHJhZ3N0YXJ0IituLHkpLm9uKCJzZWxlY3RzdGFydCIr
bix5KTtpZihNYSl7dmFyIHI9V28uc3R5bGUsdT1yW01hXTtyW01hXT0ibm9uZSJ9
cmV0dXJuIGZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG8oKXtlLm9uKHQsbnVsbCl9ZS5v
bihuLG51bGwpLE1hJiYocltNYV09dSksaSYmKGUub24odCxmdW5jdGlvbigpe3ko
KSxvKCl9LCEwKSxzZXRUaW1lb3V0KG8sMCkpfX1mdW5jdGlvbiBaKG4sdCl7dC5j
aGFuZ2VkVG91Y2hlcyYmKHQ9dC5jaGFuZ2VkVG91Y2hlc1swXSk7dmFyIGU9bi5v
d25lclNWR0VsZW1lbnR8fG47aWYoZS5jcmVhdGVTVkdQb2ludCl7dmFyIHI9ZS5j
cmVhdGVTVkdQb2ludCgpO2lmKDA+YmEmJihKby5zY3JvbGxYfHxKby5zY3JvbGxZ
KSl7ZT1Wby5zZWxlY3QoImJvZHkiKS5hcHBlbmQoInN2ZyIpLnN0eWxlKHtwb3Np
dGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxwYWRkaW5nOjAs
Ym9yZGVyOiJub25lIn0sImltcG9ydGFudCIpO3ZhciB1PWVbMF1bMF0uZ2V0U2Ny
ZWVuQ1RNKCk7YmE9ISh1LmZ8fHUuZSksZS5yZW1vdmUoKX1yZXR1cm4gYmE/KHIu
eD10LnBhZ2VYLHIueT10LnBhZ2VZKTooci54PXQuY2xpZW50WCxyLnk9dC5jbGll
bnRZKSxyPXIubWF0cml4VHJhbnNmb3JtKG4uZ2V0U2NyZWVuQ1RNKCkuaW52ZXJz
ZSgpKSxbci54LHIueV19dmFyIGk9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTty
ZXR1cm5bdC5jbGllbnRYLWkubGVmdC1uLmNsaWVudExlZnQsdC5jbGllbnRZLWku
dG9wLW4uY2xpZW50VG9wXX1mdW5jdGlvbiBWKCl7cmV0dXJuIFZvLmV2ZW50LmNo
YW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXJ9ZnVuY3Rpb24gWCgpe3JldHVybiBW
by5ldmVudC50YXJnZXR9ZnVuY3Rpb24gJCgpe3JldHVybiBKb31mdW5jdGlvbiBC
KG4pe3JldHVybiBuPjA/MTowPm4/LTE6MH1mdW5jdGlvbiBXKG4sdCxlKXtyZXR1
cm4odFswXS1uWzBdKSooZVsxXS1uWzFdKS0odFsxXS1uWzFdKSooZVswXS1uWzBd
KX1mdW5jdGlvbiBKKG4pe3JldHVybiBuPjE/MDotMT5uP3dhOk1hdGguYWNvcyhu
KX1mdW5jdGlvbiBHKG4pe3JldHVybiBuPjE/a2E6LTE+bj8ta2E6TWF0aC5hc2lu
KG4pfWZ1bmN0aW9uIEsobil7cmV0dXJuKChuPU1hdGguZXhwKG4pKS0xL24pLzJ9
ZnVuY3Rpb24gUShuKXtyZXR1cm4oKG49TWF0aC5leHAobikpKzEvbikvMn1mdW5j
dGlvbiBudChuKXtyZXR1cm4oKG49TWF0aC5leHAoMipuKSktMSkvKG4rMSl9ZnVu
Y3Rpb24gdHQobil7cmV0dXJuKG49TWF0aC5zaW4obi8yKSkqbn1mdW5jdGlvbiBl
dCgpe31mdW5jdGlvbiBydChuLHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBy
dD8odGhpcy5oPStuLHRoaXMucz0rdCx2b2lkKHRoaXMubD0rZSkpOmFyZ3VtZW50
cy5sZW5ndGg8Mj9uIGluc3RhbmNlb2YgcnQ/bmV3IHJ0KG4uaCxuLnMsbi5sKTpt
dCgiIituLHl0LHJ0KTpuZXcgcnQobix0LGUpfWZ1bmN0aW9uIHV0KG4sdCxlKXtm
dW5jdGlvbiByKG4pe3JldHVybiBuPjM2MD9uLT0zNjA6MD5uJiYobis9MzYwKSw2
MD5uP2krKG8taSkqbi82MDoxODA+bj9vOjI0MD5uP2krKG8taSkqKDI0MC1uKS82
MDppfWZ1bmN0aW9uIHUobil7cmV0dXJuIE1hdGgucm91bmQoMjU1KnIobikpfXZh
ciBpLG87cmV0dXJuIG49aXNOYU4obik/MDoobiU9MzYwKTwwP24rMzYwOm4sdD1p
c05hTih0KT8wOjA+dD8wOnQ+MT8xOnQsZT0wPmU/MDplPjE/MTplLG89LjU+PWU/
ZSooMSt0KTplK3QtZSp0LGk9MiplLW8sbmV3IGd0KHUobisxMjApLHUobiksdShu
LTEyMCkpfWZ1bmN0aW9uIGl0KG4sdCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9m
IGl0Pyh0aGlzLmg9K24sdGhpcy5jPSt0LHZvaWQodGhpcy5sPStlKSk6YXJndW1l
bnRzLmxlbmd0aDwyP24gaW5zdGFuY2VvZiBpdD9uZXcgaXQobi5oLG4uYyxuLmwp
Om4gaW5zdGFuY2VvZiBhdD9sdChuLmwsbi5hLG4uYik6bHQoKG49eHQoKG49Vm8u
cmdiKG4pKS5yLG4uZyxuLmIpKS5sLG4uYSxuLmIpOm5ldyBpdChuLHQsZSl9ZnVu
Y3Rpb24gb3Qobix0LGUpe3JldHVybiBpc05hTihuKSYmKG49MCksaXNOYU4odCkm
Jih0PTApLG5ldyBhdChlLE1hdGguY29zKG4qPUNhKSp0LE1hdGguc2luKG4pKnQp
fWZ1bmN0aW9uIGF0KG4sdCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGF0Pyh0
aGlzLmw9K24sdGhpcy5hPSt0LHZvaWQodGhpcy5iPStlKSk6YXJndW1lbnRzLmxl
bmd0aDwyP24gaW5zdGFuY2VvZiBhdD9uZXcgYXQobi5sLG4uYSxuLmIpOm4gaW5z
dGFuY2VvZiBpdD9vdChuLmwsbi5jLG4uaCk6eHQoKG49Z3QobikpLnIsbi5nLG4u
Yik6bmV3IGF0KG4sdCxlKX1mdW5jdGlvbiBjdChuLHQsZSl7dmFyIHI9KG4rMTYp
LzExNix1PXIrdC81MDAsaT1yLWUvMjAwO3JldHVybiB1PXN0KHUpKkhhLHI9c3Qo
cikqRmEsaT1zdChpKSpPYSxuZXcgZ3QoaHQoMy4yNDA0NTQyKnUtMS41MzcxMzg1
KnItLjQ5ODUzMTQqaSksaHQoLS45NjkyNjYqdSsxLjg3NjAxMDgqcisuMDQxNTU2
KmkpLGh0KC4wNTU2NDM0KnUtLjIwNDAyNTkqcisxLjA1NzIyNTIqaSkpfWZ1bmN0
aW9uIGx0KG4sdCxlKXtyZXR1cm4gbj4wP25ldyBpdChNYXRoLmF0YW4yKGUsdCkq
TmEsTWF0aC5zcXJ0KHQqdCtlKmUpLG4pOm5ldyBpdCgwLzAsMC8wLG4pfWZ1bmN0
aW9uIHN0KG4pe3JldHVybiBuPi4yMDY4OTMwMzQ/bipuKm46KG4tNC8yOSkvNy43
ODcwMzd9ZnVuY3Rpb24gZnQobil7cmV0dXJuIG4+LjAwODg1Nj9NYXRoLnBvdyhu
LDEvMyk6Ny43ODcwMzcqbis0LzI5fWZ1bmN0aW9uIGh0KG4pe3JldHVybiBNYXRo
LnJvdW5kKDI1NSooLjAwMzA0Pj1uPzEyLjkyKm46MS4wNTUqTWF0aC5wb3cobiwx
LzIuNCktLjA1NSkpfWZ1bmN0aW9uIGd0KG4sdCxlKXtyZXR1cm4gdGhpcyBpbnN0
YW5jZW9mIGd0Pyh0aGlzLnI9fn5uLHRoaXMuZz1+fnQsdm9pZCh0aGlzLmI9fn5l
KSk6YXJndW1lbnRzLmxlbmd0aDwyP24gaW5zdGFuY2VvZiBndD9uZXcgZ3Qobi5y
LG4uZyxuLmIpOm10KCIiK24sZ3QsdXQpOm5ldyBndChuLHQsZSl9ZnVuY3Rpb24g
cHQobil7cmV0dXJuIG5ldyBndChuPj4xNiwyNTUmbj4+OCwyNTUmbil9ZnVuY3Rp
b24gdnQobil7cmV0dXJuIHB0KG4pKyIifWZ1bmN0aW9uIGR0KG4pe3JldHVybiAx
Nj5uPyIwIitNYXRoLm1heCgwLG4pLnRvU3RyaW5nKDE2KTpNYXRoLm1pbigyNTUs
bikudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIG10KG4sdCxlKXt2YXIgcix1LGksbz0w
LGE9MCxjPTA7aWYocj0vKFthLXpdKylcKCguKilcKS9pLmV4ZWMobikpc3dpdGNo
KHU9clsyXS5zcGxpdCgiLCIpLHJbMV0pe2Nhc2UiaHNsIjpyZXR1cm4gZShwYXJz
ZUZsb2F0KHVbMF0pLHBhcnNlRmxvYXQodVsxXSkvMTAwLHBhcnNlRmxvYXQodVsy
XSkvMTAwKTtjYXNlInJnYiI6cmV0dXJuIHQoX3QodVswXSksX3QodVsxXSksX3Qo
dVsyXSkpfXJldHVybihpPVphLmdldChuKSk/dChpLnIsaS5nLGkuYik6KG51bGw9
PW58fCIjIiE9PW4uY2hhckF0KDApfHxpc05hTihpPXBhcnNlSW50KG4uc2xpY2Uo
MSksMTYpKXx8KDQ9PT1uLmxlbmd0aD8obz0oMzg0MCZpKT4+NCxvPW8+PjR8byxh
PTI0MCZpLGE9YT4+NHxhLGM9MTUmaSxjPWM8PDR8Yyk6Nz09PW4ubGVuZ3RoJiYo
bz0oMTY3MTE2ODAmaSk+PjE2LGE9KDY1MjgwJmkpPj44LGM9MjU1JmkpKSx0KG8s
YSxjKSl9ZnVuY3Rpb24geXQobix0LGUpe3ZhciByLHUsaT1NYXRoLm1pbihuLz0y
NTUsdC89MjU1LGUvPTI1NSksbz1NYXRoLm1heChuLHQsZSksYT1vLWksYz0obytp
KS8yO3JldHVybiBhPyh1PS41PmM/YS8obytpKTphLygyLW8taSkscj1uPT1vPyh0
LWUpL2ErKGU+dD82OjApOnQ9PW8/KGUtbikvYSsyOihuLXQpL2ErNCxyKj02MCk6
KHI9MC8wLHU9Yz4wJiYxPmM/MDpyKSxuZXcgcnQocix1LGMpfWZ1bmN0aW9uIHh0
KG4sdCxlKXtuPU10KG4pLHQ9TXQodCksZT1NdChlKTt2YXIgcj1mdCgoLjQxMjQ1
NjQqbisuMzU3NTc2MSp0Ky4xODA0Mzc1KmUpL0hhKSx1PWZ0KCguMjEyNjcyOSpu
Ky43MTUxNTIyKnQrLjA3MjE3NSplKS9GYSksaT1mdCgoLjAxOTMzMzkqbisuMTE5
MTkyKnQrLjk1MDMwNDEqZSkvT2EpO3JldHVybiBhdCgxMTYqdS0xNiw1MDAqKHIt
dSksMjAwKih1LWkpKX1mdW5jdGlvbiBNdChuKXtyZXR1cm4obi89MjU1KTw9LjA0
MDQ1P24vMTIuOTI6TWF0aC5wb3coKG4rLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlv
biBfdChuKXt2YXIgdD1wYXJzZUZsb2F0KG4pO3JldHVybiIlIj09PW4uY2hhckF0
KG4ubGVuZ3RoLTEpP01hdGgucm91bmQoMi41NSp0KTp0fWZ1bmN0aW9uIGJ0KG4p
e3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuP246ZnVuY3Rpb24oKXtyZXR1cm4g
bn19ZnVuY3Rpb24gd3Qobil7cmV0dXJuIG59ZnVuY3Rpb24gU3Qobil7cmV0dXJu
IGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGgmJiJm
dW5jdGlvbiI9PXR5cGVvZiBlJiYocj1lLGU9bnVsbCksa3QodCxlLG4scil9fWZ1
bmN0aW9uIGt0KG4sdCxlLHIpe2Z1bmN0aW9uIHUoKXt2YXIgbix0PWMuc3RhdHVz
O2lmKCF0JiZBdChjKXx8dD49MjAwJiYzMDA+dHx8MzA0PT09dCl7dHJ5e249ZS5j
YWxsKGksYyl9Y2F0Y2gocil7cmV0dXJuIG8uZXJyb3IuY2FsbChpLHIpLHZvaWQg
MH1vLmxvYWQuY2FsbChpLG4pfWVsc2Ugby5lcnJvci5jYWxsKGksYyl9dmFyIGk9
e30sbz1Wby5kaXNwYXRjaCgiYmVmb3Jlc2VuZCIsInByb2dyZXNzIiwibG9hZCIs
ImVycm9yIiksYT17fSxjPW5ldyBYTUxIdHRwUmVxdWVzdCxsPW51bGw7cmV0dXJu
IUpvLlhEb21haW5SZXF1ZXN0fHwid2l0aENyZWRlbnRpYWxzImluIGN8fCEvXiho
dHRwKHMpPzopP1wvXC8vLnRlc3Qobil8fChjPW5ldyBYRG9tYWluUmVxdWVzdCks
Im9ubG9hZCJpbiBjP2Mub25sb2FkPWMub25lcnJvcj11OmMub25yZWFkeXN0YXRl
Y2hhbmdlPWZ1bmN0aW9uKCl7Yy5yZWFkeVN0YXRlPjMmJnUoKX0sYy5vbnByb2dy
ZXNzPWZ1bmN0aW9uKG4pe3ZhciB0PVZvLmV2ZW50O1ZvLmV2ZW50PW47dHJ5e28u
cHJvZ3Jlc3MuY2FsbChpLGMpfWZpbmFsbHl7Vm8uZXZlbnQ9dH19LGkuaGVhZGVy
PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49KG4rIiIpLnRvTG93ZXJDYXNlKCksYXJn
dW1lbnRzLmxlbmd0aDwyP2Fbbl06KG51bGw9PXQ/ZGVsZXRlIGFbbl06YVtuXT10
KyIiLGkpfSxpLm1pbWVUeXBlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMu
bGVuZ3RoPyh0PW51bGw9PW4/bnVsbDpuKyIiLGkpOnR9LGkucmVzcG9uc2VUeXBl
PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW4saSk6bH0s
aS5yZXNwb25zZT1mdW5jdGlvbihuKXtyZXR1cm4gZT1uLGl9LFsiZ2V0IiwicG9z
dCJdLmZvckVhY2goZnVuY3Rpb24obil7aVtuXT1mdW5jdGlvbigpe3JldHVybiBp
LnNlbmQuYXBwbHkoaSxbbl0uY29uY2F0KCRvKGFyZ3VtZW50cykpKX19KSxpLnNl
bmQ9ZnVuY3Rpb24oZSxyLHUpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoJiYiZnVu
Y3Rpb24iPT10eXBlb2YgciYmKHU9cixyPW51bGwpLGMub3BlbihlLG4sITApLG51
bGw9PXR8fCJhY2NlcHQiaW4gYXx8KGEuYWNjZXB0PXQrIiwqLyoiKSxjLnNldFJl
cXVlc3RIZWFkZXIpZm9yKHZhciBzIGluIGEpYy5zZXRSZXF1ZXN0SGVhZGVyKHMs
YVtzXSk7cmV0dXJuIG51bGwhPXQmJmMub3ZlcnJpZGVNaW1lVHlwZSYmYy5vdmVy
cmlkZU1pbWVUeXBlKHQpLG51bGwhPWwmJihjLnJlc3BvbnNlVHlwZT1sKSxudWxs
IT11JiZpLm9uKCJlcnJvciIsdSkub24oImxvYWQiLGZ1bmN0aW9uKG4pe3UobnVs
bCxuKX0pLG8uYmVmb3Jlc2VuZC5jYWxsKGksYyksYy5zZW5kKG51bGw9PXI/bnVs
bDpyKSxpfSxpLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIGMuYWJvcnQoKSxpfSxW
by5yZWJpbmQoaSxvLCJvbiIpLG51bGw9PXI/aTppLmdldChFdChyKSl9ZnVuY3Rp
b24gRXQobil7cmV0dXJuIDE9PT1uLmxlbmd0aD9mdW5jdGlvbih0LGUpe24obnVs
bD09dD9lOm51bGwpfTpufWZ1bmN0aW9uIEF0KG4pe3ZhciB0PW4ucmVzcG9uc2VU
eXBlO3JldHVybiB0JiYidGV4dCIhPT10P24ucmVzcG9uc2U6bi5yZXNwb25zZVRl
eHR9ZnVuY3Rpb24gQ3QoKXt2YXIgbj1OdCgpLHQ9enQoKS1uO3Q+MjQ/KGlzRmlu
aXRlKHQpJiYoY2xlYXJUaW1lb3V0KEJhKSxCYT1zZXRUaW1lb3V0KEN0LHQpKSwk
YT0wKTooJGE9MSxKYShDdCkpfWZ1bmN0aW9uIE50KCl7dmFyIG49RGF0ZS5ub3co
KTtmb3IoV2E9VmE7V2E7KW4+PVdhLnQmJihXYS5mPVdhLmMobi1XYS50KSksV2E9
V2EubjtyZXR1cm4gbn1mdW5jdGlvbiB6dCgpe2Zvcih2YXIgbix0PVZhLGU9MS8w
O3Q7KXQuZj90PW4/bi5uPXQubjpWYT10Lm46KHQudDxlJiYoZT10LnQpLHQ9KG49
dCkubik7cmV0dXJuIFhhPW4sZX1mdW5jdGlvbiBMdChuLHQpe3JldHVybiB0LShu
P01hdGguY2VpbChNYXRoLmxvZyhuKS9NYXRoLkxOMTApOjEpfWZ1bmN0aW9uIFR0
KG4sdCl7dmFyIGU9TWF0aC5wb3coMTAsMyppYSg4LXQpKTtyZXR1cm57c2NhbGU6
dD44P2Z1bmN0aW9uKG4pe3JldHVybiBuL2V9OmZ1bmN0aW9uKG4pe3JldHVybiBu
KmV9LHN5bWJvbDpufX1mdW5jdGlvbiBxdChuKXt2YXIgdD1uLmRlY2ltYWwsZT1u
LnRob3VzYW5kcyxyPW4uZ3JvdXBpbmcsdT1uLmN1cnJlbmN5LGk9cj9mdW5jdGlv
bihuKXtmb3IodmFyIHQ9bi5sZW5ndGgsdT1bXSxpPTAsbz1yWzBdO28+MCYmdD4w
Oyl1LnB1c2gobi5zdWJzdHJpbmcodC09byx0K28pKSxvPXJbaT0oaSsxKSVyLmxl
bmd0aF07cmV0dXJuIHUucmV2ZXJzZSgpLmpvaW4oZSl9Ond0O3JldHVybiBmdW5j
dGlvbihuKXt2YXIgZT1LYS5leGVjKG4pLHI9ZVsxXXx8IiAiLG89ZVsyXXx8Ij4i
LGE9ZVszXXx8IiIsYz1lWzRdfHwiIixsPWVbNV0scz0rZVs2XSxmPWVbN10saD1l
WzhdLGc9ZVs5XSxwPTEsdj0iIixkPSIiLG09ITE7c3dpdGNoKGgmJihoPStoLnN1
YnN0cmluZygxKSksKGx8fCIwIj09PXImJiI9Ij09PW8pJiYobD1yPSIwIixvPSI9
IixmJiYocy09TWF0aC5mbG9vcigocy0xKS80KSkpLGcpe2Nhc2UibiI6Zj0hMCxn
PSJnIjticmVhaztjYXNlIiUiOnA9MTAwLGQ9IiUiLGc9ImYiO2JyZWFrO2Nhc2Ui
cCI6cD0xMDAsZD0iJSIsZz0iciI7YnJlYWs7Y2FzZSJiIjpjYXNlIm8iOmNhc2Ui
eCI6Y2FzZSJYIjoiIyI9PT1jJiYodj0iMCIrZy50b0xvd2VyQ2FzZSgpKTtjYXNl
ImMiOmNhc2UiZCI6bT0hMCxoPTA7YnJlYWs7Y2FzZSJzIjpwPS0xLGc9InIifSIk
Ij09PWMmJih2PXVbMF0sZD11WzFdKSwiciIhPWd8fGh8fChnPSJnIiksbnVsbCE9
aCYmKCJnIj09Zz9oPU1hdGgubWF4KDEsTWF0aC5taW4oMjEsaCkpOigiZSI9PWd8
fCJmIj09ZykmJihoPU1hdGgubWF4KDAsTWF0aC5taW4oMjAsaCkpKSksZz1RYS5n
ZXQoZyl8fFJ0O3ZhciB5PWwmJmY7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBlPWQ7
aWYobSYmbiUxKXJldHVybiIiO3ZhciB1PTA+bnx8MD09PW4mJjA+MS9uPyhuPS1u
LCItIik6YTtpZigwPnApe3ZhciBjPVZvLmZvcm1hdFByZWZpeChuLGgpO249Yy5z
Y2FsZShuKSxlPWMuc3ltYm9sK2R9ZWxzZSBuKj1wO249ZyhuLGgpO3ZhciB4PW4u
bGFzdEluZGV4T2YoIi4iKSxNPTA+eD9uOm4uc3Vic3RyaW5nKDAseCksXz0wPng/
IiI6dCtuLnN1YnN0cmluZyh4KzEpOyFsJiZmJiYoTT1pKE0pKTt2YXIgYj12Lmxl
bmd0aCtNLmxlbmd0aCtfLmxlbmd0aCsoeT8wOnUubGVuZ3RoKSx3PXM+Yj9uZXcg
QXJyYXkoYj1zLWIrMSkuam9pbihyKToiIjtyZXR1cm4geSYmKE09aSh3K00pKSx1
Kz12LG49TStfLCgiPCI9PT1vP3Urbit3OiI+Ij09PW8/dyt1K246Il4iPT09bz93
LnN1YnN0cmluZygwLGI+Pj0xKSt1K24rdy5zdWJzdHJpbmcoYik6dSsoeT9uOncr
bikpK2V9fX1mdW5jdGlvbiBSdChuKXtyZXR1cm4gbisiIn1mdW5jdGlvbiBEdCgp
e3RoaXMuXz1uZXcgRGF0ZShhcmd1bWVudHMubGVuZ3RoPjE/RGF0ZS5VVEMuYXBw
bHkodGhpcyxhcmd1bWVudHMpOmFyZ3VtZW50c1swXSl9ZnVuY3Rpb24gUHQobix0
LGUpe2Z1bmN0aW9uIHIodCl7dmFyIGU9bih0KSxyPWkoZSwxKTtyZXR1cm4gci10
PnQtZT9lOnJ9ZnVuY3Rpb24gdShlKXtyZXR1cm4gdChlPW4obmV3IHRjKGUtMSkp
LDEpLGV9ZnVuY3Rpb24gaShuLGUpe3JldHVybiB0KG49bmV3IHRjKCtuKSxlKSxu
fWZ1bmN0aW9uIG8obixyLGkpe3ZhciBvPXUobiksYT1bXTtpZihpPjEpZm9yKDty
Pm87KWUobyklaXx8YS5wdXNoKG5ldyBEYXRlKCtvKSksdChvLDEpO2Vsc2UgZm9y
KDtyPm87KWEucHVzaChuZXcgRGF0ZSgrbykpLHQobywxKTtyZXR1cm4gYX1mdW5j
dGlvbiBhKG4sdCxlKXt0cnl7dGM9RHQ7dmFyIHI9bmV3IER0O3JldHVybiByLl89
bixvKHIsdCxlKX1maW5hbGx5e3RjPURhdGV9fW4uZmxvb3I9bixuLnJvdW5kPXIs
bi5jZWlsPXUsbi5vZmZzZXQ9aSxuLnJhbmdlPW87dmFyIGM9bi51dGM9VXQobik7
cmV0dXJuIGMuZmxvb3I9YyxjLnJvdW5kPVV0KHIpLGMuY2VpbD1VdCh1KSxjLm9m
ZnNldD1VdChpKSxjLnJhbmdlPWEsbn1mdW5jdGlvbiBVdChuKXtyZXR1cm4gZnVu
Y3Rpb24odCxlKXt0cnl7dGM9RHQ7dmFyIHI9bmV3IER0O3JldHVybiByLl89dCxu
KHIsZSkuX31maW5hbGx5e3RjPURhdGV9fX1mdW5jdGlvbiBqdChuKXtmdW5jdGlv
biB0KG4pe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciBlLHUsaSxvPVtdLGE9LTEsYz0w
OysrYTxyOykzNz09PW4uY2hhckNvZGVBdChhKSYmKG8ucHVzaChuLnNsaWNlKGMs
YSkpLG51bGwhPSh1PXJjW2U9bi5jaGFyQXQoKythKV0pJiYoZT1uLmNoYXJBdCgr
K2EpKSwoaT1DW2VdKSYmKGU9aSh0LG51bGw9PXU/ImUiPT09ZT8iICI6IjAiOnUp
KSxvLnB1c2goZSksYz1hKzEpO3JldHVybiBvLnB1c2gobi5zbGljZShjLGEpKSxv
LmpvaW4oIiIpfXZhciByPW4ubGVuZ3RoO3JldHVybiB0LnBhcnNlPWZ1bmN0aW9u
KHQpe3ZhciByPXt5OjE5MDAsbTowLGQ6MSxIOjAsTTowLFM6MCxMOjAsWjpudWxs
fSx1PWUocixuLHQsMCk7aWYodSE9dC5sZW5ndGgpcmV0dXJuIG51bGw7InAiaW4g
ciYmKHIuSD1yLkglMTIrMTIqci5wKTt2YXIgaT1udWxsIT1yLlomJnRjIT09RHQs
bz1uZXcoaT9EdDp0Yyk7cmV0dXJuImoiaW4gcj9vLnNldEZ1bGxZZWFyKHIueSww
LHIuaik6InciaW4gciYmKCJXImluIHJ8fCJVImluIHIpPyhvLnNldEZ1bGxZZWFy
KHIueSwwLDEpLG8uc2V0RnVsbFllYXIoci55LDAsIlciaW4gcj8oci53KzYpJTcr
NypyLlctKG8uZ2V0RGF5KCkrNSklNzpyLncrNypyLlUtKG8uZ2V0RGF5KCkrNikl
NykpOm8uc2V0RnVsbFllYXIoci55LHIubSxyLmQpLG8uc2V0SG91cnMoci5IKygw
fHIuWi8xMDApLHIuTStyLlolMTAwLHIuUyxyLkwpLGk/by5fOm99LHQudG9TdHJp
bmc9ZnVuY3Rpb24oKXtyZXR1cm4gbn0sdH1mdW5jdGlvbiBlKG4sdCxlLHIpe2Zv
cih2YXIgdSxpLG8sYT0wLGM9dC5sZW5ndGgsbD1lLmxlbmd0aDtjPmE7KXtpZihy
Pj1sKXJldHVybi0xO2lmKHU9dC5jaGFyQ29kZUF0KGErKyksMzc9PT11KXtpZihv
PXQuY2hhckF0KGErKyksaT1OW28gaW4gcmM/dC5jaGFyQXQoYSsrKTpvXSwhaXx8
KHI9aShuLGUscikpPDApcmV0dXJuLTF9ZWxzZSBpZih1IT1lLmNoYXJDb2RlQXQo
cisrKSlyZXR1cm4tMX1yZXR1cm4gcn1mdW5jdGlvbiByKG4sdCxlKXtiLmxhc3RJ
bmRleD0wO3ZhciByPWIuZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi53PXcu
Z2V0KHJbMF0udG9Mb3dlckNhc2UoKSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rp
b24gdShuLHQsZSl7TS5sYXN0SW5kZXg9MDt2YXIgcj1NLmV4ZWModC5zbGljZShl
KSk7cmV0dXJuIHI/KG4udz1fLmdldChyWzBdLnRvTG93ZXJDYXNlKCkpLGUrclsw
XS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGkobix0LGUpe0UubGFzdEluZGV4PTA7dmFy
IHI9RS5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLm09QS5nZXQoclswXS50
b0xvd2VyQ2FzZSgpKSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBvKG4sdCxl
KXtTLmxhc3RJbmRleD0wO3ZhciByPVMuZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4g
cj8obi5tPWsuZ2V0KHJbMF0udG9Mb3dlckNhc2UoKSksZStyWzBdLmxlbmd0aCk6
LTF9ZnVuY3Rpb24gYShuLHQscil7cmV0dXJuIGUobixDLmMudG9TdHJpbmcoKSx0
LHIpfWZ1bmN0aW9uIGMobix0LHIpe3JldHVybiBlKG4sQy54LnRvU3RyaW5nKCks
dCxyKX1mdW5jdGlvbiBsKG4sdCxyKXtyZXR1cm4gZShuLEMuWC50b1N0cmluZygp
LHQscil9ZnVuY3Rpb24gcyhuLHQsZSl7dmFyIHI9eC5nZXQodC5zbGljZShlLGUr
PTIpLnRvTG93ZXJDYXNlKCkpO3JldHVybiBudWxsPT1yPy0xOihuLnA9cixlKX12
YXIgZj1uLmRhdGVUaW1lLGg9bi5kYXRlLGc9bi50aW1lLHA9bi5wZXJpb2RzLHY9
bi5kYXlzLGQ9bi5zaG9ydERheXMsbT1uLm1vbnRocyx5PW4uc2hvcnRNb250aHM7
dC51dGM9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShuKXt0cnl7dGM9RHQ7dmFyIHQ9
bmV3IHRjO3JldHVybiB0Ll89bixyKHQpfWZpbmFsbHl7dGM9RGF0ZX19dmFyIHI9
dChuKTtyZXR1cm4gZS5wYXJzZT1mdW5jdGlvbihuKXt0cnl7dGM9RHQ7dmFyIHQ9
ci5wYXJzZShuKTtyZXR1cm4gdCYmdC5ffWZpbmFsbHl7dGM9RGF0ZX19LGUudG9T
dHJpbmc9ci50b1N0cmluZyxlfSx0Lm11bHRpPXQudXRjLm11bHRpPXVlO3ZhciB4
PVZvLm1hcCgpLE09RnQodiksXz1PdCh2KSxiPUZ0KGQpLHc9T3QoZCksUz1GdCht
KSxrPU90KG0pLEU9RnQoeSksQT1PdCh5KTtwLmZvckVhY2goZnVuY3Rpb24obix0
KXt4LnNldChuLnRvTG93ZXJDYXNlKCksdCl9KTt2YXIgQz17YTpmdW5jdGlvbihu
KXtyZXR1cm4gZFtuLmdldERheSgpXX0sQTpmdW5jdGlvbihuKXtyZXR1cm4gdltu
LmdldERheSgpXX0sYjpmdW5jdGlvbihuKXtyZXR1cm4geVtuLmdldE1vbnRoKCld
fSxCOmZ1bmN0aW9uKG4pe3JldHVybiBtW24uZ2V0TW9udGgoKV19LGM6dChmKSxk
OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIEh0KG4uZ2V0RGF0ZSgpLHQsMil9LGU6ZnVu
Y3Rpb24obix0KXtyZXR1cm4gSHQobi5nZXREYXRlKCksdCwyKX0sSDpmdW5jdGlv
bihuLHQpe3JldHVybiBIdChuLmdldEhvdXJzKCksdCwyKX0sSTpmdW5jdGlvbihu
LHQpe3JldHVybiBIdChuLmdldEhvdXJzKCklMTJ8fDEyLHQsMil9LGo6ZnVuY3Rp
b24obix0KXtyZXR1cm4gSHQoMStuYy5kYXlPZlllYXIobiksdCwzKX0sTDpmdW5j
dGlvbihuLHQpe3JldHVybiBIdChuLmdldE1pbGxpc2Vjb25kcygpLHQsMyl9LG06
ZnVuY3Rpb24obix0KXtyZXR1cm4gSHQobi5nZXRNb250aCgpKzEsdCwyKX0sTTpm
dW5jdGlvbihuLHQpe3JldHVybiBIdChuLmdldE1pbnV0ZXMoKSx0LDIpfSxwOmZ1
bmN0aW9uKG4pe3JldHVybiBwWysobi5nZXRIb3VycygpPj0xMildfSxTOmZ1bmN0
aW9uKG4sdCl7cmV0dXJuIEh0KG4uZ2V0U2Vjb25kcygpLHQsMil9LFU6ZnVuY3Rp
b24obix0KXtyZXR1cm4gSHQobmMuc3VuZGF5T2ZZZWFyKG4pLHQsMil9LHc6ZnVu
Y3Rpb24obil7cmV0dXJuIG4uZ2V0RGF5KCl9LFc6ZnVuY3Rpb24obix0KXtyZXR1
cm4gSHQobmMubW9uZGF5T2ZZZWFyKG4pLHQsMil9LHg6dChoKSxYOnQoZykseTpm
dW5jdGlvbihuLHQpe3JldHVybiBIdChuLmdldEZ1bGxZZWFyKCklMTAwLHQsMil9
LFk6ZnVuY3Rpb24obix0KXtyZXR1cm4gSHQobi5nZXRGdWxsWWVhcigpJTFlNCx0
LDQpfSxaOmVlLCIlIjpmdW5jdGlvbigpe3JldHVybiIlIn19LE49e2E6cixBOnUs
YjppLEI6byxjOmEsZDpKdCxlOkp0LEg6S3QsSTpLdCxqOkd0LEw6dGUsbTpXdCxN
OlF0LHA6cyxTOm5lLFU6SXQsdzpZdCxXOlp0LHg6YyxYOmwseTpYdCxZOlZ0LFo6
JHQsIiUiOnJlfTtyZXR1cm4gdH1mdW5jdGlvbiBIdChuLHQsZSl7dmFyIHI9MD5u
PyItIjoiIix1PShyPy1uOm4pKyIiLGk9dS5sZW5ndGg7cmV0dXJuIHIrKGU+aT9u
ZXcgQXJyYXkoZS1pKzEpLmpvaW4odCkrdTp1KX1mdW5jdGlvbiBGdChuKXtyZXR1
cm4gbmV3IFJlZ0V4cCgiXig/OiIrbi5tYXAoVm8ucmVxdW90ZSkuam9pbigifCIp
KyIpIiwiaSIpfWZ1bmN0aW9uIE90KG4pe2Zvcih2YXIgdD1uZXcgbyxlPS0xLHI9
bi5sZW5ndGg7KytlPHI7KXQuc2V0KG5bZV0udG9Mb3dlckNhc2UoKSxlKTtyZXR1
cm4gdH1mdW5jdGlvbiBZdChuLHQsZSl7dWMubGFzdEluZGV4PTA7dmFyIHI9dWMu
ZXhlYyh0LnNsaWNlKGUsZSsxKSk7cmV0dXJuIHI/KG4udz0rclswXSxlK3JbMF0u
bGVuZ3RoKTotMX1mdW5jdGlvbiBJdChuLHQsZSl7dWMubGFzdEluZGV4PTA7dmFy
IHI9dWMuZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi5VPStyWzBdLGUrclsw
XS5sZW5ndGgpOi0xfWZ1bmN0aW9uIFp0KG4sdCxlKXt1Yy5sYXN0SW5kZXg9MDt2
YXIgcj11Yy5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLlc9K3JbMF0sZSty
WzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gVnQobix0LGUpe3VjLmxhc3RJbmRleD0w
O3ZhciByPXVjLmV4ZWModC5zbGljZShlLGUrNCkpO3JldHVybiByPyhuLnk9K3Jb
MF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gWHQobix0LGUpe3VjLmxhc3RJ
bmRleD0wO3ZhciByPXVjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhu
Lnk9QnQoK3JbMF0pLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uICR0KG4sdCxl
KXtyZXR1cm4vXlsrLV1cZHs0fSQvLnRlc3QodD10LnNsaWNlKGUsZSs1KSk/KG4u
Wj0tdCxlKzUpOi0xfWZ1bmN0aW9uIEJ0KG4pe3JldHVybiBuKyhuPjY4PzE5MDA6
MmUzKX1mdW5jdGlvbiBXdChuLHQsZSl7dWMubGFzdEluZGV4PTA7dmFyIHI9dWMu
ZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4ubT1yWzBdLTEsZStyWzBd
Lmxlbmd0aCk6LTF9ZnVuY3Rpb24gSnQobix0LGUpe3VjLmxhc3RJbmRleD0wO3Zh
ciByPXVjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLmQ9K3JbMF0s
ZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gR3Qobix0LGUpe3VjLmxhc3RJbmRl
eD0wO3ZhciByPXVjLmV4ZWModC5zbGljZShlLGUrMykpO3JldHVybiByPyhuLmo9
K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gS3Qobix0LGUpe3VjLmxh
c3RJbmRleD0wO3ZhciByPXVjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiBy
PyhuLkg9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gUXQobix0LGUp
e3VjLmxhc3RJbmRleD0wO3ZhciByPXVjLmV4ZWModC5zbGljZShlLGUrMikpO3Jl
dHVybiByPyhuLk09K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gbmUo
bix0LGUpe3VjLmxhc3RJbmRleD0wO3ZhciByPXVjLmV4ZWModC5zbGljZShlLGUr
MikpO3JldHVybiByPyhuLlM9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rp
b24gdGUobix0LGUpe3VjLmxhc3RJbmRleD0wO3ZhciByPXVjLmV4ZWModC5zbGlj
ZShlLGUrMykpO3JldHVybiByPyhuLkw9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9
ZnVuY3Rpb24gZWUobil7dmFyIHQ9bi5nZXRUaW1lem9uZU9mZnNldCgpLGU9dD4w
PyItIjoiKyIscj0wfGlhKHQpLzYwLHU9aWEodCklNjA7cmV0dXJuIGUrSHQociwi
MCIsMikrSHQodSwiMCIsMil9ZnVuY3Rpb24gcmUobix0LGUpe2ljLmxhc3RJbmRl
eD0wO3ZhciByPWljLmV4ZWModC5zbGljZShlLGUrMSkpO3JldHVybiByP2Urclsw
XS5sZW5ndGg6LTF9ZnVuY3Rpb24gdWUobil7Zm9yKHZhciB0PW4ubGVuZ3RoLGU9
LTE7KytlPHQ7KW5bZV1bMF09dGhpcyhuW2VdWzBdKTtyZXR1cm4gZnVuY3Rpb24o
dCl7Zm9yKHZhciBlPTAscj1uW2VdOyFyWzFdKHQpOylyPW5bKytlXTtyZXR1cm4g
clswXSh0KX19ZnVuY3Rpb24gaWUoKXt9ZnVuY3Rpb24gb2Uobix0LGUpe3ZhciBy
PWUucz1uK3QsdT1yLW4saT1yLXU7ZS50PW4taSsodC11KX1mdW5jdGlvbiBhZShu
LHQpe24mJmxjLmhhc093blByb3BlcnR5KG4udHlwZSkmJmxjW24udHlwZV0obix0
KX1mdW5jdGlvbiBjZShuLHQsZSl7dmFyIHIsdT0tMSxpPW4ubGVuZ3RoLWU7Zm9y
KHQubGluZVN0YXJ0KCk7Kyt1PGk7KXI9blt1XSx0LnBvaW50KHJbMF0sclsxXSxy
WzJdKTt0LmxpbmVFbmQoKX1mdW5jdGlvbiBsZShuLHQpe3ZhciBlPS0xLHI9bi5s
ZW5ndGg7Zm9yKHQucG9seWdvblN0YXJ0KCk7KytlPHI7KWNlKG5bZV0sdCwxKTt0
LnBvbHlnb25FbmQoKX1mdW5jdGlvbiBzZSgpe2Z1bmN0aW9uIG4obix0KXtuKj1D
YSx0PXQqQ2EvMit3YS80O3ZhciBlPW4tcixvPWU+PTA/MTotMSxhPW8qZSxjPU1h
dGguY29zKHQpLGw9TWF0aC5zaW4odCkscz1pKmwsZj11KmMrcypNYXRoLmNvcyhh
KSxoPXMqbypNYXRoLnNpbihhKTtmYy5hZGQoTWF0aC5hdGFuMihoLGYpKSxyPW4s
dT1jLGk9bH12YXIgdCxlLHIsdSxpO2hjLnBvaW50PWZ1bmN0aW9uKG8sYSl7aGMu
cG9pbnQ9bixyPSh0PW8pKkNhLHU9TWF0aC5jb3MoYT0oZT1hKSpDYS8yK3dhLzQp
LGk9TWF0aC5zaW4oYSl9LGhjLmxpbmVFbmQ9ZnVuY3Rpb24oKXtuKHQsZSl9fWZ1
bmN0aW9uIGZlKG4pe3ZhciB0PW5bMF0sZT1uWzFdLHI9TWF0aC5jb3MoZSk7cmV0
dXJuW3IqTWF0aC5jb3ModCkscipNYXRoLnNpbih0KSxNYXRoLnNpbihlKV19ZnVu
Y3Rpb24gaGUobix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXStuWzJdKnRb
Ml19ZnVuY3Rpb24gZ2Uobix0KXtyZXR1cm5bblsxXSp0WzJdLW5bMl0qdFsxXSxu
WzJdKnRbMF0tblswXSp0WzJdLG5bMF0qdFsxXS1uWzFdKnRbMF1dfWZ1bmN0aW9u
IHBlKG4sdCl7blswXSs9dFswXSxuWzFdKz10WzFdLG5bMl0rPXRbMl19ZnVuY3Rp
b24gdmUobix0KXtyZXR1cm5bblswXSp0LG5bMV0qdCxuWzJdKnRdfWZ1bmN0aW9u
IGRlKG4pe3ZhciB0PU1hdGguc3FydChuWzBdKm5bMF0rblsxXSpuWzFdK25bMl0q
blsyXSk7blswXS89dCxuWzFdLz10LG5bMl0vPXR9ZnVuY3Rpb24gbWUobil7cmV0
dXJuW01hdGguYXRhbjIoblsxXSxuWzBdKSxHKG5bMl0pXX1mdW5jdGlvbiB5ZShu
LHQpe3JldHVybiBpYShuWzBdLXRbMF0pPEVhJiZpYShuWzFdLXRbMV0pPEVhfWZ1
bmN0aW9uIHhlKG4sdCl7bio9Q2E7dmFyIGU9TWF0aC5jb3ModCo9Q2EpO01lKGUq
TWF0aC5jb3MobiksZSpNYXRoLnNpbihuKSxNYXRoLnNpbih0KSl9ZnVuY3Rpb24g
TWUobix0LGUpeysrZ2MsdmMrPShuLXZjKS9nYyxkYys9KHQtZGMpL2djLG1jKz0o
ZS1tYykvZ2N9ZnVuY3Rpb24gX2UoKXtmdW5jdGlvbiBuKG4sdSl7bio9Q2E7dmFy
IGk9TWF0aC5jb3ModSo9Q2EpLG89aSpNYXRoLmNvcyhuKSxhPWkqTWF0aC5zaW4o
biksYz1NYXRoLnNpbih1KSxsPU1hdGguYXRhbjIoTWF0aC5zcXJ0KChsPWUqYy1y
KmEpKmwrKGw9cipvLXQqYykqbCsobD10KmEtZSpvKSpsKSx0Km8rZSphK3IqYyk7
cGMrPWwseWMrPWwqKHQrKHQ9bykpLHhjKz1sKihlKyhlPWEpKSxNYys9bCoociso
cj1jKSksTWUodCxlLHIpfXZhciB0LGUscjtTYy5wb2ludD1mdW5jdGlvbih1LGkp
e3UqPUNhO3ZhciBvPU1hdGguY29zKGkqPUNhKTt0PW8qTWF0aC5jb3ModSksZT1v
Kk1hdGguc2luKHUpLHI9TWF0aC5zaW4oaSksU2MucG9pbnQ9bixNZSh0LGUscil9
fWZ1bmN0aW9uIGJlKCl7U2MucG9pbnQ9eGV9ZnVuY3Rpb24gd2UoKXtmdW5jdGlv
biBuKG4sdCl7bio9Q2E7dmFyIGU9TWF0aC5jb3ModCo9Q2EpLG89ZSpNYXRoLmNv
cyhuKSxhPWUqTWF0aC5zaW4obiksYz1NYXRoLnNpbih0KSxsPXUqYy1pKmEscz1p
Km8tcipjLGY9ciphLXUqbyxoPU1hdGguc3FydChsKmwrcypzK2YqZiksZz1yKm8r
dSphK2kqYyxwPWgmJi1KKGcpL2gsdj1NYXRoLmF0YW4yKGgsZyk7X2MrPXAqbCxi
Yys9cCpzLHdjKz1wKmYscGMrPXYseWMrPXYqKHIrKHI9bykpLHhjKz12Kih1Kyh1
PWEpKSxNYys9diooaSsoaT1jKSksTWUocix1LGkpfXZhciB0LGUscix1LGk7U2Mu
cG9pbnQ9ZnVuY3Rpb24obyxhKXt0PW8sZT1hLFNjLnBvaW50PW4sbyo9Q2E7dmFy
IGM9TWF0aC5jb3MoYSo9Q2EpO3I9YypNYXRoLmNvcyhvKSx1PWMqTWF0aC5zaW4o
byksaT1NYXRoLnNpbihhKSxNZShyLHUsaSl9LFNjLmxpbmVFbmQ9ZnVuY3Rpb24o
KXtuKHQsZSksU2MubGluZUVuZD1iZSxTYy5wb2ludD14ZX19ZnVuY3Rpb24gU2Uo
KXtyZXR1cm4hMH1mdW5jdGlvbiBrZShuLHQsZSxyLHUpe3ZhciBpPVtdLG89W107
aWYobi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCEoKHQ9bi5sZW5ndGgtMSk8PTAp
KXt2YXIgdCxlPW5bMF0scj1uW3RdO2lmKHllKGUscikpe3UubGluZVN0YXJ0KCk7
Zm9yKHZhciBhPTA7dD5hOysrYSl1LnBvaW50KChlPW5bYV0pWzBdLGVbMV0pO3Jl
dHVybiB1LmxpbmVFbmQoKSx2b2lkIDB9dmFyIGM9bmV3IEFlKGUsbixudWxsLCEw
KSxsPW5ldyBBZShlLG51bGwsYywhMSk7Yy5vPWwsaS5wdXNoKGMpLG8ucHVzaChs
KSxjPW5ldyBBZShyLG4sbnVsbCwhMSksbD1uZXcgQWUocixudWxsLGMsITApLGMu
bz1sLGkucHVzaChjKSxvLnB1c2gobCl9fSksby5zb3J0KHQpLEVlKGkpLEVlKG8p
LGkubGVuZ3RoKXtmb3IodmFyIGE9MCxjPWUsbD1vLmxlbmd0aDtsPmE7KythKW9b
YV0uZT1jPSFjO2Zvcih2YXIgcyxmLGg9aVswXTs7KXtmb3IodmFyIGc9aCxwPSEw
O2cudjspaWYoKGc9Zy5uKT09PWgpcmV0dXJuO3M9Zy56LHUubGluZVN0YXJ0KCk7
ZG97aWYoZy52PWcuby52PSEwLGcuZSl7aWYocClmb3IodmFyIGE9MCxsPXMubGVu
Z3RoO2w+YTsrK2EpdS5wb2ludCgoZj1zW2FdKVswXSxmWzFdKTtlbHNlIHIoZy54
LGcubi54LDEsdSk7Zz1nLm59ZWxzZXtpZihwKXtzPWcucC56O2Zvcih2YXIgYT1z
Lmxlbmd0aC0xO2E+PTA7LS1hKXUucG9pbnQoKGY9c1thXSlbMF0sZlsxXSl9ZWxz
ZSByKGcueCxnLnAueCwtMSx1KTtnPWcucH1nPWcubyxzPWcueixwPSFwfXdoaWxl
KCFnLnYpO3UubGluZUVuZCgpfX19ZnVuY3Rpb24gRWUobil7aWYodD1uLmxlbmd0
aCl7Zm9yKHZhciB0LGUscj0wLHU9blswXTsrK3I8dDspdS5uPWU9bltyXSxlLnA9
dSx1PWU7dS5uPWU9blswXSxlLnA9dX19ZnVuY3Rpb24gQWUobix0LGUscil7dGhp
cy54PW4sdGhpcy56PXQsdGhpcy5vPWUsdGhpcy5lPXIsdGhpcy52PSExLHRoaXMu
bj10aGlzLnA9bnVsbH1mdW5jdGlvbiBDZShuLHQsZSxyKXtyZXR1cm4gZnVuY3Rp
b24odSxpKXtmdW5jdGlvbiBvKHQsZSl7dmFyIHI9dSh0LGUpO24odD1yWzBdLGU9
clsxXSkmJmkucG9pbnQodCxlKX1mdW5jdGlvbiBhKG4sdCl7dmFyIGU9dShuLHQp
O2QucG9pbnQoZVswXSxlWzFdKX1mdW5jdGlvbiBjKCl7eS5wb2ludD1hLGQubGlu
ZVN0YXJ0KCl9ZnVuY3Rpb24gbCgpe3kucG9pbnQ9byxkLmxpbmVFbmQoKX1mdW5j
dGlvbiBzKG4sdCl7di5wdXNoKFtuLHRdKTt2YXIgZT11KG4sdCk7TS5wb2ludChl
WzBdLGVbMV0pfWZ1bmN0aW9uIGYoKXtNLmxpbmVTdGFydCgpLHY9W119ZnVuY3Rp
b24gaCgpe3ModlswXVswXSx2WzBdWzFdKSxNLmxpbmVFbmQoKTt2YXIgbix0PU0u
Y2xlYW4oKSxlPXguYnVmZmVyKCkscj1lLmxlbmd0aDtpZih2LnBvcCgpLHAucHVz
aCh2KSx2PW51bGwscilpZigxJnQpe249ZVswXTt2YXIgdSxyPW4ubGVuZ3RoLTEs
bz0tMTtpZihyPjApe2ZvcihffHwoaS5wb2x5Z29uU3RhcnQoKSxfPSEwKSxpLmxp
bmVTdGFydCgpOysrbzxyOylpLnBvaW50KCh1PW5bb10pWzBdLHVbMV0pO2kubGlu
ZUVuZCgpfX1lbHNlIHI+MSYmMiZ0JiZlLnB1c2goZS5wb3AoKS5jb25jYXQoZS5z
aGlmdCgpKSksZy5wdXNoKGUuZmlsdGVyKE5lKSl9dmFyIGcscCx2LGQ9dChpKSxt
PXUuaW52ZXJ0KHJbMF0sclsxXSkseT17cG9pbnQ6byxsaW5lU3RhcnQ6YyxsaW5l
RW5kOmwscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7eS5wb2ludD1zLHkubGluZVN0
YXJ0PWYseS5saW5lRW5kPWgsZz1bXSxwPVtdfSxwb2x5Z29uRW5kOmZ1bmN0aW9u
KCl7eS5wb2ludD1vLHkubGluZVN0YXJ0PWMseS5saW5lRW5kPWwsZz1Wby5tZXJn
ZShnKTt2YXIgbj1EZShtLHApO2cubGVuZ3RoPyhffHwoaS5wb2x5Z29uU3RhcnQo
KSxfPSEwKSxrZShnLExlLG4sZSxpKSk6biYmKF98fChpLnBvbHlnb25TdGFydCgp
LF89ITApLGkubGluZVN0YXJ0KCksZShudWxsLG51bGwsMSxpKSxpLmxpbmVFbmQo
KSksXyYmKGkucG9seWdvbkVuZCgpLF89ITEpLGc9cD1udWxsfSxzcGhlcmU6ZnVu
Y3Rpb24oKXtpLnBvbHlnb25TdGFydCgpLGkubGluZVN0YXJ0KCksZShudWxsLG51
bGwsMSxpKSxpLmxpbmVFbmQoKSxpLnBvbHlnb25FbmQoKX19LHg9emUoKSxNPXQo
eCksXz0hMTtyZXR1cm4geX19ZnVuY3Rpb24gTmUobil7cmV0dXJuIG4ubGVuZ3Ro
PjF9ZnVuY3Rpb24gemUoKXt2YXIgbix0PVtdO3JldHVybntsaW5lU3RhcnQ6ZnVu
Y3Rpb24oKXt0LnB1c2gobj1bXSl9LHBvaW50OmZ1bmN0aW9uKHQsZSl7bi5wdXNo
KFt0LGVdKX0sbGluZUVuZDp2LGJ1ZmZlcjpmdW5jdGlvbigpe3ZhciBlPXQ7cmV0
dXJuIHQ9W10sbj1udWxsLGV9LHJlam9pbjpmdW5jdGlvbigpe3QubGVuZ3RoPjEm
JnQucHVzaCh0LnBvcCgpLmNvbmNhdCh0LnNoaWZ0KCkpKX19fWZ1bmN0aW9uIExl
KG4sdCl7cmV0dXJuKChuPW4ueClbMF08MD9uWzFdLWthLUVhOmthLW5bMV0pLSgo
dD10LngpWzBdPDA/dFsxXS1rYS1FYTprYS10WzFdKX1mdW5jdGlvbiBUZShuKXt2
YXIgdCxlPTAvMCxyPTAvMCx1PTAvMDtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9u
KCl7bi5saW5lU3RhcnQoKSx0PTF9LHBvaW50OmZ1bmN0aW9uKGksbyl7dmFyIGE9
aT4wP3dhOi13YSxjPWlhKGktZSk7aWEoYy13YSk8RWE/KG4ucG9pbnQoZSxyPShy
K28pLzI+MD9rYTota2EpLG4ucG9pbnQodSxyKSxuLmxpbmVFbmQoKSxuLmxpbmVT
dGFydCgpLG4ucG9pbnQoYSxyKSxuLnBvaW50KGksciksdD0wKTp1IT09YSYmYz49
d2EmJihpYShlLXUpPEVhJiYoZS09dSpFYSksaWEoaS1hKTxFYSYmKGktPWEqRWEp
LHI9cWUoZSxyLGksbyksbi5wb2ludCh1LHIpLG4ubGluZUVuZCgpLG4ubGluZVN0
YXJ0KCksbi5wb2ludChhLHIpLHQ9MCksbi5wb2ludChlPWkscj1vKSx1PWF9LGxp
bmVFbmQ6ZnVuY3Rpb24oKXtuLmxpbmVFbmQoKSxlPXI9MC8wfSxjbGVhbjpmdW5j
dGlvbigpe3JldHVybiAyLXR9fX1mdW5jdGlvbiBxZShuLHQsZSxyKXt2YXIgdSxp
LG89TWF0aC5zaW4obi1lKTtyZXR1cm4gaWEobyk+RWE/TWF0aC5hdGFuKChNYXRo
LnNpbih0KSooaT1NYXRoLmNvcyhyKSkqTWF0aC5zaW4oZSktTWF0aC5zaW4ocikq
KHU9TWF0aC5jb3ModCkpKk1hdGguc2luKG4pKS8odSppKm8pKToodCtyKS8yfWZ1
bmN0aW9uIFJlKG4sdCxlLHIpe3ZhciB1O2lmKG51bGw9PW4pdT1lKmthLHIucG9p
bnQoLXdhLHUpLHIucG9pbnQoMCx1KSxyLnBvaW50KHdhLHUpLHIucG9pbnQod2Es
MCksci5wb2ludCh3YSwtdSksci5wb2ludCgwLC11KSxyLnBvaW50KC13YSwtdSks
ci5wb2ludCgtd2EsMCksci5wb2ludCgtd2EsdSk7ZWxzZSBpZihpYShuWzBdLXRb
MF0pPkVhKXt2YXIgaT1uWzBdPHRbMF0/d2E6LXdhO3U9ZSppLzIsci5wb2ludCgt
aSx1KSxyLnBvaW50KDAsdSksci5wb2ludChpLHUpfWVsc2Ugci5wb2ludCh0WzBd
LHRbMV0pfWZ1bmN0aW9uIERlKG4sdCl7dmFyIGU9blswXSxyPW5bMV0sdT1bTWF0
aC5zaW4oZSksLU1hdGguY29zKGUpLDBdLGk9MCxvPTA7ZmMucmVzZXQoKTtmb3Io
dmFyIGE9MCxjPXQubGVuZ3RoO2M+YTsrK2Epe3ZhciBsPXRbYV0scz1sLmxlbmd0
aDtpZihzKWZvcih2YXIgZj1sWzBdLGg9ZlswXSxnPWZbMV0vMit3YS80LHA9TWF0
aC5zaW4oZyksdj1NYXRoLmNvcyhnKSxkPTE7Oyl7ZD09PXMmJihkPTApLG49bFtk
XTt2YXIgbT1uWzBdLHk9blsxXS8yK3dhLzQseD1NYXRoLnNpbih5KSxNPU1hdGgu
Y29zKHkpLF89bS1oLGI9Xz49MD8xOi0xLHc9YipfLFM9dz53YSxrPXAqeDtpZihm
Yy5hZGQoTWF0aC5hdGFuMihrKmIqTWF0aC5zaW4odyksdipNK2sqTWF0aC5jb3Mo
dykpKSxpKz1TP18rYipTYTpfLFNeaD49ZV5tPj1lKXt2YXIgRT1nZShmZShmKSxm
ZShuKSk7ZGUoRSk7dmFyIEE9Z2UodSxFKTtkZShBKTt2YXIgQz0oU15fPj0wPy0x
OjEpKkcoQVsyXSk7KHI+Q3x8cj09PUMmJihFWzBdfHxFWzFdKSkmJihvKz1TXl8+
PTA/MTotMSl9aWYoIWQrKylicmVhaztoPW0scD14LHY9TSxmPW59fXJldHVybigt
RWE+aXx8RWE+aSYmMD5mYyleMSZvfWZ1bmN0aW9uIFBlKG4pe2Z1bmN0aW9uIHQo
bix0KXtyZXR1cm4gTWF0aC5jb3MobikqTWF0aC5jb3ModCk+aX1mdW5jdGlvbiBl
KG4pe3ZhciBlLGksYyxsLHM7cmV0dXJue2xpbmVTdGFydDpmdW5jdGlvbigpe2w9
Yz0hMSxzPTF9LHBvaW50OmZ1bmN0aW9uKGYsaCl7dmFyIGcscD1bZixoXSx2PXQo
ZixoKSxkPW8/dj8wOnUoZixoKTp2P3UoZisoMD5mP3dhOi13YSksaCk6MDtpZigh
ZSYmKGw9Yz12KSYmbi5saW5lU3RhcnQoKSx2IT09YyYmKGc9cihlLHApLCh5ZShl
LGcpfHx5ZShwLGcpKSYmKHBbMF0rPUVhLHBbMV0rPUVhLHY9dChwWzBdLHBbMV0p
KSksdiE9PWMpcz0wLHY/KG4ubGluZVN0YXJ0KCksZz1yKHAsZSksbi5wb2ludChn
WzBdLGdbMV0pKTooZz1yKGUscCksbi5wb2ludChnWzBdLGdbMV0pLG4ubGluZUVu
ZCgpKSxlPWc7ZWxzZSBpZihhJiZlJiZvXnYpe3ZhciBtO2QmaXx8IShtPXIocCxl
LCEwKSl8fChzPTAsbz8obi5saW5lU3RhcnQoKSxuLnBvaW50KG1bMF1bMF0sbVsw
XVsxXSksbi5wb2ludChtWzFdWzBdLG1bMV1bMV0pLG4ubGluZUVuZCgpKToobi5w
b2ludChtWzFdWzBdLG1bMV1bMV0pLG4ubGluZUVuZCgpLG4ubGluZVN0YXJ0KCks
bi5wb2ludChtWzBdWzBdLG1bMF1bMV0pKSl9IXZ8fGUmJnllKGUscCl8fG4ucG9p
bnQocFswXSxwWzFdKSxlPXAsYz12LGk9ZH0sbGluZUVuZDpmdW5jdGlvbigpe2Mm
Jm4ubGluZUVuZCgpLGU9bnVsbH0sY2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gc3wo
bCYmYyk8PDF9fX1mdW5jdGlvbiByKG4sdCxlKXt2YXIgcj1mZShuKSx1PWZlKHQp
LG89WzEsMCwwXSxhPWdlKHIsdSksYz1oZShhLGEpLGw9YVswXSxzPWMtbCpsO2lm
KCFzKXJldHVybiFlJiZuO3ZhciBmPWkqYy9zLGg9LWkqbC9zLGc9Z2UobyxhKSxw
PXZlKG8sZiksdj12ZShhLGgpO3BlKHAsdik7dmFyIGQ9ZyxtPWhlKHAsZCkseT1o
ZShkLGQpLHg9bSptLXkqKGhlKHAscCktMSk7aWYoISgwPngpKXt2YXIgTT1NYXRo
LnNxcnQoeCksXz12ZShkLCgtbS1NKS95KTtpZihwZShfLHApLF89bWUoXyksIWUp
cmV0dXJuIF87dmFyIGIsdz1uWzBdLFM9dFswXSxrPW5bMV0sRT10WzFdO3c+UyYm
KGI9dyx3PVMsUz1iKTt2YXIgQT1TLXcsQz1pYShBLXdhKTxFYSxOPUN8fEVhPkE7
aWYoIUMmJms+RSYmKGI9ayxrPUUsRT1iKSxOP0M/aytFPjBeX1sxXTwoaWEoX1sw
XS13KTxFYT9rOkUpOms8PV9bMV0mJl9bMV08PUU6QT53YV4odzw9X1swXSYmX1sw
XTw9Uykpe3ZhciB6PXZlKGQsKC1tK00pL3kpO3JldHVybiBwZSh6LHApLFtfLG1l
KHopXX19fWZ1bmN0aW9uIHUodCxlKXt2YXIgcj1vP246d2Etbix1PTA7cmV0dXJu
LXI+dD91fD0xOnQ+ciYmKHV8PTIpLC1yPmU/dXw9NDplPnImJih1fD04KSx1fXZh
ciBpPU1hdGguY29zKG4pLG89aT4wLGE9aWEoaSk+RWEsYz1zcihuLDYqQ2EpO3Jl
dHVybiBDZSh0LGUsYyxvP1swLC1uXTpbLXdhLG4td2FdKX1mdW5jdGlvbiBVZShu
LHQsZSxyKXtyZXR1cm4gZnVuY3Rpb24odSl7dmFyIGksbz11LmEsYT11LmIsYz1v
LngsbD1vLnkscz1hLngsZj1hLnksaD0wLGc9MSxwPXMtYyx2PWYtbDtpZihpPW4t
YyxwfHwhKGk+MCkpe2lmKGkvPXAsMD5wKXtpZihoPmkpcmV0dXJuO2c+aSYmKGc9
aSl9ZWxzZSBpZihwPjApe2lmKGk+ZylyZXR1cm47aT5oJiYoaD1pKX1pZihpPWUt
YyxwfHwhKDA+aSkpe2lmKGkvPXAsMD5wKXtpZihpPmcpcmV0dXJuO2k+aCYmKGg9
aSl9ZWxzZSBpZihwPjApe2lmKGg+aSlyZXR1cm47Zz5pJiYoZz1pKX1pZihpPXQt
bCx2fHwhKGk+MCkpe2lmKGkvPXYsMD52KXtpZihoPmkpcmV0dXJuO2c+aSYmKGc9
aSl9ZWxzZSBpZih2PjApe2lmKGk+ZylyZXR1cm47aT5oJiYoaD1pKX1pZihpPXIt
bCx2fHwhKDA+aSkpe2lmKGkvPXYsMD52KXtpZihpPmcpcmV0dXJuO2k+aCYmKGg9
aSl9ZWxzZSBpZih2PjApe2lmKGg+aSlyZXR1cm47Zz5pJiYoZz1pKX1yZXR1cm4g
aD4wJiYodS5hPXt4OmMraCpwLHk6bCtoKnZ9KSwxPmcmJih1LmI9e3g6YytnKnAs
eTpsK2cqdn0pLHV9fX19fX1mdW5jdGlvbiBqZShuLHQsZSxyKXtmdW5jdGlvbiB1
KHIsdSl7cmV0dXJuIGlhKHJbMF0tbik8RWE/dT4wPzA6MzppYShyWzBdLWUpPEVh
P3U+MD8yOjE6aWEoclsxXS10KTxFYT91PjA/MTowOnU+MD8zOjJ9ZnVuY3Rpb24g
aShuLHQpe3JldHVybiBvKG4ueCx0LngpfWZ1bmN0aW9uIG8obix0KXt2YXIgZT11
KG4sMSkscj11KHQsMSk7cmV0dXJuIGUhPT1yP2UtcjowPT09ZT90WzFdLW5bMV06
MT09PWU/blswXS10WzBdOjI9PT1lP25bMV0tdFsxXTp0WzBdLW5bMF19cmV0dXJu
IGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMobil7Zm9yKHZhciB0PTAsZT1kLmxlbmd0
aCxyPW5bMV0sdT0wO2U+dTsrK3UpZm9yKHZhciBpLG89MSxhPWRbdV0sYz1hLmxl
bmd0aCxsPWFbMF07Yz5vOysrbylpPWFbb10sbFsxXTw9cj9pWzFdPnImJlcobCxp
LG4pPjAmJisrdDppWzFdPD1yJiZXKGwsaSxuKTwwJiYtLXQsbD1pO3JldHVybiAw
IT09dH1mdW5jdGlvbiBsKGksYSxjLGwpe3ZhciBzPTAsZj0wO2lmKG51bGw9PWl8
fChzPXUoaSxjKSkhPT0oZj11KGEsYykpfHxvKGksYSk8MF5jPjApe2RvIGwucG9p
bnQoMD09PXN8fDM9PT1zP246ZSxzPjE/cjp0KTt3aGlsZSgocz0ocytjKzQpJTQp
IT09Zil9ZWxzZSBsLnBvaW50KGFbMF0sYVsxXSl9ZnVuY3Rpb24gcyh1LGkpe3Jl
dHVybiB1Pj1uJiZlPj11JiZpPj10JiZyPj1pfWZ1bmN0aW9uIGYobix0KXtzKG4s
dCkmJmEucG9pbnQobix0KX1mdW5jdGlvbiBoKCl7Ti5wb2ludD1wLGQmJmQucHVz
aChtPVtdKSxTPSEwLHc9ITEsXz1iPTAvMH1mdW5jdGlvbiBnKCl7diYmKHAoeSx4
KSxNJiZ3JiZBLnJlam9pbigpLHYucHVzaChBLmJ1ZmZlcigpKSksTi5wb2ludD1m
LHcmJmEubGluZUVuZCgpfWZ1bmN0aW9uIHAobix0KXtuPU1hdGgubWF4KC1FYyxN
YXRoLm1pbihFYyxuKSksdD1NYXRoLm1heCgtRWMsTWF0aC5taW4oRWMsdCkpO3Zh
ciBlPXMobix0KTtpZihkJiZtLnB1c2goW24sdF0pLFMpeT1uLHg9dCxNPWUsUz0h
MSxlJiYoYS5saW5lU3RhcnQoKSxhLnBvaW50KG4sdCkpO2Vsc2UgaWYoZSYmdylh
LnBvaW50KG4sdCk7ZWxzZXt2YXIgcj17YTp7eDpfLHk6Yn0sYjp7eDpuLHk6dH19
O0Mocik/KHd8fChhLmxpbmVTdGFydCgpLGEucG9pbnQoci5hLngsci5hLnkpKSxh
LnBvaW50KHIuYi54LHIuYi55KSxlfHxhLmxpbmVFbmQoKSxrPSExKTplJiYoYS5s
aW5lU3RhcnQoKSxhLnBvaW50KG4sdCksaz0hMSl9Xz1uLGI9dCx3PWV9dmFyIHYs
ZCxtLHkseCxNLF8sYix3LFMsayxFPWEsQT16ZSgpLEM9VWUobix0LGUsciksTj17
cG9pbnQ6ZixsaW5lU3RhcnQ6aCxsaW5lRW5kOmcscG9seWdvblN0YXJ0OmZ1bmN0
aW9uKCl7YT1BLHY9W10sZD1bXSxrPSEwfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7
YT1FLHY9Vm8ubWVyZ2Uodik7dmFyIHQ9YyhbbixyXSksZT1rJiZ0LHU9di5sZW5n
dGg7KGV8fHUpJiYoYS5wb2x5Z29uU3RhcnQoKSxlJiYoYS5saW5lU3RhcnQoKSxs
KG51bGwsbnVsbCwxLGEpLGEubGluZUVuZCgpKSx1JiZrZSh2LGksdCxsLGEpLGEu
cG9seWdvbkVuZCgpKSx2PWQ9bT1udWxsfX07cmV0dXJuIE59fWZ1bmN0aW9uIEhl
KG4sdCl7ZnVuY3Rpb24gZShlLHIpe3JldHVybiBlPW4oZSxyKSx0KGVbMF0sZVsx
XSl9cmV0dXJuIG4uaW52ZXJ0JiZ0LmludmVydCYmKGUuaW52ZXJ0PWZ1bmN0aW9u
KGUscil7cmV0dXJuIGU9dC5pbnZlcnQoZSxyKSxlJiZuLmludmVydChlWzBdLGVb
MV0pfSksZX1mdW5jdGlvbiBGZShuKXt2YXIgdD0wLGU9d2EvMyxyPWVyKG4pLHU9
cih0LGUpO3JldHVybiB1LnBhcmFsbGVscz1mdW5jdGlvbihuKXtyZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aD9yKHQ9blswXSp3YS8xODAsZT1uWzFdKndhLzE4MCk6WzE4
MCoodC93YSksMTgwKihlL3dhKV19LHV9ZnVuY3Rpb24gT2Uobix0KXtmdW5jdGlv
biBlKG4sdCl7dmFyIGU9TWF0aC5zcXJ0KGktMip1Kk1hdGguc2luKHQpKS91O3Jl
dHVybltlKk1hdGguc2luKG4qPXUpLG8tZSpNYXRoLmNvcyhuKV19dmFyIHI9TWF0
aC5zaW4obiksdT0ocitNYXRoLnNpbih0KSkvMixpPTErciooMip1LXIpLG89TWF0
aC5zcXJ0KGkpL3U7cmV0dXJuIGUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7dmFyIGU9
by10O3JldHVybltNYXRoLmF0YW4yKG4sZSkvdSxHKChpLShuKm4rZSplKSp1KnUp
LygyKnUpKV19LGV9ZnVuY3Rpb24gWWUoKXtmdW5jdGlvbiBuKG4sdCl7Q2MrPXUq
bi1yKnQscj1uLHU9dH12YXIgdCxlLHIsdTtxYy5wb2ludD1mdW5jdGlvbihpLG8p
e3FjLnBvaW50PW4sdD1yPWksZT11PW99LHFjLmxpbmVFbmQ9ZnVuY3Rpb24oKXtu
KHQsZSl9fWZ1bmN0aW9uIEllKG4sdCl7TmM+biYmKE5jPW4pLG4+TGMmJihMYz1u
KSx6Yz50JiYoemM9dCksdD5UYyYmKFRjPXQpfWZ1bmN0aW9uIFplKCl7ZnVuY3Rp
b24gbihuLHQpe28ucHVzaCgiTSIsbiwiLCIsdCxpKX1mdW5jdGlvbiB0KG4sdCl7
by5wdXNoKCJNIixuLCIsIix0KSxhLnBvaW50PWV9ZnVuY3Rpb24gZShuLHQpe28u
cHVzaCgiTCIsbiwiLCIsdCl9ZnVuY3Rpb24gcigpe2EucG9pbnQ9bn1mdW5jdGlv
biB1KCl7by5wdXNoKCJaIil9dmFyIGk9VmUoNC41KSxvPVtdLGE9e3BvaW50Om4s
bGluZVN0YXJ0OmZ1bmN0aW9uKCl7YS5wb2ludD10fSxsaW5lRW5kOnIscG9seWdv
blN0YXJ0OmZ1bmN0aW9uKCl7YS5saW5lRW5kPXV9LHBvbHlnb25FbmQ6ZnVuY3Rp
b24oKXthLmxpbmVFbmQ9cixhLnBvaW50PW59LHBvaW50UmFkaXVzOmZ1bmN0aW9u
KG4pe3JldHVybiBpPVZlKG4pLGF9LHJlc3VsdDpmdW5jdGlvbigpe2lmKG8ubGVu
Z3RoKXt2YXIgbj1vLmpvaW4oIiIpO3JldHVybiBvPVtdLG59fX07cmV0dXJuIGF9
ZnVuY3Rpb24gVmUobil7cmV0dXJuIm0wLCIrbisiYSIrbisiLCIrbisiIDAgMSwx
IDAsIistMipuKyJhIituKyIsIituKyIgMCAxLDEgMCwiKzIqbisieiJ9ZnVuY3Rp
b24gWGUobix0KXt2Yys9bixkYys9dCwrK21jfWZ1bmN0aW9uICRlKCl7ZnVuY3Rp
b24gbihuLHIpe3ZhciB1PW4tdCxpPXItZSxvPU1hdGguc3FydCh1KnUraSppKTt5
Yys9byoodCtuKS8yLHhjKz1vKihlK3IpLzIsTWMrPW8sWGUodD1uLGU9cil9dmFy
IHQsZTtEYy5wb2ludD1mdW5jdGlvbihyLHUpe0RjLnBvaW50PW4sWGUodD1yLGU9
dSl9fWZ1bmN0aW9uIEJlKCl7RGMucG9pbnQ9WGV9ZnVuY3Rpb24gV2UoKXtmdW5j
dGlvbiBuKG4sdCl7dmFyIGU9bi1yLGk9dC11LG89TWF0aC5zcXJ0KGUqZStpKmkp
O3ljKz1vKihyK24pLzIseGMrPW8qKHUrdCkvMixNYys9byxvPXUqbi1yKnQsX2Mr
PW8qKHIrbiksYmMrPW8qKHUrdCksd2MrPTMqbyxYZShyPW4sdT10KX12YXIgdCxl
LHIsdTtEYy5wb2ludD1mdW5jdGlvbihpLG8pe0RjLnBvaW50PW4sWGUodD1yPWks
ZT11PW8pfSxEYy5saW5lRW5kPWZ1bmN0aW9uKCl7bih0LGUpfX1mdW5jdGlvbiBK
ZShuKXtmdW5jdGlvbiB0KHQsZSl7bi5tb3ZlVG8odCxlKSxuLmFyYyh0LGUsbyww
LFNhKX1mdW5jdGlvbiBlKHQsZSl7bi5tb3ZlVG8odCxlKSxhLnBvaW50PXJ9ZnVu
Y3Rpb24gcih0LGUpe24ubGluZVRvKHQsZSl9ZnVuY3Rpb24gdSgpe2EucG9pbnQ9
dH1mdW5jdGlvbiBpKCl7bi5jbG9zZVBhdGgoKX12YXIgbz00LjUsYT17cG9pbnQ6
dCxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXthLnBvaW50PWV9LGxpbmVFbmQ6dSxwb2x5
Z29uU3RhcnQ6ZnVuY3Rpb24oKXthLmxpbmVFbmQ9aX0scG9seWdvbkVuZDpmdW5j
dGlvbigpe2EubGluZUVuZD11LGEucG9pbnQ9dH0scG9pbnRSYWRpdXM6ZnVuY3Rp
b24obil7cmV0dXJuIG89bixhfSxyZXN1bHQ6dn07cmV0dXJuIGF9ZnVuY3Rpb24g
R2Uobil7ZnVuY3Rpb24gdChuKXtyZXR1cm4oYT9yOmUpKG4pfWZ1bmN0aW9uIGUo
dCl7cmV0dXJuIG5yKHQsZnVuY3Rpb24oZSxyKXtlPW4oZSxyKSx0LnBvaW50KGVb
MF0sZVsxXSl9KX1mdW5jdGlvbiByKHQpe2Z1bmN0aW9uIGUoZSxyKXtlPW4oZSxy
KSx0LnBvaW50KGVbMF0sZVsxXSl9ZnVuY3Rpb24gcigpe3g9MC8wLFMucG9pbnQ9
aSx0LmxpbmVTdGFydCgpfWZ1bmN0aW9uIGkoZSxyKXt2YXIgaT1mZShbZSxyXSks
bz1uKGUscik7dSh4LE0seSxfLGIsdyx4PW9bMF0sTT1vWzFdLHk9ZSxfPWlbMF0s
Yj1pWzFdLHc9aVsyXSxhLHQpLHQucG9pbnQoeCxNKX1mdW5jdGlvbiBvKCl7Uy5w
b2ludD1lLHQubGluZUVuZCgpfWZ1bmN0aW9uIGMoKXtyKCksUy5wb2ludD1sLFMu
bGluZUVuZD1zfWZ1bmN0aW9uIGwobix0KXtpKGY9bixoPXQpLGc9eCxwPU0sdj1f
LGQ9YixtPXcsUy5wb2ludD1pfWZ1bmN0aW9uIHMoKXt1KHgsTSx5LF8sYix3LGcs
cCxmLHYsZCxtLGEsdCksUy5saW5lRW5kPW8sbygpfXZhciBmLGgsZyxwLHYsZCxt
LHkseCxNLF8sYix3LFM9e3BvaW50OmUsbGluZVN0YXJ0OnIsbGluZUVuZDpvLHBv
bHlnb25TdGFydDpmdW5jdGlvbigpe3QucG9seWdvblN0YXJ0KCksUy5saW5lU3Rh
cnQ9Y30scG9seWdvbkVuZDpmdW5jdGlvbigpe3QucG9seWdvbkVuZCgpLFMubGlu
ZVN0YXJ0PXJ9fTtyZXR1cm4gU31mdW5jdGlvbiB1KHQsZSxyLGEsYyxsLHMsZixo
LGcscCx2LGQsbSl7dmFyIHk9cy10LHg9Zi1lLE09eSp5K3gqeDtpZihNPjQqaSYm
ZC0tKXt2YXIgXz1hK2csYj1jK3Asdz1sK3YsUz1NYXRoLnNxcnQoXypfK2IqYit3
KncpLGs9TWF0aC5hc2luKHcvPVMpLEU9aWEoaWEodyktMSk8RWF8fGlhKHItaCk8
RWE/KHIraCkvMjpNYXRoLmF0YW4yKGIsXyksQT1uKEUsayksQz1BWzBdLE49QVsx
XSx6PUMtdCxMPU4tZSxUPXgqei15Kkw7KFQqVC9NPml8fGlhKCh5KnoreCpMKS9N
LS41KT4uM3x8bz5hKmcrYypwK2wqdikmJih1KHQsZSxyLGEsYyxsLEMsTixFLF8v
PVMsYi89Uyx3LGQsbSksbS5wb2ludChDLE4pLHUoQyxOLEUsXyxiLHcscyxmLGgs
ZyxwLHYsZCxtKSl9fXZhciBpPS41LG89TWF0aC5jb3MoMzAqQ2EpLGE9MTY7cmV0
dXJuIHQucHJlY2lzaW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyhhPShpPW4qbik+MCYmMTYsdCk6TWF0aC5zcXJ0KGkpCn0sdH1mdW5jdGlv
biBLZShuKXt2YXIgdD1HZShmdW5jdGlvbih0LGUpe3JldHVybiBuKFt0Kk5hLGUq
TmFdKX0pO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gcnIodChuKSl9fWZ1bmN0
aW9uIFFlKG4pe3RoaXMuc3RyZWFtPW59ZnVuY3Rpb24gbnIobix0KXtyZXR1cm57
cG9pbnQ6dCxzcGhlcmU6ZnVuY3Rpb24oKXtuLnNwaGVyZSgpfSxsaW5lU3RhcnQ6
ZnVuY3Rpb24oKXtuLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bi5s
aW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe24ucG9seWdvblN0YXJ0
KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtuLnBvbHlnb25FbmQoKX19fWZ1bmN0
aW9uIHRyKG4pe3JldHVybiBlcihmdW5jdGlvbigpe3JldHVybiBufSkoKX1mdW5j
dGlvbiBlcihuKXtmdW5jdGlvbiB0KG4pe3JldHVybiBuPWEoblswXSpDYSxuWzFd
KkNhKSxbblswXSpoK2MsbC1uWzFdKmhdfWZ1bmN0aW9uIGUobil7cmV0dXJuIG49
YS5pbnZlcnQoKG5bMF0tYykvaCwobC1uWzFdKS9oKSxuJiZbblswXSpOYSxuWzFd
Kk5hXX1mdW5jdGlvbiByKCl7YT1IZShvPW9yKG0seSx4KSxpKTt2YXIgbj1pKHYs
ZCk7cmV0dXJuIGM9Zy1uWzBdKmgsbD1wK25bMV0qaCx1KCl9ZnVuY3Rpb24gdSgp
e3JldHVybiBzJiYocy52YWxpZD0hMSxzPW51bGwpLHR9dmFyIGksbyxhLGMsbCxz
LGY9R2UoZnVuY3Rpb24obix0KXtyZXR1cm4gbj1pKG4sdCksW25bMF0qaCtjLGwt
blsxXSpoXX0pLGg9MTUwLGc9NDgwLHA9MjUwLHY9MCxkPTAsbT0wLHk9MCx4PTAs
TT1rYyxfPXd0LGI9bnVsbCx3PW51bGw7cmV0dXJuIHQuc3RyZWFtPWZ1bmN0aW9u
KG4pe3JldHVybiBzJiYocy52YWxpZD0hMSkscz1ycihNKG8sZihfKG4pKSkpLHMu
dmFsaWQ9ITAsc30sdC5jbGlwQW5nbGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KE09bnVsbD09bj8oYj1uLGtjKTpQZSgoYj0rbikqQ2EpLHUo
KSk6Yn0sdC5jbGlwRXh0ZW50PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMu
bGVuZ3RoPyh3PW4sXz1uP2plKG5bMF1bMF0sblswXVsxXSxuWzFdWzBdLG5bMV1b
MV0pOnd0LHUoKSk6d30sdC5zY2FsZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1l
bnRzLmxlbmd0aD8oaD0rbixyKCkpOmh9LHQudHJhbnNsYXRlPWZ1bmN0aW9uKG4p
e3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPStuWzBdLHA9K25bMV0scigpKTpb
ZyxwXX0sdC5jZW50ZXI9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGg/KHY9blswXSUzNjAqQ2EsZD1uWzFdJTM2MCpDYSxyKCkpOlt2Kk5hLGQqTmFd
fSx0LnJvdGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8o
bT1uWzBdJTM2MCpDYSx5PW5bMV0lMzYwKkNhLHg9bi5sZW5ndGg+Mj9uWzJdJTM2
MCpDYTowLHIoKSk6W20qTmEseSpOYSx4Kk5hXX0sVm8ucmViaW5kKHQsZiwicHJl
Y2lzaW9uIiksZnVuY3Rpb24oKXtyZXR1cm4gaT1uLmFwcGx5KHRoaXMsYXJndW1l
bnRzKSx0LmludmVydD1pLmludmVydCYmZSxyKCl9fWZ1bmN0aW9uIHJyKG4pe3Jl
dHVybiBucihuLGZ1bmN0aW9uKHQsZSl7bi5wb2ludCh0KkNhLGUqQ2EpfSl9ZnVu
Y3Rpb24gdXIobix0KXtyZXR1cm5bbix0XX1mdW5jdGlvbiBpcihuLHQpe3JldHVy
bltuPndhP24tU2E6LXdhPm4/bitTYTpuLHRdfWZ1bmN0aW9uIG9yKG4sdCxlKXty
ZXR1cm4gbj90fHxlP0hlKGNyKG4pLGxyKHQsZSkpOmNyKG4pOnR8fGU/bHIodCxl
KTppcn1mdW5jdGlvbiBhcihuKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4g
dCs9bixbdD53YT90LVNhOi13YT50P3QrU2E6dCxlXX19ZnVuY3Rpb24gY3Iobil7
dmFyIHQ9YXIobik7cmV0dXJuIHQuaW52ZXJ0PWFyKC1uKSx0fWZ1bmN0aW9uIGxy
KG4sdCl7ZnVuY3Rpb24gZShuLHQpe3ZhciBlPU1hdGguY29zKHQpLGE9TWF0aC5j
b3MobikqZSxjPU1hdGguc2luKG4pKmUsbD1NYXRoLnNpbih0KSxzPWwqcithKnU7
cmV0dXJuW01hdGguYXRhbjIoYyppLXMqbyxhKnItbCp1KSxHKHMqaStjKm8pXX12
YXIgcj1NYXRoLmNvcyhuKSx1PU1hdGguc2luKG4pLGk9TWF0aC5jb3ModCksbz1N
YXRoLnNpbih0KTtyZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1N
YXRoLmNvcyh0KSxhPU1hdGguY29zKG4pKmUsYz1NYXRoLnNpbihuKSplLGw9TWF0
aC5zaW4odCkscz1sKmktYypvO3JldHVybltNYXRoLmF0YW4yKGMqaStsKm8sYSpy
K3MqdSksRyhzKnItYSp1KV19LGV9ZnVuY3Rpb24gc3Iobix0KXt2YXIgZT1NYXRo
LmNvcyhuKSxyPU1hdGguc2luKG4pO3JldHVybiBmdW5jdGlvbih1LGksbyxhKXt2
YXIgYz1vKnQ7bnVsbCE9dT8odT1mcihlLHUpLGk9ZnIoZSxpKSwobz4wP2k+dTp1
PmkpJiYodSs9bypTYSkpOih1PW4rbypTYSxpPW4tLjUqYyk7Zm9yKHZhciBsLHM9
dTtvPjA/cz5pOmk+cztzLT1jKWEucG9pbnQoKGw9bWUoW2UsLXIqTWF0aC5jb3Mo
cyksLXIqTWF0aC5zaW4ocyldKSlbMF0sbFsxXSl9fWZ1bmN0aW9uIGZyKG4sdCl7
dmFyIGU9ZmUodCk7ZVswXS09bixkZShlKTt2YXIgcj1KKC1lWzFdKTtyZXR1cm4o
KC1lWzJdPDA/LXI6cikrMipNYXRoLlBJLUVhKSUoMipNYXRoLlBJKX1mdW5jdGlv
biBocihuLHQsZSl7dmFyIHI9Vm8ucmFuZ2Uobix0LUVhLGUpLmNvbmNhdCh0KTty
ZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHIubWFwKGZ1bmN0aW9uKHQpe3JldHVy
bltuLHRdfSl9fWZ1bmN0aW9uIGdyKG4sdCxlKXt2YXIgcj1Wby5yYW5nZShuLHQt
RWEsZSkuY29uY2F0KHQpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gci5tYXAo
ZnVuY3Rpb24odCl7cmV0dXJuW3Qsbl19KX19ZnVuY3Rpb24gcHIobil7cmV0dXJu
IG4uc291cmNlfWZ1bmN0aW9uIHZyKG4pe3JldHVybiBuLnRhcmdldH1mdW5jdGlv
biBkcihuLHQsZSxyKXt2YXIgdT1NYXRoLmNvcyh0KSxpPU1hdGguc2luKHQpLG89
TWF0aC5jb3MociksYT1NYXRoLnNpbihyKSxjPXUqTWF0aC5jb3MobiksbD11Kk1h
dGguc2luKG4pLHM9bypNYXRoLmNvcyhlKSxmPW8qTWF0aC5zaW4oZSksaD0yKk1h
dGguYXNpbihNYXRoLnNxcnQodHQoci10KSt1Km8qdHQoZS1uKSkpLGc9MS9NYXRo
LnNpbihoKSxwPWg/ZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5zaW4obio9aCkqZyxl
PU1hdGguc2luKGgtbikqZyxyPWUqYyt0KnMsdT1lKmwrdCpmLG89ZSppK3QqYTty
ZXR1cm5bTWF0aC5hdGFuMih1LHIpKk5hLE1hdGguYXRhbjIobyxNYXRoLnNxcnQo
cipyK3UqdSkpKk5hXX06ZnVuY3Rpb24oKXtyZXR1cm5bbipOYSx0Kk5hXX07cmV0
dXJuIHAuZGlzdGFuY2U9aCxwfWZ1bmN0aW9uIG1yKCl7ZnVuY3Rpb24gbihuLHUp
e3ZhciBpPU1hdGguc2luKHUqPUNhKSxvPU1hdGguY29zKHUpLGE9aWEoKG4qPUNh
KS10KSxjPU1hdGguY29zKGEpO1BjKz1NYXRoLmF0YW4yKE1hdGguc3FydCgoYT1v
Kk1hdGguc2luKGEpKSphKyhhPXIqaS1lKm8qYykqYSksZSppK3IqbypjKSx0PW4s
ZT1pLHI9b312YXIgdCxlLHI7VWMucG9pbnQ9ZnVuY3Rpb24odSxpKXt0PXUqQ2Es
ZT1NYXRoLnNpbihpKj1DYSkscj1NYXRoLmNvcyhpKSxVYy5wb2ludD1ufSxVYy5s
aW5lRW5kPWZ1bmN0aW9uKCl7VWMucG9pbnQ9VWMubGluZUVuZD12fX1mdW5jdGlv
biB5cihuLHQpe2Z1bmN0aW9uIGUodCxlKXt2YXIgcj1NYXRoLmNvcyh0KSx1PU1h
dGguY29zKGUpLGk9bihyKnUpO3JldHVybltpKnUqTWF0aC5zaW4odCksaSpNYXRo
LnNpbihlKV19cmV0dXJuIGUuaW52ZXJ0PWZ1bmN0aW9uKG4sZSl7dmFyIHI9TWF0
aC5zcXJ0KG4qbitlKmUpLHU9dChyKSxpPU1hdGguc2luKHUpLG89TWF0aC5jb3Mo
dSk7cmV0dXJuW01hdGguYXRhbjIobippLHIqbyksTWF0aC5hc2luKHImJmUqaS9y
KV19LGV9ZnVuY3Rpb24geHIobix0KXtmdW5jdGlvbiBlKG4sdCl7bz4wPy1rYStF
YT50JiYodD0ta2ErRWEpOnQ+a2EtRWEmJih0PWthLUVhKTt2YXIgZT1vL01hdGgu
cG93KHUodCksaSk7cmV0dXJuW2UqTWF0aC5zaW4oaSpuKSxvLWUqTWF0aC5jb3Mo
aSpuKV19dmFyIHI9TWF0aC5jb3MobiksdT1mdW5jdGlvbihuKXtyZXR1cm4gTWF0
aC50YW4od2EvNCtuLzIpfSxpPW49PT10P01hdGguc2luKG4pOk1hdGgubG9nKHIv
TWF0aC5jb3ModCkpL01hdGgubG9nKHUodCkvdShuKSksbz1yKk1hdGgucG93KHUo
biksaSkvaTtyZXR1cm4gaT8oZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1v
LXQscj1CKGkpKk1hdGguc3FydChuKm4rZSplKTtyZXR1cm5bTWF0aC5hdGFuMihu
LGUpL2ksMipNYXRoLmF0YW4oTWF0aC5wb3coby9yLDEvaSkpLWthXX0sZSk6X3J9
ZnVuY3Rpb24gTXIobix0KXtmdW5jdGlvbiBlKG4sdCl7dmFyIGU9aS10O3JldHVy
bltlKk1hdGguc2luKHUqbiksaS1lKk1hdGguY29zKHUqbildfXZhciByPU1hdGgu
Y29zKG4pLHU9bj09PXQ/TWF0aC5zaW4obik6KHItTWF0aC5jb3ModCkpLyh0LW4p
LGk9ci91K247cmV0dXJuIGlhKHUpPEVhP3VyOihlLmludmVydD1mdW5jdGlvbihu
LHQpe3ZhciBlPWktdDtyZXR1cm5bTWF0aC5hdGFuMihuLGUpL3UsaS1CKHUpKk1h
dGguc3FydChuKm4rZSplKV19LGUpfWZ1bmN0aW9uIF9yKG4sdCl7cmV0dXJuW24s
TWF0aC5sb2coTWF0aC50YW4od2EvNCt0LzIpKV19ZnVuY3Rpb24gYnIobil7dmFy
IHQsZT10cihuKSxyPWUuc2NhbGUsdT1lLnRyYW5zbGF0ZSxpPWUuY2xpcEV4dGVu
dDtyZXR1cm4gZS5zY2FsZT1mdW5jdGlvbigpe3ZhciBuPXIuYXBwbHkoZSxhcmd1
bWVudHMpO3JldHVybiBuPT09ZT90P2UuY2xpcEV4dGVudChudWxsKTplOm59LGUu
dHJhbnNsYXRlPWZ1bmN0aW9uKCl7dmFyIG49dS5hcHBseShlLGFyZ3VtZW50cyk7
cmV0dXJuIG49PT1lP3Q/ZS5jbGlwRXh0ZW50KG51bGwpOmU6bn0sZS5jbGlwRXh0
ZW50PWZ1bmN0aW9uKG4pe3ZhciBvPWkuYXBwbHkoZSxhcmd1bWVudHMpO2lmKG89
PT1lKXtpZih0PW51bGw9PW4pe3ZhciBhPXdhKnIoKSxjPXUoKTtpKFtbY1swXS1h
LGNbMV0tYV0sW2NbMF0rYSxjWzFdK2FdXSl9fWVsc2UgdCYmKG89bnVsbCk7cmV0
dXJuIG99LGUuY2xpcEV4dGVudChudWxsKX1mdW5jdGlvbiB3cihuLHQpe3JldHVy
bltNYXRoLmxvZyhNYXRoLnRhbih3YS80K3QvMikpLC1uXX1mdW5jdGlvbiBTcihu
KXtyZXR1cm4gblswXX1mdW5jdGlvbiBrcihuKXtyZXR1cm4gblsxXX1mdW5jdGlv
biBFcihuKXtmb3IodmFyIHQ9bi5sZW5ndGgsZT1bMCwxXSxyPTIsdT0yO3Q+dTt1
Kyspe2Zvcig7cj4xJiZXKG5bZVtyLTJdXSxuW2Vbci0xXV0sblt1XSk8PTA7KS0t
cjtlW3IrK109dX1yZXR1cm4gZS5zbGljZSgwLHIpfWZ1bmN0aW9uIEFyKG4sdCl7
cmV0dXJuIG5bMF0tdFswXXx8blsxXS10WzFdfWZ1bmN0aW9uIENyKG4sdCxlKXty
ZXR1cm4oZVswXS10WzBdKSooblsxXS10WzFdKTwoZVsxXS10WzFdKSooblswXS10
WzBdKX1mdW5jdGlvbiBOcihuLHQsZSxyKXt2YXIgdT1uWzBdLGk9ZVswXSxvPXRb
MF0tdSxhPXJbMF0taSxjPW5bMV0sbD1lWzFdLHM9dFsxXS1jLGY9clsxXS1sLGg9
KGEqKGMtbCktZioodS1pKSkvKGYqby1hKnMpO3JldHVyblt1K2gqbyxjK2gqc119
ZnVuY3Rpb24genIobil7dmFyIHQ9blswXSxlPW5bbi5sZW5ndGgtMV07cmV0dXJu
ISh0WzBdLWVbMF18fHRbMV0tZVsxXSl9ZnVuY3Rpb24gTHIoKXtLcih0aGlzKSx0
aGlzLmVkZ2U9dGhpcy5zaXRlPXRoaXMuY2lyY2xlPW51bGx9ZnVuY3Rpb24gVHIo
bil7dmFyIHQ9V2MucG9wKCl8fG5ldyBMcjtyZXR1cm4gdC5zaXRlPW4sdH1mdW5j
dGlvbiBxcihuKXtJcihuKSxYYy5yZW1vdmUobiksV2MucHVzaChuKSxLcihuKX1m
dW5jdGlvbiBScihuKXt2YXIgdD1uLmNpcmNsZSxlPXQueCxyPXQuY3ksdT17eDpl
LHk6cn0saT1uLlAsbz1uLk4sYT1bbl07cXIobik7Zm9yKHZhciBjPWk7Yy5jaXJj
bGUmJmlhKGUtYy5jaXJjbGUueCk8RWEmJmlhKHItYy5jaXJjbGUuY3kpPEVhOylp
PWMuUCxhLnVuc2hpZnQoYykscXIoYyksYz1pO2EudW5zaGlmdChjKSxJcihjKTtm
b3IodmFyIGw9bztsLmNpcmNsZSYmaWEoZS1sLmNpcmNsZS54KTxFYSYmaWEoci1s
LmNpcmNsZS5jeSk8RWE7KW89bC5OLGEucHVzaChsKSxxcihsKSxsPW87YS5wdXNo
KGwpLElyKGwpO3ZhciBzLGY9YS5sZW5ndGg7Zm9yKHM9MTtmPnM7KytzKWw9YVtz
XSxjPWFbcy0xXSxXcihsLmVkZ2UsYy5zaXRlLGwuc2l0ZSx1KTtjPWFbMF0sbD1h
W2YtMV0sbC5lZGdlPSRyKGMuc2l0ZSxsLnNpdGUsbnVsbCx1KSxZcihjKSxZcihs
KX1mdW5jdGlvbiBEcihuKXtmb3IodmFyIHQsZSxyLHUsaT1uLngsbz1uLnksYT1Y
Yy5fO2E7KWlmKHI9UHIoYSxvKS1pLHI+RWEpYT1hLkw7ZWxzZXtpZih1PWktVXIo
YSxvKSwhKHU+RWEpKXtyPi1FYT8odD1hLlAsZT1hKTp1Pi1FYT8odD1hLGU9YS5O
KTp0PWU9YTticmVha31pZighYS5SKXt0PWE7YnJlYWt9YT1hLlJ9dmFyIGM9VHIo
bik7aWYoWGMuaW5zZXJ0KHQsYyksdHx8ZSl7aWYodD09PWUpcmV0dXJuIElyKHQp
LGU9VHIodC5zaXRlKSxYYy5pbnNlcnQoYyxlKSxjLmVkZ2U9ZS5lZGdlPSRyKHQu
c2l0ZSxjLnNpdGUpLFlyKHQpLFlyKGUpLHZvaWQgMDtpZighZSlyZXR1cm4gYy5l
ZGdlPSRyKHQuc2l0ZSxjLnNpdGUpLHZvaWQgMDtJcih0KSxJcihlKTt2YXIgbD10
LnNpdGUscz1sLngsZj1sLnksaD1uLngtcyxnPW4ueS1mLHA9ZS5zaXRlLHY9cC54
LXMsZD1wLnktZixtPTIqKGgqZC1nKnYpLHk9aCpoK2cqZyx4PXYqditkKmQsTT17
eDooZCp5LWcqeCkvbStzLHk6KGgqeC12KnkpL20rZn07V3IoZS5lZGdlLGwscCxN
KSxjLmVkZ2U9JHIobCxuLG51bGwsTSksZS5lZGdlPSRyKG4scCxudWxsLE0pLFly
KHQpLFlyKGUpfX1mdW5jdGlvbiBQcihuLHQpe3ZhciBlPW4uc2l0ZSxyPWUueCx1
PWUueSxpPXUtdDtpZighaSlyZXR1cm4gcjt2YXIgbz1uLlA7aWYoIW8pcmV0dXJu
LTEvMDtlPW8uc2l0ZTt2YXIgYT1lLngsYz1lLnksbD1jLXQ7aWYoIWwpcmV0dXJu
IGE7dmFyIHM9YS1yLGY9MS9pLTEvbCxoPXMvbDtyZXR1cm4gZj8oLWgrTWF0aC5z
cXJ0KGgqaC0yKmYqKHMqcy8oLTIqbCktYytsLzIrdS1pLzIpKSkvZityOihyK2Ep
LzJ9ZnVuY3Rpb24gVXIobix0KXt2YXIgZT1uLk47aWYoZSlyZXR1cm4gUHIoZSx0
KTt2YXIgcj1uLnNpdGU7cmV0dXJuIHIueT09PXQ/ci54OjEvMH1mdW5jdGlvbiBq
cihuKXt0aGlzLnNpdGU9bix0aGlzLmVkZ2VzPVtdfWZ1bmN0aW9uIEhyKG4pe2Zv
cih2YXIgdCxlLHIsdSxpLG8sYSxjLGwscyxmPW5bMF1bMF0saD1uWzFdWzBdLGc9
blswXVsxXSxwPW5bMV1bMV0sdj1WYyxkPXYubGVuZ3RoO2QtLTspaWYoaT12W2Rd
LGkmJmkucHJlcGFyZSgpKWZvcihhPWkuZWRnZXMsYz1hLmxlbmd0aCxvPTA7Yz5v
OylzPWFbb10uZW5kKCkscj1zLngsdT1zLnksbD1hWysrbyVjXS5zdGFydCgpLHQ9
bC54LGU9bC55LChpYShyLXQpPkVhfHxpYSh1LWUpPkVhKSYmKGEuc3BsaWNlKG8s
MCxuZXcgSnIoQnIoaS5zaXRlLHMsaWEoci1mKTxFYSYmcC11PkVhP3t4OmYseTpp
YSh0LWYpPEVhP2U6cH06aWEodS1wKTxFYSYmaC1yPkVhP3t4OmlhKGUtcCk8RWE/
dDpoLHk6cH06aWEoci1oKTxFYSYmdS1nPkVhP3t4OmgseTppYSh0LWgpPEVhP2U6
Z306aWEodS1nKTxFYSYmci1mPkVhP3t4OmlhKGUtZyk8RWE/dDpmLHk6Z306bnVs
bCksaS5zaXRlLG51bGwpKSwrK2MpfWZ1bmN0aW9uIEZyKG4sdCl7cmV0dXJuIHQu
YW5nbGUtbi5hbmdsZX1mdW5jdGlvbiBPcigpe0tyKHRoaXMpLHRoaXMueD10aGlz
Lnk9dGhpcy5hcmM9dGhpcy5zaXRlPXRoaXMuY3k9bnVsbH1mdW5jdGlvbiBZcihu
KXt2YXIgdD1uLlAsZT1uLk47aWYodCYmZSl7dmFyIHI9dC5zaXRlLHU9bi5zaXRl
LGk9ZS5zaXRlO2lmKHIhPT1pKXt2YXIgbz11LngsYT11LnksYz1yLngtbyxsPXIu
eS1hLHM9aS54LW8sZj1pLnktYSxoPTIqKGMqZi1sKnMpO2lmKCEoaD49LUFhKSl7
dmFyIGc9YypjK2wqbCxwPXMqcytmKmYsdj0oZipnLWwqcCkvaCxkPShjKnAtcypn
KS9oLGY9ZCthLG09SmMucG9wKCl8fG5ldyBPcjttLmFyYz1uLG0uc2l0ZT11LG0u
eD12K28sbS55PWYrTWF0aC5zcXJ0KHYqditkKmQpLG0uY3k9ZixuLmNpcmNsZT1t
O2Zvcih2YXIgeT1udWxsLHg9QmMuXzt4OylpZihtLnk8eC55fHxtLnk9PT14Lnkm
Jm0ueDw9eC54KXtpZigheC5MKXt5PXguUDticmVha314PXguTH1lbHNle2lmKCF4
LlIpe3k9eDticmVha314PXguUn1CYy5pbnNlcnQoeSxtKSx5fHwoJGM9bSl9fX19
ZnVuY3Rpb24gSXIobil7dmFyIHQ9bi5jaXJjbGU7dCYmKHQuUHx8KCRjPXQuTiks
QmMucmVtb3ZlKHQpLEpjLnB1c2godCksS3IodCksbi5jaXJjbGU9bnVsbCl9ZnVu
Y3Rpb24gWnIobil7Zm9yKHZhciB0LGU9WmMscj1VZShuWzBdWzBdLG5bMF1bMV0s
blsxXVswXSxuWzFdWzFdKSx1PWUubGVuZ3RoO3UtLTspdD1lW3VdLCghVnIodCxu
KXx8IXIodCl8fGlhKHQuYS54LXQuYi54KTxFYSYmaWEodC5hLnktdC5iLnkpPEVh
KSYmKHQuYT10LmI9bnVsbCxlLnNwbGljZSh1LDEpKX1mdW5jdGlvbiBWcihuLHQp
e3ZhciBlPW4uYjtpZihlKXJldHVybiEwO3ZhciByLHUsaT1uLmEsbz10WzBdWzBd
LGE9dFsxXVswXSxjPXRbMF1bMV0sbD10WzFdWzFdLHM9bi5sLGY9bi5yLGg9cy54
LGc9cy55LHA9Zi54LHY9Zi55LGQ9KGgrcCkvMixtPShnK3YpLzI7aWYodj09PWcp
e2lmKG8+ZHx8ZD49YSlyZXR1cm47aWYoaD5wKXtpZihpKXtpZihpLnk+PWwpcmV0
dXJufWVsc2UgaT17eDpkLHk6Y307ZT17eDpkLHk6bH19ZWxzZXtpZihpKXtpZihp
Lnk8YylyZXR1cm59ZWxzZSBpPXt4OmQseTpsfTtlPXt4OmQseTpjfX19ZWxzZSBp
ZihyPShoLXApLyh2LWcpLHU9bS1yKmQsLTE+cnx8cj4xKWlmKGg+cCl7aWYoaSl7
aWYoaS55Pj1sKXJldHVybn1lbHNlIGk9e3g6KGMtdSkvcix5OmN9O2U9e3g6KGwt
dSkvcix5Omx9fWVsc2V7aWYoaSl7aWYoaS55PGMpcmV0dXJufWVsc2UgaT17eDoo
bC11KS9yLHk6bH07ZT17eDooYy11KS9yLHk6Y319ZWxzZSBpZih2Pmcpe2lmKGkp
e2lmKGkueD49YSlyZXR1cm59ZWxzZSBpPXt4Om8seTpyKm8rdX07ZT17eDphLHk6
ciphK3V9fWVsc2V7aWYoaSl7aWYoaS54PG8pcmV0dXJufWVsc2UgaT17eDphLHk6
ciphK3V9O2U9e3g6byx5OnIqbyt1fX1yZXR1cm4gbi5hPWksbi5iPWUsITB9ZnVu
Y3Rpb24gWHIobix0KXt0aGlzLmw9bix0aGlzLnI9dCx0aGlzLmE9dGhpcy5iPW51
bGx9ZnVuY3Rpb24gJHIobix0LGUscil7dmFyIHU9bmV3IFhyKG4sdCk7cmV0dXJu
IFpjLnB1c2godSksZSYmV3IodSxuLHQsZSksciYmV3IodSx0LG4sciksVmNbbi5p
XS5lZGdlcy5wdXNoKG5ldyBKcih1LG4sdCkpLFZjW3QuaV0uZWRnZXMucHVzaChu
ZXcgSnIodSx0LG4pKSx1fWZ1bmN0aW9uIEJyKG4sdCxlKXt2YXIgcj1uZXcgWHIo
bixudWxsKTtyZXR1cm4gci5hPXQsci5iPWUsWmMucHVzaChyKSxyfWZ1bmN0aW9u
IFdyKG4sdCxlLHIpe24uYXx8bi5iP24ubD09PWU/bi5iPXI6bi5hPXI6KG4uYT1y
LG4ubD10LG4ucj1lKX1mdW5jdGlvbiBKcihuLHQsZSl7dmFyIHI9bi5hLHU9bi5i
O3RoaXMuZWRnZT1uLHRoaXMuc2l0ZT10LHRoaXMuYW5nbGU9ZT9NYXRoLmF0YW4y
KGUueS10LnksZS54LXQueCk6bi5sPT09dD9NYXRoLmF0YW4yKHUueC1yLngsci55
LXUueSk6TWF0aC5hdGFuMihyLngtdS54LHUueS1yLnkpfWZ1bmN0aW9uIEdyKCl7
dGhpcy5fPW51bGx9ZnVuY3Rpb24gS3Iobil7bi5VPW4uQz1uLkw9bi5SPW4uUD1u
Lk49bnVsbH1mdW5jdGlvbiBRcihuLHQpe3ZhciBlPXQscj10LlIsdT1lLlU7dT91
Lkw9PT1lP3UuTD1yOnUuUj1yOm4uXz1yLHIuVT11LGUuVT1yLGUuUj1yLkwsZS5S
JiYoZS5SLlU9ZSksci5MPWV9ZnVuY3Rpb24gbnUobix0KXt2YXIgZT10LHI9dC5M
LHU9ZS5VO3U/dS5MPT09ZT91Lkw9cjp1LlI9cjpuLl89cixyLlU9dSxlLlU9cixl
Lkw9ci5SLGUuTCYmKGUuTC5VPWUpLHIuUj1lfWZ1bmN0aW9uIHR1KG4pe2Zvcig7
bi5MOyluPW4uTDtyZXR1cm4gbn1mdW5jdGlvbiBldShuLHQpe3ZhciBlLHIsdSxp
PW4uc29ydChydSkucG9wKCk7Zm9yKFpjPVtdLFZjPW5ldyBBcnJheShuLmxlbmd0
aCksWGM9bmV3IEdyLEJjPW5ldyBHcjs7KWlmKHU9JGMsaSYmKCF1fHxpLnk8dS55
fHxpLnk9PT11LnkmJmkueDx1LngpKShpLnghPT1lfHxpLnkhPT1yKSYmKFZjW2ku
aV09bmV3IGpyKGkpLERyKGkpLGU9aS54LHI9aS55KSxpPW4ucG9wKCk7ZWxzZXtp
ZighdSlicmVhaztScih1LmFyYyl9dCYmKFpyKHQpLEhyKHQpKTt2YXIgbz17Y2Vs
bHM6VmMsZWRnZXM6WmN9O3JldHVybiBYYz1CYz1aYz1WYz1udWxsLG99ZnVuY3Rp
b24gcnUobix0KXtyZXR1cm4gdC55LW4ueXx8dC54LW4ueH1mdW5jdGlvbiB1dShu
LHQsZSl7cmV0dXJuKG4ueC1lLngpKih0Lnktbi55KS0obi54LXQueCkqKGUueS1u
LnkpfWZ1bmN0aW9uIGl1KG4pe3JldHVybiBuLnh9ZnVuY3Rpb24gb3Uobil7cmV0
dXJuIG4ueX1mdW5jdGlvbiBhdSgpe3JldHVybntsZWFmOiEwLG5vZGVzOltdLHBv
aW50Om51bGwseDpudWxsLHk6bnVsbH19ZnVuY3Rpb24gY3Uobix0LGUscix1LGkp
e2lmKCFuKHQsZSxyLHUsaSkpe3ZhciBvPS41KihlK3UpLGE9LjUqKHIraSksYz10
Lm5vZGVzO2NbMF0mJmN1KG4sY1swXSxlLHIsbyxhKSxjWzFdJiZjdShuLGNbMV0s
byxyLHUsYSksY1syXSYmY3UobixjWzJdLGUsYSxvLGkpLGNbM10mJmN1KG4sY1sz
XSxvLGEsdSxpKX19ZnVuY3Rpb24gbHUobix0KXtuPVZvLnJnYihuKSx0PVZvLnJn
Yih0KTt2YXIgZT1uLnIscj1uLmcsdT1uLmIsaT10LnItZSxvPXQuZy1yLGE9dC5i
LXU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiIjIitkdChNYXRoLnJvdW5kKGUr
aSpuKSkrZHQoTWF0aC5yb3VuZChyK28qbikpK2R0KE1hdGgucm91bmQodSthKm4p
KX19ZnVuY3Rpb24gc3Uobix0KXt2YXIgZSxyPXt9LHU9e307Zm9yKGUgaW4gbill
IGluIHQ/cltlXT1ndShuW2VdLHRbZV0pOnVbZV09bltlXTtmb3IoZSBpbiB0KWUg
aW4gbnx8KHVbZV09dFtlXSk7cmV0dXJuIGZ1bmN0aW9uKG4pe2ZvcihlIGluIHIp
dVtlXT1yW2VdKG4pO3JldHVybiB1fX1mdW5jdGlvbiBmdShuLHQpe3JldHVybiB0
LT1uPStuLGZ1bmN0aW9uKGUpe3JldHVybiBuK3QqZX19ZnVuY3Rpb24gaHUobix0
KXt2YXIgZSxyLHUsaT1LYy5sYXN0SW5kZXg9UWMubGFzdEluZGV4PTAsbz0tMSxh
PVtdLGM9W107Zm9yKG4rPSIiLHQrPSIiOyhlPUtjLmV4ZWMobikpJiYocj1RYy5l
eGVjKHQpKTspKHU9ci5pbmRleCk+aSYmKHU9dC5zbGljZShpLHUpLGFbb10/YVtv
XSs9dTphWysrb109dSksKGU9ZVswXSk9PT0ocj1yWzBdKT9hW29dP2Fbb10rPXI6
YVsrK29dPXI6KGFbKytvXT1udWxsLGMucHVzaCh7aTpvLHg6ZnUoZSxyKX0pKSxp
PVFjLmxhc3RJbmRleDtyZXR1cm4gaTx0Lmxlbmd0aCYmKHU9dC5zbGljZShpKSxh
W29dP2Fbb10rPXU6YVsrK29dPXUpLGEubGVuZ3RoPDI/Y1swXT8odD1jWzBdLngs
ZnVuY3Rpb24obil7cmV0dXJuIHQobikrIiJ9KTpmdW5jdGlvbigpe3JldHVybiB0
fToodD1jLmxlbmd0aCxmdW5jdGlvbihuKXtmb3IodmFyIGUscj0wO3Q+cjsrK3Ip
YVsoZT1jW3JdKS5pXT1lLngobik7cmV0dXJuIGEuam9pbigiIil9KX1mdW5jdGlv
biBndShuLHQpe2Zvcih2YXIgZSxyPVZvLmludGVycG9sYXRvcnMubGVuZ3RoOy0t
cj49MCYmIShlPVZvLmludGVycG9sYXRvcnNbcl0obix0KSk7KTtyZXR1cm4gZX1m
dW5jdGlvbiBwdShuLHQpe3ZhciBlLHI9W10sdT1bXSxpPW4ubGVuZ3RoLG89dC5s
ZW5ndGgsYT1NYXRoLm1pbihuLmxlbmd0aCx0Lmxlbmd0aCk7Zm9yKGU9MDthPmU7
KytlKXIucHVzaChndShuW2VdLHRbZV0pKTtmb3IoO2k+ZTsrK2UpdVtlXT1uW2Vd
O2Zvcig7bz5lOysrZSl1W2VdPXRbZV07cmV0dXJuIGZ1bmN0aW9uKG4pe2Zvcihl
PTA7YT5lOysrZSl1W2VdPXJbZV0obik7cmV0dXJuIHV9fWZ1bmN0aW9uIHZ1KG4p
e3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMD49dD8wOnQ+PTE/MTpuKHQpfX1m
dW5jdGlvbiBkdShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDEtbigxLXQp
fX1mdW5jdGlvbiBtdShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuLjUqKC41
PnQ/bigyKnQpOjItbigyLTIqdCkpfX1mdW5jdGlvbiB5dShuKXtyZXR1cm4gbipu
fWZ1bmN0aW9uIHh1KG4pe3JldHVybiBuKm4qbn1mdW5jdGlvbiBNdShuKXtpZigw
Pj1uKXJldHVybiAwO2lmKG4+PTEpcmV0dXJuIDE7dmFyIHQ9bipuLGU9dCpuO3Jl
dHVybiA0KiguNT5uP2U6Myoobi10KStlLS43NSl9ZnVuY3Rpb24gX3Uobil7cmV0
dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LG4pfX1mdW5jdGlvbiBi
dShuKXtyZXR1cm4gMS1NYXRoLmNvcyhuKmthKX1mdW5jdGlvbiB3dShuKXtyZXR1
cm4gTWF0aC5wb3coMiwxMCoobi0xKSl9ZnVuY3Rpb24gU3Uobil7cmV0dXJuIDEt
TWF0aC5zcXJ0KDEtbipuKX1mdW5jdGlvbiBrdShuLHQpe3ZhciBlO3JldHVybiBh
cmd1bWVudHMubGVuZ3RoPDImJih0PS40NSksYXJndW1lbnRzLmxlbmd0aD9lPXQv
U2EqTWF0aC5hc2luKDEvbik6KG49MSxlPXQvNCksZnVuY3Rpb24ocil7cmV0dXJu
IDErbipNYXRoLnBvdygyLC0xMCpyKSpNYXRoLnNpbigoci1lKSpTYS90KX19ZnVu
Y3Rpb24gRXUobil7cmV0dXJuIG58fChuPTEuNzAxNTgpLGZ1bmN0aW9uKHQpe3Jl
dHVybiB0KnQqKChuKzEpKnQtbil9fWZ1bmN0aW9uIEF1KG4pe3JldHVybiAxLzIu
NzU+bj83LjU2MjUqbipuOjIvMi43NT5uPzcuNTYyNSoobi09MS41LzIuNzUpKm4r
Ljc1OjIuNS8yLjc1Pm4/Ny41NjI1KihuLT0yLjI1LzIuNzUpKm4rLjkzNzU6Ny41
NjI1KihuLT0yLjYyNS8yLjc1KSpuKy45ODQzNzV9ZnVuY3Rpb24gQ3Uobix0KXtu
PVZvLmhjbChuKSx0PVZvLmhjbCh0KTt2YXIgZT1uLmgscj1uLmMsdT1uLmwsaT10
LmgtZSxvPXQuYy1yLGE9dC5sLXU7cmV0dXJuIGlzTmFOKG8pJiYobz0wLHI9aXNO
YU4ocik/dC5jOnIpLGlzTmFOKGkpPyhpPTAsZT1pc05hTihlKT90Lmg6ZSk6aT4x
ODA/aS09MzYwOi0xODA+aSYmKGkrPTM2MCksZnVuY3Rpb24obil7cmV0dXJuIG90
KGUraSpuLHIrbypuLHUrYSpuKSsiIn19ZnVuY3Rpb24gTnUobix0KXtuPVZvLmhz
bChuKSx0PVZvLmhzbCh0KTt2YXIgZT1uLmgscj1uLnMsdT1uLmwsaT10LmgtZSxv
PXQucy1yLGE9dC5sLXU7cmV0dXJuIGlzTmFOKG8pJiYobz0wLHI9aXNOYU4ocik/
dC5zOnIpLGlzTmFOKGkpPyhpPTAsZT1pc05hTihlKT90Lmg6ZSk6aT4xODA/aS09
MzYwOi0xODA+aSYmKGkrPTM2MCksZnVuY3Rpb24obil7cmV0dXJuIHV0KGUraSpu
LHIrbypuLHUrYSpuKSsiIn19ZnVuY3Rpb24genUobix0KXtuPVZvLmxhYihuKSx0
PVZvLmxhYih0KTt2YXIgZT1uLmwscj1uLmEsdT1uLmIsaT10LmwtZSxvPXQuYS1y
LGE9dC5iLXU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBjdChlK2kqbixyK28q
bix1K2EqbikrIiJ9fWZ1bmN0aW9uIEx1KG4sdCl7cmV0dXJuIHQtPW4sZnVuY3Rp
b24oZSl7cmV0dXJuIE1hdGgucm91bmQobit0KmUpfX1mdW5jdGlvbiBUdShuKXt2
YXIgdD1bbi5hLG4uYl0sZT1bbi5jLG4uZF0scj1SdSh0KSx1PXF1KHQsZSksaT1S
dShEdShlLHQsLXUpKXx8MDt0WzBdKmVbMV08ZVswXSp0WzFdJiYodFswXSo9LTEs
dFsxXSo9LTEscio9LTEsdSo9LTEpLHRoaXMucm90YXRlPShyP01hdGguYXRhbjIo
dFsxXSx0WzBdKTpNYXRoLmF0YW4yKC1lWzBdLGVbMV0pKSpOYSx0aGlzLnRyYW5z
bGF0ZT1bbi5lLG4uZl0sdGhpcy5zY2FsZT1bcixpXSx0aGlzLnNrZXc9aT9NYXRo
LmF0YW4yKHUsaSkqTmE6MH1mdW5jdGlvbiBxdShuLHQpe3JldHVybiBuWzBdKnRb
MF0rblsxXSp0WzFdfWZ1bmN0aW9uIFJ1KG4pe3ZhciB0PU1hdGguc3FydChxdShu
LG4pKTtyZXR1cm4gdCYmKG5bMF0vPXQsblsxXS89dCksdH1mdW5jdGlvbiBEdShu
LHQsZSl7cmV0dXJuIG5bMF0rPWUqdFswXSxuWzFdKz1lKnRbMV0sbn1mdW5jdGlv
biBQdShuLHQpe3ZhciBlLHI9W10sdT1bXSxpPVZvLnRyYW5zZm9ybShuKSxvPVZv
LnRyYW5zZm9ybSh0KSxhPWkudHJhbnNsYXRlLGM9by50cmFuc2xhdGUsbD1pLnJv
dGF0ZSxzPW8ucm90YXRlLGY9aS5za2V3LGg9by5za2V3LGc9aS5zY2FsZSxwPW8u
c2NhbGU7cmV0dXJuIGFbMF0hPWNbMF18fGFbMV0hPWNbMV0/KHIucHVzaCgidHJh
bnNsYXRlKCIsbnVsbCwiLCIsbnVsbCwiKSIpLHUucHVzaCh7aToxLHg6ZnUoYVsw
XSxjWzBdKX0se2k6Myx4OmZ1KGFbMV0sY1sxXSl9KSk6Y1swXXx8Y1sxXT9yLnB1
c2goInRyYW5zbGF0ZSgiK2MrIikiKTpyLnB1c2goIiIpLGwhPXM/KGwtcz4xODA/
cys9MzYwOnMtbD4xODAmJihsKz0zNjApLHUucHVzaCh7aTpyLnB1c2goci5wb3Ao
KSsicm90YXRlKCIsbnVsbCwiKSIpLTIseDpmdShsLHMpfSkpOnMmJnIucHVzaChy
LnBvcCgpKyJyb3RhdGUoIitzKyIpIiksZiE9aD91LnB1c2goe2k6ci5wdXNoKHIu
cG9wKCkrInNrZXdYKCIsbnVsbCwiKSIpLTIseDpmdShmLGgpfSk6aCYmci5wdXNo
KHIucG9wKCkrInNrZXdYKCIraCsiKSIpLGdbMF0hPXBbMF18fGdbMV0hPXBbMV0/
KGU9ci5wdXNoKHIucG9wKCkrInNjYWxlKCIsbnVsbCwiLCIsbnVsbCwiKSIpLHUu
cHVzaCh7aTplLTQseDpmdShnWzBdLHBbMF0pfSx7aTplLTIseDpmdShnWzFdLHBb
MV0pfSkpOigxIT1wWzBdfHwxIT1wWzFdKSYmci5wdXNoKHIucG9wKCkrInNjYWxl
KCIrcCsiKSIpLGU9dS5sZW5ndGgsZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9LTE7
KytpPGU7KXJbKHQ9dVtpXSkuaV09dC54KG4pO3JldHVybiByLmpvaW4oIiIpfX1m
dW5jdGlvbiBVdShuLHQpe3JldHVybiB0PXQtKG49K24pPzEvKHQtbik6MCxmdW5j
dGlvbihlKXtyZXR1cm4oZS1uKSp0fX1mdW5jdGlvbiBqdShuLHQpe3JldHVybiB0
PXQtKG49K24pPzEvKHQtbik6MCxmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgo
MCxNYXRoLm1pbigxLChlLW4pKnQpKX19ZnVuY3Rpb24gSHUobil7Zm9yKHZhciB0
PW4uc291cmNlLGU9bi50YXJnZXQscj1PdSh0LGUpLHU9W3RdO3QhPT1yOyl0PXQu
cGFyZW50LHUucHVzaCh0KTtmb3IodmFyIGk9dS5sZW5ndGg7ZSE9PXI7KXUuc3Bs
aWNlKGksMCxlKSxlPWUucGFyZW50O3JldHVybiB1fWZ1bmN0aW9uIEZ1KG4pe2Zv
cih2YXIgdD1bXSxlPW4ucGFyZW50O251bGwhPWU7KXQucHVzaChuKSxuPWUsZT1l
LnBhcmVudDtyZXR1cm4gdC5wdXNoKG4pLHR9ZnVuY3Rpb24gT3Uobix0KXtpZihu
PT09dClyZXR1cm4gbjtmb3IodmFyIGU9RnUobikscj1GdSh0KSx1PWUucG9wKCks
aT1yLnBvcCgpLG89bnVsbDt1PT09aTspbz11LHU9ZS5wb3AoKSxpPXIucG9wKCk7
cmV0dXJuIG99ZnVuY3Rpb24gWXUobil7bi5maXhlZHw9Mn1mdW5jdGlvbiBJdShu
KXtuLmZpeGVkJj0tN31mdW5jdGlvbiBadShuKXtuLmZpeGVkfD00LG4ucHg9bi54
LG4ucHk9bi55fWZ1bmN0aW9uIFZ1KG4pe24uZml4ZWQmPS01fWZ1bmN0aW9uIFh1
KG4sdCxlKXt2YXIgcj0wLHU9MDtpZihuLmNoYXJnZT0wLCFuLmxlYWYpZm9yKHZh
ciBpLG89bi5ub2RlcyxhPW8ubGVuZ3RoLGM9LTE7KytjPGE7KWk9b1tjXSxudWxs
IT1pJiYoWHUoaSx0LGUpLG4uY2hhcmdlKz1pLmNoYXJnZSxyKz1pLmNoYXJnZSpp
LmN4LHUrPWkuY2hhcmdlKmkuY3kpO2lmKG4ucG9pbnQpe24ubGVhZnx8KG4ucG9p
bnQueCs9TWF0aC5yYW5kb20oKS0uNSxuLnBvaW50LnkrPU1hdGgucmFuZG9tKCkt
LjUpO3ZhciBsPXQqZVtuLnBvaW50LmluZGV4XTtuLmNoYXJnZSs9bi5wb2ludENo
YXJnZT1sLHIrPWwqbi5wb2ludC54LHUrPWwqbi5wb2ludC55fW4uY3g9ci9uLmNo
YXJnZSxuLmN5PXUvbi5jaGFyZ2V9ZnVuY3Rpb24gJHUobix0KXtyZXR1cm4gVm8u
cmViaW5kKG4sdCwic29ydCIsImNoaWxkcmVuIiwidmFsdWUiKSxuLm5vZGVzPW4s
bi5saW5rcz1RdSxufWZ1bmN0aW9uIEJ1KG4sdCl7Zm9yKHZhciBlPVtuXTtudWxs
IT0obj1lLnBvcCgpKTspaWYodChuKSwodT1uLmNoaWxkcmVuKSYmKHI9dS5sZW5n
dGgpKWZvcih2YXIgcix1Oy0tcj49MDspZS5wdXNoKHVbcl0pfWZ1bmN0aW9uIFd1
KG4sdCl7Zm9yKHZhciBlPVtuXSxyPVtdO251bGwhPShuPWUucG9wKCkpOylpZihy
LnB1c2gobiksKGk9bi5jaGlsZHJlbikmJih1PWkubGVuZ3RoKSlmb3IodmFyIHUs
aSxvPS0xOysrbzx1OyllLnB1c2goaVtvXSk7Zm9yKDtudWxsIT0obj1yLnBvcCgp
KTspdChuKX1mdW5jdGlvbiBKdShuKXtyZXR1cm4gbi5jaGlsZHJlbn1mdW5jdGlv
biBHdShuKXtyZXR1cm4gbi52YWx1ZX1mdW5jdGlvbiBLdShuLHQpe3JldHVybiB0
LnZhbHVlLW4udmFsdWV9ZnVuY3Rpb24gUXUobil7cmV0dXJuIFZvLm1lcmdlKG4u
bWFwKGZ1bmN0aW9uKG4pe3JldHVybihuLmNoaWxkcmVufHxbXSkubWFwKGZ1bmN0
aW9uKHQpe3JldHVybntzb3VyY2U6bix0YXJnZXQ6dH19KX0pKX1mdW5jdGlvbiBu
aShuKXtyZXR1cm4gbi54fWZ1bmN0aW9uIHRpKG4pe3JldHVybiBuLnl9ZnVuY3Rp
b24gZWkobix0LGUpe24ueTA9dCxuLnk9ZX1mdW5jdGlvbiByaShuKXtyZXR1cm4g
Vm8ucmFuZ2Uobi5sZW5ndGgpfWZ1bmN0aW9uIHVpKG4pe2Zvcih2YXIgdD0tMSxl
PW5bMF0ubGVuZ3RoLHI9W107Kyt0PGU7KXJbdF09MDtyZXR1cm4gcn1mdW5jdGlv
biBpaShuKXtmb3IodmFyIHQsZT0xLHI9MCx1PW5bMF1bMV0saT1uLmxlbmd0aDtp
PmU7KytlKSh0PW5bZV1bMV0pPnUmJihyPWUsdT10KTtyZXR1cm4gcn1mdW5jdGlv
biBvaShuKXtyZXR1cm4gbi5yZWR1Y2UoYWksMCl9ZnVuY3Rpb24gYWkobix0KXty
ZXR1cm4gbit0WzFdfWZ1bmN0aW9uIGNpKG4sdCl7cmV0dXJuIGxpKG4sTWF0aC5j
ZWlsKE1hdGgubG9nKHQubGVuZ3RoKS9NYXRoLkxOMisxKSl9ZnVuY3Rpb24gbGko
bix0KXtmb3IodmFyIGU9LTEscj0rblswXSx1PShuWzFdLXIpL3QsaT1bXTsrK2U8
PXQ7KWlbZV09dSplK3I7cmV0dXJuIGl9ZnVuY3Rpb24gc2kobil7cmV0dXJuW1Zv
Lm1pbihuKSxWby5tYXgobildfWZ1bmN0aW9uIGZpKG4sdCl7cmV0dXJuIG4udmFs
dWUtdC52YWx1ZX1mdW5jdGlvbiBoaShuLHQpe3ZhciBlPW4uX3BhY2tfbmV4dDtu
Ll9wYWNrX25leHQ9dCx0Ll9wYWNrX3ByZXY9bix0Ll9wYWNrX25leHQ9ZSxlLl9w
YWNrX3ByZXY9dH1mdW5jdGlvbiBnaShuLHQpe24uX3BhY2tfbmV4dD10LHQuX3Bh
Y2tfcHJldj1ufWZ1bmN0aW9uIHBpKG4sdCl7dmFyIGU9dC54LW4ueCxyPXQueS1u
LnksdT1uLnIrdC5yO3JldHVybi45OTkqdSp1PmUqZStyKnJ9ZnVuY3Rpb24gdmko
bil7ZnVuY3Rpb24gdChuKXtzPU1hdGgubWluKG4ueC1uLnIscyksZj1NYXRoLm1h
eChuLngrbi5yLGYpLGg9TWF0aC5taW4obi55LW4ucixoKSxnPU1hdGgubWF4KG4u
eStuLnIsZyl9aWYoKGU9bi5jaGlsZHJlbikmJihsPWUubGVuZ3RoKSl7dmFyIGUs
cix1LGksbyxhLGMsbCxzPTEvMCxmPS0xLzAsaD0xLzAsZz0tMS8wO2lmKGUuZm9y
RWFjaChkaSkscj1lWzBdLHIueD0tci5yLHIueT0wLHQociksbD4xJiYodT1lWzFd
LHUueD11LnIsdS55PTAsdCh1KSxsPjIpKWZvcihpPWVbMl0seGkocix1LGkpLHQo
aSksaGkocixpKSxyLl9wYWNrX3ByZXY9aSxoaShpLHUpLHU9ci5fcGFja19uZXh0
LG89MztsPm87bysrKXt4aShyLHUsaT1lW29dKTt2YXIgcD0wLHY9MSxkPTE7Zm9y
KGE9dS5fcGFja19uZXh0O2EhPT11O2E9YS5fcGFja19uZXh0LHYrKylpZihwaShh
LGkpKXtwPTE7YnJlYWt9aWYoMT09cClmb3IoYz1yLl9wYWNrX3ByZXY7YyE9PWEu
X3BhY2tfcHJldiYmIXBpKGMsaSk7Yz1jLl9wYWNrX3ByZXYsZCsrKTtwPyhkPnZ8
fHY9PWQmJnUucjxyLnI/Z2kocix1PWEpOmdpKHI9Yyx1KSxvLS0pOihoaShyLGkp
LHU9aSx0KGkpKX12YXIgbT0ocytmKS8yLHk9KGgrZykvMix4PTA7Zm9yKG89MDts
Pm87bysrKWk9ZVtvXSxpLngtPW0saS55LT15LHg9TWF0aC5tYXgoeCxpLnIrTWF0
aC5zcXJ0KGkueCppLngraS55KmkueSkpO24ucj14LGUuZm9yRWFjaChtaSl9fWZ1
bmN0aW9uIGRpKG4pe24uX3BhY2tfbmV4dD1uLl9wYWNrX3ByZXY9bn1mdW5jdGlv
biBtaShuKXtkZWxldGUgbi5fcGFja19uZXh0LGRlbGV0ZSBuLl9wYWNrX3ByZXZ9
ZnVuY3Rpb24geWkobix0LGUscil7dmFyIHU9bi5jaGlsZHJlbjtpZihuLng9dCs9
cipuLngsbi55PWUrPXIqbi55LG4ucio9cix1KWZvcih2YXIgaT0tMSxvPXUubGVu
Z3RoOysraTxvOyl5aSh1W2ldLHQsZSxyKX1mdW5jdGlvbiB4aShuLHQsZSl7dmFy
IHI9bi5yK2Uucix1PXQueC1uLngsaT10Lnktbi55O2lmKHImJih1fHxpKSl7dmFy
IG89dC5yK2UucixhPXUqdStpKmk7byo9byxyKj1yO3ZhciBjPS41KyhyLW8pLygy
KmEpLGw9TWF0aC5zcXJ0KE1hdGgubWF4KDAsMipvKihyK2EpLShyLT1hKSpyLW8q
bykpLygyKmEpO2UueD1uLngrYyp1K2wqaSxlLnk9bi55K2MqaS1sKnV9ZWxzZSBl
Lng9bi54K3IsZS55PW4ueX1mdW5jdGlvbiBNaShuLHQpe3JldHVybiBuLnBhcmVu
dD09dC5wYXJlbnQ/MToyfWZ1bmN0aW9uIF9pKG4pe3ZhciB0PW4uY2hpbGRyZW47
cmV0dXJuIHQubGVuZ3RoP3RbMF06bi50fWZ1bmN0aW9uIGJpKG4pe3ZhciB0LGU9
bi5jaGlsZHJlbjtyZXR1cm4odD1lLmxlbmd0aCk/ZVt0LTFdOm4udH1mdW5jdGlv
biB3aShuLHQsZSl7dmFyIHI9ZS8odC5pLW4uaSk7dC5jLT1yLHQucys9ZSxuLmMr
PXIsdC56Kz1lLHQubSs9ZX1mdW5jdGlvbiBTaShuKXtmb3IodmFyIHQsZT0wLHI9
MCx1PW4uY2hpbGRyZW4saT11Lmxlbmd0aDstLWk+PTA7KXQ9dVtpXSx0LnorPWUs
dC5tKz1lLGUrPXQucysocis9dC5jKX1mdW5jdGlvbiBraShuLHQsZSl7cmV0dXJu
IG4uYS5wYXJlbnQ9PT10LnBhcmVudD9uLmE6ZX1mdW5jdGlvbiBFaShuKXtyZXR1
cm4gMStWby5tYXgobixmdW5jdGlvbihuKXtyZXR1cm4gbi55fSl9ZnVuY3Rpb24g
QWkobil7cmV0dXJuIG4ucmVkdWNlKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4rdC54
fSwwKS9uLmxlbmd0aH1mdW5jdGlvbiBDaShuKXt2YXIgdD1uLmNoaWxkcmVuO3Jl
dHVybiB0JiZ0Lmxlbmd0aD9DaSh0WzBdKTpufWZ1bmN0aW9uIE5pKG4pe3ZhciB0
LGU9bi5jaGlsZHJlbjtyZXR1cm4gZSYmKHQ9ZS5sZW5ndGgpP05pKGVbdC0xXSk6
bn1mdW5jdGlvbiB6aShuKXtyZXR1cm57eDpuLngseTpuLnksZHg6bi5keCxkeTpu
LmR5fX1mdW5jdGlvbiBMaShuLHQpe3ZhciBlPW4ueCt0WzNdLHI9bi55K3RbMF0s
dT1uLmR4LXRbMV0tdFszXSxpPW4uZHktdFswXS10WzJdO3JldHVybiAwPnUmJihl
Kz11LzIsdT0wKSwwPmkmJihyKz1pLzIsaT0wKSx7eDplLHk6cixkeDp1LGR5Oml9
fWZ1bmN0aW9uIFRpKG4pe3ZhciB0PW5bMF0sZT1uW24ubGVuZ3RoLTFdO3JldHVy
biBlPnQ/W3QsZV06W2UsdF19ZnVuY3Rpb24gcWkobil7cmV0dXJuIG4ucmFuZ2VF
eHRlbnQ/bi5yYW5nZUV4dGVudCgpOlRpKG4ucmFuZ2UoKSl9ZnVuY3Rpb24gUmko
bix0LGUscil7dmFyIHU9ZShuWzBdLG5bMV0pLGk9cih0WzBdLHRbMV0pO3JldHVy
biBmdW5jdGlvbihuKXtyZXR1cm4gaSh1KG4pKX19ZnVuY3Rpb24gRGkobix0KXt2
YXIgZSxyPTAsdT1uLmxlbmd0aC0xLGk9bltyXSxvPW5bdV07cmV0dXJuIGk+byYm
KGU9cixyPXUsdT1lLGU9aSxpPW8sbz1lKSxuW3JdPXQuZmxvb3IoaSksblt1XT10
LmNlaWwobyksbn1mdW5jdGlvbiBQaShuKXtyZXR1cm4gbj97Zmxvb3I6ZnVuY3Rp
b24odCl7cmV0dXJuIE1hdGguZmxvb3IodC9uKSpufSxjZWlsOmZ1bmN0aW9uKHQp
e3JldHVybiBNYXRoLmNlaWwodC9uKSpufX06c2x9ZnVuY3Rpb24gVWkobix0LGUs
cil7dmFyIHU9W10saT1bXSxvPTAsYT1NYXRoLm1pbihuLmxlbmd0aCx0Lmxlbmd0
aCktMTtmb3IoblthXTxuWzBdJiYobj1uLnNsaWNlKCkucmV2ZXJzZSgpLHQ9dC5z
bGljZSgpLnJldmVyc2UoKSk7KytvPD1hOyl1LnB1c2goZShuW28tMV0sbltvXSkp
LGkucHVzaChyKHRbby0xXSx0W29dKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBl
PVZvLmJpc2VjdChuLHQsMSxhKS0xO3JldHVybiBpW2VdKHVbZV0odCkpfX1mdW5j
dGlvbiBqaShuLHQsZSxyKXtmdW5jdGlvbiB1KCl7dmFyIHU9TWF0aC5taW4obi5s
ZW5ndGgsdC5sZW5ndGgpPjI/VWk6UmksYz1yP2p1OlV1O3JldHVybiBvPXUobix0
LGMsZSksYT11KHQsbixjLGd1KSxpfWZ1bmN0aW9uIGkobil7cmV0dXJuIG8obil9
dmFyIG8sYTtyZXR1cm4gaS5pbnZlcnQ9ZnVuY3Rpb24obil7cmV0dXJuIGEobil9
LGkuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhu
PXQubWFwKE51bWJlciksdSgpKTpufSxpLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyh0PW4sdSgpKTp0fSxpLnJhbmdlUm91bmQ9ZnVu
Y3Rpb24obil7cmV0dXJuIGkucmFuZ2UobikuaW50ZXJwb2xhdGUoTHUpfSxpLmNs
YW1wPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW4sdSgp
KTpyfSxpLmludGVycG9sYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMu
bGVuZ3RoPyhlPW4sdSgpKTplfSxpLnRpY2tzPWZ1bmN0aW9uKHQpe3JldHVybiBZ
aShuLHQpfSxpLnRpY2tGb3JtYXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSWkobix0
LGUpfSxpLm5pY2U9ZnVuY3Rpb24odCl7cmV0dXJuIEZpKG4sdCksdSgpfSxpLmNv
cHk9ZnVuY3Rpb24oKXtyZXR1cm4gamkobix0LGUscil9LHUoKX1mdW5jdGlvbiBI
aShuLHQpe3JldHVybiBWby5yZWJpbmQobix0LCJyYW5nZSIsInJhbmdlUm91bmQi
LCJpbnRlcnBvbGF0ZSIsImNsYW1wIil9ZnVuY3Rpb24gRmkobix0KXtyZXR1cm4g
RGkobixQaShPaShuLHQpWzJdKSl9ZnVuY3Rpb24gT2kobix0KXtudWxsPT10JiYo
dD0xMCk7dmFyIGU9VGkobikscj1lWzFdLWVbMF0sdT1NYXRoLnBvdygxMCxNYXRo
LmZsb29yKE1hdGgubG9nKHIvdCkvTWF0aC5MTjEwKSksaT10L3IqdTtyZXR1cm4u
MTU+PWk/dSo9MTA6LjM1Pj1pP3UqPTU6Ljc1Pj1pJiYodSo9MiksZVswXT1NYXRo
LmNlaWwoZVswXS91KSp1LGVbMV09TWF0aC5mbG9vcihlWzFdL3UpKnUrLjUqdSxl
WzJdPXUsZX1mdW5jdGlvbiBZaShuLHQpe3JldHVybiBWby5yYW5nZS5hcHBseShW
byxPaShuLHQpKX1mdW5jdGlvbiBJaShuLHQsZSl7dmFyIHI9T2kobix0KTtpZihl
KXt2YXIgdT1LYS5leGVjKGUpO2lmKHUuc2hpZnQoKSwicyI9PT11WzhdKXt2YXIg
aT1Wby5mb3JtYXRQcmVmaXgoTWF0aC5tYXgoaWEoclswXSksaWEoclsxXSkpKTty
ZXR1cm4gdVs3XXx8KHVbN109Ii4iK1ppKGkuc2NhbGUoclsyXSkpKSx1WzhdPSJm
IixlPVZvLmZvcm1hdCh1LmpvaW4oIiIpKSxmdW5jdGlvbihuKXtyZXR1cm4gZShp
LnNjYWxlKG4pKStpLnN5bWJvbH19dVs3XXx8KHVbN109Ii4iK1ZpKHVbOF0scikp
LGU9dS5qb2luKCIiKX1lbHNlIGU9IiwuIitaaShyWzJdKSsiZiI7cmV0dXJuIFZv
LmZvcm1hdChlKX1mdW5jdGlvbiBaaShuKXtyZXR1cm4tTWF0aC5mbG9vcihNYXRo
LmxvZyhuKS9NYXRoLkxOMTArLjAxKX1mdW5jdGlvbiBWaShuLHQpe3ZhciBlPVpp
KHRbMl0pO3JldHVybiBuIGluIGZsP01hdGguYWJzKGUtWmkoTWF0aC5tYXgoaWEo
dFswXSksaWEodFsxXSkpKSkrICsoImUiIT09bik6ZS0yKigiJSI9PT1uKX1mdW5j
dGlvbiBYaShuLHQsZSxyKXtmdW5jdGlvbiB1KG4pe3JldHVybihlP01hdGgubG9n
KDA+bj8wOm4pOi1NYXRoLmxvZyhuPjA/MDotbikpL01hdGgubG9nKHQpfWZ1bmN0
aW9uIGkobil7cmV0dXJuIGU/TWF0aC5wb3codCxuKTotTWF0aC5wb3codCwtbil9
ZnVuY3Rpb24gbyh0KXtyZXR1cm4gbih1KHQpKX1yZXR1cm4gby5pbnZlcnQ9ZnVu
Y3Rpb24odCl7cmV0dXJuIGkobi5pbnZlcnQodCkpfSxvLmRvbWFpbj1mdW5jdGlv
bih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10WzBdPj0wLG4uZG9tYWlu
KChyPXQubWFwKE51bWJlcikpLm1hcCh1KSksbyk6cn0sby5iYXNlPWZ1bmN0aW9u
KGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PStlLG4uZG9tYWluKHIubWFw
KHUpKSxvKTp0fSxvLm5pY2U9ZnVuY3Rpb24oKXt2YXIgdD1EaShyLm1hcCh1KSxl
P01hdGg6Z2wpO3JldHVybiBuLmRvbWFpbih0KSxyPXQubWFwKGkpLG99LG8udGlj
a3M9ZnVuY3Rpb24oKXt2YXIgbj1UaShyKSxvPVtdLGE9blswXSxjPW5bMV0sbD1N
YXRoLmZsb29yKHUoYSkpLHM9TWF0aC5jZWlsKHUoYykpLGY9dCUxPzI6dDtpZihp
c0Zpbml0ZShzLWwpKXtpZihlKXtmb3IoO3M+bDtsKyspZm9yKHZhciBoPTE7Zj5o
O2grKylvLnB1c2goaShsKSpoKTtvLnB1c2goaShsKSl9ZWxzZSBmb3Ioby5wdXNo
KGkobCkpO2wrKzxzOylmb3IodmFyIGg9Zi0xO2g+MDtoLS0pby5wdXNoKGkobCkq
aCk7Zm9yKGw9MDtvW2xdPGE7bCsrKTtmb3Iocz1vLmxlbmd0aDtvW3MtMV0+Yztz
LS0pO289by5zbGljZShsLHMpfXJldHVybiBvfSxvLnRpY2tGb3JtYXQ9ZnVuY3Rp
b24obix0KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gaGw7YXJndW1lbnRz
Lmxlbmd0aDwyP3Q9aGw6ImZ1bmN0aW9uIiE9dHlwZW9mIHQmJih0PVZvLmZvcm1h
dCh0KSk7dmFyIHIsYT1NYXRoLm1heCguMSxuL28udGlja3MoKS5sZW5ndGgpLGM9
ZT8ocj0xZS0xMixNYXRoLmNlaWwpOihyPS0xZS0xMixNYXRoLmZsb29yKTtyZXR1
cm4gZnVuY3Rpb24obil7cmV0dXJuIG4vaShjKHUobikrcikpPD1hP3Qobik6IiJ9
fSxvLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gWGkobi5jb3B5KCksdCxlLHIpfSxI
aShvLG4pfWZ1bmN0aW9uICRpKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBu
KHUodCkpfXZhciB1PUJpKHQpLGk9QmkoMS90KTtyZXR1cm4gci5pbnZlcnQ9ZnVu
Y3Rpb24odCl7cmV0dXJuIGkobi5pbnZlcnQodCkpfSxyLmRvbWFpbj1mdW5jdGlv
bih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obi5kb21haW4oKGU9dC5tYXAo
TnVtYmVyKSkubWFwKHUpKSxyKTplfSxyLnRpY2tzPWZ1bmN0aW9uKG4pe3JldHVy
biBZaShlLG4pfSxyLnRpY2tGb3JtYXQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gSWko
ZSxuLHQpfSxyLm5pY2U9ZnVuY3Rpb24obil7cmV0dXJuIHIuZG9tYWluKEZpKGUs
bikpfSxyLmV4cG9uZW50PWZ1bmN0aW9uKG8pe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyh1PUJpKHQ9byksaT1CaSgxL3QpLG4uZG9tYWluKGUubWFwKHUpKSxyKTp0
fSxyLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gJGkobi5jb3B5KCksdCxlKX0sSGko
cixuKX1mdW5jdGlvbiBCaShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA+
dD8tTWF0aC5wb3coLXQsbik6TWF0aC5wb3codCxuKX19ZnVuY3Rpb24gV2kobix0
KXtmdW5jdGlvbiBlKGUpe3JldHVybiBpWygodS5nZXQoZSl8fCgicmFuZ2UiPT09
dC50P3Uuc2V0KGUsbi5wdXNoKGUpKTowLzApKS0xKSVpLmxlbmd0aF19ZnVuY3Rp
b24gcih0LGUpe3JldHVybiBWby5yYW5nZShuLmxlbmd0aCkubWFwKGZ1bmN0aW9u
KG4pe3JldHVybiB0K2Uqbn0pfXZhciB1LGksYTtyZXR1cm4gZS5kb21haW49ZnVu
Y3Rpb24ocil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG47bj1bXSx1PW5l
dyBvO2Zvcih2YXIgaSxhPS0xLGM9ci5sZW5ndGg7KythPGM7KXUuaGFzKGk9clth
XSl8fHUuc2V0KGksbi5wdXNoKGkpKTtyZXR1cm4gZVt0LnRdLmFwcGx5KGUsdC5h
KX0sZS5yYW5nZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8o
aT1uLGE9MCx0PXt0OiJyYW5nZSIsYTphcmd1bWVudHN9LGUpOml9LGUucmFuZ2VQ
b2ludHM9ZnVuY3Rpb24odSxvKXthcmd1bWVudHMubGVuZ3RoPDImJihvPTApO3Zh
ciBjPXVbMF0sbD11WzFdLHM9KGwtYykvKE1hdGgubWF4KDEsbi5sZW5ndGgtMSkr
byk7cmV0dXJuIGk9cihuLmxlbmd0aDwyPyhjK2wpLzI6YytzKm8vMixzKSxhPTAs
dD17dDoicmFuZ2VQb2ludHMiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlQmFuZHM9
ZnVuY3Rpb24odSxvLGMpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKG89MCksYXJndW1l
bnRzLmxlbmd0aDwzJiYoYz1vKTt2YXIgbD11WzFdPHVbMF0scz11W2wtMF0sZj11
WzEtbF0saD0oZi1zKS8obi5sZW5ndGgtbysyKmMpO3JldHVybiBpPXIocytoKmMs
aCksbCYmaS5yZXZlcnNlKCksYT1oKigxLW8pLHQ9e3Q6InJhbmdlQmFuZHMiLGE6
YXJndW1lbnRzfSxlfSxlLnJhbmdlUm91bmRCYW5kcz1mdW5jdGlvbih1LG8sYyl7
YXJndW1lbnRzLmxlbmd0aDwyJiYobz0wKSxhcmd1bWVudHMubGVuZ3RoPDMmJihj
PW8pO3ZhciBsPXVbMV08dVswXSxzPXVbbC0wXSxmPXVbMS1sXSxoPU1hdGguZmxv
b3IoKGYtcykvKG4ubGVuZ3RoLW8rMipjKSksZz1mLXMtKG4ubGVuZ3RoLW8pKmg7
cmV0dXJuIGk9cihzK01hdGgucm91bmQoZy8yKSxoKSxsJiZpLnJldmVyc2UoKSxh
PU1hdGgucm91bmQoaCooMS1vKSksdD17dDoicmFuZ2VSb3VuZEJhbmRzIixhOmFy
Z3VtZW50c30sZX0sZS5yYW5nZUJhbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZS5y
YW5nZUV4dGVudD1mdW5jdGlvbigpe3JldHVybiBUaSh0LmFbMF0pfSxlLmNvcHk9
ZnVuY3Rpb24oKXtyZXR1cm4gV2kobix0KX0sZS5kb21haW4obil9ZnVuY3Rpb24g
SmkoZSxyKXtmdW5jdGlvbiB1KCl7dmFyIG49MCx0PXIubGVuZ3RoO2ZvcihvPVtd
Oysrbjx0OylvW24tMV09Vm8ucXVhbnRpbGUoZSxuL3QpO3JldHVybiBpfWZ1bmN0
aW9uIGkobil7cmV0dXJuIGlzTmFOKG49K24pP3ZvaWQgMDpyW1ZvLmJpc2VjdChv
LG4pXX12YXIgbztyZXR1cm4gaS5kb21haW49ZnVuY3Rpb24ocil7cmV0dXJuIGFy
Z3VtZW50cy5sZW5ndGg/KGU9ci5maWx0ZXIodCkuc29ydChuKSx1KCkpOmV9LGku
cmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bix1
KCkpOnJ9LGkucXVhbnRpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGkuaW52ZXJ0
RXh0ZW50PWZ1bmN0aW9uKG4pe3JldHVybiBuPXIuaW5kZXhPZihuKSwwPm4/WzAv
MCwwLzBdOltuPjA/b1tuLTFdOmVbMF0sbjxvLmxlbmd0aD9vW25dOmVbZS5sZW5n
dGgtMV1dfSxpLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gSmkoZSxyKX0sdSgpfWZ1
bmN0aW9uIEdpKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBlW01hdGgubWF4
KDAsTWF0aC5taW4obyxNYXRoLmZsb29yKGkqKHQtbikpKSldfWZ1bmN0aW9uIHUo
KXtyZXR1cm4gaT1lLmxlbmd0aC8odC1uKSxvPWUubGVuZ3RoLTEscn12YXIgaSxv
O3JldHVybiByLmRvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxl
bmd0aD8obj0rZVswXSx0PStlW2UubGVuZ3RoLTFdLHUoKSk6W24sdF19LHIucmFu
Z2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix1KCkp
OmV9LHIuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0PWUuaW5kZXhP
Zih0KSx0PTA+dD8wLzA6dC9pK24sW3QsdCsxL2ldfSxyLmNvcHk9ZnVuY3Rpb24o
KXtyZXR1cm4gR2kobix0LGUpfSx1KCl9ZnVuY3Rpb24gS2kobix0KXtmdW5jdGlv
biBlKGUpe3JldHVybiBlPj1lP3RbVm8uYmlzZWN0KG4sZSldOnZvaWQgMH1yZXR1
cm4gZS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/
KG49dCxlKTpufSxlLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMu
bGVuZ3RoPyh0PW4sZSk6dH0sZS5pbnZlcnRFeHRlbnQ9ZnVuY3Rpb24oZSl7cmV0
dXJuIGU9dC5pbmRleE9mKGUpLFtuW2UtMV0sbltlXV19LGUuY29weT1mdW5jdGlv
bigpe3JldHVybiBLaShuLHQpfSxlfWZ1bmN0aW9uIFFpKG4pe2Z1bmN0aW9uIHQo
bil7cmV0dXJuK259cmV0dXJuIHQuaW52ZXJ0PXQsdC5kb21haW49dC5yYW5nZT1m
dW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1lLm1hcCh0KSx0
KTpufSx0LnRpY2tzPWZ1bmN0aW9uKHQpe3JldHVybiBZaShuLHQpfSx0LnRpY2tG
b3JtYXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSWkobix0LGUpfSx0LmNvcHk9ZnVu
Y3Rpb24oKXtyZXR1cm4gUWkobil9LHR9ZnVuY3Rpb24gbm8obil7cmV0dXJuIG4u
aW5uZXJSYWRpdXN9ZnVuY3Rpb24gdG8obil7cmV0dXJuIG4ub3V0ZXJSYWRpdXN9
ZnVuY3Rpb24gZW8obil7cmV0dXJuIG4uc3RhcnRBbmdsZX1mdW5jdGlvbiBybyhu
KXtyZXR1cm4gbi5lbmRBbmdsZX1mdW5jdGlvbiB1byhuKXtmdW5jdGlvbiB0KHQp
e2Z1bmN0aW9uIG8oKXtsLnB1c2goIk0iLGkobihzKSxhKSl9Zm9yKHZhciBjLGw9
W10scz1bXSxmPS0xLGg9dC5sZW5ndGgsZz1idChlKSxwPWJ0KHIpOysrZjxoOyl1
LmNhbGwodGhpcyxjPXRbZl0sZik/cy5wdXNoKFsrZy5jYWxsKHRoaXMsYyxmKSwr
cC5jYWxsKHRoaXMsYyxmKV0pOnMubGVuZ3RoJiYobygpLHM9W10pO3JldHVybiBz
Lmxlbmd0aCYmbygpLGwubGVuZ3RoP2wuam9pbigiIik6bnVsbH12YXIgZT1Tcixy
PWtyLHU9U2UsaT1pbyxvPWkua2V5LGE9Ljc7cmV0dXJuIHQueD1mdW5jdGlvbihu
KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1uLHQpOmV9LHQueT1mdW5jdGlv
bihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1uLHQpOnJ9LHQuZGVmaW5l
ZD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1uLHQpOnV9
LHQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGg/KG89ImZ1bmN0aW9uIj09dHlwZW9mIG4/aT1uOihpPU1sLmdldChuKXx8aW8p
LmtleSx0KTpvfSx0LnRlbnNpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGg/KGE9bix0KTphfSx0fWZ1bmN0aW9uIGlvKG4pe3JldHVybiBuLmpv
aW4oIkwiKX1mdW5jdGlvbiBvbyhuKXtyZXR1cm4gaW8obikrIloifWZ1bmN0aW9u
IGFvKG4pe2Zvcih2YXIgdD0wLGU9bi5sZW5ndGgscj1uWzBdLHU9W3JbMF0sIiwi
LHJbMV1dOysrdDxlOyl1LnB1c2goIkgiLChyWzBdKyhyPW5bdF0pWzBdKS8yLCJW
IixyWzFdKTtyZXR1cm4gZT4xJiZ1LnB1c2goIkgiLHJbMF0pLHUuam9pbigiIil9
ZnVuY3Rpb24gY28obil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1b
clswXSwiLCIsclsxXV07Kyt0PGU7KXUucHVzaCgiViIsKHI9blt0XSlbMV0sIkgi
LHJbMF0pO3JldHVybiB1LmpvaW4oIiIpfWZ1bmN0aW9uIGxvKG4pe2Zvcih2YXIg
dD0wLGU9bi5sZW5ndGgscj1uWzBdLHU9W3JbMF0sIiwiLHJbMV1dOysrdDxlOyl1
LnB1c2goIkgiLChyPW5bdF0pWzBdLCJWIixyWzFdKTtyZXR1cm4gdS5qb2luKCIi
KX1mdW5jdGlvbiBzbyhuLHQpe3JldHVybiBuLmxlbmd0aDw0P2lvKG4pOm5bMV0r
Z28obi5zbGljZSgxLG4ubGVuZ3RoLTEpLHBvKG4sdCkpfWZ1bmN0aW9uIGZvKG4s
dCl7cmV0dXJuIG4ubGVuZ3RoPDM/aW8obik6blswXStnbygobi5wdXNoKG5bMF0p
LG4pLHBvKFtuW24ubGVuZ3RoLTJdXS5jb25jYXQobixbblsxXV0pLHQpKX1mdW5j
dGlvbiBobyhuLHQpe3JldHVybiBuLmxlbmd0aDwzP2lvKG4pOm5bMF0rZ28obixw
byhuLHQpKX1mdW5jdGlvbiBnbyhuLHQpe2lmKHQubGVuZ3RoPDF8fG4ubGVuZ3Ro
IT10Lmxlbmd0aCYmbi5sZW5ndGghPXQubGVuZ3RoKzIpcmV0dXJuIGlvKG4pO3Zh
ciBlPW4ubGVuZ3RoIT10Lmxlbmd0aCxyPSIiLHU9blswXSxpPW5bMV0sbz10WzBd
LGE9byxjPTE7aWYoZSYmKHIrPSJRIisoaVswXS0yKm9bMF0vMykrIiwiKyhpWzFd
LTIqb1sxXS8zKSsiLCIraVswXSsiLCIraVsxXSx1PW5bMV0sYz0yKSx0Lmxlbmd0
aD4xKXthPXRbMV0saT1uW2NdLGMrKyxyKz0iQyIrKHVbMF0rb1swXSkrIiwiKyh1
WzFdK29bMV0pKyIsIisoaVswXS1hWzBdKSsiLCIrKGlbMV0tYVsxXSkrIiwiK2lb
MF0rIiwiK2lbMV07Zm9yKHZhciBsPTI7bDx0Lmxlbmd0aDtsKyssYysrKWk9bltj
XSxhPXRbbF0scis9IlMiKyhpWzBdLWFbMF0pKyIsIisoaVsxXS1hWzFdKSsiLCIr
aVswXSsiLCIraVsxXX1pZihlKXt2YXIgcz1uW2NdO3IrPSJRIisoaVswXSsyKmFb
MF0vMykrIiwiKyhpWzFdKzIqYVsxXS8zKSsiLCIrc1swXSsiLCIrc1sxXX1yZXR1
cm4gcn1mdW5jdGlvbiBwbyhuLHQpe2Zvcih2YXIgZSxyPVtdLHU9KDEtdCkvMixp
PW5bMF0sbz1uWzFdLGE9MSxjPW4ubGVuZ3RoOysrYTxjOyllPWksaT1vLG89blth
XSxyLnB1c2goW3UqKG9bMF0tZVswXSksdSoob1sxXS1lWzFdKV0pO3JldHVybiBy
fWZ1bmN0aW9uIHZvKG4pe2lmKG4ubGVuZ3RoPDMpcmV0dXJuIGlvKG4pO3ZhciB0
PTEsZT1uLmxlbmd0aCxyPW5bMF0sdT1yWzBdLGk9clsxXSxvPVt1LHUsdSwocj1u
WzFdKVswXV0sYT1baSxpLGksclsxXV0sYz1bdSwiLCIsaSwiTCIsTW8od2wsbyks
IiwiLE1vKHdsLGEpXTtmb3Iobi5wdXNoKG5bZS0xXSk7Kyt0PD1lOylyPW5bdF0s
by5zaGlmdCgpLG8ucHVzaChyWzBdKSxhLnNoaWZ0KCksYS5wdXNoKHJbMV0pLF9v
KGMsbyxhKTtyZXR1cm4gbi5wb3AoKSxjLnB1c2goIkwiLHIpLGMuam9pbigiIil9
ZnVuY3Rpb24gbW8obil7aWYobi5sZW5ndGg8NClyZXR1cm4gaW8obik7Zm9yKHZh
ciB0LGU9W10scj0tMSx1PW4ubGVuZ3RoLGk9WzBdLG89WzBdOysrcjwzOyl0PW5b
cl0saS5wdXNoKHRbMF0pLG8ucHVzaCh0WzFdKTtmb3IoZS5wdXNoKE1vKHdsLGkp
KyIsIitNbyh3bCxvKSksLS1yOysrcjx1Oyl0PW5bcl0saS5zaGlmdCgpLGkucHVz
aCh0WzBdKSxvLnNoaWZ0KCksby5wdXNoKHRbMV0pLF9vKGUsaSxvKTtyZXR1cm4g
ZS5qb2luKCIiKX1mdW5jdGlvbiB5byhuKXtmb3IodmFyIHQsZSxyPS0xLHU9bi5s
ZW5ndGgsaT11KzQsbz1bXSxhPVtdOysrcjw0OyllPW5bciV1XSxvLnB1c2goZVsw
XSksYS5wdXNoKGVbMV0pO2Zvcih0PVtNbyh3bCxvKSwiLCIsTW8od2wsYSldLC0t
cjsrK3I8aTspZT1uW3IldV0sby5zaGlmdCgpLG8ucHVzaChlWzBdKSxhLnNoaWZ0
KCksYS5wdXNoKGVbMV0pLF9vKHQsbyxhKTtyZXR1cm4gdC5qb2luKCIiKX1mdW5j
dGlvbiB4byhuLHQpe3ZhciBlPW4ubGVuZ3RoLTE7aWYoZSlmb3IodmFyIHIsdSxp
PW5bMF1bMF0sbz1uWzBdWzFdLGE9bltlXVswXS1pLGM9bltlXVsxXS1vLGw9LTE7
KytsPD1lOylyPW5bbF0sdT1sL2UsclswXT10KnJbMF0rKDEtdCkqKGkrdSphKSxy
WzFdPXQqclsxXSsoMS10KSoobyt1KmMpO3JldHVybiB2byhuKX1mdW5jdGlvbiBN
byhuLHQpe3JldHVybiBuWzBdKnRbMF0rblsxXSp0WzFdK25bMl0qdFsyXStuWzNd
KnRbM119ZnVuY3Rpb24gX28obix0LGUpe24ucHVzaCgiQyIsTW8oX2wsdCksIiwi
LE1vKF9sLGUpLCIsIixNbyhibCx0KSwiLCIsTW8oYmwsZSksIiwiLE1vKHdsLHQp
LCIsIixNbyh3bCxlKSl9ZnVuY3Rpb24gYm8obix0KXtyZXR1cm4odFsxXS1uWzFd
KS8odFswXS1uWzBdKX1mdW5jdGlvbiB3byhuKXtmb3IodmFyIHQ9MCxlPW4ubGVu
Z3RoLTEscj1bXSx1PW5bMF0saT1uWzFdLG89clswXT1ibyh1LGkpOysrdDxlOyly
W3RdPShvKyhvPWJvKHU9aSxpPW5bdCsxXSkpKS8yO3JldHVybiByW3RdPW8scn1m
dW5jdGlvbiBTbyhuKXtmb3IodmFyIHQsZSxyLHUsaT1bXSxvPXdvKG4pLGE9LTEs
Yz1uLmxlbmd0aC0xOysrYTxjOyl0PWJvKG5bYV0sblthKzFdKSxpYSh0KTxFYT9v
W2FdPW9bYSsxXT0wOihlPW9bYV0vdCxyPW9bYSsxXS90LHU9ZSplK3Iqcix1Pjkm
Jih1PTMqdC9NYXRoLnNxcnQodSksb1thXT11KmUsb1thKzFdPXUqcikpO2Zvcihh
PS0xOysrYTw9YzspdT0obltNYXRoLm1pbihjLGErMSldWzBdLW5bTWF0aC5tYXgo
MCxhLTEpXVswXSkvKDYqKDErb1thXSpvW2FdKSksaS5wdXNoKFt1fHwwLG9bYV0q
dXx8MF0pO3JldHVybiBpfWZ1bmN0aW9uIGtvKG4pe3JldHVybiBuLmxlbmd0aDwz
P2lvKG4pOm5bMF0rZ28obixTbyhuKSl9ZnVuY3Rpb24gRW8obil7Zm9yKHZhciB0
LGUscix1PS0xLGk9bi5sZW5ndGg7Kyt1PGk7KXQ9blt1XSxlPXRbMF0scj10WzFd
K3lsLHRbMF09ZSpNYXRoLmNvcyhyKSx0WzFdPWUqTWF0aC5zaW4ocik7cmV0dXJu
IG59ZnVuY3Rpb24gQW8obil7ZnVuY3Rpb24gdCh0KXtmdW5jdGlvbiBjKCl7di5w
dXNoKCJNIixhKG4obSksZikscyxsKG4oZC5yZXZlcnNlKCkpLGYpLCJaIil9Zm9y
KHZhciBoLGcscCx2PVtdLGQ9W10sbT1bXSx5PS0xLHg9dC5sZW5ndGgsTT1idChl
KSxfPWJ0KHUpLGI9ZT09PXI/ZnVuY3Rpb24oKXtyZXR1cm4gZ306YnQociksdz11
PT09aT9mdW5jdGlvbigpe3JldHVybiBwfTpidChpKTsrK3k8eDspby5jYWxsKHRo
aXMsaD10W3ldLHkpPyhkLnB1c2goW2c9K00uY2FsbCh0aGlzLGgseSkscD0rXy5j
YWxsKHRoaXMsaCx5KV0pLG0ucHVzaChbK2IuY2FsbCh0aGlzLGgseSksK3cuY2Fs
bCh0aGlzLGgseSldKSk6ZC5sZW5ndGgmJihjKCksZD1bXSxtPVtdKTtyZXR1cm4g
ZC5sZW5ndGgmJmMoKSx2Lmxlbmd0aD92LmpvaW4oIiIpOm51bGx9dmFyIGU9U3Is
cj1Tcix1PTAsaT1rcixvPVNlLGE9aW8sYz1hLmtleSxsPWEscz0iTCIsZj0uNzty
ZXR1cm4gdC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhl
PXI9bix0KTpyfSx0LngwPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyhlPW4sdCk6ZX0sdC54MT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRz
Lmxlbmd0aD8ocj1uLHQpOnJ9LHQueT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1l
bnRzLmxlbmd0aD8odT1pPW4sdCk6aX0sdC55MD1mdW5jdGlvbihuKXtyZXR1cm4g
YXJndW1lbnRzLmxlbmd0aD8odT1uLHQpOnV9LHQueTE9ZnVuY3Rpb24obil7cmV0
dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bix0KTppfSx0LmRlZmluZWQ9ZnVuY3Rp
b24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bix0KTpvfSx0LmludGVy
cG9sYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPSJm
dW5jdGlvbiI9PXR5cGVvZiBuP2E9bjooYT1NbC5nZXQobil8fGlvKS5rZXksbD1h
LnJldmVyc2V8fGEscz1hLmNsb3NlZD8iTSI6IkwiLHQpOmN9LHQudGVuc2lvbj1m
dW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1uLHQpOmZ9LHR9
ZnVuY3Rpb24gQ28obil7cmV0dXJuIG4ucmFkaXVzfWZ1bmN0aW9uIE5vKG4pe3Jl
dHVybltuLngsbi55XX1mdW5jdGlvbiB6byhuKXtyZXR1cm4gZnVuY3Rpb24oKXt2
YXIgdD1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPXRbMF0scj10WzFdK3lsO3Jl
dHVybltlKk1hdGguY29zKHIpLGUqTWF0aC5zaW4ocildfX1mdW5jdGlvbiBMbygp
e3JldHVybiA2NH1mdW5jdGlvbiBUbygpe3JldHVybiJjaXJjbGUifWZ1bmN0aW9u
IHFvKG4pe3ZhciB0PU1hdGguc3FydChuL3dhKTtyZXR1cm4iTTAsIit0KyJBIit0
KyIsIit0KyIgMCAxLDEgMCwiKy10KyJBIit0KyIsIit0KyIgMCAxLDEgMCwiK3Qr
IloifWZ1bmN0aW9uIFJvKG4sdCl7cmV0dXJuIHNhKG4sTmwpLG4uaWQ9dCxufWZ1
bmN0aW9uIERvKG4sdCxlLHIpe3ZhciB1PW4uaWQ7cmV0dXJuIFAobiwiZnVuY3Rp
b24iPT10eXBlb2YgZT9mdW5jdGlvbihuLGksbyl7bi5fX3RyYW5zaXRpb25fX1t1
XS50d2Vlbi5zZXQodCxyKGUuY2FsbChuLG4uX19kYXRhX18saSxvKSkpfTooZT1y
KGUpLGZ1bmN0aW9uKG4pe24uX190cmFuc2l0aW9uX19bdV0udHdlZW4uc2V0KHQs
ZSl9KSl9ZnVuY3Rpb24gUG8obil7cmV0dXJuIG51bGw9PW4mJihuPSIiKSxmdW5j
dGlvbigpe3RoaXMudGV4dENvbnRlbnQ9bn19ZnVuY3Rpb24gVW8obix0LGUscil7
dmFyIHU9bi5fX3RyYW5zaXRpb25fX3x8KG4uX190cmFuc2l0aW9uX189e2FjdGl2
ZTowLGNvdW50OjB9KSxpPXVbZV07aWYoIWkpe3ZhciBhPXIudGltZTtpPXVbZV09
e3R3ZWVuOm5ldyBvLHRpbWU6YSxlYXNlOnIuZWFzZSxkZWxheTpyLmRlbGF5LGR1
cmF0aW9uOnIuZHVyYXRpb259LCsrdS5jb3VudCxWby50aW1lcihmdW5jdGlvbihy
KXtmdW5jdGlvbiBvKHIpe3JldHVybiB1LmFjdGl2ZT5lP2woKToodS5hY3RpdmU9
ZSxpLmV2ZW50JiZpLmV2ZW50LnN0YXJ0LmNhbGwobixzLHQpLGkudHdlZW4uZm9y
RWFjaChmdW5jdGlvbihlLHIpeyhyPXIuY2FsbChuLHMsdCkpJiZ2LnB1c2gocil9
KSxWby50aW1lcihmdW5jdGlvbigpe3JldHVybiBwLmM9YyhyfHwxKT9TZTpjLDF9
LDAsYSksdm9pZCAwKX1mdW5jdGlvbiBjKHIpe2lmKHUuYWN0aXZlIT09ZSlyZXR1
cm4gbCgpO2Zvcih2YXIgbz1yL2csYT1mKG8pLGM9di5sZW5ndGg7Yz4wOyl2Wy0t
Y10uY2FsbChuLGEpO3JldHVybiBvPj0xPyhpLmV2ZW50JiZpLmV2ZW50LmVuZC5j
YWxsKG4scyx0KSxsKCkpOnZvaWQgMAp9ZnVuY3Rpb24gbCgpe3JldHVybi0tdS5j
b3VudD9kZWxldGUgdVtlXTpkZWxldGUgbi5fX3RyYW5zaXRpb25fXywxfXZhciBz
PW4uX19kYXRhX18sZj1pLmVhc2UsaD1pLmRlbGF5LGc9aS5kdXJhdGlvbixwPVdh
LHY9W107cmV0dXJuIHAudD1oK2Escj49aD9vKHItaCk6KHAuYz1vLHZvaWQgMCl9
LDAsYSl9fWZ1bmN0aW9uIGpvKG4sdCl7bi5hdHRyKCJ0cmFuc2Zvcm0iLGZ1bmN0
aW9uKG4pe3JldHVybiJ0cmFuc2xhdGUoIit0KG4pKyIsMCkifSl9ZnVuY3Rpb24g
SG8obix0KXtuLmF0dHIoInRyYW5zZm9ybSIsZnVuY3Rpb24obil7cmV0dXJuInRy
YW5zbGF0ZSgwLCIrdChuKSsiKSJ9KX1mdW5jdGlvbiBGbyhuKXtyZXR1cm4gbi50
b0lTT1N0cmluZygpfWZ1bmN0aW9uIE9vKG4sdCxlKXtmdW5jdGlvbiByKHQpe3Jl
dHVybiBuKHQpfWZ1bmN0aW9uIHUobixlKXt2YXIgcj1uWzFdLW5bMF0sdT1yL2Us
aT1Wby5iaXNlY3QoamwsdSk7cmV0dXJuIGk9PWpsLmxlbmd0aD9bdC55ZWFyLE9p
KG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLzMxNTM2ZTZ9KSxlKVsyXV06aT90
W3UvamxbaS0xXTxqbFtpXS91P2ktMTppXTpbT2wsT2kobixlKVsyXV19cmV0dXJu
IHIuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiBZbyhuLmludmVydCh0KSl9LHIu
ZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuLmRv
bWFpbih0KSxyKTpuLmRvbWFpbigpLm1hcChZbyl9LHIubmljZT1mdW5jdGlvbihu
LHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIWlzTmFOKGUpJiYhbi5yYW5nZShlLFlv
KCtlKzEpLHQpLmxlbmd0aH12YXIgaT1yLmRvbWFpbigpLG89VGkoaSksYT1udWxs
PT1uP3UobywxMCk6Im51bWJlciI9PXR5cGVvZiBuJiZ1KG8sbik7cmV0dXJuIGEm
JihuPWFbMF0sdD1hWzFdKSxyLmRvbWFpbihEaShpLHQ+MT97Zmxvb3I6ZnVuY3Rp
b24odCl7Zm9yKDtlKHQ9bi5mbG9vcih0KSk7KXQ9WW8odC0xKTtyZXR1cm4gdH0s
Y2VpbDpmdW5jdGlvbih0KXtmb3IoO2UodD1uLmNlaWwodCkpOyl0PVlvKCt0KzEp
O3JldHVybiB0fX06bikpfSxyLnRpY2tzPWZ1bmN0aW9uKG4sdCl7dmFyIGU9VGko
ci5kb21haW4oKSksaT1udWxsPT1uP3UoZSwxMCk6Im51bWJlciI9PXR5cGVvZiBu
P3UoZSxuKTohbi5yYW5nZSYmW3tyYW5nZTpufSx0XTtyZXR1cm4gaSYmKG49aVsw
XSx0PWlbMV0pLG4ucmFuZ2UoZVswXSxZbygrZVsxXSsxKSwxPnQ/MTp0KX0sci50
aWNrRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHIuY29weT1mdW5jdGlvbigp
e3JldHVybiBPbyhuLmNvcHkoKSx0LGUpfSxIaShyLG4pfWZ1bmN0aW9uIFlvKG4p
e3JldHVybiBuZXcgRGF0ZShuKX1mdW5jdGlvbiBJbyhuKXtyZXR1cm4gSlNPTi5w
YXJzZShuLnJlc3BvbnNlVGV4dCl9ZnVuY3Rpb24gWm8obil7dmFyIHQ9Qm8uY3Jl
YXRlUmFuZ2UoKTtyZXR1cm4gdC5zZWxlY3ROb2RlKEJvLmJvZHkpLHQuY3JlYXRl
Q29udGV4dHVhbEZyYWdtZW50KG4ucmVzcG9uc2VUZXh0KX12YXIgVm89e3ZlcnNp
b246IjMuNC4xMiJ9O0RhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1
cm4rbmV3IERhdGV9KTt2YXIgWG89W10uc2xpY2UsJG89ZnVuY3Rpb24obil7cmV0
dXJuIFhvLmNhbGwobil9LEJvPWRvY3VtZW50LFdvPUJvLmRvY3VtZW50RWxlbWVu
dCxKbz13aW5kb3c7dHJ5eyRvKFdvLmNoaWxkTm9kZXMpWzBdLm5vZGVUeXBlfWNh
dGNoKEdvKXskbz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9bi5sZW5ndGgsZT1uZXcg
QXJyYXkodCk7dC0tOyllW3RdPW5bdF07cmV0dXJuIGV9fXRyeXtCby5jcmVhdGVF
bGVtZW50KCJkaXYiKS5zdHlsZS5zZXRQcm9wZXJ0eSgib3BhY2l0eSIsMCwiIil9
Y2F0Y2goS28pe3ZhciBRbz1Kby5FbGVtZW50LnByb3RvdHlwZSxuYT1Rby5zZXRB
dHRyaWJ1dGUsdGE9UW8uc2V0QXR0cmlidXRlTlMsZWE9Sm8uQ1NTU3R5bGVEZWNs
YXJhdGlvbi5wcm90b3R5cGUscmE9ZWEuc2V0UHJvcGVydHk7UW8uc2V0QXR0cmli
dXRlPWZ1bmN0aW9uKG4sdCl7bmEuY2FsbCh0aGlzLG4sdCsiIil9LFFvLnNldEF0
dHJpYnV0ZU5TPWZ1bmN0aW9uKG4sdCxlKXt0YS5jYWxsKHRoaXMsbix0LGUrIiIp
fSxlYS5zZXRQcm9wZXJ0eT1mdW5jdGlvbihuLHQsZSl7cmEuY2FsbCh0aGlzLG4s
dCsiIixlKX19Vm8uYXNjZW5kaW5nPW4sVm8uZGVzY2VuZGluZz1mdW5jdGlvbihu
LHQpe3JldHVybiBuPnQ/LTE6dD5uPzE6dD49bj8wOjAvMH0sVm8ubWluPWZ1bmN0
aW9uKG4sdCl7dmFyIGUscix1PS0xLGk9bi5sZW5ndGg7aWYoMT09PWFyZ3VtZW50
cy5sZW5ndGgpe2Zvcig7Kyt1PGkmJiEobnVsbCE9KGU9blt1XSkmJmU+PWUpOyll
PXZvaWQgMDtmb3IoOysrdTxpOyludWxsIT0ocj1uW3VdKSYmZT5yJiYoZT1yKX1l
bHNle2Zvcig7Kyt1PGkmJiEobnVsbCE9KGU9dC5jYWxsKG4sblt1XSx1KSkmJmU+
PWUpOyllPXZvaWQgMDtmb3IoOysrdTxpOyludWxsIT0ocj10LmNhbGwobixuW3Vd
LHUpKSYmZT5yJiYoZT1yKX1yZXR1cm4gZX0sVm8ubWF4PWZ1bmN0aW9uKG4sdCl7
dmFyIGUscix1PS0xLGk9bi5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgp
e2Zvcig7Kyt1PGkmJiEobnVsbCE9KGU9blt1XSkmJmU+PWUpOyllPXZvaWQgMDtm
b3IoOysrdTxpOyludWxsIT0ocj1uW3VdKSYmcj5lJiYoZT1yKX1lbHNle2Zvcig7
Kyt1PGkmJiEobnVsbCE9KGU9dC5jYWxsKG4sblt1XSx1KSkmJmU+PWUpOyllPXZv
aWQgMDtmb3IoOysrdTxpOyludWxsIT0ocj10LmNhbGwobixuW3VdLHUpKSYmcj5l
JiYoZT1yKX1yZXR1cm4gZX0sVm8uZXh0ZW50PWZ1bmN0aW9uKG4sdCl7dmFyIGUs
cix1LGk9LTEsbz1uLmxlbmd0aDtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9y
KDsrK2k8byYmIShudWxsIT0oZT11PW5baV0pJiZlPj1lKTspZT11PXZvaWQgMDtm
b3IoOysraTxvOyludWxsIT0ocj1uW2ldKSYmKGU+ciYmKGU9cikscj51JiYodT1y
KSl9ZWxzZXtmb3IoOysraTxvJiYhKG51bGwhPShlPXU9dC5jYWxsKG4sbltpXSxp
KSkmJmU+PWUpOyllPXZvaWQgMDtmb3IoOysraTxvOyludWxsIT0ocj10LmNhbGwo
bixuW2ldLGkpKSYmKGU+ciYmKGU9cikscj51JiYodT1yKSl9cmV0dXJuW2UsdV19
LFZvLnN1bT1mdW5jdGlvbihuLHQpe3ZhciBlLHI9MCx1PW4ubGVuZ3RoLGk9LTE7
aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDsrK2k8dTspaXNOYU4oZT0rbltp
XSl8fChyKz1lKTtlbHNlIGZvcig7KytpPHU7KWlzTmFOKGU9K3QuY2FsbChuLG5b
aV0saSkpfHwocis9ZSk7cmV0dXJuIHJ9LFZvLm1lYW49ZnVuY3Rpb24obixlKXt2
YXIgcix1PTAsaT1uLmxlbmd0aCxvPS0xLGE9aTtpZigxPT09YXJndW1lbnRzLmxl
bmd0aClmb3IoOysrbzxpOyl0KHI9bltvXSk/dSs9cjotLWE7ZWxzZSBmb3IoOysr
bzxpOyl0KHI9ZS5jYWxsKG4sbltvXSxvKSk/dSs9cjotLWE7cmV0dXJuIGE/dS9h
OnZvaWQgMH0sVm8ucXVhbnRpbGU9ZnVuY3Rpb24obix0KXt2YXIgZT0obi5sZW5n
dGgtMSkqdCsxLHI9TWF0aC5mbG9vcihlKSx1PStuW3ItMV0saT1lLXI7cmV0dXJu
IGk/dStpKihuW3JdLXUpOnV9LFZvLm1lZGlhbj1mdW5jdGlvbihlLHIpe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPjEmJihlPWUubWFwKHIpKSxlPWUuZmlsdGVyKHQp
LGUubGVuZ3RoP1ZvLnF1YW50aWxlKGUuc29ydChuKSwuNSk6dm9pZCAwfTt2YXIg
dWE9ZShuKTtWby5iaXNlY3RMZWZ0PXVhLmxlZnQsVm8uYmlzZWN0PVZvLmJpc2Vj
dFJpZ2h0PXVhLnJpZ2h0LFZvLmJpc2VjdG9yPWZ1bmN0aW9uKHQpe3JldHVybiBl
KDE9PT10Lmxlbmd0aD9mdW5jdGlvbihlLHIpe3JldHVybiBuKHQoZSkscil9OnQp
fSxWby5zaHVmZmxlPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHI9bi5sZW5ndGg7
cjspZT0wfE1hdGgucmFuZG9tKCkqci0tLHQ9bltyXSxuW3JdPW5bZV0sbltlXT10
O3JldHVybiBufSxWby5wZXJtdXRlPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPXQu
bGVuZ3RoLHI9bmV3IEFycmF5KGUpO2UtLTspcltlXT1uW3RbZV1dO3JldHVybiBy
fSxWby5wYWlycz1mdW5jdGlvbihuKXtmb3IodmFyIHQsZT0wLHI9bi5sZW5ndGgt
MSx1PW5bMF0saT1uZXcgQXJyYXkoMD5yPzA6cik7cj5lOylpW2VdPVt0PXUsdT1u
WysrZV1dO3JldHVybiBpfSxWby56aXA9ZnVuY3Rpb24oKXtpZighKHU9YXJndW1l
bnRzLmxlbmd0aCkpcmV0dXJuW107Zm9yKHZhciBuPS0xLHQ9Vm8ubWluKGFyZ3Vt
ZW50cyxyKSxlPW5ldyBBcnJheSh0KTsrK248dDspZm9yKHZhciB1LGk9LTEsbz1l
W25dPW5ldyBBcnJheSh1KTsrK2k8dTspb1tpXT1hcmd1bWVudHNbaV1bbl07cmV0
dXJuIGV9LFZvLnRyYW5zcG9zZT1mdW5jdGlvbihuKXtyZXR1cm4gVm8uemlwLmFw
cGx5KFZvLG4pfSxWby5rZXlzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO2Zvcih2YXIg
ZSBpbiBuKXQucHVzaChlKTtyZXR1cm4gdH0sVm8udmFsdWVzPWZ1bmN0aW9uKG4p
e3ZhciB0PVtdO2Zvcih2YXIgZSBpbiBuKXQucHVzaChuW2VdKTtyZXR1cm4gdH0s
Vm8uZW50cmllcz1mdW5jdGlvbihuKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gbil0
LnB1c2goe2tleTplLHZhbHVlOm5bZV19KTtyZXR1cm4gdH0sVm8ubWVyZ2U9ZnVu
Y3Rpb24obil7Zm9yKHZhciB0LGUscix1PW4ubGVuZ3RoLGk9LTEsbz0wOysraTx1
OylvKz1uW2ldLmxlbmd0aDtmb3IoZT1uZXcgQXJyYXkobyk7LS11Pj0wOylmb3Io
cj1uW3VdLHQ9ci5sZW5ndGg7LS10Pj0wOyllWy0tb109clt0XTtyZXR1cm4gZX07
dmFyIGlhPU1hdGguYWJzO1ZvLnJhbmdlPWZ1bmN0aW9uKG4sdCxlKXtpZihhcmd1
bWVudHMubGVuZ3RoPDMmJihlPTEsYXJndW1lbnRzLmxlbmd0aDwyJiYodD1uLG49
MCkpLDEvMD09PSh0LW4pL2UpdGhyb3cgbmV3IEVycm9yKCJpbmZpbml0ZSByYW5n
ZSIpO3ZhciByLGk9W10sbz11KGlhKGUpKSxhPS0xO2lmKG4qPW8sdCo9byxlKj1v
LDA+ZSlmb3IoOyhyPW4rZSorK2EpPnQ7KWkucHVzaChyL28pO2Vsc2UgZm9yKDso
cj1uK2UqKythKTx0OylpLnB1c2goci9vKTtyZXR1cm4gaX0sVm8ubWFwPWZ1bmN0
aW9uKG4pe3ZhciB0PW5ldyBvO2lmKG4gaW5zdGFuY2VvZiBvKW4uZm9yRWFjaChm
dW5jdGlvbihuLGUpe3Quc2V0KG4sZSl9KTtlbHNlIGZvcih2YXIgZSBpbiBuKXQu
c2V0KGUsbltlXSk7cmV0dXJuIHR9LGkobyx7aGFzOmEsZ2V0OmZ1bmN0aW9uKG4p
e3JldHVybiB0aGlzW29hK25dfSxzZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhp
c1tvYStuXT10fSxyZW1vdmU6YyxrZXlzOmwsdmFsdWVzOmZ1bmN0aW9uKCl7dmFy
IG49W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe24ucHVzaChl
KX0pLG59LGVudHJpZXM6ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gdGhpcy5m
b3JFYWNoKGZ1bmN0aW9uKHQsZSl7bi5wdXNoKHtrZXk6dCx2YWx1ZTplfSl9KSxu
fSxzaXplOnMsZW1wdHk6Zixmb3JFYWNoOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBp
biB0aGlzKXQuY2hhckNvZGVBdCgwKT09PWFhJiZuLmNhbGwodGhpcyx0LnNsaWNl
KDEpLHRoaXNbdF0pfX0pO3ZhciBvYT0iXHgwMCIsYWE9b2EuY2hhckNvZGVBdCgw
KTtWby5uZXN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0LGEsYyl7aWYoYz49aS5s
ZW5ndGgpcmV0dXJuIHI/ci5jYWxsKHUsYSk6ZT9hLnNvcnQoZSk6YTtmb3IodmFy
IGwscyxmLGgsZz0tMSxwPWEubGVuZ3RoLHY9aVtjKytdLGQ9bmV3IG87KytnPHA7
KShoPWQuZ2V0KGw9dihzPWFbZ10pKSk/aC5wdXNoKHMpOmQuc2V0KGwsW3NdKTty
ZXR1cm4gdD8ocz10KCksZj1mdW5jdGlvbihlLHIpe3Muc2V0KGUsbih0LHIsYykp
fSk6KHM9e30sZj1mdW5jdGlvbihlLHIpe3NbZV09bih0LHIsYyl9KSxkLmZvckVh
Y2goZiksc31mdW5jdGlvbiB0KG4sZSl7aWYoZT49aS5sZW5ndGgpcmV0dXJuIG47
dmFyIHI9W10sdT1hW2UrK107cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihuLHUp
e3IucHVzaCh7a2V5Om4sdmFsdWVzOnQodSxlKX0pfSksdT9yLnNvcnQoZnVuY3Rp
b24obix0KXtyZXR1cm4gdShuLmtleSx0LmtleSl9KTpyfXZhciBlLHIsdT17fSxp
PVtdLGE9W107cmV0dXJuIHUubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oZSx0
LDApfSx1LmVudHJpZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQobihWby5tYXAsZSww
KSwwKX0sdS5rZXk9ZnVuY3Rpb24obil7cmV0dXJuIGkucHVzaChuKSx1fSx1LnNv
cnRLZXlzPWZ1bmN0aW9uKG4pe3JldHVybiBhW2kubGVuZ3RoLTFdPW4sdX0sdS5z
b3J0VmFsdWVzPWZ1bmN0aW9uKG4pe3JldHVybiBlPW4sdX0sdS5yb2xsdXA9ZnVu
Y3Rpb24obil7cmV0dXJuIHI9bix1fSx1fSxWby5zZXQ9ZnVuY3Rpb24obil7dmFy
IHQ9bmV3IGg7aWYobilmb3IodmFyIGU9MCxyPW4ubGVuZ3RoO3I+ZTsrK2UpdC5h
ZGQobltlXSk7cmV0dXJuIHR9LGkoaCx7aGFzOmEsYWRkOmZ1bmN0aW9uKG4pe3Jl
dHVybiB0aGlzW29hK25dPSEwLG59LHJlbW92ZTpmdW5jdGlvbihuKXtyZXR1cm4g
bj1vYStuLG4gaW4gdGhpcyYmZGVsZXRlIHRoaXNbbl19LHZhbHVlczpsLHNpemU6
cyxlbXB0eTpmLGZvckVhY2g6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIHRoaXMp
dC5jaGFyQ29kZUF0KDApPT09YWEmJm4uY2FsbCh0aGlzLHQuc2xpY2UoMSkpfX0p
LFZvLmJlaGF2aW9yPXt9LFZvLnJlYmluZD1mdW5jdGlvbihuLHQpe2Zvcih2YXIg
ZSxyPTEsdT1hcmd1bWVudHMubGVuZ3RoOysrcjx1OyluW2U9YXJndW1lbnRzW3Jd
XT1nKG4sdCx0W2VdKTtyZXR1cm4gbn07dmFyIGNhPVsid2Via2l0IiwibXMiLCJt
b3oiLCJNb3oiLCJvIiwiTyJdO1ZvLmRpc3BhdGNoPWZ1bmN0aW9uKCl7Zm9yKHZh
ciBuPW5ldyBkLHQ9LTEsZT1hcmd1bWVudHMubGVuZ3RoOysrdDxlOyluW2FyZ3Vt
ZW50c1t0XV09bShuKTtyZXR1cm4gbn0sZC5wcm90b3R5cGUub249ZnVuY3Rpb24o
bix0KXt2YXIgZT1uLmluZGV4T2YoIi4iKSxyPSIiO2lmKGU+PTAmJihyPW4uc2xp
Y2UoZSsxKSxuPW4uc2xpY2UoMCxlKSksbilyZXR1cm4gYXJndW1lbnRzLmxlbmd0
aDwyP3RoaXNbbl0ub24ocik6dGhpc1tuXS5vbihyLHQpO2lmKDI9PT1hcmd1bWVu
dHMubGVuZ3RoKXtpZihudWxsPT10KWZvcihuIGluIHRoaXMpdGhpcy5oYXNPd25Q
cm9wZXJ0eShuKSYmdGhpc1tuXS5vbihyLG51bGwpO3JldHVybiB0aGlzfX0sVm8u
ZXZlbnQ9bnVsbCxWby5yZXF1b3RlPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxh
Y2UobGEsIlxcJCYiKX07dmFyIGxhPS9bXFxcXlwkXCpcK1w/XHxcW1xdXChcKVwu
XHtcfV0vZyxzYT17fS5fX3Byb3RvX18/ZnVuY3Rpb24obix0KXtuLl9fcHJvdG9f
Xz10fTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSBpbiB0KW5bZV09dFtlXX0sZmE9
ZnVuY3Rpb24obix0KXtyZXR1cm4gdC5xdWVyeVNlbGVjdG9yKG4pfSxoYT1mdW5j
dGlvbihuLHQpe3JldHVybiB0LnF1ZXJ5U2VsZWN0b3JBbGwobil9LGdhPVdvLm1h
dGNoZXN8fFdvW3AoV28sIm1hdGNoZXNTZWxlY3RvciIpXSxwYT1mdW5jdGlvbihu
LHQpe3JldHVybiBnYS5jYWxsKG4sdCl9OyJmdW5jdGlvbiI9PXR5cGVvZiBTaXp6
bGUmJihmYT1mdW5jdGlvbihuLHQpe3JldHVybiBTaXp6bGUobix0KVswXXx8bnVs
bH0saGE9U2l6emxlLHBhPVNpenpsZS5tYXRjaGVzU2VsZWN0b3IpLFZvLnNlbGVj
dGlvbj1mdW5jdGlvbigpe3JldHVybiB5YX07dmFyIHZhPVZvLnNlbGVjdGlvbi5w
cm90b3R5cGU9W107dmEuc2VsZWN0PWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1LGk9
W107bj1iKG4pO2Zvcih2YXIgbz0tMSxhPXRoaXMubGVuZ3RoOysrbzxhOyl7aS5w
dXNoKHQ9W10pLHQucGFyZW50Tm9kZT0ocj10aGlzW29dKS5wYXJlbnROb2RlO2Zv
cih2YXIgYz0tMSxsPXIubGVuZ3RoOysrYzxsOykodT1yW2NdKT8odC5wdXNoKGU9
bi5jYWxsKHUsdS5fX2RhdGFfXyxjLG8pKSxlJiYiX19kYXRhX18iaW4gdSYmKGUu
X19kYXRhX189dS5fX2RhdGFfXykpOnQucHVzaChudWxsKX1yZXR1cm4gXyhpKX0s
dmEuc2VsZWN0QWxsPWZ1bmN0aW9uKG4pe3ZhciB0LGUscj1bXTtuPXcobik7Zm9y
KHZhciB1PS0xLGk9dGhpcy5sZW5ndGg7Kyt1PGk7KWZvcih2YXIgbz10aGlzW3Vd
LGE9LTEsYz1vLmxlbmd0aDsrK2E8YzspKGU9b1thXSkmJihyLnB1c2godD0kbyhu
LmNhbGwoZSxlLl9fZGF0YV9fLGEsdSkpKSx0LnBhcmVudE5vZGU9ZSk7cmV0dXJu
IF8ocil9O3ZhciBkYT17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIs
eGh0bWw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLHhsaW5rOiJodHRw
Oi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4bWw6Imh0dHA6Ly93d3cudzMub3Jn
L1hNTC8xOTk4L25hbWVzcGFjZSIseG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIw
MDAveG1sbnMvIn07Vm8ubnM9e3ByZWZpeDpkYSxxdWFsaWZ5OmZ1bmN0aW9uKG4p
e3ZhciB0PW4uaW5kZXhPZigiOiIpLGU9bjtyZXR1cm4gdD49MCYmKGU9bi5zbGlj
ZSgwLHQpLG49bi5zbGljZSh0KzEpKSxkYS5oYXNPd25Qcm9wZXJ0eShlKT97c3Bh
Y2U6ZGFbZV0sbG9jYWw6bn06bn19LHZhLmF0dHI9ZnVuY3Rpb24obix0KXtpZihh
cmd1bWVudHMubGVuZ3RoPDIpe2lmKCJzdHJpbmciPT10eXBlb2Ygbil7dmFyIGU9
dGhpcy5ub2RlKCk7cmV0dXJuIG49Vm8ubnMucXVhbGlmeShuKSxuLmxvY2FsP2Uu
Z2V0QXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsKTplLmdldEF0dHJpYnV0ZShu
KX1mb3IodCBpbiBuKXRoaXMuZWFjaChTKHQsblt0XSkpO3JldHVybiB0aGlzfXJl
dHVybiB0aGlzLmVhY2goUyhuLHQpKX0sdmEuY2xhc3NlZD1mdW5jdGlvbihuLHQp
e2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXt2
YXIgZT10aGlzLm5vZGUoKSxyPShuPUEobikpLmxlbmd0aCx1PS0xO2lmKHQ9ZS5j
bGFzc0xpc3Qpe2Zvcig7Kyt1PHI7KWlmKCF0LmNvbnRhaW5zKG5bdV0pKXJldHVy
biExfWVsc2UgZm9yKHQ9ZS5nZXRBdHRyaWJ1dGUoImNsYXNzIik7Kyt1PHI7KWlm
KCFFKG5bdV0pLnRlc3QodCkpcmV0dXJuITE7cmV0dXJuITB9Zm9yKHQgaW4gbil0
aGlzLmVhY2goQyh0LG5bdF0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNo
KEMobix0KSl9LHZhLnN0eWxlPWZ1bmN0aW9uKG4sdCxlKXt2YXIgcj1hcmd1bWVu
dHMubGVuZ3RoO2lmKDM+cil7aWYoInN0cmluZyIhPXR5cGVvZiBuKXsyPnImJih0
PSIiKTtmb3IoZSBpbiBuKXRoaXMuZWFjaCh6KGUsbltlXSx0KSk7cmV0dXJuIHRo
aXN9aWYoMj5yKXJldHVybiBKby5nZXRDb21wdXRlZFN0eWxlKHRoaXMubm9kZSgp
LG51bGwpLmdldFByb3BlcnR5VmFsdWUobik7ZT0iIn1yZXR1cm4gdGhpcy5lYWNo
KHoobix0LGUpKX0sdmEucHJvcGVydHk9ZnVuY3Rpb24obix0KXtpZihhcmd1bWVu
dHMubGVuZ3RoPDIpe2lmKCJzdHJpbmciPT10eXBlb2YgbilyZXR1cm4gdGhpcy5u
b2RlKClbbl07Zm9yKHQgaW4gbil0aGlzLmVhY2goTCh0LG5bdF0pKTtyZXR1cm4g
dGhpc31yZXR1cm4gdGhpcy5lYWNoKEwobix0KSl9LHZhLnRleHQ9ZnVuY3Rpb24o
bil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKCJmdW5jdGlvbiI9
PXR5cGVvZiBuP2Z1bmN0aW9uKCl7dmFyIHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50
cyk7dGhpcy50ZXh0Q29udGVudD1udWxsPT10PyIiOnR9Om51bGw9PW4/ZnVuY3Rp
b24oKXt0aGlzLnRleHRDb250ZW50PSIifTpmdW5jdGlvbigpe3RoaXMudGV4dENv
bnRlbnQ9bn0pOnRoaXMubm9kZSgpLnRleHRDb250ZW50fSx2YS5odG1sPWZ1bmN0
aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaCgiZnVuY3Rp
b24iPT10eXBlb2Ygbj9mdW5jdGlvbigpe3ZhciB0PW4uYXBwbHkodGhpcyxhcmd1
bWVudHMpO3RoaXMuaW5uZXJIVE1MPW51bGw9PXQ/IiI6dH06bnVsbD09bj9mdW5j
dGlvbigpe3RoaXMuaW5uZXJIVE1MPSIifTpmdW5jdGlvbigpe3RoaXMuaW5uZXJI
VE1MPW59KTp0aGlzLm5vZGUoKS5pbm5lckhUTUx9LHZhLmFwcGVuZD1mdW5jdGlv
bihuKXtyZXR1cm4gbj1UKG4pLHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJu
IHRoaXMuYXBwZW5kQ2hpbGQobi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSl9LHZh
Lmluc2VydD1mdW5jdGlvbihuLHQpe3JldHVybiBuPVQobiksdD1iKHQpLHRoaXMu
c2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKG4uYXBw
bHkodGhpcyxhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxudWxs
KX0pfSx2YS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0
aW9uKCl7dmFyIG49dGhpcy5wYXJlbnROb2RlO24mJm4ucmVtb3ZlQ2hpbGQodGhp
cyl9KX0sdmEuZGF0YT1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobixlKXt2YXIg
cix1LGksYT1uLmxlbmd0aCxmPWUubGVuZ3RoLGg9TWF0aC5taW4oYSxmKSxnPW5l
dyBBcnJheShmKSxwPW5ldyBBcnJheShmKSx2PW5ldyBBcnJheShhKTtpZih0KXt2
YXIgZCxtPW5ldyBvLHk9bmV3IG8seD1bXTtmb3Iocj0tMTsrK3I8YTspZD10LmNh
bGwodT1uW3JdLHUuX19kYXRhX18sciksbS5oYXMoZCk/dltyXT11Om0uc2V0KGQs
dSkseC5wdXNoKGQpO2ZvcihyPS0xOysrcjxmOylkPXQuY2FsbChlLGk9ZVtyXSxy
KSwodT1tLmdldChkKSk/KGdbcl09dSx1Ll9fZGF0YV9fPWkpOnkuaGFzKGQpfHwo
cFtyXT1xKGkpKSx5LnNldChkLGkpLG0ucmVtb3ZlKGQpO2ZvcihyPS0xOysrcjxh
OyltLmhhcyh4W3JdKSYmKHZbcl09bltyXSl9ZWxzZXtmb3Iocj0tMTsrK3I8aDsp
dT1uW3JdLGk9ZVtyXSx1Pyh1Ll9fZGF0YV9fPWksZ1tyXT11KTpwW3JdPXEoaSk7
Zm9yKDtmPnI7KytyKXBbcl09cShlW3JdKTtmb3IoO2E+cjsrK3IpdltyXT1uW3Jd
fXAudXBkYXRlPWcscC5wYXJlbnROb2RlPWcucGFyZW50Tm9kZT12LnBhcmVudE5v
ZGU9bi5wYXJlbnROb2RlLGMucHVzaChwKSxsLnB1c2goZykscy5wdXNoKHYpfXZh
ciByLHUsaT0tMSxhPXRoaXMubGVuZ3RoO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtm
b3Iobj1uZXcgQXJyYXkoYT0ocj10aGlzWzBdKS5sZW5ndGgpOysraTxhOykodT1y
W2ldKSYmKG5baV09dS5fX2RhdGFfXyk7cmV0dXJuIG59dmFyIGM9VShbXSksbD1f
KFtdKSxzPV8oW10pO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKWZvcig7KytpPGE7
KWUocj10aGlzW2ldLG4uY2FsbChyLHIucGFyZW50Tm9kZS5fX2RhdGFfXyxpKSk7
ZWxzZSBmb3IoOysraTxhOyllKHI9dGhpc1tpXSxuKTtyZXR1cm4gbC5lbnRlcj1m
dW5jdGlvbigpe3JldHVybiBjfSxsLmV4aXQ9ZnVuY3Rpb24oKXtyZXR1cm4gc30s
bH0sdmEuZGF0dW09ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/
dGhpcy5wcm9wZXJ0eSgiX19kYXRhX18iLG4pOnRoaXMucHJvcGVydHkoIl9fZGF0
YV9fIil9LHZhLmZpbHRlcj1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdT1bXTsiZnVu
Y3Rpb24iIT10eXBlb2YgbiYmKG49UihuKSk7Zm9yKHZhciBpPTAsbz10aGlzLmxl
bmd0aDtvPmk7aSsrKXt1LnB1c2godD1bXSksdC5wYXJlbnROb2RlPShlPXRoaXNb
aV0pLnBhcmVudE5vZGU7Zm9yKHZhciBhPTAsYz1lLmxlbmd0aDtjPmE7YSsrKShy
PWVbYV0pJiZuLmNhbGwocixyLl9fZGF0YV9fLGEsaSkmJnQucHVzaChyKX1yZXR1
cm4gXyh1KX0sdmEub3JkZXI9ZnVuY3Rpb24oKXtmb3IodmFyIG49LTEsdD10aGlz
Lmxlbmd0aDsrK248dDspZm9yKHZhciBlLHI9dGhpc1tuXSx1PXIubGVuZ3RoLTEs
aT1yW3VdOy0tdT49MDspKGU9clt1XSkmJihpJiZpIT09ZS5uZXh0U2libGluZyYm
aS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLGkpLGk9ZSk7cmV0dXJuIHRoaXN9
LHZhLnNvcnQ9ZnVuY3Rpb24obil7bj1ELmFwcGx5KHRoaXMsYXJndW1lbnRzKTtm
b3IodmFyIHQ9LTEsZT10aGlzLmxlbmd0aDsrK3Q8ZTspdGhpc1t0XS5zb3J0KG4p
O3JldHVybiB0aGlzLm9yZGVyKCl9LHZhLmVhY2g9ZnVuY3Rpb24obil7cmV0dXJu
IFAodGhpcyxmdW5jdGlvbih0LGUscil7bi5jYWxsKHQsdC5fX2RhdGFfXyxlLHIp
fSl9LHZhLmNhbGw9ZnVuY3Rpb24obil7dmFyIHQ9JG8oYXJndW1lbnRzKTtyZXR1
cm4gbi5hcHBseSh0WzBdPXRoaXMsdCksdGhpc30sdmEuZW1wdHk9ZnVuY3Rpb24o
KXtyZXR1cm4hdGhpcy5ub2RlKCl9LHZhLm5vZGU9ZnVuY3Rpb24oKXtmb3IodmFy
IG49MCx0PXRoaXMubGVuZ3RoO3Q+bjtuKyspZm9yKHZhciBlPXRoaXNbbl0scj0w
LHU9ZS5sZW5ndGg7dT5yO3IrKyl7dmFyIGk9ZVtyXTtpZihpKXJldHVybiBpfXJl
dHVybiBudWxsfSx2YS5zaXplPWZ1bmN0aW9uKCl7dmFyIG49MDtyZXR1cm4gUCh0
aGlzLGZ1bmN0aW9uKCl7KytufSksbn07dmFyIG1hPVtdO1ZvLnNlbGVjdGlvbi5l
bnRlcj1VLFZvLnNlbGVjdGlvbi5lbnRlci5wcm90b3R5cGU9bWEsbWEuYXBwZW5k
PXZhLmFwcGVuZCxtYS5lbXB0eT12YS5lbXB0eSxtYS5ub2RlPXZhLm5vZGUsbWEu
Y2FsbD12YS5jYWxsLG1hLnNpemU9dmEuc2l6ZSxtYS5zZWxlY3Q9ZnVuY3Rpb24o
bil7Zm9yKHZhciB0LGUscix1LGksbz1bXSxhPS0xLGM9dGhpcy5sZW5ndGg7Kyth
PGM7KXtyPSh1PXRoaXNbYV0pLnVwZGF0ZSxvLnB1c2godD1bXSksdC5wYXJlbnRO
b2RlPXUucGFyZW50Tm9kZTtmb3IodmFyIGw9LTEscz11Lmxlbmd0aDsrK2w8czsp
KGk9dVtsXSk/KHQucHVzaChyW2xdPWU9bi5jYWxsKHUucGFyZW50Tm9kZSxpLl9f
ZGF0YV9fLGwsYSkpLGUuX19kYXRhX189aS5fX2RhdGFfXyk6dC5wdXNoKG51bGwp
fXJldHVybiBfKG8pfSxtYS5pbnNlcnQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aDwyJiYodD1qKHRoaXMpKSx2YS5pbnNlcnQuY2FsbCh0aGlz
LG4sdCl9LHZhLnRyYW5zaXRpb249ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlPWts
fHwrK3psLHI9W10sdT1FbHx8e3RpbWU6RGF0ZS5ub3coKSxlYXNlOk11LGRlbGF5
OjAsZHVyYXRpb246MjUwfSxpPS0xLG89dGhpcy5sZW5ndGg7KytpPG87KXtyLnB1
c2gobj1bXSk7Zm9yKHZhciBhPXRoaXNbaV0sYz0tMSxsPWEubGVuZ3RoOysrYzxs
OykodD1hW2NdKSYmVW8odCxjLGUsdSksbi5wdXNoKHQpfXJldHVybiBSbyhyLGUp
fSx2YS5pbnRlcnJ1cHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKEgpfSxW
by5zZWxlY3Q9ZnVuY3Rpb24obil7dmFyIHQ9WyJzdHJpbmciPT10eXBlb2Ygbj9m
YShuLEJvKTpuXTtyZXR1cm4gdC5wYXJlbnROb2RlPVdvLF8oW3RdKX0sVm8uc2Vs
ZWN0QWxsPWZ1bmN0aW9uKG4pe3ZhciB0PSRvKCJzdHJpbmciPT10eXBlb2Ygbj9o
YShuLEJvKTpuKTtyZXR1cm4gdC5wYXJlbnROb2RlPVdvLF8oW3RdKX07dmFyIHlh
PVZvLnNlbGVjdChXbyk7dmEub249ZnVuY3Rpb24obix0LGUpe3ZhciByPWFyZ3Vt
ZW50cy5sZW5ndGg7aWYoMz5yKXtpZigic3RyaW5nIiE9dHlwZW9mIG4pezI+ciYm
KHQ9ITEpO2ZvcihlIGluIG4pdGhpcy5lYWNoKEYoZSxuW2VdLHQpKTtyZXR1cm4g
dGhpc31pZigyPnIpcmV0dXJuKHI9dGhpcy5ub2RlKClbIl9fb24iK25dKSYmci5f
O2U9ITF9cmV0dXJuIHRoaXMuZWFjaChGKG4sdCxlKSl9O3ZhciB4YT1Wby5tYXAo
e21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSk7
eGEuZm9yRWFjaChmdW5jdGlvbihuKXsib24iK24gaW4gQm8mJnhhLnJlbW92ZShu
KX0pO3ZhciBNYT0ib25zZWxlY3RzdGFydCJpbiBCbz9udWxsOnAoV28uc3R5bGUs
InVzZXJTZWxlY3QiKSxfYT0wO1ZvLm1vdXNlPWZ1bmN0aW9uKG4pe3JldHVybiBa
KG4seCgpKX07dmFyIGJhPS9XZWJLaXQvLnRlc3QoSm8ubmF2aWdhdG9yLnVzZXJB
Z2VudCk/LTE6MDtWby50b3VjaD1mdW5jdGlvbihuLHQsZSl7aWYoYXJndW1lbnRz
Lmxlbmd0aDwzJiYoZT10LHQ9eCgpLmNoYW5nZWRUb3VjaGVzKSx0KWZvcih2YXIg
cix1PTAsaT10Lmxlbmd0aDtpPnU7Kyt1KWlmKChyPXRbdV0pLmlkZW50aWZpZXI9
PT1lKXJldHVybiBaKG4scil9LFZvLmJlaGF2aW9yLmRyYWc9ZnVuY3Rpb24oKXtm
dW5jdGlvbiBuKCl7dGhpcy5vbigibW91c2Vkb3duLmRyYWciLHUpLm9uKCJ0b3Vj
aHN0YXJ0LmRyYWciLGkpfWZ1bmN0aW9uIHQobix0LHUsaSxvKXtyZXR1cm4gZnVu
Y3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIG4sZSxyPXQoaCx2KTtyJiYobj1yWzBd
LXhbMF0sZT1yWzFdLXhbMV0scHw9bnxlLHg9cixnKHt0eXBlOiJkcmFnIix4OnJb
MF0rbFswXSx5OnJbMV0rbFsxXSxkeDpuLGR5OmV9KSl9ZnVuY3Rpb24gYygpe3Qo
aCx2KSYmKG0ub24oaStkLG51bGwpLm9uKG8rZCxudWxsKSx5KHAmJlZvLmV2ZW50
LnRhcmdldD09PWYpLGcoe3R5cGU6ImRyYWdlbmQifSkpfXZhciBsLHM9dGhpcyxm
PVZvLmV2ZW50LnRhcmdldCxoPXMucGFyZW50Tm9kZSxnPWUub2Yocyxhcmd1bWVu
dHMpLHA9MCx2PW4oKSxkPSIuZHJhZyIrKG51bGw9PXY/IiI6Ii0iK3YpLG09Vm8u
c2VsZWN0KHUoKSkub24oaStkLGEpLm9uKG8rZCxjKSx5PUkoKSx4PXQoaCx2KTty
PyhsPXIuYXBwbHkocyxhcmd1bWVudHMpLGw9W2wueC14WzBdLGwueS14WzFdXSk6
bD1bMCwwXSxnKHt0eXBlOiJkcmFnc3RhcnQifSl9fXZhciBlPU0obiwiZHJhZyIs
ImRyYWdzdGFydCIsImRyYWdlbmQiKSxyPW51bGwsdT10KHYsVm8ubW91c2UsJCwi
bW91c2Vtb3ZlIiwibW91c2V1cCIpLGk9dChWLFZvLnRvdWNoLFgsInRvdWNobW92
ZSIsInRvdWNoZW5kIik7cmV0dXJuIG4ub3JpZ2luPWZ1bmN0aW9uKHQpe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6cn0sVm8ucmViaW5kKG4sZSwib24i
KX0sVm8udG91Y2hlcz1mdW5jdGlvbihuLHQpe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPDImJih0PXgoKS50b3VjaGVzKSx0PyRvKHQpLm1hcChmdW5jdGlvbih0KXt2
YXIgZT1aKG4sdCk7cmV0dXJuIGUuaWRlbnRpZmllcj10LmlkZW50aWZpZXIsZX0p
OltdfTt2YXIgd2E9TWF0aC5QSSxTYT0yKndhLGthPXdhLzIsRWE9MWUtNixBYT1F
YSpFYSxDYT13YS8xODAsTmE9MTgwL3dhLHphPU1hdGguU1FSVDIsTGE9MixUYT00
O1ZvLmludGVycG9sYXRlWm9vbT1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobil7
dmFyIHQ9bip5O2lmKG0pe3ZhciBlPVEodiksbz1pLyhMYSpoKSooZSpudCh6YSp0
K3YpLUsodikpO3JldHVybltyK28qbCx1K28qcyxpKmUvUSh6YSp0K3YpXX1yZXR1
cm5bcituKmwsdStuKnMsaSpNYXRoLmV4cCh6YSp0KV19dmFyIHI9blswXSx1PW5b
MV0saT1uWzJdLG89dFswXSxhPXRbMV0sYz10WzJdLGw9by1yLHM9YS11LGY9bCps
K3MqcyxoPU1hdGguc3FydChmKSxnPShjKmMtaSppK1RhKmYpLygyKmkqTGEqaCks
cD0oYypjLWkqaS1UYSpmKS8oMipjKkxhKmgpLHY9TWF0aC5sb2coTWF0aC5zcXJ0
KGcqZysxKS1nKSxkPU1hdGgubG9nKE1hdGguc3FydChwKnArMSktcCksbT1kLXYs
eT0obXx8TWF0aC5sb2coYy9pKSkvemE7cmV0dXJuIGUuZHVyYXRpb249MWUzKnks
ZX0sVm8uYmVoYXZpb3Iuem9vbT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7bi5v
bihBLGwpLm9uKERhKyIuem9vbSIsZikub24oImRibGNsaWNrLnpvb20iLGgpLm9u
KHoscyl9ZnVuY3Rpb24gdChuKXtyZXR1cm5bKG5bMF0tUy54KS9TLmssKG5bMV0t
Uy55KS9TLmtdfWZ1bmN0aW9uIGUobil7cmV0dXJuW25bMF0qUy5rK1MueCxuWzFd
KlMuaytTLnldfWZ1bmN0aW9uIHIobil7Uy5rPU1hdGgubWF4KEVbMF0sTWF0aC5t
aW4oRVsxXSxuKSl9ZnVuY3Rpb24gdShuLHQpe3Q9ZSh0KSxTLngrPW5bMF0tdFsw
XSxTLnkrPW5bMV0tdFsxXX1mdW5jdGlvbiBpKCl7XyYmXy5kb21haW4oeC5yYW5n
ZSgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi1TLngpL1Mua30pLm1hcCh4Lmlu
dmVydCkpLHcmJncuZG9tYWluKGIucmFuZ2UoKS5tYXAoZnVuY3Rpb24obil7cmV0
dXJuKG4tUy55KS9TLmt9KS5tYXAoYi5pbnZlcnQpKX1mdW5jdGlvbiBvKG4pe24o
e3R5cGU6Inpvb21zdGFydCJ9KX1mdW5jdGlvbiBhKG4pe2koKSxuKHt0eXBlOiJ6
b29tIixzY2FsZTpTLmssdHJhbnNsYXRlOltTLngsUy55XX0pfWZ1bmN0aW9uIGMo
bil7bih7dHlwZToiem9vbWVuZCJ9KX1mdW5jdGlvbiBsKCl7ZnVuY3Rpb24gbigp
e3M9MSx1KFZvLm1vdXNlKHIpLGgpLGEobCl9ZnVuY3Rpb24gZSgpe2Yub24oQyxu
dWxsKS5vbihOLG51bGwpLGcocyYmVm8uZXZlbnQudGFyZ2V0PT09aSksYyhsKX12
YXIgcj10aGlzLGk9Vm8uZXZlbnQudGFyZ2V0LGw9TC5vZihyLGFyZ3VtZW50cyks
cz0wLGY9Vm8uc2VsZWN0KEpvKS5vbihDLG4pLm9uKE4sZSksaD10KFZvLm1vdXNl
KHIpKSxnPUkoKTtILmNhbGwociksbyhsKX1mdW5jdGlvbiBzKCl7ZnVuY3Rpb24g
bigpe3ZhciBuPVZvLnRvdWNoZXMoZyk7cmV0dXJuIGg9Uy5rLG4uZm9yRWFjaChm
dW5jdGlvbihuKXtuLmlkZW50aWZpZXIgaW4gdiYmKHZbbi5pZGVudGlmaWVyXT10
KG4pKX0pLG59ZnVuY3Rpb24gZSgpe3ZhciB0PVZvLmV2ZW50LnRhcmdldDtWby5z
ZWxlY3QodCkub24oTSxpKS5vbihfLGYpLGIucHVzaCh0KTtmb3IodmFyIGU9Vm8u
ZXZlbnQuY2hhbmdlZFRvdWNoZXMsbz0wLGM9ZS5sZW5ndGg7Yz5vOysrbyl2W2Vb
b10uaWRlbnRpZmllcl09bnVsbDt2YXIgbD1uKCkscz1EYXRlLm5vdygpO2lmKDE9
PT1sLmxlbmd0aCl7aWYoNTAwPnMtbSl7dmFyIGg9bFswXSxnPXZbaC5pZGVudGlm
aWVyXTtyKDIqUy5rKSx1KGgsZykseSgpLGEocCl9bT1zfWVsc2UgaWYobC5sZW5n
dGg+MSl7dmFyIGg9bFswXSx4PWxbMV0sdz1oWzBdLXhbMF0saz1oWzFdLXhbMV07
ZD13KncrayprfX1mdW5jdGlvbiBpKCl7Zm9yKHZhciBuLHQsZSxpLG89Vm8udG91
Y2hlcyhnKSxjPTAsbD1vLmxlbmd0aDtsPmM7KytjLGk9bnVsbClpZihlPW9bY10s
aT12W2UuaWRlbnRpZmllcl0pe2lmKHQpYnJlYWs7bj1lLHQ9aX1pZihpKXt2YXIg
cz0ocz1lWzBdLW5bMF0pKnMrKHM9ZVsxXS1uWzFdKSpzLGY9ZCYmTWF0aC5zcXJ0
KHMvZCk7bj1bKG5bMF0rZVswXSkvMiwoblsxXStlWzFdKS8yXSx0PVsodFswXStp
WzBdKS8yLCh0WzFdK2lbMV0pLzJdLHIoZipoKX1tPW51bGwsdShuLHQpLGEocCl9
ZnVuY3Rpb24gZigpe2lmKFZvLmV2ZW50LnRvdWNoZXMubGVuZ3RoKXtmb3IodmFy
IHQ9Vm8uZXZlbnQuY2hhbmdlZFRvdWNoZXMsZT0wLHI9dC5sZW5ndGg7cj5lOysr
ZSlkZWxldGUgdlt0W2VdLmlkZW50aWZpZXJdO2Zvcih2YXIgdSBpbiB2KXJldHVy
biB2b2lkIG4oKX1Wby5zZWxlY3RBbGwoYikub24oeCxudWxsKSx3Lm9uKEEsbCku
b24oeixzKSxrKCksYyhwKX12YXIgaCxnPXRoaXMscD1MLm9mKGcsYXJndW1lbnRz
KSx2PXt9LGQ9MCx4PSIuem9vbS0iK1ZvLmV2ZW50LmNoYW5nZWRUb3VjaGVzWzBd
LmlkZW50aWZpZXIsTT0idG91Y2htb3ZlIit4LF89InRvdWNoZW5kIit4LGI9W10s
dz1Wby5zZWxlY3QoZyksaz1JKCk7SC5jYWxsKGcpLGUoKSxvKHApLHcub24oQSxu
dWxsKS5vbih6LGUpfWZ1bmN0aW9uIGYoKXt2YXIgbj1MLm9mKHRoaXMsYXJndW1l
bnRzKTtkP2NsZWFyVGltZW91dChkKTooZz10KHA9dnx8Vm8ubW91c2UodGhpcykp
LEguY2FsbCh0aGlzKSxvKG4pKSxkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPW51
bGwsYyhuKX0sNTApLHkoKSxyKE1hdGgucG93KDIsLjAwMipxYSgpKSpTLmspLHUo
cCxnKSxhKG4pfWZ1bmN0aW9uIGgoKXt2YXIgbj1MLm9mKHRoaXMsYXJndW1lbnRz
KSxlPVZvLm1vdXNlKHRoaXMpLGk9dChlKSxsPU1hdGgubG9nKFMuaykvTWF0aC5M
TjI7byhuKSxyKE1hdGgucG93KDIsVm8uZXZlbnQuc2hpZnRLZXk/TWF0aC5jZWls
KGwpLTE6TWF0aC5mbG9vcihsKSsxKSksdShlLGkpLGEobiksYyhuKX12YXIgZyxw
LHYsZCxtLHgsXyxiLHcsUz17eDowLHk6MCxrOjF9LGs9Wzk2MCw1MDBdLEU9UmEs
QT0ibW91c2Vkb3duLnpvb20iLEM9Im1vdXNlbW92ZS56b29tIixOPSJtb3VzZXVw
Lnpvb20iLHo9InRvdWNoc3RhcnQuem9vbSIsTD1NKG4sInpvb21zdGFydCIsInpv
b20iLCJ6b29tZW5kIik7cmV0dXJuIG4uZXZlbnQ9ZnVuY3Rpb24obil7bi5lYWNo
KGZ1bmN0aW9uKCl7dmFyIG49TC5vZih0aGlzLGFyZ3VtZW50cyksdD1TO2tsP1Zv
LnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZWFjaCgic3RhcnQuem9vbSIsZnVu
Y3Rpb24oKXtTPXRoaXMuX19jaGFydF9ffHx7eDowLHk6MCxrOjF9LG8obil9KS50
d2Vlbigiem9vbTp6b29tIixmdW5jdGlvbigpe3ZhciBlPWtbMF0scj1rWzFdLHU9
ZS8yLGk9ci8yLG89Vm8uaW50ZXJwb2xhdGVab29tKFsodS1TLngpL1MuaywoaS1T
LnkpL1MuayxlL1Mua10sWyh1LXQueCkvdC5rLChpLXQueSkvdC5rLGUvdC5rXSk7
cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPW8odCksYz1lL3JbMl07dGhpcy5fX2No
YXJ0X189Uz17eDp1LXJbMF0qYyx5OmktclsxXSpjLGs6Y30sYShuKX19KS5lYWNo
KCJlbmQuem9vbSIsZnVuY3Rpb24oKXtjKG4pfSk6KHRoaXMuX19jaGFydF9fPVMs
byhuKSxhKG4pLGMobikpfSl9LG4udHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyhTPXt4Oit0WzBdLHk6K3RbMV0sazpTLmt9LGko
KSxuKTpbUy54LFMueV19LG4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KFM9e3g6Uy54LHk6Uy55LGs6K3R9LGkoKSxuKTpTLmt9LG4u
c2NhbGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/
KEU9bnVsbD09dD9SYTpbK3RbMF0sK3RbMV1dLG4pOkV9LG4uY2VudGVyPWZ1bmN0
aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PXQmJlsrdFswXSwrdFsx
XV0sbik6dn0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyhrPXQmJlsrdFswXSwrdFsxXV0sbik6a30sbi54PWZ1bmN0aW9uKHQpe3Jl
dHVybiBhcmd1bWVudHMubGVuZ3RoPyhfPXQseD10LmNvcHkoKSxTPXt4OjAseTow
LGs6MX0sbik6X30sbi55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyh3PXQsYj10LmNvcHkoKSxTPXt4OjAseTowLGs6MX0sbik6d30sVm8ucmVi
aW5kKG4sTCwib24iKX07dmFyIHFhLFJhPVswLDEvMF0sRGE9Im9ud2hlZWwiaW4g
Qm8/KHFhPWZ1bmN0aW9uKCl7cmV0dXJuLVZvLmV2ZW50LmRlbHRhWSooVm8uZXZl
bnQuZGVsdGFNb2RlPzEyMDoxKX0sIndoZWVsIik6Im9ubW91c2V3aGVlbCJpbiBC
bz8ocWE9ZnVuY3Rpb24oKXtyZXR1cm4gVm8uZXZlbnQud2hlZWxEZWx0YX0sIm1v
dXNld2hlZWwiKToocWE9ZnVuY3Rpb24oKXtyZXR1cm4tVm8uZXZlbnQuZGV0YWls
fSwiTW96TW91c2VQaXhlbFNjcm9sbCIpO1ZvLmNvbG9yPWV0LGV0LnByb3RvdHlw
ZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJnYigpKyIifSxWby5o
c2w9cnQ7dmFyIFBhPXJ0LnByb3RvdHlwZT1uZXcgZXQ7UGEuYnJpZ2h0ZXI9ZnVu
Y3Rpb24obil7cmV0dXJuIG49TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9u
OjEpLG5ldyBydCh0aGlzLmgsdGhpcy5zLHRoaXMubC9uKX0sUGEuZGFya2VyPWZ1
bmN0aW9uKG4pe3JldHVybiBuPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/
bjoxKSxuZXcgcnQodGhpcy5oLHRoaXMucyxuKnRoaXMubCl9LFBhLnJnYj1mdW5j
dGlvbigpe3JldHVybiB1dCh0aGlzLmgsdGhpcy5zLHRoaXMubCl9LFZvLmhjbD1p
dDt2YXIgVWE9aXQucHJvdG90eXBlPW5ldyBldDtVYS5icmlnaHRlcj1mdW5jdGlv
bihuKXtyZXR1cm4gbmV3IGl0KHRoaXMuaCx0aGlzLmMsTWF0aC5taW4oMTAwLHRo
aXMubCtqYSooYXJndW1lbnRzLmxlbmd0aD9uOjEpKSl9LFVhLmRhcmtlcj1mdW5j
dGlvbihuKXtyZXR1cm4gbmV3IGl0KHRoaXMuaCx0aGlzLmMsTWF0aC5tYXgoMCx0
aGlzLmwtamEqKGFyZ3VtZW50cy5sZW5ndGg/bjoxKSkpfSxVYS5yZ2I9ZnVuY3Rp
b24oKXtyZXR1cm4gb3QodGhpcy5oLHRoaXMuYyx0aGlzLmwpLnJnYigpfSxWby5s
YWI9YXQ7dmFyIGphPTE4LEhhPS45NTA0NyxGYT0xLE9hPTEuMDg4ODMsWWE9YXQu
cHJvdG90eXBlPW5ldyBldDtZYS5icmlnaHRlcj1mdW5jdGlvbihuKXtyZXR1cm4g
bmV3IGF0KE1hdGgubWluKDEwMCx0aGlzLmwramEqKGFyZ3VtZW50cy5sZW5ndGg/
bjoxKSksdGhpcy5hLHRoaXMuYil9LFlhLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1
cm4gbmV3IGF0KE1hdGgubWF4KDAsdGhpcy5sLWphKihhcmd1bWVudHMubGVuZ3Ro
P246MSkpLHRoaXMuYSx0aGlzLmIpfSxZYS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4g
Y3QodGhpcy5sLHRoaXMuYSx0aGlzLmIpfSxWby5yZ2I9Z3Q7dmFyIElhPWd0LnBy
b3RvdHlwZT1uZXcgZXQ7SWEuYnJpZ2h0ZXI9ZnVuY3Rpb24obil7bj1NYXRoLnBv
dyguNyxhcmd1bWVudHMubGVuZ3RoP246MSk7dmFyIHQ9dGhpcy5yLGU9dGhpcy5n
LHI9dGhpcy5iLHU9MzA7cmV0dXJuIHR8fGV8fHI/KHQmJnU+dCYmKHQ9dSksZSYm
dT5lJiYoZT11KSxyJiZ1PnImJihyPXUpLG5ldyBndChNYXRoLm1pbigyNTUsdC9u
KSxNYXRoLm1pbigyNTUsZS9uKSxNYXRoLm1pbigyNTUsci9uKSkpOm5ldyBndCh1
LHUsdSl9LElhLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1cm4gbj1NYXRoLnBvdygu
Nyxhcmd1bWVudHMubGVuZ3RoP246MSksbmV3IGd0KG4qdGhpcy5yLG4qdGhpcy5n
LG4qdGhpcy5iKX0sSWEuaHNsPWZ1bmN0aW9uKCl7cmV0dXJuIHl0KHRoaXMucix0
aGlzLmcsdGhpcy5iKX0sSWEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iIyIr
ZHQodGhpcy5yKStkdCh0aGlzLmcpK2R0KHRoaXMuYil9O3ZhciBaYT1Wby5tYXAo
e2FsaWNlYmx1ZToxNTc5MjM4MyxhbnRpcXVld2hpdGU6MTY0NDQzNzUsYXF1YTo2
NTUzNSxhcXVhbWFyaW5lOjgzODg1NjQsYXp1cmU6MTU3OTQxNzUsYmVpZ2U6MTYx
MTkyNjAsYmlzcXVlOjE2NzcwMjQ0LGJsYWNrOjAsYmxhbmNoZWRhbG1vbmQ6MTY3
NzIwNDUsYmx1ZToyNTUsYmx1ZXZpb2xldDo5MDU1MjAyLGJyb3duOjEwODI0MjM0
LGJ1cmx5d29vZDoxNDU5NjIzMSxjYWRldGJsdWU6NjI2NjUyOCxjaGFydHJldXNl
OjgzODgzNTIsY2hvY29sYXRlOjEzNzg5NDcwLGNvcmFsOjE2NzQ0MjcyLGNvcm5m
bG93ZXJibHVlOjY1OTE5ODEsY29ybnNpbGs6MTY3NzUzODgsY3JpbXNvbjoxNDQy
MzEwMCxjeWFuOjY1NTM1LGRhcmtibHVlOjEzOSxkYXJrY3lhbjozNTcyMyxkYXJr
Z29sZGVucm9kOjEyMDkyOTM5LGRhcmtncmF5OjExMTE5MDE3LGRhcmtncmVlbjoy
NTYwMCxkYXJrZ3JleToxMTExOTAxNyxkYXJra2hha2k6MTI0MzMyNTksZGFya21h
Z2VudGE6OTEwOTY0MyxkYXJrb2xpdmVncmVlbjo1NTk3OTk5LGRhcmtvcmFuZ2U6
MTY3NDc1MjAsZGFya29yY2hpZDoxMDA0MDAxMixkYXJrcmVkOjkxMDk1MDQsZGFy
a3NhbG1vbjoxNTMwODQxMCxkYXJrc2VhZ3JlZW46OTQxOTkxOSxkYXJrc2xhdGVi
bHVlOjQ3MzQzNDcsZGFya3NsYXRlZ3JheTozMTAwNDk1LGRhcmtzbGF0ZWdyZXk6
MzEwMDQ5NSxkYXJrdHVycXVvaXNlOjUyOTQ1LGRhcmt2aW9sZXQ6OTY5OTUzOSxk
ZWVwcGluazoxNjcxNjk0NyxkZWVwc2t5Ymx1ZTo0OTE1MSxkaW1ncmF5OjY5MDgy
NjUsZGltZ3JleTo2OTA4MjY1LGRvZGdlcmJsdWU6MjAwMzE5OSxmaXJlYnJpY2s6
MTE2NzQxNDYsZmxvcmFsd2hpdGU6MTY3NzU5MjAsZm9yZXN0Z3JlZW46MjI2Mzg0
MixmdWNoc2lhOjE2NzExOTM1LGdhaW5zYm9ybzoxNDQ3NDQ2MCxnaG9zdHdoaXRl
OjE2MzE2NjcxLGdvbGQ6MTY3NjY3MjAsZ29sZGVucm9kOjE0MzI5MTIwLGdyYXk6
ODQyMTUwNCxncmVlbjozMjc2OCxncmVlbnllbGxvdzoxMTQwMzA1NSxncmV5Ojg0
MjE1MDQsaG9uZXlkZXc6MTU3OTQxNjAsaG90cGluazoxNjczODc0MCxpbmRpYW5y
ZWQ6MTM0NTg1MjQsaW5kaWdvOjQ5MTUzMzAsaXZvcnk6MTY3NzcyMDAsa2hha2k6
MTU3ODc2NjAsbGF2ZW5kZXI6MTUxMzI0MTAsbGF2ZW5kZXJibHVzaDoxNjc3MzM2
NSxsYXduZ3JlZW46ODE5MDk3NixsZW1vbmNoaWZmb246MTY3NzU4ODUsbGlnaHRi
bHVlOjExMzkzMjU0LGxpZ2h0Y29yYWw6MTU3NjE1MzYsbGlnaHRjeWFuOjE0NzQ1
NTk5LGxpZ2h0Z29sZGVucm9keWVsbG93OjE2NDQ4MjEwLGxpZ2h0Z3JheToxMzg4
MjMyMyxsaWdodGdyZWVuOjk0OTgyNTYsbGlnaHRncmV5OjEzODgyMzIzLGxpZ2h0
cGluazoxNjc1ODQ2NSxsaWdodHNhbG1vbjoxNjc1Mjc2MixsaWdodHNlYWdyZWVu
OjIxNDI4OTAsbGlnaHRza3libHVlOjg5MDAzNDYsbGlnaHRzbGF0ZWdyYXk6Nzgz
Mzc1MyxsaWdodHNsYXRlZ3JleTo3ODMzNzUzLGxpZ2h0c3RlZWxibHVlOjExNTg0
NzM0LGxpZ2h0eWVsbG93OjE2Nzc3MTg0LGxpbWU6NjUyODAsbGltZWdyZWVuOjMz
MjkzMzAsbGluZW46MTY0NDU2NzAsbWFnZW50YToxNjcxMTkzNSxtYXJvb246ODM4
ODYwOCxtZWRpdW1hcXVhbWFyaW5lOjY3MzczMjIsbWVkaXVtYmx1ZToyMDUsbWVk
aXVtb3JjaGlkOjEyMjExNjY3LG1lZGl1bXB1cnBsZTo5NjYyNjgzLG1lZGl1bXNl
YWdyZWVuOjM5NzgwOTcsbWVkaXVtc2xhdGVibHVlOjgwODc3OTAsbWVkaXVtc3By
aW5nZ3JlZW46NjQxNTQsbWVkaXVtdHVycXVvaXNlOjQ3NzIzMDAsbWVkaXVtdmlv
bGV0cmVkOjEzMDQ3MTczLG1pZG5pZ2h0Ymx1ZToxNjQ0OTEyLG1pbnRjcmVhbTox
NjEyMTg1MCxtaXN0eXJvc2U6MTY3NzAyNzMsbW9jY2FzaW46MTY3NzAyMjksbmF2
YWpvd2hpdGU6MTY3Njg2ODUsbmF2eToxMjgsb2xkbGFjZToxNjY0MzU1OCxvbGl2
ZTo4NDIxMzc2LG9saXZlZHJhYjo3MDQ4NzM5LG9yYW5nZToxNjc1MzkyMCxvcmFu
Z2VyZWQ6MTY3MjkzNDQsb3JjaGlkOjE0MzE1NzM0LHBhbGVnb2xkZW5yb2Q6MTU2
NTcxMzAscGFsZWdyZWVuOjEwMDI1ODgwLHBhbGV0dXJxdW9pc2U6MTE1Mjk5NjYs
cGFsZXZpb2xldHJlZDoxNDM4MTIwMyxwYXBheWF3aGlwOjE2NzczMDc3LHBlYWNo
cHVmZjoxNjc2NzY3MyxwZXJ1OjEzNDY4OTkxLHBpbms6MTY3NjEwMzUscGx1bTox
NDUyNDYzNyxwb3dkZXJibHVlOjExNTkxOTEwLHB1cnBsZTo4Mzg4NzM2LHJlZDox
NjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2Fk
ZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAz
Mjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYTox
MDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1
ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNu
b3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAs
dGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86
MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0
OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVs
bG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSk7WmEuZm9yRWFjaChm
dW5jdGlvbihuLHQpe1phLnNldChuLHB0KHQpKX0pLFZvLmZ1bmN0b3I9YnQsVm8u
eGhyPVN0KHd0KSxWby5kc3Y9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKG4sZSxp
KXthcmd1bWVudHMubGVuZ3RoPDMmJihpPWUsZT1udWxsKTt2YXIgbz1rdChuLHQs
bnVsbD09ZT9yOnUoZSksaSk7cmV0dXJuIG8ucm93PWZ1bmN0aW9uKG4pe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoP28ucmVzcG9uc2UobnVsbD09KGU9bik/cjp1KG4p
KTplfSxvfWZ1bmN0aW9uIHIobil7cmV0dXJuIGUucGFyc2Uobi5yZXNwb25zZVRl
eHQpfWZ1bmN0aW9uIHUobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLnBh
cnNlKHQucmVzcG9uc2VUZXh0LG4pfX1mdW5jdGlvbiBpKHQpe3JldHVybiB0Lm1h
cChvKS5qb2luKG4pfWZ1bmN0aW9uIG8obil7cmV0dXJuIGEudGVzdChuKT8nIicr
bi5yZXBsYWNlKC9cIi9nLCciIicpKyciJzpufXZhciBhPW5ldyBSZWdFeHAoJ1si
JytuKyJcbl0iKSxjPW4uY2hhckNvZGVBdCgwKTtyZXR1cm4gZS5wYXJzZT1mdW5j
dGlvbihuLHQpe3ZhciByO3JldHVybiBlLnBhcnNlUm93cyhuLGZ1bmN0aW9uKG4s
ZSl7aWYocilyZXR1cm4gcihuLGUtMSk7dmFyIHU9bmV3IEZ1bmN0aW9uKCJkIiwi
cmV0dXJuIHsiK24ubWFwKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIEpTT04uc3RyaW5n
aWZ5KG4pKyI6IGRbIit0KyJdIn0pLmpvaW4oIiwiKSsifSIpO3I9dD9mdW5jdGlv
bihuLGUpe3JldHVybiB0KHUobiksZSl9OnV9KX0sZS5wYXJzZVJvd3M9ZnVuY3Rp
b24obix0KXtmdW5jdGlvbiBlKCl7aWYocz49bClyZXR1cm4gbztpZih1KXJldHVy
biB1PSExLGk7dmFyIHQ9cztpZigzND09PW4uY2hhckNvZGVBdCh0KSl7Zm9yKHZh
ciBlPXQ7ZSsrPGw7KWlmKDM0PT09bi5jaGFyQ29kZUF0KGUpKXtpZigzNCE9PW4u
Y2hhckNvZGVBdChlKzEpKWJyZWFrOysrZX1zPWUrMjt2YXIgcj1uLmNoYXJDb2Rl
QXQoZSsxKTtyZXR1cm4gMTM9PT1yPyh1PSEwLDEwPT09bi5jaGFyQ29kZUF0KGUr
MikmJisrcyk6MTA9PT1yJiYodT0hMCksbi5zbGljZSh0KzEsZSkucmVwbGFjZSgv
IiIvZywnIicpfWZvcig7bD5zOyl7dmFyIHI9bi5jaGFyQ29kZUF0KHMrKyksYT0x
O2lmKDEwPT09cil1PSEwO2Vsc2UgaWYoMTM9PT1yKXU9ITAsMTA9PT1uLmNoYXJD
b2RlQXQocykmJigrK3MsKythKTtlbHNlIGlmKHIhPT1jKWNvbnRpbnVlO3JldHVy
biBuLnNsaWNlKHQscy1hKX1yZXR1cm4gbi5zbGljZSh0KX1mb3IodmFyIHIsdSxp
PXt9LG89e30sYT1bXSxsPW4ubGVuZ3RoLHM9MCxmPTA7KHI9ZSgpKSE9PW87KXtm
b3IodmFyIGg9W107ciE9PWkmJnIhPT1vOyloLnB1c2gocikscj1lKCk7KCF0fHwo
aD10KGgsZisrKSkpJiZhLnB1c2goaCl9cmV0dXJuIGF9LGUuZm9ybWF0PWZ1bmN0
aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodFswXSkpcmV0dXJuIGUuZm9ybWF0Um93
cyh0KTt2YXIgcj1uZXcgaCx1PVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24o
bil7Zm9yKHZhciB0IGluIG4pci5oYXModCl8fHUucHVzaChyLmFkZCh0KSl9KSxb
dS5tYXAobykuam9pbihuKV0uY29uY2F0KHQubWFwKGZ1bmN0aW9uKHQpe3JldHVy
biB1Lm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbyh0W25dKX0pLmpvaW4obil9KSku
am9pbigiXG4iKX0sZS5mb3JtYXRSb3dzPWZ1bmN0aW9uKG4pe3JldHVybiBuLm1h
cChpKS5qb2luKCJcbiIpfSxlfSxWby5jc3Y9Vm8uZHN2KCIsIiwidGV4dC9jc3Yi
KSxWby50c3Y9Vm8uZHN2KCIJIiwidGV4dC90YWItc2VwYXJhdGVkLXZhbHVlcyIp
O3ZhciBWYSxYYSwkYSxCYSxXYSxKYT1Kb1twKEpvLCJyZXF1ZXN0QW5pbWF0aW9u
RnJhbWUiKV18fGZ1bmN0aW9uKG4pe3NldFRpbWVvdXQobiwxNyl9O1ZvLnRpbWVy
PWZ1bmN0aW9uKG4sdCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoOzI+ciYmKHQ9
MCksMz5yJiYoZT1EYXRlLm5vdygpKTt2YXIgdT1lK3QsaT17YzpuLHQ6dSxmOiEx
LG46bnVsbH07WGE/WGEubj1pOlZhPWksWGE9aSwkYXx8KEJhPWNsZWFyVGltZW91
dChCYSksJGE9MSxKYShDdCkpfSxWby50aW1lci5mbHVzaD1mdW5jdGlvbigpe050
KCksenQoKX0sVm8ucm91bmQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD9NYXRoLnJv
dW5kKG4qKHQ9TWF0aC5wb3coMTAsdCkpKS90Ok1hdGgucm91bmQobil9O3ZhciBH
YT1bInkiLCJ6IiwiYSIsImYiLCJwIiwibiIsIlx4YjUiLCJtIiwiIiwiayIsIk0i
LCJHIiwiVCIsIlAiLCJFIiwiWiIsIlkiXS5tYXAoVHQpO1ZvLmZvcm1hdFByZWZp
eD1mdW5jdGlvbihuLHQpe3ZhciBlPTA7cmV0dXJuIG4mJigwPm4mJihuKj0tMSks
dCYmKG49Vm8ucm91bmQobixMdChuLHQpKSksZT0xK01hdGguZmxvb3IoMWUtMTIr
TWF0aC5sb2cobikvTWF0aC5MTjEwKSxlPU1hdGgubWF4KC0yNCxNYXRoLm1pbigy
NCwzKk1hdGguZmxvb3IoKGUtMSkvMykpKSksR2FbOCtlLzNdfTt2YXIgS2E9Lyg/
OihbXntdKT8oWzw+PV5dKSk/KFsrXC0gXSk/KFskI10pPygwKT8oXGQrKT8oLCk/
KFwuLT9cZCspPyhbYS16JV0pPy9pLFFhPVZvLm1hcCh7YjpmdW5jdGlvbihuKXty
ZXR1cm4gbi50b1N0cmluZygyKX0sYzpmdW5jdGlvbihuKXtyZXR1cm4gU3RyaW5n
LmZyb21DaGFyQ29kZShuKX0sbzpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmlu
Zyg4KX0seDpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygxNil9LFg6ZnVu
Y3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9LGc6
ZnVuY3Rpb24obix0KXtyZXR1cm4gbi50b1ByZWNpc2lvbih0KX0sZTpmdW5jdGlv
bihuLHQpe3JldHVybiBuLnRvRXhwb25lbnRpYWwodCl9LGY6ZnVuY3Rpb24obix0
KXtyZXR1cm4gbi50b0ZpeGVkKHQpfSxyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuKG49
Vm8ucm91bmQobixMdChuLHQpKSkudG9GaXhlZChNYXRoLm1heCgwLE1hdGgubWlu
KDIwLEx0KG4qKDErMWUtMTUpLHQpKSkpfX0pLG5jPVZvLnRpbWU9e30sdGM9RGF0
ZTtEdC5wcm90b3R5cGU9e2dldERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5f
LmdldFVUQ0RhdGUoKX0sZ2V0RGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5n
ZXRVVENEYXkoKX0sZ2V0RnVsbFllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5f
LmdldFVUQ0Z1bGxZZWFyKCl9LGdldEhvdXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRo
aXMuXy5nZXRVVENIb3VycygpfSxnZXRNaWxsaXNlY29uZHM6ZnVuY3Rpb24oKXty
ZXR1cm4gdGhpcy5fLmdldFVUQ01pbGxpc2Vjb25kcygpfSxnZXRNaW51dGVzOmZ1
bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaW51dGVzKCl9LGdldE1vbnRo
OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNb250aCgpfSxnZXRTZWNv
bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENTZWNvbmRzKCl9LGdl
dFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFRpbWUoKX0sZ2V0VGlt
ZXpvbmVPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sdmFsdWVPZjpmdW5jdGlv
bigpe3JldHVybiB0aGlzLl8udmFsdWVPZigpfSxzZXREYXRlOmZ1bmN0aW9uKCl7
ZWMuc2V0VVRDRGF0ZS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RGF5OmZ1
bmN0aW9uKCl7ZWMuc2V0VVRDRGF5LmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxz
ZXRGdWxsWWVhcjpmdW5jdGlvbigpe2VjLnNldFVUQ0Z1bGxZZWFyLmFwcGx5KHRo
aXMuXyxhcmd1bWVudHMpfSxzZXRIb3VyczpmdW5jdGlvbigpe2VjLnNldFVUQ0hv
dXJzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaWxsaXNlY29uZHM6ZnVu
Y3Rpb24oKXtlYy5zZXRVVENNaWxsaXNlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3Vt
ZW50cyl9LHNldE1pbnV0ZXM6ZnVuY3Rpb24oKXtlYy5zZXRVVENNaW51dGVzLmFw
cGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNb250aDpmdW5jdGlvbigpe2VjLnNl
dFVUQ01vbnRoLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRTZWNvbmRzOmZ1
bmN0aW9uKCl7ZWMuc2V0VVRDU2Vjb25kcy5hcHBseSh0aGlzLl8sYXJndW1lbnRz
KX0sc2V0VGltZTpmdW5jdGlvbigpe2VjLnNldFRpbWUuYXBwbHkodGhpcy5fLGFy
Z3VtZW50cyl9fTt2YXIgZWM9RGF0ZS5wcm90b3R5cGU7bmMueWVhcj1QdChmdW5j
dGlvbihuKXtyZXR1cm4gbj1uYy5kYXkobiksbi5zZXRNb250aCgwLDEpLG59LGZ1
bmN0aW9uKG4sdCl7bi5zZXRGdWxsWWVhcihuLmdldEZ1bGxZZWFyKCkrdCl9LGZ1
bmN0aW9uKG4pe3JldHVybiBuLmdldEZ1bGxZZWFyKCl9KSxuYy55ZWFycz1uYy55
ZWFyLnJhbmdlLG5jLnllYXJzLnV0Yz1uYy55ZWFyLnV0Yy5yYW5nZSxuYy5kYXk9
UHQoZnVuY3Rpb24obil7dmFyIHQ9bmV3IHRjKDJlMywwKTtyZXR1cm4gdC5zZXRG
dWxsWWVhcihuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgp
KSx0fSxmdW5jdGlvbihuLHQpe24uc2V0RGF0ZShuLmdldERhdGUoKSt0KX0sZnVu
Y3Rpb24obil7cmV0dXJuIG4uZ2V0RGF0ZSgpLTF9KSxuYy5kYXlzPW5jLmRheS5y
YW5nZSxuYy5kYXlzLnV0Yz1uYy5kYXkudXRjLnJhbmdlLG5jLmRheU9mWWVhcj1m
dW5jdGlvbihuKXt2YXIgdD1uYy55ZWFyKG4pO3JldHVybiBNYXRoLmZsb29yKChu
LXQtNmU0KihuLmdldFRpbWV6b25lT2Zmc2V0KCktdC5nZXRUaW1lem9uZU9mZnNl
dCgpKSkvODY0ZTUpfSxbInN1bmRheSIsIm1vbmRheSIsInR1ZXNkYXkiLCJ3ZWRu
ZXNkYXkiLCJ0aHVyc2RheSIsImZyaWRheSIsInNhdHVyZGF5Il0uZm9yRWFjaChm
dW5jdGlvbihuLHQpe3Q9Ny10O3ZhciBlPW5jW25dPVB0KGZ1bmN0aW9uKG4pe3Jl
dHVybihuPW5jLmRheShuKSkuc2V0RGF0ZShuLmdldERhdGUoKS0obi5nZXREYXko
KSt0KSU3KSxufSxmdW5jdGlvbihuLHQpe24uc2V0RGF0ZShuLmdldERhdGUoKSs3
Kk1hdGguZmxvb3IodCkpfSxmdW5jdGlvbihuKXt2YXIgZT1uYy55ZWFyKG4pLmdl
dERheSgpO3JldHVybiBNYXRoLmZsb29yKChuYy5kYXlPZlllYXIobikrKGUrdCkl
NykvNyktKGUhPT10KX0pO25jW24rInMiXT1lLnJhbmdlLG5jW24rInMiXS51dGM9
ZS51dGMucmFuZ2UsbmNbbisiT2ZZZWFyIl09ZnVuY3Rpb24obil7dmFyIGU9bmMu
eWVhcihuKS5nZXREYXkoKTtyZXR1cm4gTWF0aC5mbG9vcigobmMuZGF5T2ZZZWFy
KG4pKyhlK3QpJTcpLzcpfX0pLG5jLndlZWs9bmMuc3VuZGF5LG5jLndlZWtzPW5j
LnN1bmRheS5yYW5nZSxuYy53ZWVrcy51dGM9bmMuc3VuZGF5LnV0Yy5yYW5nZSxu
Yy53ZWVrT2ZZZWFyPW5jLnN1bmRheU9mWWVhcjt2YXIgcmM9eyItIjoiIixfOiIg
IiwwOiIwIn0sdWM9L15ccypcZCsvLGljPS9eJS87Vm8ubG9jYWxlPWZ1bmN0aW9u
KG4pe3JldHVybntudW1iZXJGb3JtYXQ6cXQobiksdGltZUZvcm1hdDpqdChuKX19
O3ZhciBvYz1Wby5sb2NhbGUoe2RlY2ltYWw6Ii4iLHRob3VzYW5kczoiLCIsZ3Jv
dXBpbmc6WzNdLGN1cnJlbmN5OlsiJCIsIiJdLGRhdGVUaW1lOiIlYSAlYiAlZSAl
WCAlWSIsZGF0ZToiJW0vJWQvJVkiLHRpbWU6IiVIOiVNOiVTIixwZXJpb2RzOlsi
QU0iLCJQTSJdLGRheXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2Vk
bmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLHNob3J0RGF5
czpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLG1v
bnRoczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXki
LCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJO
b3ZlbWJlciIsIkRlY2VtYmVyIl0sc2hvcnRNb250aHM6WyJKYW4iLCJGZWIiLCJN
YXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJO
b3YiLCJEZWMiXX0pO1ZvLmZvcm1hdD1vYy5udW1iZXJGb3JtYXQsVm8uZ2VvPXt9
LGllLnByb3RvdHlwZT17czowLHQ6MCxhZGQ6ZnVuY3Rpb24obil7b2Uobix0aGlz
LnQsYWMpLG9lKGFjLnMsdGhpcy5zLHRoaXMpLHRoaXMucz90aGlzLnQrPWFjLnQ6
dGhpcy5zPWFjLnR9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zPXRoaXMudD0wfSx2
YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc319O3ZhciBhYz1uZXcgaWU7
Vm8uZ2VvLnN0cmVhbT1mdW5jdGlvbihuLHQpe24mJmNjLmhhc093blByb3BlcnR5
KG4udHlwZSk/Y2Nbbi50eXBlXShuLHQpOmFlKG4sdCl9O3ZhciBjYz17RmVhdHVy
ZTpmdW5jdGlvbihuLHQpe2FlKG4uZ2VvbWV0cnksdCl9LEZlYXR1cmVDb2xsZWN0
aW9uOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4uZmVhdHVyZXMscj0tMSx1PWUu
bGVuZ3RoOysrcjx1OylhZShlW3JdLmdlb21ldHJ5LHQpfX0sbGM9e1NwaGVyZTpm
dW5jdGlvbihuLHQpe3Quc3BoZXJlKCl9LFBvaW50OmZ1bmN0aW9uKG4sdCl7bj1u
LmNvb3JkaW5hdGVzLHQucG9pbnQoblswXSxuWzFdLG5bMl0pfSxNdWx0aVBvaW50
OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4uY29vcmRpbmF0ZXMscj0tMSx1PWUu
bGVuZ3RoOysrcjx1OyluPWVbcl0sdC5wb2ludChuWzBdLG5bMV0sblsyXSl9LExp
bmVTdHJpbmc6ZnVuY3Rpb24obix0KXtjZShuLmNvb3JkaW5hdGVzLHQsMCl9LE11
bHRpTGluZVN0cmluZzpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmNvb3JkaW5h
dGVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspY2UoZVtyXSx0LDApfSxQb2x5Z29u
OmZ1bmN0aW9uKG4sdCl7bGUobi5jb29yZGluYXRlcyx0KX0sTXVsdGlQb2x5Z29u
OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4uY29vcmRpbmF0ZXMscj0tMSx1PWUu
bGVuZ3RoOysrcjx1OylsZShlW3JdLHQpfSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVu
Y3Rpb24obix0KXtmb3IodmFyIGU9bi5nZW9tZXRyaWVzLHI9LTEsdT1lLmxlbmd0
aDsrK3I8dTspYWUoZVtyXSx0KX19O1ZvLmdlby5hcmVhPWZ1bmN0aW9uKG4pe3Jl
dHVybiBzYz0wLFZvLmdlby5zdHJlYW0obixoYyksc2N9O3ZhciBzYyxmYz1uZXcg
aWUsaGM9e3NwaGVyZTpmdW5jdGlvbigpe3NjKz00KndhfSxwb2ludDp2LGxpbmVT
dGFydDp2LGxpbmVFbmQ6dixwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtmYy5yZXNl
dCgpLGhjLmxpbmVTdGFydD1zZX0scG9seWdvbkVuZDpmdW5jdGlvbigpe3ZhciBu
PTIqZmM7c2MrPTA+bj80KndhK246bixoYy5saW5lU3RhcnQ9aGMubGluZUVuZD1o
Yy5wb2ludD12fX07Vm8uZ2VvLmJvdW5kcz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4o
bix0KXt4LnB1c2goTT1bcz1uLGg9bl0pLGY+dCYmKGY9dCksdD5nJiYoZz10KX1m
dW5jdGlvbiB0KHQsZSl7dmFyIHI9ZmUoW3QqQ2EsZSpDYV0pO2lmKG0pe3ZhciB1
PWdlKG0sciksaT1bdVsxXSwtdVswXSwwXSxvPWdlKGksdSk7ZGUobyksbz1tZShv
KTt2YXIgYz10LXAsbD1jPjA/MTotMSx2PW9bMF0qTmEqbCxkPWlhKGMpPjE4MDtp
ZihkXih2PmwqcCYmbCp0PnYpKXt2YXIgeT1vWzFdKk5hO3k+ZyYmKGc9eSl9ZWxz
ZSBpZih2PSh2KzM2MCklMzYwLTE4MCxkXih2PmwqcCYmbCp0PnYpKXt2YXIgeT0t
b1sxXSpOYTtmPnkmJihmPXkpfWVsc2UgZj5lJiYoZj1lKSxlPmcmJihnPWUpO2Q/
cD50P2Eocyx0KT5hKHMsaCkmJihoPXQpOmEodCxoKT5hKHMsaCkmJihzPXQpOmg+
PXM/KHM+dCYmKHM9dCksdD5oJiYoaD10KSk6dD5wP2Eocyx0KT5hKHMsaCkmJiho
PXQpOmEodCxoKT5hKHMsaCkmJihzPXQpfWVsc2Ugbih0LGUpO209cixwPXR9ZnVu
Y3Rpb24gZSgpe18ucG9pbnQ9dH1mdW5jdGlvbiByKCl7TVswXT1zLE1bMV09aCxf
LnBvaW50PW4sbT1udWxsfWZ1bmN0aW9uIHUobixlKXtpZihtKXt2YXIgcj1uLXA7
eSs9aWEocik+MTgwP3IrKHI+MD8zNjA6LTM2MCk6cn1lbHNlIHY9bixkPWU7aGMu
cG9pbnQobixlKSx0KG4sZSl9ZnVuY3Rpb24gaSgpe2hjLmxpbmVTdGFydCgpfWZ1
bmN0aW9uIG8oKXt1KHYsZCksaGMubGluZUVuZCgpLGlhKHkpPkVhJiYocz0tKGg9
MTgwKSksTVswXT1zLE1bMV09aCxtPW51bGx9ZnVuY3Rpb24gYShuLHQpe3JldHVy
bih0LT1uKTwwP3QrMzYwOnR9ZnVuY3Rpb24gYyhuLHQpe3JldHVybiBuWzBdLXRb
MF19ZnVuY3Rpb24gbChuLHQpe3JldHVybiB0WzBdPD10WzFdP3RbMF08PW4mJm48
PXRbMV06bjx0WzBdfHx0WzFdPG59dmFyIHMsZixoLGcscCx2LGQsbSx5LHgsTSxf
PXtwb2ludDpuLGxpbmVTdGFydDplLGxpbmVFbmQ6cixwb2x5Z29uU3RhcnQ6ZnVu
Y3Rpb24oKXtfLnBvaW50PXUsXy5saW5lU3RhcnQ9aSxfLmxpbmVFbmQ9byx5PTAs
aGMucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtoYy5wb2x5
Z29uRW5kKCksXy5wb2ludD1uLF8ubGluZVN0YXJ0PWUsXy5saW5lRW5kPXIsMD5m
Yz8ocz0tKGg9MTgwKSxmPS0oZz05MCkpOnk+RWE/Zz05MDotRWE+eSYmKGY9LTkw
KSxNWzBdPXMsTVsxXT1ofX07cmV0dXJuIGZ1bmN0aW9uKG4pe2c9aD0tKHM9Zj0x
LzApLHg9W10sVm8uZ2VvLnN0cmVhbShuLF8pO3ZhciB0PXgubGVuZ3RoO2lmKHQp
e3guc29ydChjKTtmb3IodmFyIGUscj0xLHU9eFswXSxpPVt1XTt0PnI7KytyKWU9
eFtyXSxsKGVbMF0sdSl8fGwoZVsxXSx1KT8oYSh1WzBdLGVbMV0pPmEodVswXSx1
WzFdKSYmKHVbMV09ZVsxXSksYShlWzBdLHVbMV0pPmEodVswXSx1WzFdKSYmKHVb
MF09ZVswXSkpOmkucHVzaCh1PWUpO2Zvcih2YXIgbyxlLHA9LTEvMCx0PWkubGVu
Z3RoLTEscj0wLHU9aVt0XTt0Pj1yO3U9ZSwrK3IpZT1pW3JdLChvPWEodVsxXSxl
WzBdKSk+cCYmKHA9byxzPWVbMF0saD11WzFdKQp9cmV0dXJuIHg9TT1udWxsLDEv
MD09PXN8fDEvMD09PWY/W1swLzAsMC8wXSxbMC8wLDAvMF1dOltbcyxmXSxbaCxn
XV19fSgpLFZvLmdlby5jZW50cm9pZD1mdW5jdGlvbihuKXtnYz1wYz12Yz1kYz1t
Yz15Yz14Yz1NYz1fYz1iYz13Yz0wLFZvLmdlby5zdHJlYW0obixTYyk7dmFyIHQ9
X2MsZT1iYyxyPXdjLHU9dCp0K2UqZStyKnI7cmV0dXJuIEFhPnUmJih0PXljLGU9
eGMscj1NYyxFYT5wYyYmKHQ9dmMsZT1kYyxyPW1jKSx1PXQqdCtlKmUrcipyLEFh
PnUpP1swLzAsMC8wXTpbTWF0aC5hdGFuMihlLHQpKk5hLEcoci9NYXRoLnNxcnQo
dSkpKk5hXX07dmFyIGdjLHBjLHZjLGRjLG1jLHljLHhjLE1jLF9jLGJjLHdjLFNj
PXtzcGhlcmU6dixwb2ludDp4ZSxsaW5lU3RhcnQ6X2UsbGluZUVuZDpiZSxwb2x5
Z29uU3RhcnQ6ZnVuY3Rpb24oKXtTYy5saW5lU3RhcnQ9d2V9LHBvbHlnb25FbmQ6
ZnVuY3Rpb24oKXtTYy5saW5lU3RhcnQ9X2V9fSxrYz1DZShTZSxUZSxSZSxbLXdh
LC13YS8yXSksRWM9MWU5O1ZvLmdlby5jbGlwRXh0ZW50PWZ1bmN0aW9uKCl7dmFy
IG4sdCxlLHIsdSxpLG89e3N0cmVhbTpmdW5jdGlvbihuKXtyZXR1cm4gdSYmKHUu
dmFsaWQ9ITEpLHU9aShuKSx1LnZhbGlkPSEwLHV9LGV4dGVudDpmdW5jdGlvbihh
KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1qZShuPSthWzBdWzBdLHQ9K2Fb
MF1bMV0sZT0rYVsxXVswXSxyPSthWzFdWzFdKSx1JiYodS52YWxpZD0hMSx1PW51
bGwpLG8pOltbbix0XSxbZSxyXV19fTtyZXR1cm4gby5leHRlbnQoW1swLDBdLFs5
NjAsNTAwXV0pfSwoVm8uZ2VvLmNvbmljRXF1YWxBcmVhPWZ1bmN0aW9uKCl7cmV0
dXJuIEZlKE9lKX0pLnJhdz1PZSxWby5nZW8uYWxiZXJzPWZ1bmN0aW9uKCl7cmV0
dXJuIFZvLmdlby5jb25pY0VxdWFsQXJlYSgpLnJvdGF0ZShbOTYsMF0pLmNlbnRl
cihbLS42LDM4LjddKS5wYXJhbGxlbHMoWzI5LjUsNDUuNV0pLnNjYWxlKDEwNzAp
fSxWby5nZW8uYWxiZXJzVXNhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXt2YXIg
aT1uWzBdLG89blsxXTtyZXR1cm4gdD1udWxsLGUoaSxvKSx0fHwocihpLG8pLHQp
fHx1KGksbyksdH12YXIgdCxlLHIsdSxpPVZvLmdlby5hbGJlcnMoKSxvPVZvLmdl
by5jb25pY0VxdWFsQXJlYSgpLnJvdGF0ZShbMTU0LDBdKS5jZW50ZXIoWy0yLDU4
LjVdKS5wYXJhbGxlbHMoWzU1LDY1XSksYT1Wby5nZW8uY29uaWNFcXVhbEFyZWEo
KS5yb3RhdGUoWzE1NywwXSkuY2VudGVyKFstMywxOS45XSkucGFyYWxsZWxzKFs4
LDE4XSksYz17cG9pbnQ6ZnVuY3Rpb24obixlKXt0PVtuLGVdfX07cmV0dXJuIG4u
aW52ZXJ0PWZ1bmN0aW9uKG4pe3ZhciB0PWkuc2NhbGUoKSxlPWkudHJhbnNsYXRl
KCkscj0oblswXS1lWzBdKS90LHU9KG5bMV0tZVsxXSkvdDtyZXR1cm4odT49LjEy
JiYuMjM0PnUmJnI+PS0uNDI1JiYtLjIxND5yP286dT49LjE2NiYmLjIzND51JiZy
Pj0tLjIxNCYmLS4xMTU+cj9hOmkpLmludmVydChuKX0sbi5zdHJlYW09ZnVuY3Rp
b24obil7dmFyIHQ9aS5zdHJlYW0obiksZT1vLnN0cmVhbShuKSxyPWEuc3RyZWFt
KG4pO3JldHVybntwb2ludDpmdW5jdGlvbihuLHUpe3QucG9pbnQobix1KSxlLnBv
aW50KG4sdSksci5wb2ludChuLHUpfSxzcGhlcmU6ZnVuY3Rpb24oKXt0LnNwaGVy
ZSgpLGUuc3BoZXJlKCksci5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7
dC5saW5lU3RhcnQoKSxlLmxpbmVTdGFydCgpLHIubGluZVN0YXJ0KCl9LGxpbmVF
bmQ6ZnVuY3Rpb24oKXt0LmxpbmVFbmQoKSxlLmxpbmVFbmQoKSxyLmxpbmVFbmQo
KX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dC5wb2x5Z29uU3RhcnQoKSxlLnBv
bHlnb25TdGFydCgpLHIucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rp
b24oKXt0LnBvbHlnb25FbmQoKSxlLnBvbHlnb25FbmQoKSxyLnBvbHlnb25FbmQo
KX19fSxuLnByZWNpc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxl
bmd0aD8oaS5wcmVjaXNpb24odCksby5wcmVjaXNpb24odCksYS5wcmVjaXNpb24o
dCksbik6aS5wcmVjaXNpb24oKX0sbi5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4g
YXJndW1lbnRzLmxlbmd0aD8oaS5zY2FsZSh0KSxvLnNjYWxlKC4zNSp0KSxhLnNj
YWxlKHQpLG4udHJhbnNsYXRlKGkudHJhbnNsYXRlKCkpKTppLnNjYWxlKCl9LG4u
dHJhbnNsYXRlPWZ1bmN0aW9uKHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVy
biBpLnRyYW5zbGF0ZSgpO3ZhciBsPWkuc2NhbGUoKSxzPSt0WzBdLGY9K3RbMV07
cmV0dXJuIGU9aS50cmFuc2xhdGUodCkuY2xpcEV4dGVudChbW3MtLjQ1NSpsLGYt
LjIzOCpsXSxbcysuNDU1KmwsZisuMjM4KmxdXSkuc3RyZWFtKGMpLnBvaW50LHI9
by50cmFuc2xhdGUoW3MtLjMwNypsLGYrLjIwMSpsXSkuY2xpcEV4dGVudChbW3Mt
LjQyNSpsK0VhLGYrLjEyKmwrRWFdLFtzLS4yMTQqbC1FYSxmKy4yMzQqbC1FYV1d
KS5zdHJlYW0oYykucG9pbnQsdT1hLnRyYW5zbGF0ZShbcy0uMjA1KmwsZisuMjEy
KmxdKS5jbGlwRXh0ZW50KFtbcy0uMjE0KmwrRWEsZisuMTY2KmwrRWFdLFtzLS4x
MTUqbC1FYSxmKy4yMzQqbC1FYV1dKS5zdHJlYW0oYykucG9pbnQsbn0sbi5zY2Fs
ZSgxMDcwKX07dmFyIEFjLENjLE5jLHpjLExjLFRjLHFjPXtwb2ludDp2LGxpbmVT
dGFydDp2LGxpbmVFbmQ6dixwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtDYz0wLHFj
LmxpbmVTdGFydD1ZZX0scG9seWdvbkVuZDpmdW5jdGlvbigpe3FjLmxpbmVTdGFy
dD1xYy5saW5lRW5kPXFjLnBvaW50PXYsQWMrPWlhKENjLzIpfX0sUmM9e3BvaW50
OkllLGxpbmVTdGFydDp2LGxpbmVFbmQ6dixwb2x5Z29uU3RhcnQ6dixwb2x5Z29u
RW5kOnZ9LERjPXtwb2ludDpYZSxsaW5lU3RhcnQ6JGUsbGluZUVuZDpCZSxwb2x5
Z29uU3RhcnQ6ZnVuY3Rpb24oKXtEYy5saW5lU3RhcnQ9V2V9LHBvbHlnb25FbmQ6
ZnVuY3Rpb24oKXtEYy5wb2ludD1YZSxEYy5saW5lU3RhcnQ9JGUsRGMubGluZUVu
ZD1CZX19O1ZvLmdlby5wYXRoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1
cm4gbiYmKCJmdW5jdGlvbiI9PXR5cGVvZiBhJiZpLnBvaW50UmFkaXVzKCthLmFw
cGx5KHRoaXMsYXJndW1lbnRzKSksbyYmby52YWxpZHx8KG89dShpKSksVm8uZ2Vv
LnN0cmVhbShuLG8pKSxpLnJlc3VsdCgpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gbz1u
dWxsLG59dmFyIGUscix1LGksbyxhPTQuNTtyZXR1cm4gbi5hcmVhPWZ1bmN0aW9u
KG4pe3JldHVybiBBYz0wLFZvLmdlby5zdHJlYW0obix1KHFjKSksQWN9LG4uY2Vu
dHJvaWQ9ZnVuY3Rpb24obil7cmV0dXJuIHZjPWRjPW1jPXljPXhjPU1jPV9jPWJj
PXdjPTAsVm8uZ2VvLnN0cmVhbShuLHUoRGMpKSx3Yz9bX2Mvd2MsYmMvd2NdOk1j
P1t5Yy9NYyx4Yy9NY106bWM/W3ZjL21jLGRjL21jXTpbMC8wLDAvMF19LG4uYm91
bmRzPWZ1bmN0aW9uKG4pe3JldHVybiBMYz1UYz0tKE5jPXpjPTEvMCksVm8uZ2Vv
LnN0cmVhbShuLHUoUmMpKSxbW05jLHpjXSxbTGMsVGNdXX0sbi5wcm9qZWN0aW9u
PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PShlPW4pP24u
c3RyZWFtfHxLZShuKTp3dCx0KCkpOmV9LG4uY29udGV4dD1mdW5jdGlvbihuKXty
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1udWxsPT0ocj1uKT9uZXcgWmU6bmV3
IEplKG4pLCJmdW5jdGlvbiIhPXR5cGVvZiBhJiZpLnBvaW50UmFkaXVzKGEpLHQo
KSk6cn0sbi5wb2ludFJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRz
Lmxlbmd0aD8oYT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OihpLnBvaW50UmFkaXVz
KCt0KSwrdCksbik6YX0sbi5wcm9qZWN0aW9uKFZvLmdlby5hbGJlcnNVc2EoKSku
Y29udGV4dChudWxsKX0sVm8uZ2VvLnRyYW5zZm9ybT1mdW5jdGlvbihuKXtyZXR1
cm57c3RyZWFtOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBRZSh0KTtmb3IodmFyIHIg
aW4gbillW3JdPW5bcl07cmV0dXJuIGV9fX0sUWUucHJvdG90eXBlPXtwb2ludDpm
dW5jdGlvbihuLHQpe3RoaXMuc3RyZWFtLnBvaW50KG4sdCl9LHNwaGVyZTpmdW5j
dGlvbigpe3RoaXMuc3RyZWFtLnNwaGVyZSgpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24o
KXt0aGlzLnN0cmVhbS5saW5lU3RhcnQoKX0sbGluZUVuZDpmdW5jdGlvbigpe3Ro
aXMuc3RyZWFtLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dGhp
cy5zdHJlYW0ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0
aGlzLnN0cmVhbS5wb2x5Z29uRW5kKCl9fSxWby5nZW8ucHJvamVjdGlvbj10cixW
by5nZW8ucHJvamVjdGlvbk11dGF0b3I9ZXIsKFZvLmdlby5lcXVpcmVjdGFuZ3Vs
YXI9ZnVuY3Rpb24oKXtyZXR1cm4gdHIodXIpfSkucmF3PXVyLmludmVydD11cixW
by5nZW8ucm90YXRpb249ZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXtyZXR1cm4g
dD1uKHRbMF0qQ2EsdFsxXSpDYSksdFswXSo9TmEsdFsxXSo9TmEsdH1yZXR1cm4g
bj1vcihuWzBdJTM2MCpDYSxuWzFdKkNhLG4ubGVuZ3RoPjI/blsyXSpDYTowKSx0
LmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdD1uLmludmVydCh0WzBdKkNhLHRb
MV0qQ2EpLHRbMF0qPU5hLHRbMV0qPU5hLHR9LHR9LGlyLmludmVydD11cixWby5n
ZW8uY2lyY2xlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuPSJmdW5jdGlv
biI9PXR5cGVvZiByP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnIsdD1vcigtblsw
XSpDYSwtblsxXSpDYSwwKS5pbnZlcnQsdT1bXTtyZXR1cm4gZShudWxsLG51bGws
MSx7cG9pbnQ6ZnVuY3Rpb24obixlKXt1LnB1c2gobj10KG4sZSkpLG5bMF0qPU5h
LG5bMV0qPU5hfX0pLHt0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczpbdV19fXZh
ciB0LGUscj1bMCwwXSx1PTY7cmV0dXJuIG4ub3JpZ2luPWZ1bmN0aW9uKHQpe3Jl
dHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6cn0sbi5hbmdsZT1mdW5jdGlv
bihyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1zcigodD0rcikqQ2EsdSpD
YSksbik6dH0sbi5wcmVjaXNpb249ZnVuY3Rpb24ocil7cmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGg/KGU9c3IodCpDYSwodT0rcikqQ2EpLG4pOnV9LG4uYW5nbGUoOTAp
fSxWby5nZW8uZGlzdGFuY2U9ZnVuY3Rpb24obix0KXt2YXIgZSxyPSh0WzBdLW5b
MF0pKkNhLHU9blsxXSpDYSxpPXRbMV0qQ2Esbz1NYXRoLnNpbihyKSxhPU1hdGgu
Y29zKHIpLGM9TWF0aC5zaW4odSksbD1NYXRoLmNvcyh1KSxzPU1hdGguc2luKGkp
LGY9TWF0aC5jb3MoaSk7cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zcXJ0KChlPWYq
bykqZSsoZT1sKnMtYypmKmEpKmUpLGMqcytsKmYqYSl9LFZvLmdlby5ncmF0aWN1
bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7cmV0dXJue3R5cGU6Ik11bHRpTGlu
ZVN0cmluZyIsY29vcmRpbmF0ZXM6dCgpfX1mdW5jdGlvbiB0KCl7cmV0dXJuIFZv
LnJhbmdlKE1hdGguY2VpbChpL2QpKmQsdSxkKS5tYXAoaCkuY29uY2F0KFZvLnJh
bmdlKE1hdGguY2VpbChsL20pKm0sYyxtKS5tYXAoZykpLmNvbmNhdChWby5yYW5n
ZShNYXRoLmNlaWwoci9wKSpwLGUscCkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVy
biBpYShuJWQpPkVhfSkubWFwKHMpKS5jb25jYXQoVm8ucmFuZ2UoTWF0aC5jZWls
KGEvdikqdixvLHYpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gaWEobiVtKT5F
YX0pLm1hcChmKSl9dmFyIGUscix1LGksbyxhLGMsbCxzLGYsaCxnLHA9MTAsdj1w
LGQ9OTAsbT0zNjAseT0yLjU7cmV0dXJuIG4ubGluZXM9ZnVuY3Rpb24oKXtyZXR1
cm4gdCgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm57dHlwZToiTGluZVN0cmluZyIs
Y29vcmRpbmF0ZXM6bn19KX0sbi5vdXRsaW5lPWZ1bmN0aW9uKCl7cmV0dXJue3R5
cGU6IlBvbHlnb24iLGNvb3JkaW5hdGVzOltoKGkpLmNvbmNhdChnKGMpLnNsaWNl
KDEpLGgodSkucmV2ZXJzZSgpLnNsaWNlKDEpLGcobCkucmV2ZXJzZSgpLnNsaWNl
KDEpKV19fSxuLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxl
bmd0aD9uLm1ham9yRXh0ZW50KHQpLm1pbm9yRXh0ZW50KHQpOm4ubWlub3JFeHRl
bnQoKX0sbi5tYWpvckV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRz
Lmxlbmd0aD8oaT0rdFswXVswXSx1PSt0WzFdWzBdLGw9K3RbMF1bMV0sYz0rdFsx
XVsxXSxpPnUmJih0PWksaT11LHU9dCksbD5jJiYodD1sLGw9YyxjPXQpLG4ucHJl
Y2lzaW9uKHkpKTpbW2ksbF0sW3UsY11dfSxuLm1pbm9yRXh0ZW50PWZ1bmN0aW9u
KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSt0WzBdWzBdLGU9K3RbMV1b
MF0sYT0rdFswXVsxXSxvPSt0WzFdWzFdLHI+ZSYmKHQ9cixyPWUsZT10KSxhPm8m
Jih0PWEsYT1vLG89dCksbi5wcmVjaXNpb24oeSkpOltbcixhXSxbZSxvXV19LG4u
c3RlcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uLm1ham9y
U3RlcCh0KS5taW5vclN0ZXAodCk6bi5taW5vclN0ZXAoKX0sbi5tYWpvclN0ZXA9
ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9K3RbMF0sbT0r
dFsxXSxuKTpbZCxtXX0sbi5taW5vclN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFy
Z3VtZW50cy5sZW5ndGg/KHA9K3RbMF0sdj0rdFsxXSxuKTpbcCx2XX0sbi5wcmVj
aXNpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9K3Qs
cz1ocihhLG8sOTApLGY9Z3IocixlLHkpLGg9aHIobCxjLDkwKSxnPWdyKGksdSx5
KSxuKTp5fSxuLm1ham9yRXh0ZW50KFtbLTE4MCwtOTArRWFdLFsxODAsOTAtRWFd
XSkubWlub3JFeHRlbnQoW1stMTgwLC04MC1FYV0sWzE4MCw4MCtFYV1dKX0sVm8u
Z2VvLmdyZWF0QXJjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybnt0eXBl
OiJMaW5lU3RyaW5nIixjb29yZGluYXRlczpbdHx8ci5hcHBseSh0aGlzLGFyZ3Vt
ZW50cyksZXx8dS5hcHBseSh0aGlzLGFyZ3VtZW50cyldfX12YXIgdCxlLHI9cHIs
dT12cjtyZXR1cm4gbi5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBWby5nZW8u
ZGlzdGFuY2UodHx8ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZXx8dS5hcHBseSh0
aGlzLGFyZ3VtZW50cykpfSxuLnNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aD8ocj1lLHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGU/bnVsbDpl
LG4pOnJ9LG4udGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyh1PXQsZT0iZnVuY3Rpb24iPT10eXBlb2YgdD9udWxsOnQsbik6dX0sbi5w
cmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uOjB9
LG59LFZvLmdlby5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuLHQpe3JldHVybiBkcihu
WzBdKkNhLG5bMV0qQ2EsdFswXSpDYSx0WzFdKkNhKX0sVm8uZ2VvLmxlbmd0aD1m
dW5jdGlvbihuKXtyZXR1cm4gUGM9MCxWby5nZW8uc3RyZWFtKG4sVWMpLFBjfTt2
YXIgUGMsVWM9e3NwaGVyZTp2LHBvaW50OnYsbGluZVN0YXJ0Om1yLGxpbmVFbmQ6
dixwb2x5Z29uU3RhcnQ6dixwb2x5Z29uRW5kOnZ9LGpjPXlyKGZ1bmN0aW9uKG4p
e3JldHVybiBNYXRoLnNxcnQoMi8oMStuKSl9LGZ1bmN0aW9uKG4pe3JldHVybiAy
Kk1hdGguYXNpbihuLzIpfSk7KFZvLmdlby5hemltdXRoYWxFcXVhbEFyZWE9ZnVu
Y3Rpb24oKXtyZXR1cm4gdHIoamMpfSkucmF3PWpjO3ZhciBIYz15cihmdW5jdGlv
bihuKXt2YXIgdD1NYXRoLmFjb3Mobik7cmV0dXJuIHQmJnQvTWF0aC5zaW4odCl9
LHd0KTsoVm8uZ2VvLmF6aW11dGhhbEVxdWlkaXN0YW50PWZ1bmN0aW9uKCl7cmV0
dXJuIHRyKEhjKX0pLnJhdz1IYywoVm8uZ2VvLmNvbmljQ29uZm9ybWFsPWZ1bmN0
aW9uKCl7cmV0dXJuIEZlKHhyKX0pLnJhdz14ciwoVm8uZ2VvLmNvbmljRXF1aWRp
c3RhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gRmUoTXIpfSkucmF3PU1yO3ZhciBGYz15
cihmdW5jdGlvbihuKXtyZXR1cm4gMS9ufSxNYXRoLmF0YW4pOyhWby5nZW8uZ25v
bW9uaWM9ZnVuY3Rpb24oKXtyZXR1cm4gdHIoRmMpfSkucmF3PUZjLF9yLmludmVy
dD1mdW5jdGlvbihuLHQpe3JldHVybltuLDIqTWF0aC5hdGFuKE1hdGguZXhwKHQp
KS1rYV19LChWby5nZW8ubWVyY2F0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gYnIoX3Ip
fSkucmF3PV9yO3ZhciBPYz15cihmdW5jdGlvbigpe3JldHVybiAxfSxNYXRoLmFz
aW4pOyhWby5nZW8ub3J0aG9ncmFwaGljPWZ1bmN0aW9uKCl7cmV0dXJuIHRyKE9j
KX0pLnJhdz1PYzt2YXIgWWM9eXIoZnVuY3Rpb24obil7cmV0dXJuIDEvKDErbil9
LGZ1bmN0aW9uKG4pe3JldHVybiAyKk1hdGguYXRhbihuKX0pOyhWby5nZW8uc3Rl
cmVvZ3JhcGhpYz1mdW5jdGlvbigpe3JldHVybiB0cihZYyl9KS5yYXc9WWMsd3Iu
aW52ZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuWy10LDIqTWF0aC5hdGFuKE1hdGgu
ZXhwKG4pKS1rYV19LChWby5nZW8udHJhbnN2ZXJzZU1lcmNhdG9yPWZ1bmN0aW9u
KCl7dmFyIG49YnIod3IpLHQ9bi5jZW50ZXIsZT1uLnJvdGF0ZTtyZXR1cm4gbi5j
ZW50ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG4/dChbLW5bMV0sblswXV0pOihuPXQo
KSxbblsxXSwtblswXV0pfSxuLnJvdGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gbj9l
KFtuWzBdLG5bMV0sbi5sZW5ndGg+Mj9uWzJdKzkwOjkwXSk6KG49ZSgpLFtuWzBd
LG5bMV0sblsyXS05MF0pfSxlKFswLDAsOTBdKX0pLnJhdz13cixWby5nZW9tPXt9
LFZvLmdlb20uaHVsbD1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KG4pe2lmKG4ubGVu
Z3RoPDMpcmV0dXJuW107dmFyIHQsdT1idChlKSxpPWJ0KHIpLG89bi5sZW5ndGgs
YT1bXSxjPVtdO2Zvcih0PTA7bz50O3QrKylhLnB1c2goWyt1LmNhbGwodGhpcyxu
W3RdLHQpLCtpLmNhbGwodGhpcyxuW3RdLHQpLHRdKTtmb3IoYS5zb3J0KEFyKSx0
PTA7bz50O3QrKyljLnB1c2goW2FbdF1bMF0sLWFbdF1bMV1dKTt2YXIgbD1Fcihh
KSxzPUVyKGMpLGY9c1swXT09PWxbMF0saD1zW3MubGVuZ3RoLTFdPT09bFtsLmxl
bmd0aC0xXSxnPVtdO2Zvcih0PWwubGVuZ3RoLTE7dD49MDstLXQpZy5wdXNoKG5b
YVtsW3RdXVsyXV0pO2Zvcih0PStmO3Q8cy5sZW5ndGgtaDsrK3QpZy5wdXNoKG5b
YVtzW3RdXVsyXV0pO3JldHVybiBnfXZhciBlPVNyLHI9a3I7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/dChuKToodC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVu
dHMubGVuZ3RoPyhlPW4sdCk6ZX0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1
bWVudHMubGVuZ3RoPyhyPW4sdCk6cn0sdCl9LFZvLmdlb20ucG9seWdvbj1mdW5j
dGlvbihuKXtyZXR1cm4gc2EobixJYyksbn07dmFyIEljPVZvLmdlb20ucG9seWdv
bi5wcm90b3R5cGU9W107SWMuYXJlYT1mdW5jdGlvbigpe2Zvcih2YXIgbix0PS0x
LGU9dGhpcy5sZW5ndGgscj10aGlzW2UtMV0sdT0wOysrdDxlOyluPXIscj10aGlz
W3RdLHUrPW5bMV0qclswXS1uWzBdKnJbMV07cmV0dXJuLjUqdX0sSWMuY2VudHJv
aWQ9ZnVuY3Rpb24obil7dmFyIHQsZSxyPS0xLHU9dGhpcy5sZW5ndGgsaT0wLG89
MCxhPXRoaXNbdS0xXTtmb3IoYXJndW1lbnRzLmxlbmd0aHx8KG49LTEvKDYqdGhp
cy5hcmVhKCkpKTsrK3I8dTspdD1hLGE9dGhpc1tyXSxlPXRbMF0qYVsxXS1hWzBd
KnRbMV0saSs9KHRbMF0rYVswXSkqZSxvKz0odFsxXSthWzFdKSplO3JldHVybltp
Km4sbypuXX0sSWMuY2xpcD1mdW5jdGlvbihuKXtmb3IodmFyIHQsZSxyLHUsaSxv
LGE9enIobiksYz0tMSxsPXRoaXMubGVuZ3RoLXpyKHRoaXMpLHM9dGhpc1tsLTFd
OysrYzxsOyl7Zm9yKHQ9bi5zbGljZSgpLG4ubGVuZ3RoPTAsdT10aGlzW2NdLGk9
dFsocj10Lmxlbmd0aC1hKS0xXSxlPS0xOysrZTxyOylvPXRbZV0sQ3IobyxzLHUp
PyhDcihpLHMsdSl8fG4ucHVzaChOcihpLG8scyx1KSksbi5wdXNoKG8pKTpDcihp
LHMsdSkmJm4ucHVzaChOcihpLG8scyx1KSksaT1vO2EmJm4ucHVzaChuWzBdKSxz
PXV9cmV0dXJuIG59O3ZhciBaYyxWYyxYYywkYyxCYyxXYz1bXSxKYz1bXTtqci5w
cm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe2Zvcih2YXIgbix0PXRoaXMuZWRn
ZXMsZT10Lmxlbmd0aDtlLS07KW49dFtlXS5lZGdlLG4uYiYmbi5hfHx0LnNwbGlj
ZShlLDEpO3JldHVybiB0LnNvcnQoRnIpLHQubGVuZ3RofSxKci5wcm90b3R5cGU9
e3N0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZS5sPT09dGhpcy5zaXRl
P3RoaXMuZWRnZS5hOnRoaXMuZWRnZS5ifSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4g
dGhpcy5lZGdlLmw9PT10aGlzLnNpdGU/dGhpcy5lZGdlLmI6dGhpcy5lZGdlLmF9
fSxHci5wcm90b3R5cGU9e2luc2VydDpmdW5jdGlvbihuLHQpe3ZhciBlLHIsdTtp
ZihuKXtpZih0LlA9bix0Lk49bi5OLG4uTiYmKG4uTi5QPXQpLG4uTj10LG4uUil7
Zm9yKG49bi5SO24uTDspbj1uLkw7bi5MPXR9ZWxzZSBuLlI9dDtlPW59ZWxzZSB0
aGlzLl8/KG49dHUodGhpcy5fKSx0LlA9bnVsbCx0Lk49bixuLlA9bi5MPXQsZT1u
KToodC5QPXQuTj1udWxsLHRoaXMuXz10LGU9bnVsbCk7Zm9yKHQuTD10LlI9bnVs
bCx0LlU9ZSx0LkM9ITAsbj10O2UmJmUuQzspcj1lLlUsZT09PXIuTD8odT1yLlIs
dSYmdS5DPyhlLkM9dS5DPSExLHIuQz0hMCxuPXIpOihuPT09ZS5SJiYoUXIodGhp
cyxlKSxuPWUsZT1uLlUpLGUuQz0hMSxyLkM9ITAsbnUodGhpcyxyKSkpOih1PXIu
TCx1JiZ1LkM/KGUuQz11LkM9ITEsci5DPSEwLG49cik6KG49PT1lLkwmJihudSh0
aGlzLGUpLG49ZSxlPW4uVSksZS5DPSExLHIuQz0hMCxRcih0aGlzLHIpKSksZT1u
LlU7dGhpcy5fLkM9ITF9LHJlbW92ZTpmdW5jdGlvbihuKXtuLk4mJihuLk4uUD1u
LlApLG4uUCYmKG4uUC5OPW4uTiksbi5OPW4uUD1udWxsO3ZhciB0LGUscix1PW4u
VSxpPW4uTCxvPW4uUjtpZihlPWk/bz90dShvKTppOm8sdT91Lkw9PT1uP3UuTD1l
OnUuUj1lOnRoaXMuXz1lLGkmJm8/KHI9ZS5DLGUuQz1uLkMsZS5MPWksaS5VPWUs
ZSE9PW8/KHU9ZS5VLGUuVT1uLlUsbj1lLlIsdS5MPW4sZS5SPW8sby5VPWUpOihl
LlU9dSx1PWUsbj1lLlIpKToocj1uLkMsbj1lKSxuJiYobi5VPXUpLCFyKXtpZihu
JiZuLkMpcmV0dXJuIG4uQz0hMSx2b2lkIDA7ZG97aWYobj09PXRoaXMuXylicmVh
aztpZihuPT09dS5MKXtpZih0PXUuUix0LkMmJih0LkM9ITEsdS5DPSEwLFFyKHRo
aXMsdSksdD11LlIpLHQuTCYmdC5MLkN8fHQuUiYmdC5SLkMpe3QuUiYmdC5SLkN8
fCh0LkwuQz0hMSx0LkM9ITAsbnUodGhpcyx0KSx0PXUuUiksdC5DPXUuQyx1LkM9
dC5SLkM9ITEsUXIodGhpcyx1KSxuPXRoaXMuXzticmVha319ZWxzZSBpZih0PXUu
TCx0LkMmJih0LkM9ITEsdS5DPSEwLG51KHRoaXMsdSksdD11LkwpLHQuTCYmdC5M
LkN8fHQuUiYmdC5SLkMpe3QuTCYmdC5MLkN8fCh0LlIuQz0hMSx0LkM9ITAsUXIo
dGhpcyx0KSx0PXUuTCksdC5DPXUuQyx1LkM9dC5MLkM9ITEsbnUodGhpcyx1KSxu
PXRoaXMuXzticmVha310LkM9ITAsbj11LHU9dS5VfXdoaWxlKCFuLkMpO24mJihu
LkM9ITEpfX19LFZvLmdlb20udm9yb25vaT1mdW5jdGlvbihuKXtmdW5jdGlvbiB0
KG4pe3ZhciB0PW5ldyBBcnJheShuLmxlbmd0aCkscj1hWzBdWzBdLHU9YVswXVsx
XSxpPWFbMV1bMF0sbz1hWzFdWzFdO3JldHVybiBldShlKG4pLGEpLmNlbGxzLmZv
ckVhY2goZnVuY3Rpb24oZSxhKXt2YXIgYz1lLmVkZ2VzLGw9ZS5zaXRlLHM9dFth
XT1jLmxlbmd0aD9jLm1hcChmdW5jdGlvbihuKXt2YXIgdD1uLnN0YXJ0KCk7cmV0
dXJuW3QueCx0LnldfSk6bC54Pj1yJiZsLng8PWkmJmwueT49dSYmbC55PD1vP1tb
cixvXSxbaSxvXSxbaSx1XSxbcix1XV06W107cy5wb2ludD1uW2FdfSksdH1mdW5j
dGlvbiBlKG4pe3JldHVybiBuLm1hcChmdW5jdGlvbihuLHQpe3JldHVybnt4Ok1h
dGgucm91bmQoaShuLHQpL0VhKSpFYSx5Ok1hdGgucm91bmQobyhuLHQpL0VhKSpF
YSxpOnR9fSl9dmFyIHI9U3IsdT1rcixpPXIsbz11LGE9R2M7cmV0dXJuIG4/dChu
KToodC5saW5rcz1mdW5jdGlvbihuKXtyZXR1cm4gZXUoZShuKSkuZWRnZXMuZmls
dGVyKGZ1bmN0aW9uKG4pe3JldHVybiBuLmwmJm4ucn0pLm1hcChmdW5jdGlvbih0
KXtyZXR1cm57c291cmNlOm5bdC5sLmldLHRhcmdldDpuW3Quci5pXX19KX0sdC50
cmlhbmdsZXM9ZnVuY3Rpb24obil7dmFyIHQ9W107cmV0dXJuIGV1KGUobikpLmNl
bGxzLmZvckVhY2goZnVuY3Rpb24oZSxyKXtmb3IodmFyIHUsaSxvPWUuc2l0ZSxh
PWUuZWRnZXMuc29ydChGciksYz0tMSxsPWEubGVuZ3RoLHM9YVtsLTFdLmVkZ2Us
Zj1zLmw9PT1vP3MucjpzLmw7KytjPGw7KXU9cyxpPWYscz1hW2NdLmVkZ2UsZj1z
Lmw9PT1vP3MucjpzLmwscjxpLmkmJnI8Zi5pJiZ1dShvLGksZik8MCYmdC5wdXNo
KFtuW3JdLG5baS5pXSxuW2YuaV1dKX0pLHR9LHQueD1mdW5jdGlvbihuKXtyZXR1
cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1idChyPW4pLHQpOnJ9LHQueT1mdW5jdGlv
bihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1idCh1PW4pLHQpOnV9LHQu
Y2xpcEV4dGVudD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8o
YT1udWxsPT1uP0djOm4sdCk6YT09PUdjP251bGw6YX0sdC5zaXplPWZ1bmN0aW9u
KG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3QuY2xpcEV4dGVudChuJiZbWzAs
MF0sbl0pOmE9PT1HYz9udWxsOmEmJmFbMV19LHQpfTt2YXIgR2M9W1stMWU2LC0x
ZTZdLFsxZTYsMWU2XV07Vm8uZ2VvbS5kZWxhdW5heT1mdW5jdGlvbihuKXtyZXR1
cm4gVm8uZ2VvbS52b3Jvbm9pKCkudHJpYW5nbGVzKG4pfSxWby5nZW9tLnF1YWR0
cmVlPWZ1bmN0aW9uKG4sdCxlLHIsdSl7ZnVuY3Rpb24gaShuKXtmdW5jdGlvbiBp
KG4sdCxlLHIsdSxpLG8sYSl7aWYoIWlzTmFOKGUpJiYhaXNOYU4ocikpaWYobi5s
ZWFmKXt2YXIgYz1uLngscz1uLnk7aWYobnVsbCE9YylpZihpYShjLWUpK2lhKHMt
cik8LjAxKWwobix0LGUscix1LGksbyxhKTtlbHNle3ZhciBmPW4ucG9pbnQ7bi54
PW4ueT1uLnBvaW50PW51bGwsbChuLGYsYyxzLHUsaSxvLGEpLGwobix0LGUscix1
LGksbyxhKX1lbHNlIG4ueD1lLG4ueT1yLG4ucG9pbnQ9dH1lbHNlIGwobix0LGUs
cix1LGksbyxhKX1mdW5jdGlvbiBsKG4sdCxlLHIsdSxvLGEsYyl7dmFyIGw9LjUq
KHUrYSkscz0uNSoobytjKSxmPWU+PWwsaD1yPj1zLGc9KGg8PDEpK2Y7bi5sZWFm
PSExLG49bi5ub2Rlc1tnXXx8KG4ubm9kZXNbZ109YXUoKSksZj91PWw6YT1sLGg/
bz1zOmM9cyxpKG4sdCxlLHIsdSxvLGEsYyl9dmFyIHMsZixoLGcscCx2LGQsbSx5
LHg9YnQoYSksTT1idChjKTtpZihudWxsIT10KXY9dCxkPWUsbT1yLHk9dTtlbHNl
IGlmKG09eT0tKHY9ZD0xLzApLGY9W10saD1bXSxwPW4ubGVuZ3RoLG8pZm9yKGc9
MDtwPmc7KytnKXM9bltnXSxzLng8diYmKHY9cy54KSxzLnk8ZCYmKGQ9cy55KSxz
Lng+bSYmKG09cy54KSxzLnk+eSYmKHk9cy55KSxmLnB1c2gocy54KSxoLnB1c2go
cy55KTtlbHNlIGZvcihnPTA7cD5nOysrZyl7dmFyIF89K3gocz1uW2ddLGcpLGI9
K00ocyxnKTt2Pl8mJih2PV8pLGQ+YiYmKGQ9YiksXz5tJiYobT1fKSxiPnkmJih5
PWIpLGYucHVzaChfKSxoLnB1c2goYil9dmFyIHc9bS12LFM9eS1kO3c+Uz95PWQr
dzptPXYrUzt2YXIgaz1hdSgpO2lmKGsuYWRkPWZ1bmN0aW9uKG4pe2koayxuLCt4
KG4sKytnKSwrTShuLGcpLHYsZCxtLHkpfSxrLnZpc2l0PWZ1bmN0aW9uKG4pe2N1
KG4sayx2LGQsbSx5KX0sZz0tMSxudWxsPT10KXtmb3IoOysrZzxwOylpKGssbltn
XSxmW2ddLGhbZ10sdixkLG0seSk7LS1nfWVsc2Ugbi5mb3JFYWNoKGsuYWRkKTty
ZXR1cm4gZj1oPW49cz1udWxsLGt9dmFyIG8sYT1TcixjPWtyO3JldHVybihvPWFy
Z3VtZW50cy5sZW5ndGgpPyhhPWl1LGM9b3UsMz09PW8mJih1PWUscj10LGU9dD0w
KSxpKG4pKTooaS54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3Ro
PyhhPW4saSk6YX0saS55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVu
Z3RoPyhjPW4saSk6Y30saS5leHRlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KG51bGw9PW4/dD1lPXI9dT1udWxsOih0PStuWzBdWzBdLGU9
K25bMF1bMV0scj0rblsxXVswXSx1PStuWzFdWzFdKSxpKTpudWxsPT10P251bGw6
W1t0LGVdLFtyLHVdXX0saS5zaXplPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVu
dHMubGVuZ3RoPyhudWxsPT1uP3Q9ZT1yPXU9bnVsbDoodD1lPTAscj0rblswXSx1
PStuWzFdKSxpKTpudWxsPT10P251bGw6W3ItdCx1LWVdfSxpKX0sVm8uaW50ZXJw
b2xhdGVSZ2I9bHUsVm8uaW50ZXJwb2xhdGVPYmplY3Q9c3UsVm8uaW50ZXJwb2xh
dGVOdW1iZXI9ZnUsVm8uaW50ZXJwb2xhdGVTdHJpbmc9aHU7dmFyIEtjPS9bLStd
Pyg/OlxkK1wuP1xkKnxcLj9cZCspKD86W2VFXVstK10/XGQrKT8vZyxRYz1uZXcg
UmVnRXhwKEtjLnNvdXJjZSwiZyIpO1ZvLmludGVycG9sYXRlPWd1LFZvLmludGVy
cG9sYXRvcnM9W2Z1bmN0aW9uKG4sdCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuKCJz
dHJpbmciPT09ZT9aYS5oYXModCl8fC9eKCN8cmdiXCh8aHNsXCgpLy50ZXN0KHQp
P2x1Omh1OnQgaW5zdGFuY2VvZiBldD9sdTpBcnJheS5pc0FycmF5KHQpP3B1OiJv
YmplY3QiPT09ZSYmaXNOYU4odCk/c3U6ZnUpKG4sdCl9XSxWby5pbnRlcnBvbGF0
ZUFycmF5PXB1O3ZhciBubD1mdW5jdGlvbigpe3JldHVybiB3dH0sdGw9Vm8ubWFw
KHtsaW5lYXI6bmwscG9seTpfdSxxdWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHl1fSxj
dWJpYzpmdW5jdGlvbigpe3JldHVybiB4dX0sc2luOmZ1bmN0aW9uKCl7cmV0dXJu
IGJ1fSxleHA6ZnVuY3Rpb24oKXtyZXR1cm4gd3V9LGNpcmNsZTpmdW5jdGlvbigp
e3JldHVybiBTdX0sZWxhc3RpYzprdSxiYWNrOkV1LGJvdW5jZTpmdW5jdGlvbigp
e3JldHVybiBBdX19KSxlbD1Wby5tYXAoeyJpbiI6d3Qsb3V0OmR1LCJpbi1vdXQi
Om11LCJvdXQtaW4iOmZ1bmN0aW9uKG4pe3JldHVybiBtdShkdShuKSl9fSk7Vm8u
ZWFzZT1mdW5jdGlvbihuKXt2YXIgdD1uLmluZGV4T2YoIi0iKSxlPXQ+PTA/bi5z
bGljZSgwLHQpOm4scj10Pj0wP24uc2xpY2UodCsxKToiaW4iO3JldHVybiBlPXRs
LmdldChlKXx8bmwscj1lbC5nZXQocil8fHd0LHZ1KHIoZS5hcHBseShudWxsLFhv
LmNhbGwoYXJndW1lbnRzLDEpKSkpfSxWby5pbnRlcnBvbGF0ZUhjbD1DdSxWby5p
bnRlcnBvbGF0ZUhzbD1OdSxWby5pbnRlcnBvbGF0ZUxhYj16dSxWby5pbnRlcnBv
bGF0ZVJvdW5kPUx1LFZvLnRyYW5zZm9ybT1mdW5jdGlvbihuKXt2YXIgdD1Cby5j
cmVhdGVFbGVtZW50TlMoVm8ubnMucHJlZml4LnN2ZywiZyIpO3JldHVybihWby50
cmFuc2Zvcm09ZnVuY3Rpb24obil7aWYobnVsbCE9bil7dC5zZXRBdHRyaWJ1dGUo
InRyYW5zZm9ybSIsbik7dmFyIGU9dC50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xp
ZGF0ZSgpfXJldHVybiBuZXcgVHUoZT9lLm1hdHJpeDpybCl9KShuKX0sVHUucHJv
dG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuInRyYW5zbGF0ZSgiK3Ro
aXMudHJhbnNsYXRlKyIpcm90YXRlKCIrdGhpcy5yb3RhdGUrIilza2V3WCgiK3Ro
aXMuc2tldysiKXNjYWxlKCIrdGhpcy5zY2FsZSsiKSJ9O3ZhciBybD17YToxLGI6
MCxjOjAsZDoxLGU6MCxmOjB9O1ZvLmludGVycG9sYXRlVHJhbnNmb3JtPVB1LFZv
LmxheW91dD17fSxWby5sYXlvdXQuYnVuZGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1
bmN0aW9uKG4pe2Zvcih2YXIgdD1bXSxlPS0xLHI9bi5sZW5ndGg7KytlPHI7KXQu
cHVzaChIdShuW2VdKSk7cmV0dXJuIHR9fSxWby5sYXlvdXQuY2hvcmQ9ZnVuY3Rp
b24oKXtmdW5jdGlvbiBuKCl7dmFyIG4sbCxmLGgsZyxwPXt9LHY9W10sZD1Wby5y
YW5nZShpKSxtPVtdO2ZvcihlPVtdLHI9W10sbj0wLGg9LTE7KytoPGk7KXtmb3Io
bD0wLGc9LTE7KytnPGk7KWwrPXVbaF1bZ107di5wdXNoKGwpLG0ucHVzaChWby5y
YW5nZShpKSksbis9bH1mb3IobyYmZC5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJu
IG8odltuXSx2W3RdKX0pLGEmJm0uZm9yRWFjaChmdW5jdGlvbihuLHQpe24uc29y
dChmdW5jdGlvbihuLGUpe3JldHVybiBhKHVbdF1bbl0sdVt0XVtlXSl9KX0pLG49
KFNhLXMqaSkvbixsPTAsaD0tMTsrK2g8aTspe2ZvcihmPWwsZz0tMTsrK2c8aTsp
e3ZhciB5PWRbaF0seD1tW3ldW2ddLE09dVt5XVt4XSxfPWwsYj1sKz1NKm47cFt5
KyItIit4XT17aW5kZXg6eSxzdWJpbmRleDp4LHN0YXJ0QW5nbGU6XyxlbmRBbmds
ZTpiLHZhbHVlOk19fXJbeV09e2luZGV4Onksc3RhcnRBbmdsZTpmLGVuZEFuZ2xl
OmwsdmFsdWU6KGwtZikvbn0sbCs9c31mb3IoaD0tMTsrK2g8aTspZm9yKGc9aC0x
OysrZzxpOyl7dmFyIHc9cFtoKyItIitnXSxTPXBbZysiLSIraF07KHcudmFsdWV8
fFMudmFsdWUpJiZlLnB1c2gody52YWx1ZTxTLnZhbHVlP3tzb3VyY2U6Uyx0YXJn
ZXQ6d306e3NvdXJjZTp3LHRhcmdldDpTfSl9YyYmdCgpfWZ1bmN0aW9uIHQoKXtl
LnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gYygobi5zb3VyY2UudmFsdWUrbi50
YXJnZXQudmFsdWUpLzIsKHQuc291cmNlLnZhbHVlK3QudGFyZ2V0LnZhbHVlKS8y
KX0pfXZhciBlLHIsdSxpLG8sYSxjLGw9e30scz0wO3JldHVybiBsLm1hdHJpeD1m
dW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0odT1uKSYmdS5s
ZW5ndGgsZT1yPW51bGwsbCk6dX0sbC5wYWRkaW5nPWZ1bmN0aW9uKG4pe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyhzPW4sZT1yPW51bGwsbCk6c30sbC5zb3J0R3Jv
dXBzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPW4sZT1y
PW51bGwsbCk6b30sbC5zb3J0U3ViZ3JvdXBzPWZ1bmN0aW9uKG4pe3JldHVybiBh
cmd1bWVudHMubGVuZ3RoPyhhPW4sZT1udWxsLGwpOmF9LGwuc29ydENob3Jkcz1m
dW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1uLGUmJnQoKSxs
KTpjfSxsLmNob3Jkcz1mdW5jdGlvbigpe3JldHVybiBlfHxuKCksZX0sbC5ncm91
cHM9ZnVuY3Rpb24oKXtyZXR1cm4gcnx8bigpLHJ9LGx9LFZvLmxheW91dC5mb3Jj
ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxy
LHUpe2lmKHQucG9pbnQhPT1uKXt2YXIgaT10LmN4LW4ueCxvPXQuY3ktbi55LGE9
dS1lLGM9aSppK28qbztpZihjPmEqYS9kKXtpZihwPmMpe3ZhciBsPXQuY2hhcmdl
L2M7bi5weC09aSpsLG4ucHktPW8qbH1yZXR1cm4hMH1pZih0LnBvaW50JiZjJiZw
PmMpe3ZhciBsPXQucG9pbnRDaGFyZ2UvYztuLnB4LT1pKmwsbi5weS09bypsfX1y
ZXR1cm4hdC5jaGFyZ2V9fWZ1bmN0aW9uIHQobil7bi5weD1Wby5ldmVudC54LG4u
cHk9Vm8uZXZlbnQueSxhLnJlc3VtZSgpfXZhciBlLHIsdSxpLG8sYT17fSxjPVZv
LmRpc3BhdGNoKCJzdGFydCIsInRpY2siLCJlbmQiKSxsPVsxLDFdLHM9LjksZj11
bCxoPWlsLGc9LTMwLHA9b2wsdj0uMSxkPS42NCxtPVtdLHk9W107cmV0dXJuIGEu
dGljaz1mdW5jdGlvbigpe2lmKChyKj0uOTkpPC4wMDUpcmV0dXJuIGMuZW5kKHt0
eXBlOiJlbmQiLGFscGhhOnI9MH0pLCEwO3ZhciB0LGUsYSxmLGgscCxkLHgsTSxf
PW0ubGVuZ3RoLGI9eS5sZW5ndGg7Zm9yKGU9MDtiPmU7KytlKWE9eVtlXSxmPWEu
c291cmNlLGg9YS50YXJnZXQseD1oLngtZi54LE09aC55LWYueSwocD14KngrTSpN
KSYmKHA9cippW2VdKigocD1NYXRoLnNxcnQocCkpLXVbZV0pL3AseCo9cCxNKj1w
LGgueC09eCooZD1mLndlaWdodC8oaC53ZWlnaHQrZi53ZWlnaHQpKSxoLnktPU0q
ZCxmLngrPXgqKGQ9MS1kKSxmLnkrPU0qZCk7aWYoKGQ9cip2KSYmKHg9bFswXS8y
LE09bFsxXS8yLGU9LTEsZCkpZm9yKDsrK2U8XzspYT1tW2VdLGEueCs9KHgtYS54
KSpkLGEueSs9KE0tYS55KSpkO2lmKGcpZm9yKFh1KHQ9Vm8uZ2VvbS5xdWFkdHJl
ZShtKSxyLG8pLGU9LTE7KytlPF87KShhPW1bZV0pLmZpeGVkfHx0LnZpc2l0KG4o
YSkpO2ZvcihlPS0xOysrZTxfOylhPW1bZV0sYS5maXhlZD8oYS54PWEucHgsYS55
PWEucHkpOihhLngtPShhLnB4LShhLnB4PWEueCkpKnMsYS55LT0oYS5weS0oYS5w
eT1hLnkpKSpzKTtjLnRpY2soe3R5cGU6InRpY2siLGFscGhhOnJ9KX0sYS5ub2Rl
cz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obT1uLGEpOm19
LGEubGlua3M9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9
bixhKTp5fSxhLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGg/KGw9bixhKTpsfSxhLmxpbmtEaXN0YW5jZT1mdW5jdGlvbihuKXtyZXR1cm4g
YXJndW1lbnRzLmxlbmd0aD8oZj0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uOituLGEp
OmZ9LGEuZGlzdGFuY2U9YS5saW5rRGlzdGFuY2UsYS5saW5rU3RyZW5ndGg9ZnVu
Y3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9ImZ1bmN0aW9uIj09
dHlwZW9mIG4/bjorbixhKTpofSxhLmZyaWN0aW9uPWZ1bmN0aW9uKG4pe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyhzPStuLGEpOnN9LGEuY2hhcmdlPWZ1bmN0aW9u
KG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPSJmdW5jdGlvbiI9PXR5cGVv
ZiBuP246K24sYSk6Z30sYS5jaGFyZ2VEaXN0YW5jZT1mdW5jdGlvbihuKXtyZXR1
cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1uKm4sYSk6TWF0aC5zcXJ0KHApfSxhLmdy
YXZpdHk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHY9K24s
YSk6dn0sYS50aGV0YT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0
aD8oZD1uKm4sYSk6TWF0aC5zcXJ0KGQpfSxhLmFscGhhPWZ1bmN0aW9uKG4pe3Jl
dHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPStuLHI/cj1uPjA/bjowOm4+MCYmKGMu
c3RhcnQoe3R5cGU6InN0YXJ0IixhbHBoYTpyPW59KSxWby50aW1lcihhLnRpY2sp
KSxhKTpyfSxhLnN0YXJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHIpe2lmKCFl
KXtmb3IoZT1uZXcgQXJyYXkoYyksYT0wO2M+YTsrK2EpZVthXT1bXTtmb3IoYT0w
O2w+YTsrK2Epe3ZhciB1PXlbYV07ZVt1LnNvdXJjZS5pbmRleF0ucHVzaCh1LnRh
cmdldCksZVt1LnRhcmdldC5pbmRleF0ucHVzaCh1LnNvdXJjZSl9fWZvcih2YXIg
aSxvPWVbdF0sYT0tMSxsPW8ubGVuZ3RoOysrYTxsOylpZighaXNOYU4oaT1vW2Fd
W25dKSlyZXR1cm4gaTtyZXR1cm4gTWF0aC5yYW5kb20oKSpyfXZhciB0LGUscixj
PW0ubGVuZ3RoLHM9eS5sZW5ndGgscD1sWzBdLHY9bFsxXTtmb3IodD0wO2M+dDsr
K3QpKHI9bVt0XSkuaW5kZXg9dCxyLndlaWdodD0wO2Zvcih0PTA7cz50OysrdCly
PXlbdF0sIm51bWJlciI9PXR5cGVvZiByLnNvdXJjZSYmKHIuc291cmNlPW1bci5z
b3VyY2VdKSwibnVtYmVyIj09dHlwZW9mIHIudGFyZ2V0JiYoci50YXJnZXQ9bVty
LnRhcmdldF0pLCsrci5zb3VyY2Uud2VpZ2h0LCsrci50YXJnZXQud2VpZ2h0O2Zv
cih0PTA7Yz50OysrdClyPW1bdF0saXNOYU4oci54KSYmKHIueD1uKCJ4IixwKSks
aXNOYU4oci55KSYmKHIueT1uKCJ5Iix2KSksaXNOYU4oci5weCkmJihyLnB4PXIu
eCksaXNOYU4oci5weSkmJihyLnB5PXIueSk7aWYodT1bXSwiZnVuY3Rpb24iPT10
eXBlb2YgZilmb3IodD0wO3M+dDsrK3QpdVt0XT0rZi5jYWxsKHRoaXMseVt0XSx0
KTtlbHNlIGZvcih0PTA7cz50OysrdCl1W3RdPWY7aWYoaT1bXSwiZnVuY3Rpb24i
PT10eXBlb2YgaClmb3IodD0wO3M+dDsrK3QpaVt0XT0raC5jYWxsKHRoaXMseVt0
XSx0KTtlbHNlIGZvcih0PTA7cz50OysrdClpW3RdPWg7aWYobz1bXSwiZnVuY3Rp
b24iPT10eXBlb2YgZylmb3IodD0wO2M+dDsrK3Qpb1t0XT0rZy5jYWxsKHRoaXMs
bVt0XSx0KTtlbHNlIGZvcih0PTA7Yz50OysrdClvW3RdPWc7cmV0dXJuIGEucmVz
dW1lKCl9LGEucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYWxwaGEoLjEpfSxh
LnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hbHBoYSgwKX0sYS5kcmFnPWZ1bmN0
aW9uKCl7cmV0dXJuIGV8fChlPVZvLmJlaGF2aW9yLmRyYWcoKS5vcmlnaW4od3Qp
Lm9uKCJkcmFnc3RhcnQuZm9yY2UiLFl1KS5vbigiZHJhZy5mb3JjZSIsdCkub24o
ImRyYWdlbmQuZm9yY2UiLEl1KSksYXJndW1lbnRzLmxlbmd0aD8odGhpcy5vbigi
bW91c2VvdmVyLmZvcmNlIixadSkub24oIm1vdXNlb3V0LmZvcmNlIixWdSkuY2Fs
bChlKSx2b2lkIDApOmV9LFZvLnJlYmluZChhLGMsIm9uIil9O3ZhciB1bD0yMCxp
bD0xLG9sPTEvMDtWby5sYXlvdXQuaGllcmFyY2h5PWZ1bmN0aW9uKCl7ZnVuY3Rp
b24gbih1KXt2YXIgaSxvPVt1XSxhPVtdO2Zvcih1LmRlcHRoPTA7bnVsbCE9KGk9
by5wb3AoKSk7KWlmKGEucHVzaChpKSwobD1lLmNhbGwobixpLGkuZGVwdGgpKSYm
KGM9bC5sZW5ndGgpKXtmb3IodmFyIGMsbCxzOy0tYz49MDspby5wdXNoKHM9bFtj
XSkscy5wYXJlbnQ9aSxzLmRlcHRoPWkuZGVwdGgrMTtyJiYoaS52YWx1ZT0wKSxp
LmNoaWxkcmVuPWx9ZWxzZSByJiYoaS52YWx1ZT0rci5jYWxsKG4saSxpLmRlcHRo
KXx8MCksZGVsZXRlIGkuY2hpbGRyZW47cmV0dXJuIFd1KHUsZnVuY3Rpb24obil7
dmFyIGUsdTt0JiYoZT1uLmNoaWxkcmVuKSYmZS5zb3J0KHQpLHImJih1PW4ucGFy
ZW50KSYmKHUudmFsdWUrPW4udmFsdWUpfSksYX12YXIgdD1LdSxlPUp1LHI9R3U7
cmV0dXJuIG4uc29ydD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0
aD8odD1lLG4pOnR9LG4uY2hpbGRyZW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnZhbHVlPWZ1bmN0aW9uKHQpe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6cn0sbi5yZXZhbHVlPWZ1bmN0aW9u
KHQpe3JldHVybiByJiYoQnUodCxmdW5jdGlvbihuKXtuLmNoaWxkcmVuJiYobi52
YWx1ZT0wKX0pLFd1KHQsZnVuY3Rpb24odCl7dmFyIGU7dC5jaGlsZHJlbnx8KHQu
dmFsdWU9K3IuY2FsbChuLHQsdC5kZXB0aCl8fDApLChlPXQucGFyZW50KSYmKGUu
dmFsdWUrPXQudmFsdWUpfSkpLHR9LG59LFZvLmxheW91dC5wYXJ0aXRpb249ZnVu
Y3Rpb24oKXtmdW5jdGlvbiBuKHQsZSxyLHUpe3ZhciBpPXQuY2hpbGRyZW47aWYo
dC54PWUsdC55PXQuZGVwdGgqdSx0LmR4PXIsdC5keT11LGkmJihvPWkubGVuZ3Ro
KSl7dmFyIG8sYSxjLGw9LTE7Zm9yKHI9dC52YWx1ZT9yL3QudmFsdWU6MDsrK2w8
bzspbihhPWlbbF0sZSxjPWEudmFsdWUqcix1KSxlKz1jfX1mdW5jdGlvbiB0KG4p
e3ZhciBlPW4uY2hpbGRyZW4scj0wO2lmKGUmJih1PWUubGVuZ3RoKSlmb3IodmFy
IHUsaT0tMTsrK2k8dTspcj1NYXRoLm1heChyLHQoZVtpXSkpO3JldHVybiAxK3J9
ZnVuY3Rpb24gZShlLGkpe3ZhciBvPXIuY2FsbCh0aGlzLGUsaSk7cmV0dXJuIG4o
b1swXSwwLHVbMF0sdVsxXS90KG9bMF0pKSxvfXZhciByPVZvLmxheW91dC5oaWVy
YXJjaHkoKSx1PVsxLDFdO3JldHVybiBlLnNpemU9ZnVuY3Rpb24obil7cmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGg/KHU9bixlKTp1fSwkdShlLHIpfSxWby5sYXlvdXQu
cGllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihpKXt2YXIgbz1pLm1hcChmdW5jdGlv
bihlLHIpe3JldHVybit0LmNhbGwobixlLHIpfSksYT0rKCJmdW5jdGlvbiI9PXR5
cGVvZiByP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnIpLGM9KCgiZnVuY3Rpb24i
PT10eXBlb2YgdT91LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp1KS1hKS9Wby5zdW0o
byksbD1Wby5yYW5nZShpLmxlbmd0aCk7bnVsbCE9ZSYmbC5zb3J0KGU9PT1hbD9m
dW5jdGlvbihuLHQpe3JldHVybiBvW3RdLW9bbl19OmZ1bmN0aW9uKG4sdCl7cmV0
dXJuIGUoaVtuXSxpW3RdKX0pO3ZhciBzPVtdO3JldHVybiBsLmZvckVhY2goZnVu
Y3Rpb24obil7dmFyIHQ7c1tuXT17ZGF0YTppW25dLHZhbHVlOnQ9b1tuXSxzdGFy
dEFuZ2xlOmEsZW5kQW5nbGU6YSs9dCpjfX0pLHN9dmFyIHQ9TnVtYmVyLGU9YWws
cj0wLHU9U2E7cmV0dXJuIG4udmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KHQ9ZSxuKTp0fSxuLnNvcnQ9ZnVuY3Rpb24odCl7cmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnN0YXJ0QW5nbGU9ZnVuY3Rp
b24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCxuKTpyfSxuLmVuZEFu
Z2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsbik6
dX0sbn07dmFyIGFsPXt9O1ZvLmxheW91dC5zdGFjaz1mdW5jdGlvbigpe2Z1bmN0
aW9uIG4oYSxjKXt2YXIgbD1hLm1hcChmdW5jdGlvbihlLHIpe3JldHVybiB0LmNh
bGwobixlLHIpfSkscz1sLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVu
Y3Rpb24odCxlKXtyZXR1cm5baS5jYWxsKG4sdCxlKSxvLmNhbGwobix0LGUpXX0p
fSksZj1lLmNhbGwobixzLGMpO2w9Vm8ucGVybXV0ZShsLGYpLHM9Vm8ucGVybXV0
ZShzLGYpO3ZhciBoLGcscCx2PXIuY2FsbChuLHMsYyksZD1sLmxlbmd0aCxtPWxb
MF0ubGVuZ3RoO2ZvcihnPTA7bT5nOysrZylmb3IodS5jYWxsKG4sbFswXVtnXSxw
PXZbZ10sc1swXVtnXVsxXSksaD0xO2Q+aDsrK2gpdS5jYWxsKG4sbFtoXVtnXSxw
Kz1zW2gtMV1bZ11bMV0sc1toXVtnXVsxXSk7cmV0dXJuIGF9dmFyIHQ9d3QsZT1y
aSxyPXVpLHU9ZWksaT1uaSxvPXRpO3JldHVybiBuLnZhbHVlcz1mdW5jdGlvbihl
KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1lLG4pOnR9LG4ub3JkZXI9ZnVu
Y3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ImZ1bmN0aW9uIj09
dHlwZW9mIHQ/dDpjbC5nZXQodCl8fHJpLG4pOmV9LG4ub2Zmc2V0PWZ1bmN0aW9u
KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSJmdW5jdGlvbiI9PXR5cGVv
ZiB0P3Q6bGwuZ2V0KHQpfHx1aSxuKTpyfSxuLng9ZnVuY3Rpb24odCl7cmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGg/KGk9dCxuKTppfSxuLnk9ZnVuY3Rpb24odCl7cmV0
dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89dCxuKTpvfSxuLm91dD1mdW5jdGlvbih0
KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT10LG4pOnV9LG59O3ZhciBjbD1W
by5tYXAoeyJpbnNpZGUtb3V0IjpmdW5jdGlvbihuKXt2YXIgdCxlLHI9bi5sZW5n
dGgsdT1uLm1hcChpaSksaT1uLm1hcChvaSksbz1Wby5yYW5nZShyKS5zb3J0KGZ1
bmN0aW9uKG4sdCl7cmV0dXJuIHVbbl0tdVt0XX0pLGE9MCxjPTAsbD1bXSxzPVtd
O2Zvcih0PTA7cj50OysrdCllPW9bdF0sYz5hPyhhKz1pW2VdLGwucHVzaChlKSk6
KGMrPWlbZV0scy5wdXNoKGUpKTtyZXR1cm4gcy5yZXZlcnNlKCkuY29uY2F0KGwp
fSxyZXZlcnNlOmZ1bmN0aW9uKG4pe3JldHVybiBWby5yYW5nZShuLmxlbmd0aCku
cmV2ZXJzZSgpfSwiZGVmYXVsdCI6cml9KSxsbD1Wby5tYXAoe3NpbGhvdWV0dGU6
ZnVuY3Rpb24obil7dmFyIHQsZSxyLHU9bi5sZW5ndGgsaT1uWzBdLmxlbmd0aCxv
PVtdLGE9MCxjPVtdO2ZvcihlPTA7aT5lOysrZSl7Zm9yKHQ9MCxyPTA7dT50O3Qr
KylyKz1uW3RdW2VdWzFdO3I+YSYmKGE9ciksby5wdXNoKHIpfWZvcihlPTA7aT5l
OysrZSljW2VdPShhLW9bZV0pLzI7cmV0dXJuIGN9LHdpZ2dsZTpmdW5jdGlvbihu
KXt2YXIgdCxlLHIsdSxpLG8sYSxjLGwscz1uLmxlbmd0aCxmPW5bMF0saD1mLmxl
bmd0aCxnPVtdO2ZvcihnWzBdPWM9bD0wLGU9MTtoPmU7KytlKXtmb3IodD0wLHU9
MDtzPnQ7Kyt0KXUrPW5bdF1bZV1bMV07Zm9yKHQ9MCxpPTAsYT1mW2VdWzBdLWZb
ZS0xXVswXTtzPnQ7Kyt0KXtmb3Iocj0wLG89KG5bdF1bZV1bMV0tblt0XVtlLTFd
WzFdKS8oMiphKTt0PnI7KytyKW8rPShuW3JdW2VdWzFdLW5bcl1bZS0xXVsxXSkv
YTtpKz1vKm5bdF1bZV1bMV19Z1tlXT1jLT11P2kvdSphOjAsbD5jJiYobD1jKX1m
b3IoZT0wO2g+ZTsrK2UpZ1tlXS09bDtyZXR1cm4gZ30sZXhwYW5kOmZ1bmN0aW9u
KG4pe3ZhciB0LGUscix1PW4ubGVuZ3RoLGk9blswXS5sZW5ndGgsbz0xL3UsYT1b
XTtmb3IoZT0wO2k+ZTsrK2Upe2Zvcih0PTAscj0wO3U+dDt0Kyspcis9blt0XVtl
XVsxXTtpZihyKWZvcih0PTA7dT50O3QrKyluW3RdW2VdWzFdLz1yO2Vsc2UgZm9y
KHQ9MDt1PnQ7dCsrKW5bdF1bZV1bMV09b31mb3IoZT0wO2k+ZTsrK2UpYVtlXT0w
O3JldHVybiBhfSx6ZXJvOnVpfSk7Vm8ubGF5b3V0Lmhpc3RvZ3JhbT1mdW5jdGlv
bigpe2Z1bmN0aW9uIG4obixpKXtmb3IodmFyIG8sYSxjPVtdLGw9bi5tYXAoZSx0
aGlzKSxzPXIuY2FsbCh0aGlzLGwsaSksZj11LmNhbGwodGhpcyxzLGwsaSksaT0t
MSxoPWwubGVuZ3RoLGc9Zi5sZW5ndGgtMSxwPXQ/MToxL2g7KytpPGc7KW89Y1tp
XT1bXSxvLmR4PWZbaSsxXS0oby54PWZbaV0pLG8ueT0wO2lmKGc+MClmb3IoaT0t
MTsrK2k8aDspYT1sW2ldLGE+PXNbMF0mJmE8PXNbMV0mJihvPWNbVm8uYmlzZWN0
KGYsYSwxLGcpLTFdLG8ueSs9cCxvLnB1c2gobltpXSkpO3JldHVybiBjfXZhciB0
PSEwLGU9TnVtYmVyLHI9c2ksdT1jaTtyZXR1cm4gbi52YWx1ZT1mdW5jdGlvbih0
KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4ucmFuZ2U9ZnVu
Y3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9YnQodCksbik6cn0s
bi5iaW5zPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PSJu
dW1iZXIiPT10eXBlb2YgdD9mdW5jdGlvbihuKXtyZXR1cm4gbGkobix0KX06YnQo
dCksbik6dX0sbi5mcmVxdWVuY3k9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGg/KHQ9ISFlLG4pOnR9LG59LFZvLmxheW91dC5wYWNrPWZ1bmN0aW9u
KCl7ZnVuY3Rpb24gbihuLGkpe3ZhciBvPWUuY2FsbCh0aGlzLG4saSksYT1vWzBd
LGM9dVswXSxsPXVbMV0scz1udWxsPT10P01hdGguc3FydDoiZnVuY3Rpb24iPT10
eXBlb2YgdD90OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O2lmKGEueD1hLnk9MCxXdShh
LGZ1bmN0aW9uKG4pe24ucj0rcyhuLnZhbHVlKX0pLFd1KGEsdmkpLHIpe3ZhciBm
PXIqKHQ/MTpNYXRoLm1heCgyKmEuci9jLDIqYS5yL2wpKS8yO1d1KGEsZnVuY3Rp
b24obil7bi5yKz1mfSksV3UoYSx2aSksV3UoYSxmdW5jdGlvbihuKXtuLnItPWZ9
KX1yZXR1cm4geWkoYSxjLzIsbC8yLHQ/MToxL01hdGgubWF4KDIqYS5yL2MsMiph
LnIvbCkpLG99dmFyIHQsZT1Wby5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChmaSks
cj0wLHU9WzEsMV07cmV0dXJuIG4uc2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aD8odT10LG4pOnV9LG4ucmFkaXVzPWZ1bmN0aW9uKGUpe3Jl
dHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW51bGw9PWV8fCJmdW5jdGlvbiI9PXR5
cGVvZiBlP2U6K2Usbik6dH0sbi5wYWRkaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBh
cmd1bWVudHMubGVuZ3RoPyhyPSt0LG4pOnJ9LCR1KG4sZSl9LFZvLmxheW91dC50
cmVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHUpe3ZhciBzPW8uY2FsbCh0aGlz
LG4sdSksZj1zWzBdLGg9dChmKTtpZihXdShoLGUpLGgucGFyZW50Lm09LWgueixC
dShoLHIpLGwpQnUoZixpKTtlbHNle3ZhciBnPWYscD1mLHY9ZjtCdShmLGZ1bmN0
aW9uKG4pe24ueDxnLngmJihnPW4pLG4ueD5wLngmJihwPW4pLG4uZGVwdGg+di5k
ZXB0aCYmKHY9bil9KTt2YXIgZD1hKGcscCkvMi1nLngsbT1jWzBdLyhwLngrYShw
LGcpLzIrZCkseT1jWzFdLyh2LmRlcHRofHwxKTtCdShmLGZ1bmN0aW9uKG4pe24u
eD0obi54K2QpKm0sbi55PW4uZGVwdGgqeX0pfXJldHVybiBzfWZ1bmN0aW9uIHQo
bil7Zm9yKHZhciB0LGU9e0E6bnVsbCxjaGlsZHJlbjpbbl19LHI9W2VdO251bGwh
PSh0PXIucG9wKCkpOylmb3IodmFyIHUsaT10LmNoaWxkcmVuLG89MCxhPWkubGVu
Z3RoO2E+bzsrK28pci5wdXNoKChpW29dPXU9e186aVtvXSxwYXJlbnQ6dCxjaGls
ZHJlbjoodT1pW29dLmNoaWxkcmVuKSYmdS5zbGljZSgpfHxbXSxBOm51bGwsYTpu
dWxsLHo6MCxtOjAsYzowLHM6MCx0Om51bGwsaTpvfSkuYT11KTtyZXR1cm4gZS5j
aGlsZHJlblswXX1mdW5jdGlvbiBlKG4pe3ZhciB0PW4uY2hpbGRyZW4sZT1uLnBh
cmVudC5jaGlsZHJlbixyPW4uaT9lW24uaS0xXTpudWxsO2lmKHQubGVuZ3RoKXtT
aShuKTt2YXIgaT0odFswXS56K3RbdC5sZW5ndGgtMV0ueikvMjtyPyhuLno9ci56
K2Eobi5fLHIuXyksbi5tPW4uei1pKTpuLno9aX1lbHNlIHImJihuLno9ci56K2Eo
bi5fLHIuXykpO24ucGFyZW50LkE9dShuLHIsbi5wYXJlbnQuQXx8ZVswXSl9ZnVu
Y3Rpb24gcihuKXtuLl8ueD1uLnorbi5wYXJlbnQubSxuLm0rPW4ucGFyZW50Lm19
ZnVuY3Rpb24gdShuLHQsZSl7aWYodCl7Zm9yKHZhciByLHU9bixpPW4sbz10LGM9
dS5wYXJlbnQuY2hpbGRyZW5bMF0sbD11Lm0scz1pLm0sZj1vLm0saD1jLm07bz1i
aShvKSx1PV9pKHUpLG8mJnU7KWM9X2koYyksaT1iaShpKSxpLmE9bixyPW8ueitm
LXUuei1sK2Eoby5fLHUuXykscj4wJiYod2koa2kobyxuLGUpLG4sciksbCs9cixz
Kz1yKSxmKz1vLm0sbCs9dS5tLGgrPWMubSxzKz1pLm07byYmIWJpKGkpJiYoaS50
PW8saS5tKz1mLXMpLHUmJiFfaShjKSYmKGMudD11LGMubSs9bC1oLGU9bil9cmV0
dXJuIGV9ZnVuY3Rpb24gaShuKXtuLngqPWNbMF0sbi55PW4uZGVwdGgqY1sxXX12
YXIgbz1Wby5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChudWxsKS52YWx1ZShudWxs
KSxhPU1pLGM9WzEsMV0sbD1udWxsO3JldHVybiBuLnNlcGFyYXRpb249ZnVuY3Rp
b24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9dCxuKTphfSxuLnNpemU9
ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9bnVsbD09KGM9
dCk/aTpudWxsLG4pOmw/bnVsbDpjfSxuLm5vZGVTaXplPWZ1bmN0aW9uKHQpe3Jl
dHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW51bGw9PShjPXQpP251bGw6aSxuKTps
P2M6bnVsbH0sJHUobixvKX0sVm8ubGF5b3V0LmNsdXN0ZXI9ZnVuY3Rpb24oKXtm
dW5jdGlvbiBuKG4saSl7dmFyIG8sYT10LmNhbGwodGhpcyxuLGkpLGM9YVswXSxs
PTA7V3UoYyxmdW5jdGlvbihuKXt2YXIgdD1uLmNoaWxkcmVuO3QmJnQubGVuZ3Ro
PyhuLng9QWkodCksbi55PUVpKHQpKToobi54PW8/bCs9ZShuLG8pOjAsbi55PTAs
bz1uKX0pO3ZhciBzPUNpKGMpLGY9TmkoYyksaD1zLngtZShzLGYpLzIsZz1mLngr
ZShmLHMpLzI7cmV0dXJuIFd1KGMsdT9mdW5jdGlvbihuKXtuLng9KG4ueC1jLngp
KnJbMF0sbi55PShjLnktbi55KSpyWzFdfTpmdW5jdGlvbihuKXtuLng9KG4ueC1o
KS8oZy1oKSpyWzBdLG4ueT0oMS0oYy55P24ueS9jLnk6MSkpKnJbMV19KSxhfXZh
ciB0PVZvLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KG51bGwpLnZhbHVlKG51bGwp
LGU9TWkscj1bMSwxXSx1PSExO3JldHVybiBuLnNlcGFyYXRpb249ZnVuY3Rpb24o
dCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnNpemU9ZnVu
Y3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9bnVsbD09KHI9dCks
bik6dT9udWxsOnJ9LG4ubm9kZVNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KHU9bnVsbCE9KHI9dCksbik6dT9yOm51bGx9LCR1KG4sdCl9
LFZvLmxheW91dC50cmVlbWFwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe2Zv
cih2YXIgZSxyLHU9LTEsaT1uLmxlbmd0aDsrK3U8aTspcj0oZT1uW3VdKS52YWx1
ZSooMD50PzA6dCksZS5hcmVhPWlzTmFOKHIpfHwwPj1yPzA6cn1mdW5jdGlvbiB0
KGUpe3ZhciBpPWUuY2hpbGRyZW47aWYoaSYmaS5sZW5ndGgpe3ZhciBvLGEsYyxs
PWYoZSkscz1bXSxoPWkuc2xpY2UoKSxwPTEvMCx2PSJzbGljZSI9PT1nP2wuZHg6
ImRpY2UiPT09Zz9sLmR5OiJzbGljZS1kaWNlIj09PWc/MSZlLmRlcHRoP2wuZHk6
bC5keDpNYXRoLm1pbihsLmR4LGwuZHkpO2ZvcihuKGgsbC5keCpsLmR5L2UudmFs
dWUpLHMuYXJlYT0wOyhjPWgubGVuZ3RoKT4wOylzLnB1c2gobz1oW2MtMV0pLHMu
YXJlYSs9by5hcmVhLCJzcXVhcmlmeSIhPT1nfHwoYT1yKHMsdikpPD1wPyhoLnBv
cCgpLHA9YSk6KHMuYXJlYS09cy5wb3AoKS5hcmVhLHUocyx2LGwsITEpLHY9TWF0
aC5taW4obC5keCxsLmR5KSxzLmxlbmd0aD1zLmFyZWE9MCxwPTEvMCk7cy5sZW5n
dGgmJih1KHMsdixsLCEwKSxzLmxlbmd0aD1zLmFyZWE9MCksaS5mb3JFYWNoKHQp
fX1mdW5jdGlvbiBlKHQpe3ZhciByPXQuY2hpbGRyZW47aWYociYmci5sZW5ndGgp
e3ZhciBpLG89Zih0KSxhPXIuc2xpY2UoKSxjPVtdO2ZvcihuKGEsby5keCpvLmR5
L3QudmFsdWUpLGMuYXJlYT0wO2k9YS5wb3AoKTspYy5wdXNoKGkpLGMuYXJlYSs9
aS5hcmVhLG51bGwhPWkueiYmKHUoYyxpLno/by5keDpvLmR5LG8sIWEubGVuZ3Ro
KSxjLmxlbmd0aD1jLmFyZWE9MCk7ci5mb3JFYWNoKGUpfX1mdW5jdGlvbiByKG4s
dCl7Zm9yKHZhciBlLHI9bi5hcmVhLHU9MCxpPTEvMCxvPS0xLGE9bi5sZW5ndGg7
KytvPGE7KShlPW5bb10uYXJlYSkmJihpPmUmJihpPWUpLGU+dSYmKHU9ZSkpO3Jl
dHVybiByKj1yLHQqPXQscj9NYXRoLm1heCh0KnUqcC9yLHIvKHQqaSpwKSk6MS8w
fWZ1bmN0aW9uIHUobix0LGUscil7dmFyIHUsaT0tMSxvPW4ubGVuZ3RoLGE9ZS54
LGw9ZS55LHM9dD9jKG4uYXJlYS90KTowO2lmKHQ9PWUuZHgpe2Zvcigocnx8cz5l
LmR5KSYmKHM9ZS5keSk7KytpPG87KXU9bltpXSx1Lng9YSx1Lnk9bCx1LmR5PXMs
YSs9dS5keD1NYXRoLm1pbihlLngrZS5keC1hLHM/Yyh1LmFyZWEvcyk6MCk7dS56
PSEwLHUuZHgrPWUueCtlLmR4LWEsZS55Kz1zLGUuZHktPXN9ZWxzZXtmb3IoKHJ8
fHM+ZS5keCkmJihzPWUuZHgpOysraTxvOyl1PW5baV0sdS54PWEsdS55PWwsdS5k
eD1zLGwrPXUuZHk9TWF0aC5taW4oZS55K2UuZHktbCxzP2ModS5hcmVhL3MpOjAp
O3Uuej0hMSx1LmR5Kz1lLnkrZS5keS1sLGUueCs9cyxlLmR4LT1zfX1mdW5jdGlv
biBpKHIpe3ZhciB1PW98fGEociksaT11WzBdO3JldHVybiBpLng9MCxpLnk9MCxp
LmR4PWxbMF0saS5keT1sWzFdLG8mJmEucmV2YWx1ZShpKSxuKFtpXSxpLmR4Kmku
ZHkvaS52YWx1ZSksKG8/ZTp0KShpKSxoJiYobz11KSx1fXZhciBvLGE9Vm8ubGF5
b3V0LmhpZXJhcmNoeSgpLGM9TWF0aC5yb3VuZCxsPVsxLDFdLHM9bnVsbCxmPXpp
LGg9ITEsZz0ic3F1YXJpZnkiLHA9LjUqKDErTWF0aC5zcXJ0KDUpKTtyZXR1cm4g
aS5zaXplPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW4s
aSk6bH0saS5wYWRkaW5nPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQodCl7dmFyIGU9
bi5jYWxsKGksdCx0LmRlcHRoKTtyZXR1cm4gbnVsbD09ZT96aSh0KTpMaSh0LCJu
dW1iZXIiPT10eXBlb2YgZT9bZSxlLGUsZV06ZSl9ZnVuY3Rpb24gZSh0KXtyZXR1
cm4gTGkodCxuKX1pZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gczt2YXIgcjty
ZXR1cm4gZj1udWxsPT0ocz1uKT96aToiZnVuY3Rpb24iPT0ocj10eXBlb2Ygbik/
dDoibnVtYmVyIj09PXI/KG49W24sbixuLG5dLGUpOmUsaX0saS5yb3VuZD1mdW5j
dGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1uP01hdGgucm91bmQ6
TnVtYmVyLGkpOmMhPU51bWJlcn0saS5zdGlja3k9ZnVuY3Rpb24obil7cmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGg/KGg9bixvPW51bGwsaSk6aH0saS5yYXRpbz1mdW5j
dGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1uLGkpOnB9LGkubW9k
ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz1uKyIiLGkp
Omd9LCR1KGksYSl9LFZvLnJhbmRvbT17bm9ybWFsOmZ1bmN0aW9uKG4sdCl7dmFy
IGU9YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gMj5lJiYodD0xKSwxPmUmJihuPTAp
LGZ1bmN0aW9uKCl7dmFyIGUscix1O2RvIGU9MipNYXRoLnJhbmRvbSgpLTEscj0y
Kk1hdGgucmFuZG9tKCktMSx1PWUqZStyKnI7d2hpbGUoIXV8fHU+MSk7cmV0dXJu
IG4rdCplKk1hdGguc3FydCgtMipNYXRoLmxvZyh1KS91KX19LGxvZ05vcm1hbDpm
dW5jdGlvbigpe3ZhciBuPVZvLnJhbmRvbS5ub3JtYWwuYXBwbHkoVm8sYXJndW1l
bnRzKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5leHAobigpKX19LGJh
dGVzOmZ1bmN0aW9uKG4pe3ZhciB0PVZvLnJhbmRvbS5pcndpbkhhbGwobik7cmV0
dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQoKS9ufX0saXJ3aW5IYWxsOmZ1bmN0aW9u
KG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtuPmU7ZSsrKXQr
PU1hdGgucmFuZG9tKCk7cmV0dXJuIHR9fX0sVm8uc2NhbGU9e307dmFyIHNsPXtm
bG9vcjp3dCxjZWlsOnd0fTtWby5zY2FsZS5saW5lYXI9ZnVuY3Rpb24oKXtyZXR1
cm4gamkoWzAsMV0sWzAsMV0sZ3UsITEpfTt2YXIgZmw9e3M6MSxnOjEscDoxLHI6
MSxlOjF9O1ZvLnNjYWxlLmxvZz1mdW5jdGlvbigpe3JldHVybiBYaShWby5zY2Fs
ZS5saW5lYXIoKS5kb21haW4oWzAsMV0pLDEwLCEwLFsxLDEwXSl9O3ZhciBobD1W
by5mb3JtYXQoIi4wZSIpLGdsPXtmbG9vcjpmdW5jdGlvbihuKXtyZXR1cm4tTWF0
aC5jZWlsKC1uKX0sY2VpbDpmdW5jdGlvbihuKXtyZXR1cm4tTWF0aC5mbG9vcigt
bil9fTtWby5zY2FsZS5wb3c9ZnVuY3Rpb24oKXtyZXR1cm4gJGkoVm8uc2NhbGUu
bGluZWFyKCksMSxbMCwxXSl9LFZvLnNjYWxlLnNxcnQ9ZnVuY3Rpb24oKXtyZXR1
cm4gVm8uc2NhbGUucG93KCkuZXhwb25lbnQoLjUpfSxWby5zY2FsZS5vcmRpbmFs
PWZ1bmN0aW9uKCl7cmV0dXJuIFdpKFtdLHt0OiJyYW5nZSIsYTpbW11dfSl9LFZv
LnNjYWxlLmNhdGVnb3J5MTA9ZnVuY3Rpb24oKXtyZXR1cm4gVm8uc2NhbGUub3Jk
aW5hbCgpLnJhbmdlKHBsKX0sVm8uc2NhbGUuY2F0ZWdvcnkyMD1mdW5jdGlvbigp
e3JldHVybiBWby5zY2FsZS5vcmRpbmFsKCkucmFuZ2UodmwpfSxWby5zY2FsZS5j
YXRlZ29yeTIwYj1mdW5jdGlvbigpe3JldHVybiBWby5zY2FsZS5vcmRpbmFsKCku
cmFuZ2UoZGwpfSxWby5zY2FsZS5jYXRlZ29yeTIwYz1mdW5jdGlvbigpe3JldHVy
biBWby5zY2FsZS5vcmRpbmFsKCkucmFuZ2UobWwpfTt2YXIgcGw9WzIwNjIyNjAs
MTY3NDQyMDYsMjkyNDU4OCwxNDAzNDcyOCw5NzI1ODg1LDkxOTcxMzEsMTQ5MDcz
MzAsODM1NTcxMSwxMjM2OTE4NiwxNTU2MTc1XS5tYXAodnQpLHZsPVsyMDYyMjYw
LDExNDU0NDQwLDE2NzQ0MjA2LDE2NzU5NjcyLDI5MjQ1ODgsMTAwMTg2OTgsMTQw
MzQ3MjgsMTY3NTA3NDIsOTcyNTg4NSwxMjk1NTg2MSw5MTk3MTMxLDEyODg1MTQw
LDE0OTA3MzMwLDE2MjM0MTk0LDgzNTU3MTEsMTMwOTI4MDcsMTIzNjkxODYsMTQ0
MDg1ODksMTU1NjE3NSwxMDQxMDcyNV0ubWFwKHZ0KSxkbD1bMzc1MDc3Nyw1Mzk1
NjE5LDcwNDA3MTksMTAyNjQyODYsNjUxOTA5Nyw5MjE2NTk0LDExOTE1MTE1LDEz
NTU2NjM2LDkyMDI5OTMsMTI0MjY4MDksMTUxODY1MTQsMTUxOTA5MzIsODY2NjE2
OSwxMTM1NjQ5MCwxNDA0OTY0MywxNTE3NzM3Miw4MDc3NjgzLDEwODM0MzI0LDEz
NTI4NTA5LDE0NTg5NjU0XS5tYXAodnQpLG1sPVszMjQ0NzMzLDcwNTcxMTAsMTA0
MDY2MjUsMTMwMzI0MzEsMTUwOTUwNTMsMTY2MTY3NjQsMTY2MjUyNTksMTY2MzQw
MTgsMzI1MzA3Niw3NjUyNDcwLDEwNjA3MDAzLDEzMTAxNTA0LDc2OTUyODEsMTAz
OTQzMTIsMTIzNjkzNzIsMTQzNDI4OTEsNjUxMzUwNyw5ODY4OTUwLDEyNDM0ODc3
LDE0Mjc3MDgxXS5tYXAodnQpO1ZvLnNjYWxlLnF1YW50aWxlPWZ1bmN0aW9uKCl7
cmV0dXJuIEppKFtdLFtdKX0sVm8uc2NhbGUucXVhbnRpemU9ZnVuY3Rpb24oKXty
ZXR1cm4gR2koMCwxLFswLDFdKX0sVm8uc2NhbGUudGhyZXNob2xkPWZ1bmN0aW9u
KCl7cmV0dXJuIEtpKFsuNV0sWzAsMV0pfSxWby5zY2FsZS5pZGVudGl0eT1mdW5j
dGlvbigpe3JldHVybiBRaShbMCwxXSl9LFZvLnN2Zz17fSxWby5zdmcuYXJjPWZ1
bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuPXQuYXBwbHkodGhpcyxhcmd1bWVu
dHMpLGk9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbz1yLmFwcGx5KHRoaXMsYXJn
dW1lbnRzKSt5bCxhPXUuYXBwbHkodGhpcyxhcmd1bWVudHMpK3lsLGM9KG8+YSYm
KGM9byxvPWEsYT1jKSxhLW8pLGw9d2E+Yz8iMCI6IjEiLHM9TWF0aC5jb3Mobyks
Zj1NYXRoLnNpbihvKSxoPU1hdGguY29zKGEpLGc9TWF0aC5zaW4oYSk7CnJldHVy
biBjPj14bD9uPyJNMCwiK2krIkEiK2krIiwiK2krIiAwIDEsMSAwLCIrLWkrIkEi
K2krIiwiK2krIiAwIDEsMSAwLCIraSsiTTAsIituKyJBIituKyIsIituKyIgMCAx
LDAgMCwiKy1uKyJBIituKyIsIituKyIgMCAxLDAgMCwiK24rIloiOiJNMCwiK2kr
IkEiK2krIiwiK2krIiAwIDEsMSAwLCIrLWkrIkEiK2krIiwiK2krIiAwIDEsMSAw
LCIraSsiWiI6bj8iTSIraSpzKyIsIitpKmYrIkEiK2krIiwiK2krIiAwICIrbCsi
LDEgIitpKmgrIiwiK2kqZysiTCIrbipoKyIsIituKmcrIkEiK24rIiwiK24rIiAw
ICIrbCsiLDAgIituKnMrIiwiK24qZisiWiI6Ik0iK2kqcysiLCIraSpmKyJBIitp
KyIsIitpKyIgMCAiK2wrIiwxICIraSpoKyIsIitpKmcrIkwwLDAiKyJaIn12YXIg
dD1ubyxlPXRvLHI9ZW8sdT1ybztyZXR1cm4gbi5pbm5lclJhZGl1cz1mdW5jdGlv
bihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1idChlKSxuKTp0fSxuLm91
dGVyUmFkaXVzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhl
PWJ0KHQpLG4pOmV9LG4uc3RhcnRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aD8ocj1idCh0KSxuKTpyfSxuLmVuZEFuZ2xlPWZ1bmN0aW9u
KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PWJ0KHQpLG4pOnV9LG4uY2Vu
dHJvaWQ9ZnVuY3Rpb24oKXt2YXIgbj0odC5hcHBseSh0aGlzLGFyZ3VtZW50cykr
ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzIsaT0oci5hcHBseSh0aGlzLGFyZ3Vt
ZW50cykrdS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzIreWw7cmV0dXJuW01hdGgu
Y29zKGkpKm4sTWF0aC5zaW4oaSkqbl19LG59O3ZhciB5bD0ta2EseGw9U2EtRWE7
Vm8uc3ZnLmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdW8od3QpfTt2YXIgTWw9Vm8u
bWFwKHtsaW5lYXI6aW8sImxpbmVhci1jbG9zZWQiOm9vLHN0ZXA6YW8sInN0ZXAt
YmVmb3JlIjpjbywic3RlcC1hZnRlciI6bG8sYmFzaXM6dm8sImJhc2lzLW9wZW4i
Om1vLCJiYXNpcy1jbG9zZWQiOnlvLGJ1bmRsZTp4byxjYXJkaW5hbDpobywiY2Fy
ZGluYWwtb3BlbiI6c28sImNhcmRpbmFsLWNsb3NlZCI6Zm8sbW9ub3RvbmU6a299
KTtNbC5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7dC5rZXk9bix0LmNsb3NlZD0vLWNs
b3NlZCQvLnRlc3Qobil9KTt2YXIgX2w9WzAsMi8zLDEvMywwXSxibD1bMCwxLzMs
Mi8zLDBdLHdsPVswLDEvNiwyLzMsMS82XTtWby5zdmcubGluZS5yYWRpYWw9ZnVu
Y3Rpb24oKXt2YXIgbj11byhFbyk7cmV0dXJuIG4ucmFkaXVzPW4ueCxkZWxldGUg
bi54LG4uYW5nbGU9bi55LGRlbGV0ZSBuLnksbn0sY28ucmV2ZXJzZT1sbyxsby5y
ZXZlcnNlPWNvLFZvLnN2Zy5hcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIEFvKHd0KX0s
Vm8uc3ZnLmFyZWEucmFkaWFsPWZ1bmN0aW9uKCl7dmFyIG49QW8oRW8pO3JldHVy
biBuLnJhZGl1cz1uLngsZGVsZXRlIG4ueCxuLmlubmVyUmFkaXVzPW4ueDAsZGVs
ZXRlIG4ueDAsbi5vdXRlclJhZGl1cz1uLngxLGRlbGV0ZSBuLngxLG4uYW5nbGU9
bi55LGRlbGV0ZSBuLnksbi5zdGFydEFuZ2xlPW4ueTAsZGVsZXRlIG4ueTAsbi5l
bmRBbmdsZT1uLnkxLGRlbGV0ZSBuLnkxLG59LFZvLnN2Zy5jaG9yZD1mdW5jdGlv
bigpe2Z1bmN0aW9uIG4obixhKXt2YXIgYz10KHRoaXMsaSxuLGEpLGw9dCh0aGlz
LG8sbixhKTtyZXR1cm4iTSIrYy5wMCtyKGMucixjLnAxLGMuYTEtYy5hMCkrKGUo
YyxsKT91KGMucixjLnAxLGMucixjLnAwKTp1KGMucixjLnAxLGwucixsLnAwKSty
KGwucixsLnAxLGwuYTEtbC5hMCkrdShsLnIsbC5wMSxjLnIsYy5wMCkpKyJaIn1m
dW5jdGlvbiB0KG4sdCxlLHIpe3ZhciB1PXQuY2FsbChuLGUsciksaT1hLmNhbGwo
bix1LHIpLG89Yy5jYWxsKG4sdSxyKSt5bCxzPWwuY2FsbChuLHUscikreWw7cmV0
dXJue3I6aSxhMDpvLGExOnMscDA6W2kqTWF0aC5jb3MobyksaSpNYXRoLnNpbihv
KV0scDE6W2kqTWF0aC5jb3MocyksaSpNYXRoLnNpbihzKV19fWZ1bmN0aW9uIGUo
bix0KXtyZXR1cm4gbi5hMD09dC5hMCYmbi5hMT09dC5hMX1mdW5jdGlvbiByKG4s
dCxlKXtyZXR1cm4iQSIrbisiLCIrbisiIDAgIisgKyhlPndhKSsiLDEgIit0fWZ1
bmN0aW9uIHUobix0LGUscil7cmV0dXJuIlEgMCwwICIrcn12YXIgaT1wcixvPXZy
LGE9Q28sYz1lbyxsPXJvO3JldHVybiBuLnJhZGl1cz1mdW5jdGlvbih0KXtyZXR1
cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1idCh0KSxuKTphfSxuLnNvdXJjZT1mdW5j
dGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1idCh0KSxuKTppfSxu
LnRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1i
dCh0KSxuKTpvfSxuLnN0YXJ0QW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KGM9YnQodCksbik6Y30sbi5lbmRBbmdsZT1mdW5jdGlvbih0
KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1idCh0KSxuKTpsfSxufSxWby5z
dmcuZGlhZ29uYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdSl7dmFyIGk9dC5j
YWxsKHRoaXMsbix1KSxvPWUuY2FsbCh0aGlzLG4sdSksYT0oaS55K28ueSkvMixj
PVtpLHt4OmkueCx5OmF9LHt4Om8ueCx5OmF9LG9dO3JldHVybiBjPWMubWFwKHIp
LCJNIitjWzBdKyJDIitjWzFdKyIgIitjWzJdKyIgIitjWzNdfXZhciB0PXByLGU9
dnIscj1ObztyZXR1cm4gbi5zb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGg/KHQ9YnQoZSksbik6dH0sbi50YXJnZXQ9ZnVuY3Rpb24odCl7
cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9YnQodCksbik6ZX0sbi5wcm9qZWN0
aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6
cn0sbn0sVm8uc3ZnLmRpYWdvbmFsLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBuPVZv
LnN2Zy5kaWFnb25hbCgpLHQ9Tm8sZT1uLnByb2plY3Rpb247cmV0dXJuIG4ucHJv
amVjdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9lKHpv
KHQ9bikpOnR9LG59LFZvLnN2Zy5zeW1ib2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBu
KG4scil7cmV0dXJuKFNsLmdldCh0LmNhbGwodGhpcyxuLHIpKXx8cW8pKGUuY2Fs
bCh0aGlzLG4scikpfXZhciB0PVRvLGU9TG87cmV0dXJuIG4udHlwZT1mdW5jdGlv
bihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1idChlKSxuKTp0fSxuLnNp
emU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9YnQodCks
bik6ZX0sbn07dmFyIFNsPVZvLm1hcCh7Y2lyY2xlOnFvLGNyb3NzOmZ1bmN0aW9u
KG4pe3ZhciB0PU1hdGguc3FydChuLzUpLzI7cmV0dXJuIk0iKy0zKnQrIiwiKy10
KyJIIistdCsiViIrLTMqdCsiSCIrdCsiViIrLXQrIkgiKzMqdCsiViIrdCsiSCIr
dCsiViIrMyp0KyJIIistdCsiViIrdCsiSCIrLTMqdCsiWiJ9LGRpYW1vbmQ6ZnVu
Y3Rpb24obil7dmFyIHQ9TWF0aC5zcXJ0KG4vKDIqQ2wpKSxlPXQqQ2w7cmV0dXJu
Ik0wLCIrLXQrIkwiK2UrIiwwIisiIDAsIit0KyIgIistZSsiLDAiKyJaIn0sc3F1
YXJlOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuKS8yO3JldHVybiJNIist
dCsiLCIrLXQrIkwiK3QrIiwiKy10KyIgIit0KyIsIit0KyIgIistdCsiLCIrdCsi
WiJ9LCJ0cmlhbmdsZS1kb3duIjpmdW5jdGlvbihuKXt2YXIgdD1NYXRoLnNxcnQo
bi9BbCksZT10KkFsLzI7cmV0dXJuIk0wLCIrZSsiTCIrdCsiLCIrLWUrIiAiKy10
KyIsIistZSsiWiJ9LCJ0cmlhbmdsZS11cCI6ZnVuY3Rpb24obil7dmFyIHQ9TWF0
aC5zcXJ0KG4vQWwpLGU9dCpBbC8yO3JldHVybiJNMCwiKy1lKyJMIit0KyIsIitl
KyIgIistdCsiLCIrZSsiWiJ9fSk7Vm8uc3ZnLnN5bWJvbFR5cGVzPVNsLmtleXMo
KTt2YXIga2wsRWwsQWw9TWF0aC5zcXJ0KDMpLENsPU1hdGgudGFuKDMwKkNhKSxO
bD1bXSx6bD0wO05sLmNhbGw9dmEuY2FsbCxObC5lbXB0eT12YS5lbXB0eSxObC5u
b2RlPXZhLm5vZGUsTmwuc2l6ZT12YS5zaXplLFZvLnRyYW5zaXRpb249ZnVuY3Rp
b24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/a2w/bi50cmFuc2l0aW9uKCk6
bjp5YS50cmFuc2l0aW9uKCl9LFZvLnRyYW5zaXRpb24ucHJvdG90eXBlPU5sLE5s
LnNlbGVjdD1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdT10aGlzLmlkLGk9W107bj1i
KG4pO2Zvcih2YXIgbz0tMSxhPXRoaXMubGVuZ3RoOysrbzxhOyl7aS5wdXNoKHQ9
W10pO2Zvcih2YXIgYz10aGlzW29dLGw9LTEscz1jLmxlbmd0aDsrK2w8czspKHI9
Y1tsXSkmJihlPW4uY2FsbChyLHIuX19kYXRhX18sbCxvKSk/KCJfX2RhdGFfXyJp
biByJiYoZS5fX2RhdGFfXz1yLl9fZGF0YV9fKSxVbyhlLGwsdSxyLl9fdHJhbnNp
dGlvbl9fW3VdKSx0LnB1c2goZSkpOnQucHVzaChudWxsKX1yZXR1cm4gUm8oaSx1
KX0sTmwuc2VsZWN0QWxsPWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1LGksbz10aGlz
LmlkLGE9W107bj13KG4pO2Zvcih2YXIgYz0tMSxsPXRoaXMubGVuZ3RoOysrYzxs
Oylmb3IodmFyIHM9dGhpc1tjXSxmPS0xLGg9cy5sZW5ndGg7KytmPGg7KWlmKHI9
c1tmXSl7aT1yLl9fdHJhbnNpdGlvbl9fW29dLGU9bi5jYWxsKHIsci5fX2RhdGFf
XyxmLGMpLGEucHVzaCh0PVtdKTtmb3IodmFyIGc9LTEscD1lLmxlbmd0aDsrK2c8
cDspKHU9ZVtnXSkmJlVvKHUsZyxvLGkpLHQucHVzaCh1KX1yZXR1cm4gUm8oYSxv
KX0sTmwuZmlsdGVyPWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PVtdOyJmdW5jdGlv
biIhPXR5cGVvZiBuJiYobj1SKG4pKTtmb3IodmFyIGk9MCxvPXRoaXMubGVuZ3Ro
O28+aTtpKyspe3UucHVzaCh0PVtdKTtmb3IodmFyIGU9dGhpc1tpXSxhPTAsYz1l
Lmxlbmd0aDtjPmE7YSsrKShyPWVbYV0pJiZuLmNhbGwocixyLl9fZGF0YV9fLGEs
aSkmJnQucHVzaChyKX1yZXR1cm4gUm8odSx0aGlzLmlkKX0sTmwudHdlZW49ZnVu
Y3Rpb24obix0KXt2YXIgZT10aGlzLmlkO3JldHVybiBhcmd1bWVudHMubGVuZ3Ro
PDI/dGhpcy5ub2RlKCkuX190cmFuc2l0aW9uX19bZV0udHdlZW4uZ2V0KG4pOlAo
dGhpcyxudWxsPT10P2Z1bmN0aW9uKHQpe3QuX190cmFuc2l0aW9uX19bZV0udHdl
ZW4ucmVtb3ZlKG4pfTpmdW5jdGlvbihyKXtyLl9fdHJhbnNpdGlvbl9fW2VdLnR3
ZWVuLnNldChuLHQpfSl9LE5sLmF0dHI9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBl
KCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSl9ZnVuY3Rpb24gcigpe3RoaXMucmVt
b3ZlQXR0cmlidXRlTlMoYS5zcGFjZSxhLmxvY2FsKX1mdW5jdGlvbiB1KG4pe3Jl
dHVybiBudWxsPT1uP2U6KG4rPSIiLGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmdl
dEF0dHJpYnV0ZShhKTtyZXR1cm4gZSE9PW4mJih0PW8oZSxuKSxmdW5jdGlvbihu
KXt0aGlzLnNldEF0dHJpYnV0ZShhLHQobikpfSl9KX1mdW5jdGlvbiBpKG4pe3Jl
dHVybiBudWxsPT1uP3I6KG4rPSIiLGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmdl
dEF0dHJpYnV0ZU5TKGEuc3BhY2UsYS5sb2NhbCk7cmV0dXJuIGUhPT1uJiYodD1v
KGUsbiksZnVuY3Rpb24obil7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLnNwYWNlLGEu
bG9jYWwsdChuKSl9KX0pfWlmKGFyZ3VtZW50cy5sZW5ndGg8Mil7Zm9yKHQgaW4g
bil0aGlzLmF0dHIodCxuW3RdKTtyZXR1cm4gdGhpc312YXIgbz0idHJhbnNmb3Jt
Ij09bj9QdTpndSxhPVZvLm5zLnF1YWxpZnkobik7cmV0dXJuIERvKHRoaXMsImF0
dHIuIituLHQsYS5sb2NhbD9pOnUpfSxObC5hdHRyVHdlZW49ZnVuY3Rpb24obix0
KXtmdW5jdGlvbiBlKG4sZSl7dmFyIHI9dC5jYWxsKHRoaXMsbixlLHRoaXMuZ2V0
QXR0cmlidXRlKHUpKTtyZXR1cm4gciYmZnVuY3Rpb24obil7dGhpcy5zZXRBdHRy
aWJ1dGUodSxyKG4pKX19ZnVuY3Rpb24gcihuLGUpe3ZhciByPXQuY2FsbCh0aGlz
LG4sZSx0aGlzLmdldEF0dHJpYnV0ZU5TKHUuc3BhY2UsdS5sb2NhbCkpO3JldHVy
biByJiZmdW5jdGlvbihuKXt0aGlzLnNldEF0dHJpYnV0ZU5TKHUuc3BhY2UsdS5s
b2NhbCxyKG4pKX19dmFyIHU9Vm8ubnMucXVhbGlmeShuKTtyZXR1cm4gdGhpcy50
d2VlbigiYXR0ci4iK24sdS5sb2NhbD9yOmUpfSxObC5zdHlsZT1mdW5jdGlvbihu
LHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobil9
ZnVuY3Rpb24gdSh0KXtyZXR1cm4gbnVsbD09dD9yOih0Kz0iIixmdW5jdGlvbigp
e3ZhciByLHU9Sm8uZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLG51bGwpLmdldFByb3Bl
cnR5VmFsdWUobik7cmV0dXJuIHUhPT10JiYocj1ndSh1LHQpLGZ1bmN0aW9uKHQp
e3RoaXMuc3R5bGUuc2V0UHJvcGVydHkobixyKHQpLGUpfSl9KX12YXIgaT1hcmd1
bWVudHMubGVuZ3RoO2lmKDM+aSl7aWYoInN0cmluZyIhPXR5cGVvZiBuKXsyPmkm
Jih0PSIiKTtmb3IoZSBpbiBuKXRoaXMuc3R5bGUoZSxuW2VdLHQpO3JldHVybiB0
aGlzfWU9IiJ9cmV0dXJuIERvKHRoaXMsInN0eWxlLiIrbix0LHUpfSxObC5zdHls
ZVR3ZWVuPWZ1bmN0aW9uKG4sdCxlKXtmdW5jdGlvbiByKHIsdSl7dmFyIGk9dC5j
YWxsKHRoaXMscix1LEpvLmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQ
cm9wZXJ0eVZhbHVlKG4pKTtyZXR1cm4gaSYmZnVuY3Rpb24odCl7dGhpcy5zdHls
ZS5zZXRQcm9wZXJ0eShuLGkodCksZSl9fXJldHVybiBhcmd1bWVudHMubGVuZ3Ro
PDMmJihlPSIiKSx0aGlzLnR3ZWVuKCJzdHlsZS4iK24scil9LE5sLnRleHQ9ZnVu
Y3Rpb24obil7cmV0dXJuIERvKHRoaXMsInRleHQiLG4sUG8pfSxObC5yZW1vdmU9
ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKCJlbmQudHJhbnNpdGlvbiIsZnVu
Y3Rpb24oKXt2YXIgbjt0aGlzLl9fdHJhbnNpdGlvbl9fLmNvdW50PDImJihuPXRo
aXMucGFyZW50Tm9kZSkmJm4ucmVtb3ZlQ2hpbGQodGhpcyl9KX0sTmwuZWFzZT1m
dW5jdGlvbihuKXt2YXIgdD10aGlzLmlkO3JldHVybiBhcmd1bWVudHMubGVuZ3Ro
PDE/dGhpcy5ub2RlKCkuX190cmFuc2l0aW9uX19bdF0uZWFzZTooImZ1bmN0aW9u
IiE9dHlwZW9mIG4mJihuPVZvLmVhc2UuYXBwbHkoVm8sYXJndW1lbnRzKSksUCh0
aGlzLGZ1bmN0aW9uKGUpe2UuX190cmFuc2l0aW9uX19bdF0uZWFzZT1ufSkpfSxO
bC5kZWxheT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLmlkO3JldHVybiBhcmd1bWVu
dHMubGVuZ3RoPDE/dGhpcy5ub2RlKCkuX190cmFuc2l0aW9uX19bdF0uZGVsYXk6
UCh0aGlzLCJmdW5jdGlvbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKGUscix1KXtlLl9f
dHJhbnNpdGlvbl9fW3RdLmRlbGF5PStuLmNhbGwoZSxlLl9fZGF0YV9fLHIsdSl9
OihuPStuLGZ1bmN0aW9uKGUpe2UuX190cmFuc2l0aW9uX19bdF0uZGVsYXk9bn0p
KX0sTmwuZHVyYXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5pZDtyZXR1cm4g
YXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpLl9fdHJhbnNpdGlvbl9fW3Rd
LmR1cmF0aW9uOlAodGhpcywiZnVuY3Rpb24iPT10eXBlb2Ygbj9mdW5jdGlvbihl
LHIsdSl7ZS5fX3RyYW5zaXRpb25fX1t0XS5kdXJhdGlvbj1NYXRoLm1heCgxLG4u
Y2FsbChlLGUuX19kYXRhX18scix1KSl9OihuPU1hdGgubWF4KDEsbiksZnVuY3Rp
b24oZSl7ZS5fX3RyYW5zaXRpb25fX1t0XS5kdXJhdGlvbj1ufSkpfSxObC5lYWNo
PWZ1bmN0aW9uKG4sdCl7dmFyIGU9dGhpcy5pZDtpZihhcmd1bWVudHMubGVuZ3Ro
PDIpe3ZhciByPUVsLHU9a2w7a2w9ZSxQKHRoaXMsZnVuY3Rpb24odCxyLHUpe0Vs
PXQuX190cmFuc2l0aW9uX19bZV0sbi5jYWxsKHQsdC5fX2RhdGFfXyxyLHUpfSks
RWw9cixrbD11fWVsc2UgUCh0aGlzLGZ1bmN0aW9uKHIpe3ZhciB1PXIuX190cmFu
c2l0aW9uX19bZV07KHUuZXZlbnR8fCh1LmV2ZW50PVZvLmRpc3BhdGNoKCJzdGFy
dCIsImVuZCIpKSkub24obix0KX0pO3JldHVybiB0aGlzfSxObC50cmFuc2l0aW9u
PWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQsZSxyLHU9dGhpcy5pZCxpPSsremwsbz1b
XSxhPTAsYz10aGlzLmxlbmd0aDtjPmE7YSsrKXtvLnB1c2gobj1bXSk7Zm9yKHZh
ciB0PXRoaXNbYV0sbD0wLHM9dC5sZW5ndGg7cz5sO2wrKykoZT10W2xdKSYmKHI9
T2JqZWN0LmNyZWF0ZShlLl9fdHJhbnNpdGlvbl9fW3VdKSxyLmRlbGF5Kz1yLmR1
cmF0aW9uLFVvKGUsbCxpLHIpKSxuLnB1c2goZSl9cmV0dXJuIFJvKG8saSl9LFZv
LnN2Zy5heGlzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtuLmVhY2goZnVuY3Rp
b24oKXt2YXIgbixsPVZvLnNlbGVjdCh0aGlzKSxzPXRoaXMuX19jaGFydF9ffHxl
LGY9dGhpcy5fX2NoYXJ0X189ZS5jb3B5KCksaD1udWxsPT1jP2YudGlja3M/Zi50
aWNrcy5hcHBseShmLGEpOmYuZG9tYWluKCk6YyxnPW51bGw9PXQ/Zi50aWNrRm9y
bWF0P2YudGlja0Zvcm1hdC5hcHBseShmLGEpOnd0OnQscD1sLnNlbGVjdEFsbCgi
LnRpY2siKS5kYXRhKGgsZiksdj1wLmVudGVyKCkuaW5zZXJ0KCJnIiwiLmRvbWFp
biIpLmF0dHIoImNsYXNzIiwidGljayIpLnN0eWxlKCJvcGFjaXR5IixFYSksZD1W
by50cmFuc2l0aW9uKHAuZXhpdCgpKS5zdHlsZSgib3BhY2l0eSIsRWEpLnJlbW92
ZSgpLG09Vm8udHJhbnNpdGlvbihwLm9yZGVyKCkpLnN0eWxlKCJvcGFjaXR5Iiwx
KSx5PXFpKGYpLHg9bC5zZWxlY3RBbGwoIi5kb21haW4iKS5kYXRhKFswXSksTT0o
eC5lbnRlcigpLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNzIiwiZG9tYWluIiks
Vm8udHJhbnNpdGlvbih4KSk7di5hcHBlbmQoImxpbmUiKSx2LmFwcGVuZCgidGV4
dCIpO3ZhciBfPXYuc2VsZWN0KCJsaW5lIiksYj1tLnNlbGVjdCgibGluZSIpLHc9
cC5zZWxlY3QoInRleHQiKS50ZXh0KGcpLFM9di5zZWxlY3QoInRleHQiKSxrPW0u
c2VsZWN0KCJ0ZXh0Iik7c3dpdGNoKHIpe2Nhc2UiYm90dG9tIjpuPWpvLF8uYXR0
cigieTIiLHUpLFMuYXR0cigieSIsTWF0aC5tYXgodSwwKStvKSxiLmF0dHIoIngy
IiwwKS5hdHRyKCJ5MiIsdSksay5hdHRyKCJ4IiwwKS5hdHRyKCJ5IixNYXRoLm1h
eCh1LDApK28pLHcuYXR0cigiZHkiLCIuNzFlbSIpLnN0eWxlKCJ0ZXh0LWFuY2hv
ciIsIm1pZGRsZSIpLE0uYXR0cigiZCIsIk0iK3lbMF0rIiwiK2krIlYwSCIreVsx
XSsiViIraSk7YnJlYWs7Y2FzZSJ0b3AiOm49am8sXy5hdHRyKCJ5MiIsLXUpLFMu
YXR0cigieSIsLShNYXRoLm1heCh1LDApK28pKSxiLmF0dHIoIngyIiwwKS5hdHRy
KCJ5MiIsLXUpLGsuYXR0cigieCIsMCkuYXR0cigieSIsLShNYXRoLm1heCh1LDAp
K28pKSx3LmF0dHIoImR5IiwiMGVtIikuc3R5bGUoInRleHQtYW5jaG9yIiwibWlk
ZGxlIiksTS5hdHRyKCJkIiwiTSIreVswXSsiLCIrLWkrIlYwSCIreVsxXSsiViIr
LWkpO2JyZWFrO2Nhc2UibGVmdCI6bj1IbyxfLmF0dHIoIngyIiwtdSksUy5hdHRy
KCJ4IiwtKE1hdGgubWF4KHUsMCkrbykpLGIuYXR0cigieDIiLC11KS5hdHRyKCJ5
MiIsMCksay5hdHRyKCJ4IiwtKE1hdGgubWF4KHUsMCkrbykpLmF0dHIoInkiLDAp
LHcuYXR0cigiZHkiLCIuMzJlbSIpLnN0eWxlKCJ0ZXh0LWFuY2hvciIsImVuZCIp
LE0uYXR0cigiZCIsIk0iKy1pKyIsIit5WzBdKyJIMFYiK3lbMV0rIkgiKy1pKTti
cmVhaztjYXNlInJpZ2h0IjpuPUhvLF8uYXR0cigieDIiLHUpLFMuYXR0cigieCIs
TWF0aC5tYXgodSwwKStvKSxiLmF0dHIoIngyIix1KS5hdHRyKCJ5MiIsMCksay5h
dHRyKCJ4IixNYXRoLm1heCh1LDApK28pLmF0dHIoInkiLDApLHcuYXR0cigiZHki
LCIuMzJlbSIpLnN0eWxlKCJ0ZXh0LWFuY2hvciIsInN0YXJ0IiksTS5hdHRyKCJk
IiwiTSIraSsiLCIreVswXSsiSDBWIit5WzFdKyJIIitpKX1pZihmLnJhbmdlQmFu
ZCl7dmFyIEU9ZixBPUUucmFuZ2VCYW5kKCkvMjtzPWY9ZnVuY3Rpb24obil7cmV0
dXJuIEUobikrQX19ZWxzZSBzLnJhbmdlQmFuZD9zPWY6ZC5jYWxsKG4sZik7di5j
YWxsKG4scyksbS5jYWxsKG4sZil9KX12YXIgdCxlPVZvLnNjYWxlLmxpbmVhcigp
LHI9TGwsdT02LGk9NixvPTMsYT1bMTBdLGM9bnVsbDtyZXR1cm4gbi5zY2FsZT1m
dW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4u
b3JpZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQg
aW4gVGw/dCsiIjpMbCxuKTpyfSxuLnRpY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIGFy
Z3VtZW50cy5sZW5ndGg/KGE9YXJndW1lbnRzLG4pOmF9LG4udGlja1ZhbHVlcz1m
dW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz10LG4pOmN9LG4u
dGlja0Zvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8o
dD1lLG4pOnR9LG4udGlja1NpemU9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRz
Lmxlbmd0aDtyZXR1cm4gZT8odT0rdCxpPSthcmd1bWVudHNbZS0xXSxuKTp1fSxu
LmlubmVyVGlja1NpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGg/KHU9K3Qsbik6dX0sbi5vdXRlclRpY2tTaXplPWZ1bmN0aW9uKHQpe3JldHVy
biBhcmd1bWVudHMubGVuZ3RoPyhpPSt0LG4pOml9LG4udGlja1BhZGRpbmc9ZnVu
Y3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89K3Qsbik6b30sbi50
aWNrU3ViZGl2aWRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgm
Jm59LG59O3ZhciBMbD0iYm90dG9tIixUbD17dG9wOjEscmlnaHQ6MSxib3R0b206
MSxsZWZ0OjF9O1ZvLnN2Zy5icnVzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oaSl7
aS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9Vm8uc2VsZWN0KHRoaXMpLnN0eWxlKCJw
b2ludGVyLWV2ZW50cyIsImFsbCIpLnN0eWxlKCItd2Via2l0LXRhcC1oaWdobGln
aHQtY29sb3IiLCJyZ2JhKDAsMCwwLDApIikub24oIm1vdXNlZG93bi5icnVzaCIs
dSkub24oInRvdWNoc3RhcnQuYnJ1c2giLHUpLG89aS5zZWxlY3RBbGwoIi5iYWNr
Z3JvdW5kIikuZGF0YShbMF0pO28uZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRy
KCJjbGFzcyIsImJhY2tncm91bmQiKS5zdHlsZSgidmlzaWJpbGl0eSIsImhpZGRl
biIpLnN0eWxlKCJjdXJzb3IiLCJjcm9zc2hhaXIiKSxpLnNlbGVjdEFsbCgiLmV4
dGVudCIpLmRhdGEoWzBdKS5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNs
YXNzIiwiZXh0ZW50Iikuc3R5bGUoImN1cnNvciIsIm1vdmUiKTt2YXIgYT1pLnNl
bGVjdEFsbCgiLnJlc2l6ZSIpLmRhdGEocCx3dCk7YS5leGl0KCkucmVtb3ZlKCks
YS5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIixmdW5jdGlvbihuKXty
ZXR1cm4icmVzaXplICIrbn0pLnN0eWxlKCJjdXJzb3IiLGZ1bmN0aW9uKG4pe3Jl
dHVybiBxbFtuXX0pLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLGZ1bmN0aW9uKG4p
e3JldHVybi9bZXddJC8udGVzdChuKT8tMzpudWxsfSkuYXR0cigieSIsZnVuY3Rp
b24obil7cmV0dXJuL15bbnNdLy50ZXN0KG4pPy0zOm51bGx9KS5hdHRyKCJ3aWR0
aCIsNikuYXR0cigiaGVpZ2h0Iiw2KS5zdHlsZSgidmlzaWJpbGl0eSIsImhpZGRl
biIpLGEuc3R5bGUoImRpc3BsYXkiLG4uZW1wdHkoKT8ibm9uZSI6bnVsbCk7dmFy
IHMsZj1Wby50cmFuc2l0aW9uKGkpLGg9Vm8udHJhbnNpdGlvbihvKTtjJiYocz1x
aShjKSxoLmF0dHIoIngiLHNbMF0pLmF0dHIoIndpZHRoIixzWzFdLXNbMF0pLGUo
ZikpLGwmJihzPXFpKGwpLGguYXR0cigieSIsc1swXSkuYXR0cigiaGVpZ2h0Iixz
WzFdLXNbMF0pLHIoZikpLHQoZil9KX1mdW5jdGlvbiB0KG4pe24uc2VsZWN0QWxs
KCIucmVzaXplIikuYXR0cigidHJhbnNmb3JtIixmdW5jdGlvbihuKXtyZXR1cm4i
dHJhbnNsYXRlKCIrc1srL2UkLy50ZXN0KG4pXSsiLCIrZlsrL15zLy50ZXN0KG4p
XSsiKSJ9KX1mdW5jdGlvbiBlKG4pe24uc2VsZWN0KCIuZXh0ZW50IikuYXR0cigi
eCIsc1swXSksbi5zZWxlY3RBbGwoIi5leHRlbnQsLm4+cmVjdCwucz5yZWN0Iiku
YXR0cigid2lkdGgiLHNbMV0tc1swXSl9ZnVuY3Rpb24gcihuKXtuLnNlbGVjdCgi
LmV4dGVudCIpLmF0dHIoInkiLGZbMF0pLG4uc2VsZWN0QWxsKCIuZXh0ZW50LC5l
PnJlY3QsLnc+cmVjdCIpLmF0dHIoImhlaWdodCIsZlsxXS1mWzBdKX1mdW5jdGlv
biB1KCl7ZnVuY3Rpb24gdSgpezMyPT1Wby5ldmVudC5rZXlDb2RlJiYoQ3x8KHg9
bnVsbCx6WzBdLT1zWzFdLHpbMV0tPWZbMV0sQz0yKSx5KCkpfWZ1bmN0aW9uIHAo
KXszMj09Vm8uZXZlbnQua2V5Q29kZSYmMj09QyYmKHpbMF0rPXNbMV0selsxXSs9
ZlsxXSxDPTAseSgpKX1mdW5jdGlvbiB2KCl7dmFyIG49Vm8ubW91c2UoXyksdT0h
MTtNJiYoblswXSs9TVswXSxuWzFdKz1NWzFdKSxDfHwoVm8uZXZlbnQuYWx0S2V5
Pyh4fHwoeD1bKHNbMF0rc1sxXSkvMiwoZlswXStmWzFdKS8yXSkselswXT1zWyso
blswXTx4WzBdKV0selsxXT1mWysoblsxXTx4WzFdKV0pOng9bnVsbCksRSYmZChu
LGMsMCkmJihlKFMpLHU9ITApLEEmJmQobixsLDEpJiYocihTKSx1PSEwKSx1JiYo
dChTKSx3KHt0eXBlOiJicnVzaCIsbW9kZTpDPyJtb3ZlIjoicmVzaXplIn0pKX1m
dW5jdGlvbiBkKG4sdCxlKXt2YXIgcix1LGE9cWkodCksYz1hWzBdLGw9YVsxXSxw
PXpbZV0sdj1lP2Y6cyxkPXZbMV0tdlswXTtyZXR1cm4gQyYmKGMtPXAsbC09ZCtw
KSxyPShlP2c6aCk/TWF0aC5tYXgoYyxNYXRoLm1pbihsLG5bZV0pKTpuW2VdLEM/
dT0ocis9cCkrZDooeCYmKHA9TWF0aC5tYXgoYyxNYXRoLm1pbihsLDIqeFtlXS1y
KSkpLHI+cD8odT1yLHI9cCk6dT1wKSx2WzBdIT1yfHx2WzFdIT11PyhlP289bnVs
bDppPW51bGwsdlswXT1yLHZbMV09dSwhMCk6dm9pZCAwfWZ1bmN0aW9uIG0oKXt2
KCksUy5zdHlsZSgicG9pbnRlci1ldmVudHMiLCJhbGwiKS5zZWxlY3RBbGwoIi5y
ZXNpemUiKS5zdHlsZSgiZGlzcGxheSIsbi5lbXB0eSgpPyJub25lIjpudWxsKSxW
by5zZWxlY3QoImJvZHkiKS5zdHlsZSgiY3Vyc29yIixudWxsKSxMLm9uKCJtb3Vz
ZW1vdmUuYnJ1c2giLG51bGwpLm9uKCJtb3VzZXVwLmJydXNoIixudWxsKS5vbigi
dG91Y2htb3ZlLmJydXNoIixudWxsKS5vbigidG91Y2hlbmQuYnJ1c2giLG51bGwp
Lm9uKCJrZXlkb3duLmJydXNoIixudWxsKS5vbigia2V5dXAuYnJ1c2giLG51bGwp
LE4oKSx3KHt0eXBlOiJicnVzaGVuZCJ9KX12YXIgeCxNLF89dGhpcyxiPVZvLnNl
bGVjdChWby5ldmVudC50YXJnZXQpLHc9YS5vZihfLGFyZ3VtZW50cyksUz1Wby5z
ZWxlY3QoXyksaz1iLmRhdHVtKCksRT0hL14obnxzKSQvLnRlc3QoaykmJmMsQT0h
L14oZXx3KSQvLnRlc3QoaykmJmwsQz1iLmNsYXNzZWQoImV4dGVudCIpLE49SSgp
LHo9Vm8ubW91c2UoXyksTD1Wby5zZWxlY3QoSm8pLm9uKCJrZXlkb3duLmJydXNo
Iix1KS5vbigia2V5dXAuYnJ1c2giLHApO2lmKFZvLmV2ZW50LmNoYW5nZWRUb3Vj
aGVzP0wub24oInRvdWNobW92ZS5icnVzaCIsdikub24oInRvdWNoZW5kLmJydXNo
IixtKTpMLm9uKCJtb3VzZW1vdmUuYnJ1c2giLHYpLm9uKCJtb3VzZXVwLmJydXNo
IixtKSxTLmludGVycnVwdCgpLnNlbGVjdEFsbCgiKiIpLmludGVycnVwdCgpLEMp
elswXT1zWzBdLXpbMF0selsxXT1mWzBdLXpbMV07ZWxzZSBpZihrKXt2YXIgVD0r
L3ckLy50ZXN0KGspLHE9Ky9ebi8udGVzdChrKTtNPVtzWzEtVF0telswXSxmWzEt
cV0telsxXV0selswXT1zW1RdLHpbMV09ZltxXX1lbHNlIFZvLmV2ZW50LmFsdEtl
eSYmKHg9ei5zbGljZSgpKTtTLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUi
KS5zZWxlY3RBbGwoIi5yZXNpemUiKS5zdHlsZSgiZGlzcGxheSIsbnVsbCksVm8u
c2VsZWN0KCJib2R5Iikuc3R5bGUoImN1cnNvciIsYi5zdHlsZSgiY3Vyc29yIikp
LHcoe3R5cGU6ImJydXNoc3RhcnQifSksdigpfXZhciBpLG8sYT1NKG4sImJydXNo
c3RhcnQiLCJicnVzaCIsImJydXNoZW5kIiksYz1udWxsLGw9bnVsbCxzPVswLDBd
LGY9WzAsMF0saD0hMCxnPSEwLHA9UmxbMF07cmV0dXJuIG4uZXZlbnQ9ZnVuY3Rp
b24obil7bi5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49YS5vZih0aGlzLGFyZ3VtZW50
cyksdD17eDpzLHk6ZixpOmksajpvfSxlPXRoaXMuX19jaGFydF9ffHx0O3RoaXMu
X19jaGFydF9fPXQsa2w/Vm8uc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKS5lYWNo
KCJzdGFydC5icnVzaCIsZnVuY3Rpb24oKXtpPWUuaSxvPWUuaixzPWUueCxmPWUu
eSxuKHt0eXBlOiJicnVzaHN0YXJ0In0pfSkudHdlZW4oImJydXNoOmJydXNoIixm
dW5jdGlvbigpe3ZhciBlPXB1KHMsdC54KSxyPXB1KGYsdC55KTtyZXR1cm4gaT1v
PW51bGwsZnVuY3Rpb24odSl7cz10Lng9ZSh1KSxmPXQueT1yKHUpLG4oe3R5cGU6
ImJydXNoIixtb2RlOiJyZXNpemUifSl9fSkuZWFjaCgiZW5kLmJydXNoIixmdW5j
dGlvbigpe2k9dC5pLG89dC5qLG4oe3R5cGU6ImJydXNoIixtb2RlOiJyZXNpemUi
fSksbih7dHlwZToiYnJ1c2hlbmQifSl9KToobih7dHlwZToiYnJ1c2hzdGFydCJ9
KSxuKHt0eXBlOiJicnVzaCIsbW9kZToicmVzaXplIn0pLG4oe3R5cGU6ImJydXNo
ZW5kIn0pKX0pfSxuLng9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGg/KGM9dCxwPVJsWyFjPDwxfCFsXSxuKTpjfSxuLnk9ZnVuY3Rpb24odCl7cmV0
dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9dCxwPVJsWyFjPDwxfCFsXSxuKTpsfSxu
LmNsYW1wPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjJiZs
PyhoPSEhdFswXSxnPSEhdFsxXSk6Yz9oPSEhdDpsJiYoZz0hIXQpLG4pOmMmJmw/
W2gsZ106Yz9oOmw/ZzpudWxsfSxuLmV4dGVudD1mdW5jdGlvbih0KXt2YXIgZSxy
LHUsYSxoO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjJiYoZT10WzBdLHI9dFsx
XSxsJiYoZT1lWzBdLHI9clswXSksaT1bZSxyXSxjLmludmVydCYmKGU9YyhlKSxy
PWMocikpLGU+ciYmKGg9ZSxlPXIscj1oKSwoZSE9c1swXXx8ciE9c1sxXSkmJihz
PVtlLHJdKSksbCYmKHU9dFswXSxhPXRbMV0sYyYmKHU9dVsxXSxhPWFbMV0pLG89
W3UsYV0sbC5pbnZlcnQmJih1PWwodSksYT1sKGEpKSx1PmEmJihoPXUsdT1hLGE9
aCksKHUhPWZbMF18fGEhPWZbMV0pJiYoZj1bdSxhXSkpLG4pOihjJiYoaT8oZT1p
WzBdLHI9aVsxXSk6KGU9c1swXSxyPXNbMV0sYy5pbnZlcnQmJihlPWMuaW52ZXJ0
KGUpLHI9Yy5pbnZlcnQocikpLGU+ciYmKGg9ZSxlPXIscj1oKSkpLGwmJihvPyh1
PW9bMF0sYT1vWzFdKToodT1mWzBdLGE9ZlsxXSxsLmludmVydCYmKHU9bC5pbnZl
cnQodSksYT1sLmludmVydChhKSksdT5hJiYoaD11LHU9YSxhPWgpKSksYyYmbD9b
W2UsdV0sW3IsYV1dOmM/W2Uscl06bCYmW3UsYV0pfSxuLmNsZWFyPWZ1bmN0aW9u
KCl7cmV0dXJuIG4uZW1wdHkoKXx8KHM9WzAsMF0sZj1bMCwwXSxpPW89bnVsbCks
bn0sbi5lbXB0eT1mdW5jdGlvbigpe3JldHVybiEhYyYmc1swXT09c1sxXXx8ISFs
JiZmWzBdPT1mWzFdfSxWby5yZWJpbmQobixhLCJvbiIpfTt2YXIgcWw9e246Im5z
LXJlc2l6ZSIsZToiZXctcmVzaXplIixzOiJucy1yZXNpemUiLHc6ImV3LXJlc2l6
ZSIsbnc6Im53c2UtcmVzaXplIixuZToibmVzdy1yZXNpemUiLHNlOiJud3NlLXJl
c2l6ZSIsc3c6Im5lc3ctcmVzaXplIn0sUmw9W1sibiIsImUiLCJzIiwidyIsIm53
IiwibmUiLCJzZSIsInN3Il0sWyJlIiwidyJdLFsibiIsInMiXSxbXV0sRGw9bmMu
Zm9ybWF0PW9jLnRpbWVGb3JtYXQsUGw9RGwudXRjLFVsPVBsKCIlWS0lbS0lZFQl
SDolTTolUy4lTFoiKTtEbC5pc289RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcm
JituZXcgRGF0ZSgiMjAwMC0wMS0wMVQwMDowMDowMC4wMDBaIik/Rm86VWwsRm8u
cGFyc2U9ZnVuY3Rpb24obil7dmFyIHQ9bmV3IERhdGUobik7cmV0dXJuIGlzTmFO
KHQpP251bGw6dH0sRm8udG9TdHJpbmc9VWwudG9TdHJpbmcsbmMuc2Vjb25kPVB0
KGZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdGMoMWUzKk1hdGguZmxvb3Iobi8xZTMp
KX0sZnVuY3Rpb24obix0KXtuLnNldFRpbWUobi5nZXRUaW1lKCkrMWUzKk1hdGgu
Zmxvb3IodCkpfSxmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRTZWNvbmRzKCl9KSxu
Yy5zZWNvbmRzPW5jLnNlY29uZC5yYW5nZSxuYy5zZWNvbmRzLnV0Yz1uYy5zZWNv
bmQudXRjLnJhbmdlLG5jLm1pbnV0ZT1QdChmdW5jdGlvbihuKXtyZXR1cm4gbmV3
IHRjKDZlNCpNYXRoLmZsb29yKG4vNmU0KSl9LGZ1bmN0aW9uKG4sdCl7bi5zZXRU
aW1lKG4uZ2V0VGltZSgpKzZlNCpNYXRoLmZsb29yKHQpKX0sZnVuY3Rpb24obil7
cmV0dXJuIG4uZ2V0TWludXRlcygpfSksbmMubWludXRlcz1uYy5taW51dGUucmFu
Z2UsbmMubWludXRlcy51dGM9bmMubWludXRlLnV0Yy5yYW5nZSxuYy5ob3VyPVB0
KGZ1bmN0aW9uKG4pe3ZhciB0PW4uZ2V0VGltZXpvbmVPZmZzZXQoKS82MDtyZXR1
cm4gbmV3IHRjKDM2ZTUqKE1hdGguZmxvb3Iobi8zNmU1LXQpK3QpKX0sZnVuY3Rp
b24obix0KXtuLnNldFRpbWUobi5nZXRUaW1lKCkrMzZlNSpNYXRoLmZsb29yKHQp
KX0sZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0SG91cnMoKX0pLG5jLmhvdXJzPW5j
LmhvdXIucmFuZ2UsbmMuaG91cnMudXRjPW5jLmhvdXIudXRjLnJhbmdlLG5jLm1v
bnRoPVB0KGZ1bmN0aW9uKG4pe3JldHVybiBuPW5jLmRheShuKSxuLnNldERhdGUo
MSksbn0sZnVuY3Rpb24obix0KXtuLnNldE1vbnRoKG4uZ2V0TW9udGgoKSt0KX0s
ZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0TW9udGgoKX0pLG5jLm1vbnRocz1uYy5t
b250aC5yYW5nZSxuYy5tb250aHMudXRjPW5jLm1vbnRoLnV0Yy5yYW5nZTt2YXIg
amw9WzFlMyw1ZTMsMTVlMywzZTQsNmU0LDNlNSw5ZTUsMThlNSwzNmU1LDEwOGU1
LDIxNmU1LDQzMmU1LDg2NGU1LDE3MjhlNSw2MDQ4ZTUsMjU5MmU2LDc3NzZlNiwz
MTUzNmU2XSxIbD1bW25jLnNlY29uZCwxXSxbbmMuc2Vjb25kLDVdLFtuYy5zZWNv
bmQsMTVdLFtuYy5zZWNvbmQsMzBdLFtuYy5taW51dGUsMV0sW25jLm1pbnV0ZSw1
XSxbbmMubWludXRlLDE1XSxbbmMubWludXRlLDMwXSxbbmMuaG91ciwxXSxbbmMu
aG91ciwzXSxbbmMuaG91ciw2XSxbbmMuaG91ciwxMl0sW25jLmRheSwxXSxbbmMu
ZGF5LDJdLFtuYy53ZWVrLDFdLFtuYy5tb250aCwxXSxbbmMubW9udGgsM10sW25j
LnllYXIsMV1dLEZsPURsLm11bHRpKFtbIi4lTCIsZnVuY3Rpb24obil7cmV0dXJu
IG4uZ2V0TWlsbGlzZWNvbmRzKCl9XSxbIjolUyIsZnVuY3Rpb24obil7cmV0dXJu
IG4uZ2V0U2Vjb25kcygpfV0sWyIlSTolTSIsZnVuY3Rpb24obil7cmV0dXJuIG4u
Z2V0TWludXRlcygpfV0sWyIlSSAlcCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0
SG91cnMoKX1dLFsiJWEgJWQiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldERheSgp
JiYxIT1uLmdldERhdGUoKX1dLFsiJWIgJWQiLGZ1bmN0aW9uKG4pe3JldHVybiAx
IT1uLmdldERhdGUoKX1dLFsiJUIiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1v
bnRoKCl9XSxbIiVZIixTZV1dKSxPbD17cmFuZ2U6ZnVuY3Rpb24obix0LGUpe3Jl
dHVybiBWby5yYW5nZShNYXRoLmNlaWwobi9lKSplLCt0LGUpLm1hcChZbyl9LGZs
b29yOnd0LGNlaWw6d3R9O0hsLnllYXI9bmMueWVhcixuYy5zY2FsZT1mdW5jdGlv
bigpe3JldHVybiBPbyhWby5zY2FsZS5saW5lYXIoKSxIbCxGbCl9O3ZhciBZbD1I
bC5tYXAoZnVuY3Rpb24obil7cmV0dXJuW25bMF0udXRjLG5bMV1dfSksSWw9UGwu
bXVsdGkoW1siLiVMIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENNaWxsaXNl
Y29uZHMoKX1dLFsiOiVTIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENTZWNv
bmRzKCl9XSxbIiVJOiVNIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENNaW51
dGVzKCl9XSxbIiVJICVwIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENIb3Vy
cygpfV0sWyIlYSAlZCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0VVRDRGF5KCkm
JjEhPW4uZ2V0VVRDRGF0ZSgpfV0sWyIlYiAlZCIsZnVuY3Rpb24obil7cmV0dXJu
IDEhPW4uZ2V0VVRDRGF0ZSgpfV0sWyIlQiIsZnVuY3Rpb24obil7cmV0dXJuIG4u
Z2V0VVRDTW9udGgoKX1dLFsiJVkiLFNlXV0pO1lsLnllYXI9bmMueWVhci51dGMs
bmMuc2NhbGUudXRjPWZ1bmN0aW9uKCl7cmV0dXJuIE9vKFZvLnNjYWxlLmxpbmVh
cigpLFlsLElsKX0sVm8udGV4dD1TdChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXNw
b25zZVRleHR9KSxWby5qc29uPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGt0KG4sImFw
cGxpY2F0aW9uL2pzb24iLElvLHQpfSxWby5odG1sPWZ1bmN0aW9uKG4sdCl7cmV0
dXJuIGt0KG4sInRleHQvaHRtbCIsWm8sdCl9LFZvLnhtbD1TdChmdW5jdGlvbihu
KXtyZXR1cm4gbi5yZXNwb25zZVhNTH0pLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZp
bmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFZvKToib2JqZWN0Ij09dHlwZW9mIG1vZHVs
ZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1WbyksdGhpcy5kMz1W
b30oKTs8L3NjcmlwdD4NCiAgICAgIDwhLS0gbWluaW1pemVkIGpxdWVyeSBqcyBs
aWJyYXJ5IC0tPg0KICAgICAgPHNjcmlwdD4vKiEgalF1ZXJ5IHYyLjEuMSB8IChj
KSAyMDA1LCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIHwganF1ZXJ5Lm9y
Zy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9k
dWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBv
cnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVu
dCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRo
IGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5
cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxk
PWMuc2xpY2UsZT1jLmNvbmNhdCxmPWMucHVzaCxnPWMuaW5kZXhPZixoPXt9LGk9
aC50b1N0cmluZyxqPWguaGFzT3duUHJvcGVydHksaz17fSxsPWEuZG9jdW1lbnQs
bT0iMi4xLjEiLG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IG4uZm4uaW5pdChh
LGIpfSxvPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxwPS9e
LW1zLS8scT0vLShbXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIu
dG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3Ry
dWN0b3I6bixzZWxlY3RvcjoiIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7
cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxs
IT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06ZC5jYWxsKHRoaXMp
fSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bi5tZXJnZSh0aGlzLmNvbnN0
cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGIuY29udGV4dD10
aGlzLmNvbnRleHQsYn0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmVhY2go
dGhpcyxhLGIpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNr
KG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0p
KX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBs
eSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlz
LmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpm
dW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1
cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpm
dW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0
b3IobnVsbCl9LHB1c2g6Zixzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4u
ZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9
YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9y
KCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgr
KyksIm9iamVjdCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxo
PT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRz
W2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5p
c1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMm
Jm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9
LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0
dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhtK01hdGgucmFuZG9t
KCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24o
YSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0
aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT1uLnR5cGUoYSl9LGlz
QXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4g
bnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0
dXJuIW4uaXNBcnJheShhKSYmYS1wYXJzZUZsb2F0KGEpPj0wfSxpc1BsYWluT2Jq
ZWN0OmZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiIT09bi50eXBlKGEpfHxhLm5v
ZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFqLmNhbGwo
YS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKT8hMTohMH0s
aXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVy
biExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2Er
IiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9oW2ku
Y2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9u
KGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZigi
dXNlIHN0cmljdCIpPyhiPWwuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0
PWEsbC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQo
YikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFj
ZShwLCJtcy0iKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7
cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIu
dG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9
YS5sZW5ndGgsZz1zKGEpO2lmKGMpe2lmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIu
YXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9
Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpe2Zvcig7Zj5l
O2UrKylpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrfWVsc2Ug
Zm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFr
O3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihh
KyIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIg
Yz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMs
InN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpmLmNhbGwoYyxhKSksY30saW5BcnJh
eTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6Zy5jYWxsKGIsYSxj
KX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxl
PWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUs
YX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5s
ZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFb
Zl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGY9MCxnPWEu
bGVuZ3RoLGg9cyhhKSxpPVtdO2lmKGgpZm9yKDtnPmY7ZisrKWQ9YihhW2ZdLGYs
YyksbnVsbCE9ZCYmaS5wdXNoKGQpO2Vsc2UgZm9yKGYgaW4gYSlkPWIoYVtmXSxm
LGMpLG51bGwhPWQmJmkucHVzaChkKTtyZXR1cm4gZS5hcHBseShbXSxpKX0sZ3Vp
ZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO3JldHVybiJzdHJpbmci
PT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGU9
ZC5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHko
Ynx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5n
dWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3Vw
cG9ydDprfSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24g
QXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0
aW9uKGEsYil7aFsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTtm
dW5jdGlvbiBzKGEpe3ZhciBiPWEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVybiJm
dW5jdGlvbiI9PT1jfHxuLmlzV2luZG93KGEpPyExOjE9PT1hLm5vZGVUeXBlJiZi
PyEwOiJhcnJheSI9PT1jfHwwPT09Ynx8Im51bWJlciI9PXR5cGVvZiBiJiZiPjAm
JmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGks
aixrLGwsbSxuLG8scCxxLHIscyx0LHU9InNpenpsZSIrLW5ldyBEYXRlLHY9YS5k
b2N1bWVudCx3PTAseD0wLHk9Z2IoKSx6PWdiKCksQT1nYigpLEI9ZnVuY3Rpb24o
YSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPSJ1bmRlZmluZWQiLEQ9MTw8
MzEsRT17fS5oYXNPd25Qcm9wZXJ0eSxGPVtdLEc9Ri5wb3AsSD1GLnB1c2gsST1G
LnB1c2gsSj1GLnNsaWNlLEs9Ri5pbmRleE9mfHxmdW5jdGlvbihhKXtmb3IodmFy
IGI9MCxjPXRoaXMubGVuZ3RoO2M+YjtiKyspaWYodGhpc1tiXT09PWEpcmV0dXJu
IGI7cmV0dXJuLTF9LEw9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3Vz
fGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxs
b29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixNPSJb
XFx4MjBcXHRcXHJcXG5cXGZdIixOPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1c
XHhhMF0pKyIsTz1OLnJlcGxhY2UoInciLCJ3IyIpLFA9IlxcWyIrTSsiKigiK04r
IikoPzoiK00rIiooWypeJHwhfl0/PSkiK00rIiooPzonKCg/OlxcXFwufFteXFxc
XCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitPKyIpKXwpIitN
KyIqXFxdIixRPSI6KCIrTisiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkq
KSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwo
KVtcXF1dfCIrUCsiKSopfC4qKVxcKXwpIixSPW5ldyBSZWdFeHAoIl4iK00rIit8
KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTSsiKyQiLCJnIiksUz1uZXcgUmVn
RXhwKCJeIitNKyIqLCIrTSsiKiIpLFQ9bmV3IFJlZ0V4cCgiXiIrTSsiKihbPit+
XXwiK00rIikiK00rIioiKSxVPW5ldyBSZWdFeHAoIj0iK00rIiooW15cXF0nXCJd
Kj8pIitNKyIqXFxdIiwiZyIpLFY9bmV3IFJlZ0V4cChRKSxXPW5ldyBSZWdFeHAo
Il4iK08rIiQiKSxYPXtJRDpuZXcgUmVnRXhwKCJeIygiK04rIikiKSxDTEFTUzpu
ZXcgUmVnRXhwKCJeXFwuKCIrTisiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTi5y
ZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrUCksUFNF
VURPOm5ldyBSZWdFeHAoIl4iK1EpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8
Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIr
TSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCki
K00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAo
Il4oPzoiK0wrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitN
KyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpc
XCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJp
Iil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9e
aFxkJC9pLCQ9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLF89L14oPzojKFtcdy1d
Kyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxhYj0vWyt+XS8sYmI9Lyd8XFwvZyxjYj1u
ZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK00rIj98KCIrTSsiKXwuKSIs
ImlnIiksZGI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1
cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpT
dHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9O3Ry
eXtJLmFwcGx5KEY9Si5jYWxsKHYuY2hpbGROb2Rlcyksdi5jaGlsZE5vZGVzKSxG
W3YuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGViKXtJPXthcHBs
eTpGLmxlbmd0aD9mdW5jdGlvbihhLGIpe0guYXBwbHkoYSxKLmNhbGwoYikpfTpm
dW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109Yltk
KytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBmYihhLGIsZCxlKXt2YXIgZixo
LGosayxsLG8scixzLHcseDtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1u
JiZtKGIpLGI9Ynx8bixkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0
dXJuIGQ7aWYoMSE9PShrPWIubm9kZVR5cGUpJiY5IT09aylyZXR1cm5bXTtpZihw
JiYhZSl7aWYoZj1fLmV4ZWMoYSkpaWYoaj1mWzFdKXtpZig5PT09ayl7aWYoaD1i
LmdldEVsZW1lbnRCeUlkKGopLCFofHwhaC5wYXJlbnROb2RlKXJldHVybiBkO2lm
KGguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNlIGlmKGIub3duZXJEb2N1
bWVudCYmKGg9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGopKSYmdChi
LGgpJiZoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZXtpZihmWzJdKXJl
dHVybiBJLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigo
aj1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRz
QnlDbGFzc05hbWUpcmV0dXJuIEkuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFz
c05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11
LHc9Yix4PTk9PT1rJiZhLDE9PT1rJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9M
b3dlckNhc2UoKSl7bz1nKGEpLChyPWIuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXIu
cmVwbGFjZShiYiwiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscykscz0iW2lk
PSciK3MrIiddICIsbD1vLmxlbmd0aDt3aGlsZShsLS0pb1tsXT1zK3FiKG9bbF0p
O3c9YWIudGVzdChhKSYmb2IoYi5wYXJlbnROb2RlKXx8Yix4PW8uam9pbigiLCIp
fWlmKHgpdHJ5e3JldHVybiBJLmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgp
KSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKCJpZCIp
fX19cmV0dXJuIGkoYS5yZXBsYWNlKFIsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGdi
KCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIp
PmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1y
ZXR1cm4gYn1mdW5jdGlvbiBoYihhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9u
IGliKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEh
YShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5w
YXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamIoYSxi
KXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRy
SGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24ga2IoYSxiKXt2YXIgYz1iJiZhLGQ9YyYm
MT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8
fEQpLSh+YS5zb3VyY2VJbmRleHx8RCk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxl
KGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0x
fWZ1bmN0aW9uIGxiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVO
YW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9
fWZ1bmN0aW9uIG1iKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVO
YW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09
PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBuYihhKXtyZXR1cm4gaGIoZnVuY3Rp
b24oYil7cmV0dXJuIGI9K2IsaGIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10s
Yy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tl
XT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gYSYmdHlw
ZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DJiZhfWM9ZmIuc3VwcG9ydD17
fSxmPWZiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1l
bnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVO
YW1lOiExfSxtPWZiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9h
Lm93bmVyRG9jdW1lbnR8fGE6dixnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1u
JiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KG49ZSxvPWUuZG9j
dW1lbnRFbGVtZW50LHA9IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExp
c3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe20o
KX0sITEpOmcuYXR0YWNoRXZlbnQmJmcuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixm
dW5jdGlvbigpe20oKX0pKSxjLmF0dHJpYnV0ZXM9aWIoZnVuY3Rpb24oYSl7cmV0
dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIp
fSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pYihmdW5jdGlvbihhKXtyZXR1cm4g
YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50
c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFt
ZT0kLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmaWIoZnVuY3Rpb24o
YSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2
IGNsYXNzPSdhIGknPjwvZGl2PiIsYS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIs
Mj09PWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLGMuZ2V0
QnlJZD1pYihmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11
LCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZSh1KS5s
ZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5
cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QyYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50
QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVy
LklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYik7cmV0dXJuIGZ1
bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9fSk6KGRl
bGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5y
ZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGEu
Z2V0QXR0cmlidXRlTm9kZSE9PUMmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTty
ZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRz
QnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1l
bnRzQnlUYWdOYW1lIT09Qz9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOnZvaWQg
MH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNC
eVRhZ05hbWUoYSk7aWYoIioiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9k
ZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNT
PWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4g
dHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUMmJnA/Yi5nZXRFbGVt
ZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT0kLnRl
c3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYihmdW5jdGlvbihhKXthLmlubmVy
SFRNTD0iPHNlbGVjdCBtc2FsbG93Y2xpcD0nJz48b3B0aW9uIHNlbGVjdGVkPScn
Pjwvb3B0aW9uPjwvc2VsZWN0PiIsYS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxv
d2NsaXBePScnXSIpLmxlbmd0aCYmcS5wdXNoKCJbKl4kXT0iK00rIiooPzonJ3xc
IlwiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8
cS5wdXNoKCJcXFsiK00rIiooPzp2YWx1ZXwiK0wrIikiKSxhLnF1ZXJ5U2VsZWN0
b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIil9KSxp
YihmdW5jdGlvbihhKXt2YXIgYj1lLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yi5z
ZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxhLmFwcGVuZENoaWxkKGIpLnNl
dEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1l
PWRdIikubGVuZ3RoJiZxLnB1c2goIm5hbWUiK00rIipbKl4kfCF+XT89IiksYS5x
dWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8cS5wdXNoKCI6ZW5h
YmxlZCIsIjpkaXNhYmxlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHEu
cHVzaCgiLC4qOiIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj0kLnRlc3Qocz1vLm1h
dGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxl
Y3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkm
JmliKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsImRp
diIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixRKX0pLHE9cS5s
ZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBS
ZWdFeHAoci5qb2luKCJ8IikpLGI9JC50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9z
aXRpb24pLHQ9Ynx8JC50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFy
IGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFy
ZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMu
Y29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9u
JiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEs
Yil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDty
ZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAs
MDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9j
dW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEp
PT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlv
bihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBv
c2l0aW9uKGEpPT09ZD9hPT09ZXx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEp
Py0xOmI9PT1lfHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0suY2Fs
bChrLGEpLUsuY2FsbChrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lm
KGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGY9YS5wYXJlbnROb2RlLGc9
Yi5wYXJlbnROb2RlLGg9W2FdLGk9W2JdO2lmKCFmfHwhZylyZXR1cm4gYT09PWU/
LTE6Yj09PWU/MTpmPy0xOmc/MTprP0suY2FsbChrLGEpLUsuY2FsbChrLGIpOjA7
aWYoZj09PWcpcmV0dXJuIGtiKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2Rl
KWgudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaS51bnNoaWZ0
KGMpO3doaWxlKGhbZF09PT1pW2RdKWQrKztyZXR1cm4gZD9rYihoW2RdLGlbZF0p
OmhbZF09PT12Py0xOmlbZF09PT12PzE6MH0sZSk6bn0sZmIubWF0Y2hlcz1mdW5j
dGlvbihhLGIpe3JldHVybiBmYihhLG51bGwsbnVsbCxiKX0sZmIubWF0Y2hlc1Nl
bGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1u
JiZtKGEpLGI9Yi5yZXBsYWNlKFUsIj0nJDEnXSIpLCEoIWMubWF0Y2hlc1NlbGVj
dG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1z
LmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50
JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJl
dHVybiBmYihiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYi5jb250YWlucz1mdW5j
dGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0
KGEsYil9LGZiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxh
KSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0s
Zj1lJiZFLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIs
IXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/
YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5z
cGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJv
dyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Np
b246ICIrYSl9LGZiLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxl
PTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUm
JmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2Zd
JiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVy
biBrPW51bGwsYX0sZT1mYi5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIs
ZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7
aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRD
b250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1l
KGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNl
IHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmIuc2VsZWN0b3Jz
PXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGIsbWF0Y2g6WCxhdHRySGFu
ZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixm
aXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlv
dXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9
fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5y
ZXBsYWNlKGNiLGRiKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFj
ZShjYixkYiksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGlj
ZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93
ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZiLmVycm9y
KGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFb
M118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVsz
XSkpOmFbM10mJmZiLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2
YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBYLkNISUxELnRlc3QoYVswXSk/bnVs
bDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlYudGVzdChjKSYmKGI9Zyhj
LCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYo
YVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2Uo
MCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2Uo
Y2IsZGIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3Jl
dHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFt
ZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlb
YSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2ErIigi
K00rInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmlu
ZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fHR5cGVvZiBhLmdl
dEF0dHJpYnV0ZSE9PUMmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0s
QVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZi
LmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9
PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4
T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUu
c2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlKyIgIikuaW5kZXhP
ZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09
YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0i
bnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9m
LXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVy
biEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixv
LHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFy
ZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaDtp
ZihxKXtpZihmKXt3aGlsZShwKXtsPWI7d2hpbGUobD1sW3BdKWlmKGg/bC5ub2Rl
TmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bC5ub2RlVHlwZSlyZXR1cm4hMTtv
PXA9Im9ubHkiPT09YSYmIW8mJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYobz1b
Zz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe2s9cVt1XXx8KHFbdV09
e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJd
LGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1u
PTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2Fd
PVt3LG4sbV07YnJlYWt9fWVsc2UgaWYocyYmKGo9KGJbdV18fChiW3VdPXt9KSlb
YV0pJiZqWzBdPT09dyltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8
KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9
PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYocyYmKChsW3VdfHwobFt1XT17fSkp
W2FdPVt3LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09
PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNl
dWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGZiLmVycm9y
KCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxl
bmd0aD4xPyhjPVthLGEsIiIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5
KGEudG9Mb3dlckNhc2UoKSk/aGIoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxi
KSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUsuY2FsbChhLGZbZ10pLGFbZF09IShj
W2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBz
ZXVkb3M6e25vdDpoYihmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJl
cGxhY2UoUiwiJDEiKSk7cmV0dXJuIGRbdV0/aGIoZnVuY3Rpb24oYSxiLGMsZSl7
dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1n
W2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4g
YlswXT1hLGQoYixudWxsLGYsYyksIWMucG9wKCl9fSksaGFzOmhiKGZ1bmN0aW9u
KGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmIoYSxiKS5sZW5ndGg+MH19
KSxjb250YWluczpoYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0
dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEp
Pi0xfX0pLGxhbmc6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHwiIil8
fGZiLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKGNi
LGRiKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9i
Lmxhbmc6Yi5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGIuZ2V0QXR0cmlidXRl
KCJsYW5nIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5p
bmRleE9mKGErIi0iKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2Rl
VHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9j
YXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIu
aWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlv
bihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxu
Lmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxl
bmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2Fi
bGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6
ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVy
biJpbnB1dCI9PT1iJiYhIWEuY2hlY2tlZHx8Im9wdGlvbiI9PT1iJiYhIWEuc2Vs
ZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUm
JmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1w
dHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJs
aW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1
bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5j
dGlvbihhKXtyZXR1cm4gWi50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlv
bihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24o
YSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9
PT1iJiYiYnV0dG9uIj09PWEudHlwZXx8ImJ1dHRvbiI9PT1ifSx0ZXh0OmZ1bmN0
aW9uKGEpe3ZhciBiO3JldHVybiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJD
YXNlKCkmJiJ0ZXh0Ij09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRl
KCJ0eXBlIikpfHwidGV4dCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYihm
dW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmIoZnVuY3Rpb24oYSxiKXtyZXR1
cm5bYi0xXX0pLGVxOm5iKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpj
XX0pLGV2ZW46bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9Milh
LnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFy
IGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYihmdW5jdGlv
bihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTty
ZXR1cm4gYX0pLGd0Om5iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2Mr
YjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9
ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6
ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYihiKTtmb3Io
YiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYihiKTtmdW5j
dGlvbiBwYigpe31wYi5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNl
dEZpbHRlcnM9bmV3IHBiLGc9ZmIudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIg
YyxlLGYsZyxoLGksaixrPXpbYSsiICJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNl
KDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1TLmV4
ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2go
Zj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7
dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLCIgIil9KSxoPWguc2xpY2UoYy5s
ZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9WFtnXS5leGVjKGgpKXx8altn
XSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5
cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVh
a31yZXR1cm4gYj9oLmxlbmd0aDpoP2ZiLmVycm9yKGEpOnooYSxpKS5zbGljZSgw
KX07ZnVuY3Rpb24gcWIoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPSIiO2M+
YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiByYihhLGIsYyl7
dmFyIGQ9Yi5kaXIsZT1jJiYicGFyZW50Tm9kZSI9PT1kLGY9eCsrO3JldHVybiBi
LmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9k
ZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgs
aSxqPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8
fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09
Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3VdfHwoYlt1XT17fSksKGg9aVtkXSkmJmhb
MF09PT13JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJd
PWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gc2IoYSl7cmV0dXJuIGEubGVu
Z3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlp
ZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24g
dGIoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylmYihhLGJb
ZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdWIoYSxiLGMsZCxlKXtmb3IodmFyIGYs
Zz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYm
KCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4g
Z31mdW5jdGlvbiB2YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD12
YihkKSksZSYmIWVbdV0mJihlPXZiKGUsZikpLGhiKGZ1bmN0aW9uKGYsZyxoLGkp
e3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHRiKGJ8fCIqIixo
Lm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnViKHAsbSxhLGgsaSks
cj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj11
YihyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10p
JiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9
W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwp
O2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkm
JihqPWU/Sy5jYWxsKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVs
c2Ugcj11YihyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxn
LHIsaSk6SS5hcHBseShnLHIpfSl9ZnVuY3Rpb24gd2IoYSl7Zm9yKHZhciBiLGMs
ZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxh
dGl2ZVsiICJdLGk9Zz8xOjAsaz1yYihmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9
LGgsITApLGw9cmIoZnVuY3Rpb24oYSl7cmV0dXJuIEsuY2FsbChiLGEpPi0xfSxo
LCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7cmV0dXJuIWcmJihkfHxjIT09ail8fCgo
Yj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSl9XTtmPmk7aSsrKWlmKGM9
ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3JiKHNiKG0pLGMpXTtlbHNle2lmKGM9
ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1
XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJy
ZWFrO3JldHVybiB2YihpPjEmJnNiKG0pLGk+MSYmcWIoYS5zbGljZSgwLGktMSku
Y29uY2F0KHt2YWx1ZToiICI9PT1hW2ktMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFj
ZShSLCIkMSIpLGMsZT5pJiZ3YihhLnNsaWNlKGksZSkpLGY+ZSYmd2IoYT1hLnNs
aWNlKGUpKSxmPmUmJnFiKGEpKX1tLnB1c2goYyl9cmV0dXJuIHNiKG0pfWZ1bmN0
aW9uIHhiKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5j
dGlvbihmLGcsaCxpLGspe3ZhciBsLG0sbyxwPTAscT0iMCIscj1mJiZbXSxzPVtd
LHQ9aix1PWZ8fGUmJmQuZmluZC5UQUcoIioiLGspLHY9dys9bnVsbD09dD8xOk1h
dGgucmFuZG9tKCl8fC4xLHg9dS5sZW5ndGg7Zm9yKGsmJihqPWchPT1uJiZnKTtx
IT09eCYmbnVsbCE9KGw9dVtxXSk7cSsrKXtpZihlJiZsKXttPTA7d2hpbGUobz1h
W20rK10paWYobyhsLGcsaCkpe2kucHVzaChsKTticmVha31rJiYodz12KX1jJiYo
KGw9IW8mJmwpJiZwLS0sZiYmci5wdXNoKGwpKX1pZihwKz1xLGMmJnEhPT1wKXtt
PTA7d2hpbGUobz1iW20rK10pbyhyLHMsZyxoKTtpZihmKXtpZihwPjApd2hpbGUo
cS0tKXJbcV18fHNbcV18fChzW3FdPUcuY2FsbChpKSk7cz11YihzKX1JLmFwcGx5
KGkscyksayYmIWYmJnMubGVuZ3RoPjAmJnArYi5sZW5ndGg+MSYmZmIudW5pcXVl
U29ydChpKX1yZXR1cm4gayYmKHc9dixqPXQpLHJ9O3JldHVybiBjP2hiKGYpOmZ9
cmV0dXJuIGg9ZmIuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1b
XSxmPUFbYSsiICJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxl
KGMtLSlmPXdiKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx4
YihlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9ZmIuc2VsZWN0PWZ1bmN0
aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj0iZnVuY3Rpb24iPT10eXBlb2Yg
YSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5s
ZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJiJJRCI9
PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZk
LnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNb
MF0ucmVwbGFjZShjYixkYiksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1i
LnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1p
PVgubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lm
KGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRb
bF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxhYi50ZXN0KGpb
MF0udHlwZSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwx
KSxhPWYubGVuZ3RoJiZxYihqKSwhYSlyZXR1cm4gSS5hcHBseShlLGYpLGU7YnJl
YWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSxhYi50ZXN0KGEpJiZvYihi
LnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29y
dChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5z
b3J0RGV0YWNoZWQ9aWIoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9j
dW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGliKGZ1bmN0
aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMi
PT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGpiKCJ0eXBl
fGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9p
ZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6
Mil9KSxjLmF0dHJpYnV0ZXMmJmliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVy
SFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVl
IiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8
fGpiKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09
YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0p
LGliKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlz
YWJsZWQiKX0pfHxqYihMLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92
b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0
ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYn0oYSk7bi5m
aW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1
ZG9zLG4udW5pcXVlPXQudW5pcXVlU29ydCxuLnRleHQ9dC5nZXRUZXh0LG4uaXNY
TUxEb2M9dC5pc1hNTCxuLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9bi5leHBy
Lm1hdGNoLm5lZWRzQ29udGV4dCx2PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwp
JC8sdz0vXi5bXjojXFtcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG4uaXNG
dW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4h
IWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVw
KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT10
eXBlb2YgYil7aWYody50ZXN0KGIpKXJldHVybiBuLmZpbHRlcihiLGEsYyk7Yj1u
LmZpbHRlcihiLGEpfXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4g
Zy5jYWxsKGIsYSk+PTAhPT1jfSl9bi5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3Zh
ciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0
aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tk
XTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVy
biAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24o
YSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZigic3RyaW5nIiE9
dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG4oYSkuZmlsdGVyKGZ1bmN0
aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG4uY29udGFpbnMoZVtiXSx0aGlzKSly
ZXR1cm4hMH0pKTtmb3IoYj0wO2M+YjtiKyspbi5maW5kKGEsZVtiXSxkKTtyZXR1
cm4gZD10aGlzLnB1c2hTdGFjayhjPjE/bi51bmlxdWUoZCk6ZCksZC5zZWxlY3Rv
cj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2E6YSxkfSxmaWx0ZXI6
ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwh
MSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhp
cyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXgodGhpcywic3Ry
aW5nIj09dHlwZW9mIGEmJnUudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9
fSk7dmFyIHksej0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQv
LEE9bi5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4g
dGhpcztpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKGM9IjwiPT09YVswXSYmIj4i
PT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4
ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eSkuZmlu
ZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1i
IGluc3RhbmNlb2Ygbj9iWzBdOmIsbi5tZXJnZSh0aGlzLG4ucGFyc2VIVE1MKGNb
MV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6bCwhMCkpLHYudGVz
dChjWzFdKSYmbi5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpbi5pc0Z1bmN0
aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0
dXJuIHRoaXN9cmV0dXJuIGQ9bC5nZXRFbGVtZW50QnlJZChjWzJdKSxkJiZkLnBh
cmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZCksdGhpcy5jb250ZXh0
PWwsdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMu
Y29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpuLmlzRnVuY3Rp
b24oYSk/InVuZGVmaW5lZCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShu
KToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rv
cix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07
QS5wcm90b3R5cGU9bi5mbix5PW4obCk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYo
PzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDoh
MCxwcmV2OiEwfTtuLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1b
XSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlm
KDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChh
KX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTth
O2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChh
KTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBi
PW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlv
bigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0p
KXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0w
LGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVv
ZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2Rd
O2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cu
aW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0
b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2so
Zi5sZW5ndGg+MT9uLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0
dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP2cuY2FsbChuKGEpLHRoaXNbMF0pOmcu
Y2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJl
bnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVu
Y3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWUobi5tZXJn
ZSh0aGlzLmdldCgpLG4oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1
cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2Jq
ZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe3doaWxlKChhPWFbYl0p
JiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9bi5lYWNoKHtwYXJlbnQ6ZnVuY3Rp
b24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5
cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJw
YXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJu
IG4uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVy
biBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQo
YSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJu
IG4uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0
dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rp
b24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZV
bnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2li
bGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmco
KGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0
aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6
ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxuLm1lcmdlKFtd
LGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24o
YyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xp
Y2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVy
KGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3Qo
YSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFMr
L2csRj17fTtmdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG4uZWFj
aChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW4uQ2Fs
bGJhY2tzPWZ1bmN0aW9uKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhP0ZbYV18fEco
YSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNl
JiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHww
LGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxb
MF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgm
JihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0s
az17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9u
IGcoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1uLnR5cGUoYyk7ImZ1
bmN0aW9uIj09PWQ/YS51bmlxdWUmJmsuaGFzKGMpfHxoLnB1c2goYyk6YyYmYy5s
ZW5ndGgmJiJzdHJpbmciIT09ZCYmZyhjKX0pfShhcmd1bWVudHMpLGQ/Zj1oLmxl
bmd0aDpiJiYoZT1jLGooYikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24o
KXtyZXR1cm4gaCYmbi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBj
O3doaWxlKChjPW4uaW5BcnJheShiLGgsYykpPi0xKWguc3BsaWNlKGMsMSksZCYm
KGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3Jl
dHVybiBhP24uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5
OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rp
b24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9u
KCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8
ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZp
cmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxi
PVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9
LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50
cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30s
bi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUi
LCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxb
InJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWpl
Y3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnki
KV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFs
d2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFy
Z3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czty
ZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihi
LGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0
aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1
bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZh
aWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rIldpdGgiXSh0
aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9
bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVs
bCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVu
LG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFd
XT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2Fi
bGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlsw
XSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlsw
XSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUs
ZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZC5jYWxsKGFyZ3VtZW50
cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNl
KT9lOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXty
ZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0
aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6
LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihlPjEpZm9yKGk9bmV3
IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKysp
Y1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCku
ZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkp
Oi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0p
O3ZhciBIO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJv
bWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlX
YWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJl
YWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0
Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0
PjB8fChILnJlc29sdmVXaXRoKGwsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYo
bihsKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxuKGwpLm9mZigicmVhZHkiKSkp
KX19KTtmdW5jdGlvbiBJKCl7bC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250
ZW50TG9hZGVkIixJLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEks
ITEpLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJu
IEh8fChIPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09bC5yZWFkeVN0YXRlP3Nl
dFRpbWVvdXQobi5yZWFkeSk6KGwuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVu
dExvYWRlZCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSkp
LEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9
ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVs
bD09YztpZigib2JqZWN0Ij09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW4u
YWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihl
PSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxi
PW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEp
LGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0s
aCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMp
OmZ9O24uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5
cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIEsoKXtP
YmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rp
b24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89bi5leHBhbmRvK01hdGgucmFu
ZG9tKCl9Sy51aWQ9MSxLLmFjY2VwdHM9bi5hY2NlcHREYXRhLEsucHJvdG90eXBl
PXtrZXk6ZnVuY3Rpb24oYSl7aWYoIUsuYWNjZXB0cyhhKSlyZXR1cm4gMDt2YXIg
Yj17fSxjPWFbdGhpcy5leHBhbmRvXTtpZighYyl7Yz1LLnVpZCsrO3RyeXtiW3Ro
aXMuZXhwYW5kb109e3ZhbHVlOmN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEs
Yil9Y2F0Y2goZCl7Ylt0aGlzLmV4cGFuZG9dPWMsbi5leHRlbmQoYSxiKX19cmV0
dXJuIHRoaXMuY2FjaGVbY118fCh0aGlzLmNhY2hlW2NdPXt9KSxjfSxzZXQ6ZnVu
Y3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5rZXkoYSksZj10aGlzLmNhY2hlW2Vd
O2lmKCJzdHJpbmciPT10eXBlb2YgYilmW2JdPWM7ZWxzZSBpZihuLmlzRW1wdHlP
YmplY3QoZikpbi5leHRlbmQodGhpcy5jYWNoZVtlXSxiKTtlbHNlIGZvcihkIGlu
IGIpZltkXT1iW2RdO3JldHVybiBmfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10
aGlzLmNhY2hlW3RoaXMua2V5KGEpXTtyZXR1cm4gdm9pZCAwPT09Yj9jOmNbYl19
LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIHZvaWQgMD09PWJ8
fGImJiJzdHJpbmciPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChh
LGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRo
aXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihh
LGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2
b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtuLmlzQXJyYXkoYik/ZD1i
LmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIg
aW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSks
Yz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1
bmN0aW9uKGEpe3JldHVybiFuLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3Ro
aXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4
cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFy
IEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0p
JC8sTz0vKFtBLVpdKS9nO2Z1bmN0aW9uIFAoYSxiLGMpe3ZhciBkO2lmKHZvaWQg
MD09PWMmJjE9PT1hLm5vZGVUeXBlKWlmKGQ9ImRhdGEtIitiLnJlcGxhY2UoTywi
LSQxIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLCJzdHJpbmci
PT10eXBlb2YgYyl7dHJ5e2M9InRydWUiPT09Yz8hMDoiZmFsc2UiPT09Yz8hMToi
bnVsbCI9PT1jP251bGw6K2MrIiI9PT1jPytjOk4udGVzdChjKT9uLnBhcnNlSlNP
TihjKTpjfWNhdGNoKGUpe31NLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1
cm4gY31uLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNE
YXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVy
biBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJl
bW92ZShhLGIpCn0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBMLmFjY2Vz
cyhhLGIsYyl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7TC5yZW1vdmUoYSxi
KX19KSxuLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxm
PXRoaXNbMF0sZz1mJiZmLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09YSl7aWYodGhp
cy5sZW5ndGgmJihlPU0uZ2V0KGYpLDE9PT1mLm5vZGVUeXBlJiYhTC5nZXQoZiwi
aGFzRGF0YUF0dHJzIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1n
W2NdLm5hbWUsMD09PWQuaW5kZXhPZigiZGF0YS0iKSYmKGQ9bi5jYW1lbENhc2Uo
ZC5zbGljZSg1KSksUChmLGQsZVtkXSkpKTtMLnNldChmLCJoYXNEYXRhQXR0cnMi
LCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGE/dGhpcy5lYWNo
KGZ1bmN0aW9uKCl7TS5zZXQodGhpcyxhKX0pOkoodGhpcyxmdW5jdGlvbihiKXt2
YXIgYyxkPW4uY2FtZWxDYXNlKGEpO2lmKGYmJnZvaWQgMD09PWIpe2lmKGM9TS5n
ZXQoZixhKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9TS5nZXQoZixkKSx2b2lk
IDAhPT1jKXJldHVybiBjO2lmKGM9UChmLGQsdm9pZCAwKSx2b2lkIDAhPT1jKXJl
dHVybiBjfWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9TS5nZXQodGhp
cyxkKTtNLnNldCh0aGlzLGQsYiksLTEhPT1hLmluZGV4T2YoIi0iKSYmdm9pZCAw
IT09YyYmTS5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3Ro
PjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMu
ZWFjaChmdW5jdGlvbigpe00ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7
cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHwiZngi
KSsicXVldWUiLGQ9TC5nZXQoYSxiKSxjJiYoIWR8fG4uaXNBcnJheShjKT9kPUwu
YWNjZXNzKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9p
ZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVl
dWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhh
LGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09
ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlu
cHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZm
LmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1i
KyJxdWV1ZUhvb2tzIjtyZXR1cm4gTC5nZXQoYSxjKXx8TC5hY2Nlc3MoYSxjLHtl
bXB0eTpuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtM
LnJlbW92ZShhLFtiKyJxdWV1ZSIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVl
dWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2Yg
YSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0
aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2
YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4
Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9
LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigp
e24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0
dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxi
KXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgs
aD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmci
IT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSlj
PUwuZ2V0KGZbZ10sYSsicXVldWVIb29rcyIpLGMmJmMuZW1wdHkmJihkKyssYy5l
bXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBRPS9b
Ky1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFI9WyJU
b3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxTPWZ1bmN0aW9uKGEsYil7cmV0
dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRh
aW5zKGEub3duZXJEb2N1bWVudCxhKX0sVD0vXig/OmNoZWNrYm94fHJhZGlvKSQv
aTshZnVuY3Rpb24oKXt2YXIgYT1sLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxi
PWEuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1sLmNyZWF0
ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIp
LGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmli
dXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIu
Y2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIu
aW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVj
a2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7
dmFyIFU9InVuZGVmaW5lZCI7ay5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImlu
IGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51
KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0v
XihbXi5dKikoPzpcLiguKyl8KSQvO2Z1bmN0aW9uIFooKXtyZXR1cm4hMH1mdW5j
dGlvbiAkKCl7cmV0dXJuITF9ZnVuY3Rpb24gXygpe3RyeXtyZXR1cm4gbC5hY3Rp
dmVFbGVtZW50fWNhdGNoKGEpe319bi5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5j
dGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmdl
dChhKTtpZihyKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVj
dG9yKSxjLmd1aWR8fChjLmd1aWQ9bi5ndWlkKyspLChpPXIuZXZlbnRzKXx8KGk9
ci5ldmVudHM9e30pLChnPXIuaGFuZGxlKXx8KGc9ci5oYW5kbGU9ZnVuY3Rpb24o
Yil7cmV0dXJuIHR5cGVvZiBuIT09VSYmbi5ldmVudC50cmlnZ2VyZWQhPT1iLnR5
cGU/bi5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSks
Yj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9
WS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHwiIikuc3BsaXQoIi4i
KS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVs
ZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7
fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpj
LGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5t
YXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9
LGYpLChtPWlbb10pfHwobT1pW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0
dXAmJmwuc2V0dXAuY2FsbChhLGQscCxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVu
ZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihvLGcsITEpKSxsLmFkZCYmKGwuYWRkLmNh
bGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkp
LGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksbi5l
dmVudC5nbG9iYWxbb109ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7
dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPUwuaGFzRGF0YShhKSYmTC5nZXQo
YSk7aWYociYmKGk9ci5ldmVudHMpKXtiPShifHwiIikubWF0Y2goRSl8fFsiIl0s
aj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1o
WzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtsPW4uZXZlbnQu
c3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8
byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrcC5qb2lu
KCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUo
Zi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3Vp
ZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYo
IioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3Rv
ciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxr
KSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEs
cCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRl
bGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jb
al0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJihkZWxldGUgci5oYW5kbGUs
TC5yZW1vdmUoYSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxl
KXt2YXIgZixnLGgsaSxrLG0sbyxwPVtkfHxsXSxxPWouY2FsbChiLCJ0eXBlIik/
Yi50eXBlOmIscj1qLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3Bs
aXQoIi4iKTpbXTtpZihnPWg9ZD1kfHxsLDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5u
b2RlVHlwZSYmIVgudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhP
ZigiLiIpPj0wJiYocj1xLnNwbGl0KCIuIikscT1yLnNoaWZ0KCksci5zb3J0KCkp
LGs9cS5pbmRleE9mKCI6Iik8MCYmIm9uIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3
IG4uRXZlbnQocSwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWU/
MjozLGIubmFtZXNwYWNlPXIuam9pbigiLiIpLGIubmFtZXNwYWNlX3JlPWIubmFt
ZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58
KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChi
LnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxvPW4u
ZXZlbnQuc3BlY2lhbFtxXXx8e30sZXx8IW8udHJpZ2dlcnx8by50cmlnZ2VyLmFw
cGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhby5ub0J1YmJsZSYmIW4uaXNXaW5kb3co
ZCkpe2ZvcihpPW8uZGVsZWdhdGVUeXBlfHxxLFgudGVzdChpK3EpfHwoZz1nLnBh
cmVudE5vZGUpO2c7Zz1nLnBhcmVudE5vZGUpcC5wdXNoKGcpLGg9ZztoPT09KGQu
b3duZXJEb2N1bWVudHx8bCkmJnAucHVzaChoLmRlZmF1bHRWaWV3fHxoLnBhcmVu
dFdpbmRvd3x8YSl9Zj0wO3doaWxlKChnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRp
b25TdG9wcGVkKCkpYi50eXBlPWY+MT9pOm8uYmluZFR5cGV8fHEsbT0oTC5nZXQo
ZywiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZMLmdldChnLCJoYW5kbGUiKSxtJiZt
LmFwcGx5KGcsYyksbT1rJiZnW2tdLG0mJm0uYXBwbHkmJm4uYWNjZXB0RGF0YShn
KSYmKGIucmVzdWx0PW0uYXBwbHkoZyxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZl
bnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxlfHxiLmlzRGVmYXVsdFByZXZl
bnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykh
PT0hMXx8IW4uYWNjZXB0RGF0YShkKXx8ayYmbi5pc0Z1bmN0aW9uKGRbcV0pJiYh
bi5pc1dpbmRvdyhkKSYmKGg9ZFtrXSxoJiYoZFtrXT1udWxsKSxuLmV2ZW50LnRy
aWdnZXJlZD1xLGRbcV0oKSxuLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaCYmKGRb
a109aCkpLGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50
LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxq
PShMLmdldCh0aGlzLCJldmVudHMiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVu
dC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0
PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEp
IT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hp
bGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJy
ZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYm
IWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEubmFtZXNwYWNl
X3JlfHxhLm5hbWVzcGFjZV9yZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRs
ZU9iaj1nLGEuZGF0YT1nLmRhdGEsZT0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdU
eXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9p
ZCAwIT09ZSYmKGEucmVzdWx0PWUpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCks
YS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5w
b3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVu
Y3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9
YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCFhLmJ1dHRvbnx8ImNsaWNrIiE9
PWEudHlwZSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZihp
LmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpe2ZvcihkPVtdLGM9MDto
PmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWRbZV0mJihk
W2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT49MDpuLmZpbmQo
ZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0
aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3Ro
JiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJv
cHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFy
Z2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRh
cmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSxmaXhIb29rczp7
fSxrZXlIb29rczp7cHJvcHM6ImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGUiLnNw
bGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWEud2hp
Y2gmJihhLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNv
ZGUpLGF9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50
WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNj
cmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIp
e3ZhciBjLGQsZSxmPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxs
IT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGwsZD1jLmRv
Y3VtZW50RWxlbWVudCxlPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZCYmZC5z
Y3JvbGxMZWZ0fHxlJiZlLnNjcm9sbExlZnR8fDApLShkJiZkLmNsaWVudExlZnR8
fGUmJmUuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGQmJmQuc2Ny
b2xsVG9wfHxlJiZlLnNjcm9sbFRvcHx8MCktKGQmJmQuY2xpZW50VG9wfHxlJiZl
LmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEm
Zj8xOjImZj8zOjQmZj8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4
cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZCxlPWEudHlwZSxmPWEsZz10aGlzLmZp
eEhvb2tzW2VdO2d8fCh0aGlzLmZpeEhvb2tzW2VdPWc9Vy50ZXN0KGUpP3RoaXMu
bW91c2VIb29rczpWLnRlc3QoZSk/dGhpcy5rZXlIb29rczp7fSksZD1nLnByb3Bz
P3RoaXMucHJvcHMuY29uY2F0KGcucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5F
dmVudChmKSxiPWQubGVuZ3RoO3doaWxlKGItLSljPWRbYl0sYVtjXT1mW2NdO3Jl
dHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlw
ZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmls
dGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0
cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/
KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4i
fSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1fKCkmJnRo
aXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJm
b2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNr
Ym94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLCJp
bnB1dCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rp
b24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsImEiKX19LGJlZm9yZXVu
bG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0
JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9
YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4u
ZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmln
aW5hbEV2ZW50Ont9fSk7ZD9uLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm4uZXZl
bnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMu
cHJldmVudERlZmF1bHQoKX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMp
e2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIs
YywhMSl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5j
ZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhp
cy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQ
cmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5W
YWx1ZT09PSExP1o6JCk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0
aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNb
bi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90
eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDok
LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6
ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1
bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZh
dWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3Jp
Z2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9w
UHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQ
cm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0
aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wSW1t
ZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCks
dGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91
c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2lu
dGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxi
KXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIs
aGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdl
dCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQs
ZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxh
cmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVh
Y2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEs
Yil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0
LG4uZXZlbnQuZml4KGEpLCEwKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpm
dW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNj
ZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3Mo
ZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93
bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2Vzcyhk
LGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQs
YikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIg
ZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYo
Yz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxl
KTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQg
MCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKToo
ZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4g
dGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbigp
Lm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8
KGYuZ3VpZD1uLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQu
YWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVy
biB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQs
ZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1h
LmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9k
Lm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3Is
ZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4g
YSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8
ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihj
PSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxj
LGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1
bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFu
ZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVu
dC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxi
cnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpd
KylbXj5dKilcLz4vZ2ksYmI9LzwoW1x3Ol0rKS8sY2I9Lzx8JiM/XHcrOy8sZGI9
LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxzKig/OltePV18
PVxzKi5jaGVja2VkLikvaSxmYj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ks
Z2I9L150cnVlXC8oLiopLyxoYj0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpc
XVxdfC0tKT5ccyokL2csaWI9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0n
bXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90
YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48
L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJs
ZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5Pjwv
dGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYi5vcHRncm91cD1pYi5vcHRp
b24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50
aGVhZCxpYi50aD1pYi50ZDtmdW5jdGlvbiBqYihhLGIpe3JldHVybiBuLm5vZGVO
YW1lKGEsInRhYmxlIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5m
aXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5Iilb
MF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo
InRib2R5IikpOmF9ZnVuY3Rpb24ga2IoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9
PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiBs
YihhKXt2YXIgYj1nYi5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06
YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIG1iKGEsYil7Zm9y
KHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKUwuc2V0KGFbY10sImdsb2JhbEV2
YWwiLCFifHxMLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIG5iKGEs
Yil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5o
YXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50
cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihj
PTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2Nd
KX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCks
TS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9iKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50
c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6YS5xdWVy
eVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVy
biB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6
Y31mdW5jdGlvbiBwYihhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2Uo
KTsiaW5wdXQiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tl
ZDooImlucHV0Ij09PWN8fCJ0ZXh0YXJlYSI9PT1jKSYmKGIuZGVmYXVsdFZhbHVl
PWEuZGVmYXVsdFZhbHVlKX1uLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMp
e3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93
bmVyRG9jdW1lbnQsYSk7aWYoIShrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2Rl
VHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1vYiho
KSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtp
ZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0
aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9i
KGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsInNjcmlwdCIp
KSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxm
LGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxv
PWEubGVuZ3RoO28+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3Qi
PT09bi50eXBlKGUpKW4ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlm
KGNiLnRlc3QoZSkpe2Y9Znx8ay5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQo
ImRpdiIpKSxnPShiYi5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgp
LGg9aWJbZ118fGliLl9kZWZhdWx0LGYuaW5uZXJIVE1MPWhbMV0rZS5yZXBsYWNl
KGFiLCI8JDE+PC8kMj4iKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RD
aGlsZDtuLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRl
eHRDb250ZW50PSIifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2su
dGV4dENvbnRlbnQ9IiIsbT0wO3doaWxlKGU9bFttKytdKWlmKCghZHx8LTE9PT1u
LmluQXJyYXkoZSxkKSkmJihpPW4uY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUp
LGY9b2Ioay5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksaSYmbWIoZiksYykpe2o9
MDt3aGlsZShlPWZbaisrXSlmYi50ZXN0KGUudHlwZXx8IiIpJiZjLnB1c2goZSl9
cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUs
Zj1uLmV2ZW50LnNwZWNpYWwsZz0wO3ZvaWQgMCE9PShjPWFbZ10pO2crKyl7aWYo
bi5hY2NlcHREYXRhKGMpJiYoZT1jW0wuZXhwYW5kb10sZSYmKGI9TC5jYWNoZVtl
XSkpKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cylmW2RdP24uZXZlbnQu
cmVtb3ZlKGMsZCk6bi5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO0wuY2FjaGVb
ZV0mJmRlbGV0ZSBMLmNhY2hlW2VdfWRlbGV0ZSBNLmNhY2hlW2NbTS5leHBhbmRv
XV19fX0pLG4uZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBKKHRo
aXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRo
aXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7KDE9PT10aGlzLm5vZGVUeXBlfHwx
MT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKSYmKHRoaXMudGV4
dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6
ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rp
b24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8
OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPWpiKHRoaXMsYSk7Yi5hcHBlbmRDaGls
ZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlw
KGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9
PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhp
cyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpm
dW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlv
bihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZv
cmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1h
bmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMu
cGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxy
ZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1hP24uZmlsdGVyKGEsdGhp
cyk6dGhpcyxlPTA7bnVsbCE9KGM9ZFtlXSk7ZSsrKWJ8fDEhPT1jLm5vZGVUeXBl
fHxuLmNsZWFuRGF0YShvYihjKSksYy5wYXJlbnROb2RlJiYoYiYmbi5jb250YWlu
cyhjLm93bmVyRG9jdW1lbnQsYykmJm1iKG9iKGMsInNjcmlwdCIpKSxjLnBhcmVu
dE5vZGUucmVtb3ZlQ2hpbGQoYykpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlv
bigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5v
ZGVUeXBlJiYobi5jbGVhbkRhdGEob2IoYSwhMSkpLGEudGV4dENvbnRlbnQ9IiIp
O3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9
PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJu
IG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEoo
dGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxl
bmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5l
ckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBhJiYhZGIudGVzdChhKSYmIWliWyhi
Yi5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1hLnJlcGxh
Y2UoYWIsIjwkMT48LyQyPiIpO3RyeXtmb3IoO2Q+YztjKyspYj10aGlzW2NdfHx7
fSwxPT09Yi5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKG9iKGIsITEpKSxiLmlubmVy
SFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEp
fSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9u
KCl7dmFyIGE9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3Vt
ZW50cyxmdW5jdGlvbihiKXthPXRoaXMucGFyZW50Tm9kZSxuLmNsZWFuRGF0YShv
Yih0aGlzKSksYSYmYS5yZXBsYWNlQ2hpbGQoYix0aGlzKX0pLGEmJihhLmxlbmd0
aHx8YS5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rp
b24oYSl7cmV0dXJuIHRoaXMucmVtb3ZlKGEsITApfSxkb21NYW5pcDpmdW5jdGlv
bihhLGIpe2E9ZS5hcHBseShbXSxhKTt2YXIgYyxkLGYsZyxoLGksaj0wLGw9dGhp
cy5sZW5ndGgsbT10aGlzLG89bC0xLHA9YVswXSxxPW4uaXNGdW5jdGlvbihwKTtp
ZihxfHxsPjEmJiJzdHJpbmciPT10eXBlb2YgcCYmIWsuY2hlY2tDbG9uZSYmZWIu
dGVzdChwKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPW0uZXEo
Yyk7cSYmKGFbMF09cC5jYWxsKHRoaXMsYyxkLmh0bWwoKSkpLGQuZG9tTWFuaXAo
YSxiKX0pO2lmKGwmJihjPW4uYnVpbGRGcmFnbWVudChhLHRoaXNbMF0ub3duZXJE
b2N1bWVudCwhMSx0aGlzKSxkPWMuZmlyc3RDaGlsZCwxPT09Yy5jaGlsZE5vZGVz
Lmxlbmd0aCYmKGM9ZCksZCkpe2ZvcihmPW4ubWFwKG9iKGMsInNjcmlwdCIpLGti
KSxnPWYubGVuZ3RoO2w+ajtqKyspaD1jLGohPT1vJiYoaD1uLmNsb25lKGgsITAs
ITApLGcmJm4ubWVyZ2UoZixvYihoLCJzY3JpcHQiKSkpLGIuY2FsbCh0aGlzW2pd
LGgsaik7aWYoZylmb3IoaT1mW2YubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5t
YXAoZixsYiksaj0wO2c+ajtqKyspaD1mW2pdLGZiLnRlc3QoaC50eXBlfHwiIikm
JiFMLmFjY2VzcyhoLCJnbG9iYWxFdmFsIikmJm4uY29udGFpbnMoaSxoKSYmKGgu
c3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoaC5zcmMpOm4uZ2xvYmFsRXZhbCho
LnRleHRDb250ZW50LnJlcGxhY2UoaGIsIiIpKSl9cmV0dXJuIHRoaXN9fSksbi5l
YWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2Vy
dEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6
InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEp
e2Zvcih2YXIgYyxkPVtdLGU9bihhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsr
KWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGYuYXBw
bHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFi
LHJiPXt9O2Z1bmN0aW9uIHNiKGIsYyl7dmFyIGQsZT1uKGMuY3JlYXRlRWxlbWVu
dChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5
bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxh
eTpuLmNzcyhlWzBdLCJkaXNwbGF5Iik7cmV0dXJuIGUuZGV0YWNoKCksZn1mdW5j
dGlvbiB0YihhKXt2YXIgYj1sLGM9cmJbYV07cmV0dXJuIGN8fChjPXNiKGEsYiks
Im5vbmUiIT09YyYmY3x8KHFiPShxYnx8bigiPGlmcmFtZSBmcmFtZWJvcmRlcj0n
MCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpKS5hcHBlbmRUbyhiLmRvY3VtZW50
RWxlbWVudCksYj1xYlswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xv
c2UoKSxjPXNiKGEsYikscWIuZGV0YWNoKCkpLHJiW2FdPWMpLGN9dmFyIHViPS9e
bWFyZ2luLyx2Yj1uZXcgUmVnRXhwKCJeKCIrUSsiKSg/IXB4KVthLXolXSskIiwi
aSIpLHdiPWZ1bmN0aW9uKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuZGVmYXVs
dFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpfTtmdW5jdGlvbiB4YihhLGIs
Yyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fHdiKGEpLGMmJihn
PWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSksYyYmKCIiIT09Z3x8bi5jb250
YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW4uc3R5bGUoYSxiKSksdmIudGVz
dChnKSYmdWIudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1h
eFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRo
LGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSksdm9pZCAwIT09
Zz9nKyIiOmd9ZnVuY3Rpb24geWIoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7
cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBw
bHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkPWwuZG9j
dW1lbnRFbGVtZW50LGU9bC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPWwuY3JlYXRl
RWxlbWVudCgiZGl2Iik7aWYoZi5zdHlsZSl7Zi5zdHlsZS5iYWNrZ3JvdW5kQ2xp
cD0iY29udGVudC1ib3giLGYuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5k
Q2xpcD0iIixrLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09Zi5zdHls
ZS5iYWNrZ3JvdW5kQ2xpcCxlLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRo
OjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4O3Bv
c2l0aW9uOmFic29sdXRlIixlLmFwcGVuZENoaWxkKGYpO2Z1bmN0aW9uIGcoKXtm
LnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1t
b3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtk
aXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFk
ZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIixmLmlubmVySFRN
TD0iIixkLmFwcGVuZENoaWxkKGUpO3ZhciBnPWEuZ2V0Q29tcHV0ZWRTdHlsZShm
LG51bGwpO2I9IjElIiE9PWcudG9wLGM9IjRweCI9PT1nLndpZHRoLGQucmVtb3Zl
Q2hpbGQoZSl9YS5nZXRDb21wdXRlZFN0eWxlJiZuLmV4dGVuZChrLHtwaXhlbFBv
c2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxifSxib3hTaXppbmdSZWxpYWJs
ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZnKCksY30scmVsaWFibGVNYXJn
aW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9Zi5hcHBlbmRDaGlsZChsLmNyZWF0
ZUVsZW1lbnQoImRpdiIpKTtyZXR1cm4gYy5zdHlsZS5jc3NUZXh0PWYuc3R5bGUu
Y3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94
LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3Bs
YXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIixjLnN0eWxlLm1h
cmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9IjAiLGYuc3R5bGUud2lkdGg9IjFweCIs
ZC5hcHBlbmRDaGlsZChlKSxiPSFwYXJzZUZsb2F0KGEuZ2V0Q29tcHV0ZWRTdHls
ZShjLG51bGwpLm1hcmdpblJpZ2h0KSxkLnJlbW92ZUNoaWxkKGUpLGJ9fSl9fSgp
LG4uc3dhcD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4g
YilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8
fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX07dmFyIHpi
PS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxBYj1uZXcgUmVnRXhwKCJeKCIr
USsiKSguKikkIiwiaSIpLEJiPW5ldyBSZWdFeHAoIl4oWystXSk9KCIrUSsiKSIs
ImkiKSxDYj17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4i
LGRpc3BsYXk6ImJsb2NrIn0sRGI9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWln
aHQ6IjQwMCJ9LEViPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07ZnVuY3Rpb24g
RmIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7dmFyIGM9YlswXS50b1VwcGVyQ2Fz
ZSgpK2Iuc2xpY2UoMSksZD1iLGU9RWIubGVuZ3RoO3doaWxlKGUtLSlpZihiPUVi
W2VdK2MsYiBpbiBhKXJldHVybiBiO3JldHVybiBkfWZ1bmN0aW9uIEdiKGEsYixj
KXt2YXIgZD1BYi5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8
MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIEhiKGEsYixjLGQsZSl7Zm9yKHZh
ciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTow
LGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrUltmXSwh
MCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1Jb
Zl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrUltm
XSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1JbZl0sITAs
ZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrUltmXSsiV2lk
dGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gSWIoYSxiLGMpe3ZhciBkPSEw
LGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPXdi
KGEpLGc9ImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxmKTtp
ZigwPj1lfHxudWxsPT1lKXtpZihlPXhiKGEsYixmKSwoMD5lfHxudWxsPT1lKSYm
KGU9YS5zdHlsZVtiXSksdmIudGVzdChlKSlyZXR1cm4gZTtkPWcmJihrLmJveFNp
emluZ1JlbGlhYmxlKCl8fGU9PT1hLnN0eWxlW2JdKSxlPXBhcnNlRmxvYXQoZSl8
fDB9cmV0dXJuIGUrSGIoYSxiLGN8fChnPyJib3JkZXIiOiJjb250ZW50IiksZCxm
KSsicHgifWZ1bmN0aW9uIEpiKGEsYil7Zm9yKHZhciBjLGQsZSxmPVtdLGc9MCxo
PWEubGVuZ3RoO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihmW2ddPUwuZ2V0KGQs
Im9sZGRpc3BsYXkiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHwibm9uZSIh
PT1jfHwoZC5zdHlsZS5kaXNwbGF5PSIiKSwiIj09PWQuc3R5bGUuZGlzcGxheSYm
UyhkKSYmKGZbZ109TC5hY2Nlc3MoZCwib2xkZGlzcGxheSIsdGIoZC5ub2RlTmFt
ZSkpKSk6KGU9UyhkKSwibm9uZSI9PT1jJiZlfHxMLnNldChkLCJvbGRkaXNwbGF5
IixlP2M6bi5jc3MoZCwiZGlzcGxheSIpKSkpO2ZvcihnPTA7aD5nO2crKylkPWFb
Z10sZC5zdHlsZSYmKGImJiJub25lIiE9PWQuc3R5bGUuZGlzcGxheSYmIiIhPT1k
LnN0eWxlLmRpc3BsYXl8fChkLnN0eWxlLmRpc3BsYXk9Yj9mW2ddfHwiIjoibm9u
ZSIpKTtyZXR1cm4gYX1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpm
dW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPXhiKGEsIm9wYWNpdHkiKTtyZXR1cm4i
Ij09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9w
YWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEw
LGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdp
ZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ImNz
c0Zsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9k
ZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNh
bWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4u
Y3NzUHJvcHNbaF09RmIoaSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tz
W2hdLHZvaWQgMD09PWM/ZyYmImdldCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChh
LCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1CYi5l
eGVjKGMpKSYmKGM9KGVbMV0rMSkqZVsyXStwYXJzZUZsb2F0KG4uY3NzKGEsYikp
LGY9Im51bWJlciIpLG51bGwhPWMmJmM9PT1jJiYoIm51bWJlciIhPT1mfHxuLmNz
c051bWJlcltoXXx8KGMrPSJweCIpLGsuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PWN8
fDAhPT1iLmluZGV4T2YoImJhY2tncm91bmQiKXx8KGlbYl09ImluaGVyaXQiKSxn
JiYic2V0ImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSl8fChpW2JdPWMp
KSx2b2lkIDApfX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4u
Y2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3Bz
W2hdPUZiKGEuc3R5bGUsaCkpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1to
XSxnJiYiZ2V0ImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihl
PXhiKGEsYixkKSksIm5vcm1hbCI9PT1lJiZiIGluIERiJiYoZT1EYltiXSksIiI9
PT1jfHxjPyhmPXBhcnNlRmxvYXQoZSksYz09PSEwfHxuLmlzTnVtZXJpYyhmKT9m
fHwwOmUpOmV9fSksbi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihh
LGIpe24uY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGM/
emIudGVzdChuLmNzcyhhLCJkaXNwbGF5IikpJiYwPT09YS5vZmZzZXRXaWR0aD9u
LnN3YXAoYSxDYixmdW5jdGlvbigpe3JldHVybiBJYihhLGIsZCl9KTpJYihhLGIs
ZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJndiKGEpO3Jl
dHVybiBHYihhLGMsZD9IYihhLGIsZCwiYm9yZGVyLWJveCI9PT1uLmNzcyhhLCJi
b3hTaXppbmciLCExLGUpLGUpOjApfX19KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0
PXliKGsucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBi
P24uc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSx4YixbYSwibWFyZ2lu
UmlnaHQiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixi
b3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4
cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5
cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErUltkXStiXT1mW2Rd
fHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSx1Yi50ZXN0KGEpfHwobi5jc3NIb29r
c1thK2JdLnNldD1HYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7
cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtp
ZihuLmlzQXJyYXkoYikpe2ZvcihkPXdiKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylm
W2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAw
IT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxl
bmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBKYih0aGlzLCEwKX0saGlk
ZTpmdW5jdGlvbigpe3JldHVybiBKYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEp
e3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhp
ZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpP24odGhpcykuc2hvdygp
Om4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gS2IoYSxiLGMsZCxlKXtyZXR1
cm4gbmV3IEtiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1LYixL
Yi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOktiLGluaXQ6ZnVuY3Rpb24oYSxiLGMs
ZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fCJz
d2luZyIsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1
cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChuLmNzc051bWJlcltjXT8iIjoi
cHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9S2IucHJvcEhvb2tzW3RoaXMucHJv
cF07cmV0dXJuIGEmJmEuZ2V0P2EuZ2V0KHRoaXMpOktiLnByb3BIb29rcy5fZGVm
YXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihhKXt2YXIgYixjPUtiLnByb3BI
b29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz1iPXRoaXMub3B0aW9ucy5k
dXJhdGlvbj9uLmVhc2luZ1t0aGlzLmVhc2luZ10oYSx0aGlzLm9wdGlvbnMuZHVy
YXRpb24qYSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTphLHRoaXMubm93PSh0
aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0
ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRo
aXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOktiLnByb3BIb29rcy5fZGVmYXVsdC5z
ZXQodGhpcyksdGhpc319LEtiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1LYi5w
cm90b3R5cGUsS2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEp
e3ZhciBiO3JldHVybiBudWxsPT1hLmVsZW1bYS5wcm9wXXx8YS5lbGVtLnN0eWxl
JiZudWxsIT1hLmVsZW0uc3R5bGVbYS5wcm9wXT8oYj1uLmNzcyhhLmVsZW0sYS5w
cm9wLCIiKSxiJiYiYXV0byIhPT1iP2I6MCk6YS5lbGVtW2EucHJvcF19LHNldDpm
dW5jdGlvbihhKXtuLmZ4LnN0ZXBbYS5wcm9wXT9uLmZ4LnN0ZXBbYS5wcm9wXShh
KTphLmVsZW0uc3R5bGUmJihudWxsIT1hLmVsZW0uc3R5bGVbbi5jc3NQcm9wc1th
LnByb3BdXXx8bi5jc3NIb29rc1thLnByb3BdKT9uLnN0eWxlKGEuZWxlbSxhLnBy
b3AsYS5ub3crYS51bml0KTphLmVsZW1bYS5wcm9wXT1hLm5vd319fSxLYi5wcm9w
SG9va3Muc2Nyb2xsVG9wPUtiLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVu
Y3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEu
ZWxlbVthLnByb3BdPWEubm93KX19LG4uZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24o
YSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29z
KGEqTWF0aC5QSSkvMn19LG4uZng9S2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVw
PXt9O3ZhciBMYixNYixOYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sT2I9bmV3
IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1ErIikoW2EteiVdKikkIiwiaSIpLFBi
PS9xdWV1ZUhvb2tzJC8sUWI9W1ZiXSxSYj17IioiOltmdW5jdGlvbihhLGIpe3Zh
ciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKSxkPWMuY3VyKCksZT1PYi5leGVjKGIp
LGY9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2FdPyIiOiJweCIpLGc9KG4uY3NzTnVt
YmVyW2FdfHwicHgiIT09ZiYmK2QpJiZPYi5leGVjKG4uY3NzKGMuZWxlbSxhKSks
aD0xLGk9MjA7aWYoZyYmZ1szXSE9PWYpe2Y9Znx8Z1szXSxlPWV8fFtdLGc9K2R8
fDE7ZG8gaD1ofHwiLjUiLGcvPWgsbi5zdHlsZShjLmVsZW0sYSxnK2YpO3doaWxl
KGghPT0oaD1jLmN1cigpL2QpJiYxIT09aCYmLS1pKX1yZXR1cm4gZSYmKGc9Yy5z
dGFydD0rZ3x8K2R8fDAsYy51bml0PWYsYy5lbmQ9ZVsxXT9nKyhlWzFdKzEpKmVb
Ml06K2VbMl0pLGN9XX07ZnVuY3Rpb24gU2IoKXtyZXR1cm4gc2V0VGltZW91dChm
dW5jdGlvbigpe0xiPXZvaWQgMH0pLExiPW4ubm93KCl9ZnVuY3Rpb24gVGIoYSxi
KXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowOzQ+ZDtkKz0yLWIp
Yz1SW2RdLGVbIm1hcmdpbiIrY109ZVsicGFkZGluZyIrY109YTtyZXR1cm4gYiYm
KGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gVWIoYSxiLGMpe2Zvcih2
YXIgZCxlPShSYltiXXx8W10pLmNvbmNhdChSYlsiKiJdKSxmPTAsZz1lLmxlbmd0
aDtnPmY7ZisrKWlmKGQ9ZVtmXS5jYWxsKGMsYixhKSlyZXR1cm4gZH1mdW5jdGlv
biBWYihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPXRoaXMsbT17fSxvPWEu
c3R5bGUscD1hLm5vZGVUeXBlJiZTKGEpLHE9TC5nZXQoYSwiZnhzaG93Iik7Yy5x
dWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQm
JihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0
aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1
bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1
ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2Rl
VHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1b
by5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLCJk
aXNwbGF5Iiksaz0ibm9uZSI9PT1qP0wuZ2V0KGEsIm9sZGRpc3BsYXkiKXx8dGIo
YS5ub2RlTmFtZSk6aiwiaW5saW5lIj09PWsmJiJub25lIj09PW4uY3NzKGEsImZs
b2F0IikmJihvLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYo
by5vdmVyZmxvdz0iaGlkZGVuIixsLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZs
b3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3Zl
cmZsb3dZPWMub3ZlcmZsb3dbMl19KSk7Zm9yKGQgaW4gYilpZihlPWJbZF0sTmIu
ZXhlYyhlKSl7aWYoZGVsZXRlIGJbZF0sZj1mfHwidG9nZ2xlIj09PWUsZT09PShw
PyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1lfHwhcXx8dm9pZCAwPT09cVtk
XSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ug
aj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKSJpbmxpbmUiPT09KCJub25l
Ij09PWo/dGIoYS5ub2RlTmFtZSk6aikmJihvLmRpc3BsYXk9aik7ZWxzZXtxPyJo
aWRkZW4iaW4gcSYmKHA9cS5oaWRkZW4pOnE9TC5hY2Nlc3MoYSwiZnhzaG93Iix7
fSksZiYmKHEuaGlkZGVuPSFwKSxwP24oYSkuc2hvdygpOmwuZG9uZShmdW5jdGlv
bigpe24oYSkuaGlkZSgpfSksbC5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7TC5yZW1v
dmUoYSwiZnhzaG93Iik7Zm9yKGIgaW4gbSluLnN0eWxlKGEsYixtW2JdKX0pO2Zv
cihkIGluIG0pZz1VYihwP3FbZF06MCxkLGwpLGQgaW4gcXx8KHFbZF09Zy5zdGFy
dCxwJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PSJ3aWR0aCI9PT1kfHwiaGVpZ2h0
Ij09PWQ/MTowKSl9fWZ1bmN0aW9uIFdiKGEsYil7dmFyIGMsZCxlLGYsZztmb3Io
YyBpbiBhKWlmKGQ9bi5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxuLmlzQXJy
YXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0
ZSBhW2NdKSxnPW4uY3NzSG9va3NbZF0sZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhw
YW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2Nd
LGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gWGIoYSxiLGMpe3ZhciBkLGUs
Zj0wLGc9UWIubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigp
e2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3Io
dmFyIGI9TGJ8fFNiKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRp
b24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVu
Z3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdp
dGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEp
fSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6
bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVy
dGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpMYnx8U2IoKSxkdXJh
dGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihi
LGMpe3ZhciBkPW4uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFz
aW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxk
fSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDow
O2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5y
dW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdp
dGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKFdiKGssai5vcHRzLnNw
ZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1RYltmXS5jYWxsKGosYSxrLGoub3B0
cykpcmV0dXJuIGQ7cmV0dXJuIG4ubWFwKGssVWIsaiksbi5pc0Z1bmN0aW9uKGou
b3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihu
LmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxq
LnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9w
dHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3
YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChYYix7dHdlZW5lcjpmdW5jdGlvbihh
LGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIp
O2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYltjXT1S
YltjXXx8W10sUmJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEs
Yil7Yj9RYi51bnNoaWZ0KGEpOlFiLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlv
bihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9
LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0
aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVy
biBkLmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0
aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNw
ZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5x
dWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21w
bGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYm
ZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVl
KX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1
cm4gdGhpcy5maWx0ZXIoUykuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCku
YW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxi
LGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCks
Zz1mdW5jdGlvbigpe3ZhciBiPVhiKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8
fEwuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmlu
aXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYu
cXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEp
e3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmci
IT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5x
dWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxl
PW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1MLmdldCh0aGlz
KTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcp
Z1tlXSYmZ1tlXS5zdG9wJiZQYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVu
Z3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9
PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwh
YykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1
cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIg
YixjPUwuZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tz
Il0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5x
dWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCks
Yj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1h
JiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5i
O2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtk
ZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlk
ZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9u
KGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFw
cGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoVGIoYiwhMCksYSxkLGUp
fX0pLG4uZWFjaCh7c2xpZGVEb3duOlRiKCJzaG93Iiksc2xpZGVVcDpUYigiaGlk
ZSIpLHNsaWRlVG9nZ2xlOlRiKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNo
b3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0
eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMs
ZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxu
LmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoTGI9
bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5z
cGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxMYj12b2lkIDB9LG4u
ZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5z
dGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3Rh
cnQ9ZnVuY3Rpb24oKXtNYnx8KE1iPXNldEludGVydmFsKG4uZngudGljayxuLmZ4
LmludGVydmFsKSl9LG4uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwo
TWIpLE1iPW51bGx9LG4uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVm
YXVsdDo0MDB9LG4uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1uLmZ4
P24uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiLHRoaXMucXVldWUoYixmdW5j
dGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24o
KXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGE9bC5jcmVhdGVF
bGVtZW50KCJpbnB1dCIpLGI9bC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxjPWIu
YXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7YS50eXBlPSJj
aGVja2JveCIsay5jaGVja09uPSIiIT09YS52YWx1ZSxrLm9wdFNlbGVjdGVkPWMu
c2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxrLm9wdERpc2FibGVkPSFjLmRpc2FibGVk
LGE9bC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGEudmFsdWU9InQiLGEudHlwZT0i
cmFkaW8iLGsucmFkaW9WYWx1ZT0idCI9PT1hLnZhbHVlfSgpO3ZhciBZYixaYiwk
Yj1uLmV4cHIuYXR0ckhhbmRsZTtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihh
LGIpe3JldHVybiBKKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEp
fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rp
b24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1
bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYm
OCE9PWYmJjIhPT1mKXJldHVybiB0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PT1VP24u
cHJvcChhLGIsYyk6KDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJD
YXNlKCksZD1uLmF0dHJIb29rc1tiXXx8KG4uZXhwci5tYXRjaC5ib29sLnRlc3Qo
Yik/WmI6WWIpKSx2b2lkIDA9PT1jP2QmJiJnZXQiaW4gZCYmbnVsbCE9PShlPWQu
Z2V0KGEsYikpP2U6KGU9bi5maW5kLmF0dHIoYSxiKSxudWxsPT1lP3ZvaWQgMDpl
KTpudWxsIT09Yz9kJiYic2V0ImluIGQmJnZvaWQgMCE9PShlPWQuc2V0KGEsYyxi
KSk/ZTooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTp2b2lkIG4ucmVtb3ZlQXR0
cihhLGIpKQp9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxm
PWImJmIubWF0Y2goRSk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2Ur
K10pZD1uLnByb3BGaXhbY118fGMsbi5leHByLm1hdGNoLmJvb2wudGVzdChjKSYm
KGFbZF09ITEpLGEucmVtb3ZlQXR0cmlidXRlKGMpfSxhdHRySG9va3M6e3R5cGU6
e3NldDpmdW5jdGlvbihhLGIpe2lmKCFrLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1i
JiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEu
c2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fX0pLFpi
PXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRy
KGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sbi5lYWNoKG4uZXhwci5tYXRj
aC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9
JGJbYl18fG4uZmluZC5hdHRyOyRiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxm
O3JldHVybiBkfHwoZj0kYltiXSwkYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50
b0xvd2VyQ2FzZSgpOm51bGwsJGJbYl09ZiksZX19KTt2YXIgX2I9L14oPzppbnB1
dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtuLmZuLmV4dGVuZCh7cHJvcDpm
dW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsbi5wcm9wLGEsYixhcmd1bWVudHMu
bGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVh
Y2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tuLnByb3BGaXhbYV18fGFdfSl9fSks
bi5leHRlbmQoe3Byb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFz
c05hbWUifSxwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1hLm5vZGVU
eXBlO2lmKGEmJjMhPT1nJiY4IT09ZyYmMiE9PWcpcmV0dXJuIGY9MSE9PWd8fCFu
LmlzWE1MRG9jKGEpLGYmJihiPW4ucHJvcEZpeFtiXXx8YixlPW4ucHJvcEhvb2tz
W2JdKSx2b2lkIDAhPT1jP2UmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQo
YSxjLGIpKT9kOmFbYl09YzplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChh
LGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihh
KXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoInRhYmluZGV4Iil8fF9iLnRlc3QoYS5u
b2RlTmFtZSl8fGEuaHJlZj9hLnRhYkluZGV4Oi0xfX19fSksay5vcHRTZWxlY3Rl
ZHx8KG4ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9
YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9k
ZS5zZWxlY3RlZEluZGV4LG51bGx9fSksbi5lYWNoKFsidGFiSW5kZXgiLCJyZWFk
T25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJy
b3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVu
dEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtuLnByb3BGaXhbdGhpcy50b0xvd2VyQ2Fz
ZSgpXT10aGlzfSk7dmFyIGFjPS9bXHRcclxuXGZdL2c7bi5mbi5leHRlbmQoe2Fk
ZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPSJzdHJpbmciPT10
eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihuLmlzRnVuY3Rpb24oYSkp
cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEu
Y2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fCIi
KS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2Rl
VHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNl
KGFjLCIgIik6IiAiKSl7Zj0wO3doaWxlKGU9YltmKytdKWQuaW5kZXhPZigiICIr
ZSsiICIpPDAmJihkKz1lKyIgIik7Zz1uLnRyaW0oZCksYy5jbGFzc05hbWUhPT1n
JiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0
aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHwi
c3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1
bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5y
ZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZiho
KWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ld
LGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1l
KyIgIikucmVwbGFjZShhYywiICIpOiIiKSl7Zj0wO3doaWxlKGU9YltmKytdKXdo
aWxlKGQuaW5kZXhPZigiICIrZSsiICIpPj0wKWQ9ZC5yZXBsYWNlKCIgIitlKyIg
IiwiICIpO2c9YT9uLnRyaW0oZCk6IiIsYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFz
c05hbWU9Zyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7
dmFyIGM9dHlwZW9mIGE7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYiYmInN0cmlu
ZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnRo
aXMuZWFjaChuLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYyl7bih0aGlzKS50b2dn
bGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfTpmdW5j
dGlvbigpe2lmKCJzdHJpbmciPT09Yyl7dmFyIGIsZD0wLGU9bih0aGlzKSxmPWEu
bWF0Y2goRSl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1v
dmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2UoYz09PVV8fCJib29sZWFuIj09
PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18i
LHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8
YT09PSExPyIiOkwuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhh
c0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhp
cy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0
aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWMsIiAiKS5pbmRleE9mKGIp
Pj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXHIvZztuLmZuLmV4dGVu
ZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3Vt
ZW50cy5sZW5ndGgpcmV0dXJuIGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChm
dW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwo
dGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10
eXBlb2YgZT9lKz0iIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24o
YSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW4udmFsSG9va3NbdGhpcy50
eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGIm
JiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhp
cy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW4udmFsSG9va3NbZS50eXBlXXx8
bi52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4g
YiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJz
dHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UoYmMsIiIpOm51bGw9PWM/IiI6Yyl9
fX0pLG4uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7
dmFyIGI9bi5maW5kLmF0dHIoYSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9Yj9iOm4u
dHJpbShuLnRleHQoYSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZh
ciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9u
ZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9
MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9
PWV8fChrLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmli
dXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZuLm5vZGVO
YW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9bihjKS52YWwoKSxm
KXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7
dmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7
d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1uLmluQXJyYXkoZC52YWx1ZSxm
KT49MCkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19
fX0pLG4uZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe24udmFs
SG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmlzQXJyYXko
Yik/YS5jaGVja2VkPW4uaW5BcnJheShuKGEpLnZhbCgpLGIpPj0wOnZvaWQgMH19
LGsuY2hlY2tPbnx8KG4udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3Jl
dHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjphLnZhbHVl
fSl9KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJl
c2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3Vz
ZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3Vz
ZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5
dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtu
LmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90
aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVu
ZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEp
Lm1vdXNlbGVhdmUoYnx8YSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0
aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4g
dGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXty
ZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIs
Yyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6
dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pO3ZhciBjYz1uLm5vdygpLGRjPS9cPy87
bi5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYSsiIil9
LG4ucGFyc2VYTUw9ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighYXx8InN0cmluZyIh
PXR5cGVvZiBhKXJldHVybiBudWxsO3RyeXtjPW5ldyBET01QYXJzZXIsYj1jLnBh
cnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpfWNhdGNoKGQpe2I9dm9pZCAwfXJl
dHVybighYnx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5s
ZW5ndGgpJiZuLmVycm9yKCJJbnZhbGlkIFhNTDogIithKSxifTt2YXIgZWMsZmMs
Z2M9LyMuKiQvLGhjPS8oWz8mXSlfPVteJl0qLyxpYz0vXiguKj8pOlsgXHRdKihb
XlxyXG5dKikkL2dtLGpjPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4
dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGtjPS9eKD86R0VUfEhFQUQpJC8s
bGM9L15cL1wvLyxtYz0vXihbXHcuKy1dKzopKD86XC9cLyg/OlteXC8/I10qQHwp
KFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxuYz17fSxvYz17fSxwYz0iKi8iLmNv
bmNhdCgiKiIpO3RyeXtmYz1sb2NhdGlvbi5ocmVmfWNhdGNoKHFjKXtmYz1sLmNy
ZWF0ZUVsZW1lbnQoImEiKSxmYy5ocmVmPSIiLGZjPWZjLmhyZWZ9ZWM9bWMuZXhl
YyhmYy50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gcmMoYSl7cmV0dXJuIGZ1
bmN0aW9uKGIsYyl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIg
ZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG4uaXNGdW5j
dGlvbihjKSl3aGlsZShkPWZbZSsrXSkiKyI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8
fCIqIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10p
LnB1c2goYyl9fWZ1bmN0aW9uIHNjKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PW9j
O2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18
fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuInN0cmluZyIh
PXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMu
dW5zaGlmdChqKSxnKGopLCExKX0pLGl9cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0p
fHwhZVsiKiJdJiZnKCIqIil9ZnVuY3Rpb24gdGMoYSxiKXt2YXIgYyxkLGU9bi5h
amF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09
YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5l
eHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHVjKGEsYixjKXt2YXIgZCxlLGYsZyxo
PWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZSgiKiI9PT1pWzBdKWkuc2hp
ZnQoKSx2b2lkIDA9PT1kJiYoZD1hLm1pbWVUeXBlfHxiLmdldFJlc3BvbnNlSGVh
ZGVyKCJDb250ZW50LVR5cGUiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhb
ZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVsw
XTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZSsiICIr
aVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1p
WzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHZjKGEsYixj
LGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYo
a1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEu
Y29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VG
aWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRh
dGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1r
LnNoaWZ0KCkpaWYoIioiPT09ZilmPWk7ZWxzZSBpZigiKiIhPT1pJiZpIT09Zil7
aWYoZz1qW2krIiAiK2ZdfHxqWyIqICIrZl0sIWcpZm9yKGUgaW4gailpZihoPWUu
c3BsaXQoIiAiKSxoWzFdPT09ZiYmKGc9altpKyIgIitoWzBdXXx8alsiKiAiK2hb
MF1dKSl7Zz09PSEwP2c9altlXTpqW2VdIT09ITAmJihmPWhbMF0say51bnNoaWZ0
KGhbMV0pKTticmVha31pZihnIT09ITApaWYoZyYmYVsidGhyb3dzIl0pYj1nKGIp
O2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6InBhcnNlcmVy
cm9yIixlcnJvcjpnP2w6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2krIiB0byAiK2Z9
fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2
ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmZj
LHR5cGU6IkdFVCIsaXNMb2NhbDpqYy50ZXN0KGVjWzFdKSxnbG9iYWw6ITAscHJv
Y2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gt
d3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7Iioi
OnBjLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBs
aWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0
ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwv
LGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIs
dGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0
ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6
bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7
dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1
cm4gYj90Yyh0YyhhLG4uYWpheFNldHRpbmdzKSxiKTp0YyhuLmFqYXhTZXR0aW5n
cyxhKX0sYWpheFByZWZpbHRlcjpyYyhuYyksYWpheFRyYW5zcG9ydDpyYyhvYyks
YWpheDpmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgYSYmKGI9YSxhPXZv
aWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9bi5hamF4U2V0dXAo
e30sYiksbD1rLmNvbnRleHR8fGssbT1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxs
LmpxdWVyeSk/bihsKTpuLmV2ZW50LG89bi5EZWZlcnJlZCgpLHA9bi5DYWxsYmFj
a3MoIm9uY2UgbWVtb3J5IikscT1rLnN0YXR1c0NvZGV8fHt9LHI9e30scz17fSx0
PTAsdT0iY2FuY2VsZWQiLHY9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRl
cjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dCl7aWYoIWYpe2Y9e307d2hpbGUo
Yj1pYy5leGVjKGUpKWZbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9ZlthLnRv
TG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9u
c2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10P2U6bnVsbH0sc2V0UmVx
dWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTty
ZXR1cm4gdHx8KGE9c1tjXT1zW2NdfHxhLHJbYV09YiksdGhpc30sb3ZlcnJpZGVN
aW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdHx8KGsubWltZVR5cGU9YSksdGhp
c30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dClmb3Io
YiBpbiBhKXFbYl09W3FbYl0sYVtiXV07ZWxzZSB2LmFsd2F5cyhhW3Yuc3RhdHVz
XSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHU7cmV0
dXJuIGMmJmMuYWJvcnQoYikseCgwLGIpLHRoaXN9fTtpZihvLnByb21pc2Uodiku
Y29tcGxldGU9cC5hZGQsdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCxr
LnVybD0oKGF8fGsudXJsfHxmYykrIiIpLnJlcGxhY2UoZ2MsIiIpLnJlcGxhY2Uo
bGMsZWNbMV0rIi8vIiksay50eXBlPWIubWV0aG9kfHxiLnR5cGV8fGsubWV0aG9k
fHxrLnR5cGUsay5kYXRhVHlwZXM9bi50cmltKGsuZGF0YVR5cGV8fCIqIikudG9M
b3dlckNhc2UoKS5tYXRjaChFKXx8WyIiXSxudWxsPT1rLmNyb3NzRG9tYWluJiYo
aD1tYy5leGVjKGsudXJsLnRvTG93ZXJDYXNlKCkpLGsuY3Jvc3NEb21haW49ISgh
aHx8aFsxXT09PWVjWzFdJiZoWzJdPT09ZWNbMl0mJihoWzNdfHwoImh0dHA6Ij09
PWhbMV0/IjgwIjoiNDQzIikpPT09KGVjWzNdfHwoImh0dHA6Ij09PWVjWzFdPyI4
MCI6IjQ0MyIpKSkpLGsuZGF0YSYmay5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5
cGVvZiBrLmRhdGEmJihrLmRhdGE9bi5wYXJhbShrLmRhdGEsay50cmFkaXRpb25h
bCkpLHNjKG5jLGssYix2KSwyPT09dClyZXR1cm4gdjtpPWsuZ2xvYmFsLGkmJjA9
PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGsudHlw
ZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IWtjLnRlc3Qoay50
eXBlKSxkPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGQ9ay51cmwrPShk
Yy50ZXN0KGQpPyImIjoiPyIpK2suZGF0YSxkZWxldGUgay5kYXRhKSxrLmNhY2hl
PT09ITEmJihrLnVybD1oYy50ZXN0KGQpP2QucmVwbGFjZShoYywiJDFfPSIrY2Mr
Kyk6ZCsoZGMudGVzdChkKT8iJiI6Ij8iKSsiXz0iK2NjKyspKSxrLmlmTW9kaWZp
ZWQmJihuLmxhc3RNb2RpZmllZFtkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1N
b2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZF0pLG4uZXRhZ1tkXSYmdi5z
ZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZF0pKSwoay5k
YXRhJiZrLmhhc0NvbnRlbnQmJmsuY29udGVudFR5cGUhPT0hMXx8Yi5jb250ZW50
VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixrLmNvbnRl
bnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsay5kYXRhVHlwZXNb
MF0mJmsuYWNjZXB0c1trLmRhdGFUeXBlc1swXV0/ay5hY2NlcHRzW2suZGF0YVR5
cGVzWzBdXSsoIioiIT09ay5kYXRhVHlwZXNbMF0/IiwgIitwYysiOyBxPTAuMDEi
OiIiKTprLmFjY2VwdHNbIioiXSk7Zm9yKGogaW4gay5oZWFkZXJzKXYuc2V0UmVx
dWVzdEhlYWRlcihqLGsuaGVhZGVyc1tqXSk7aWYoay5iZWZvcmVTZW5kJiYoay5i
ZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9y
dCgpO3U9ImFib3J0Ijtmb3IoaiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0
ZToxfSl2W2pdKGtbal0pO2lmKGM9c2Mob2MsayxiLHYpKXt2LnJlYWR5U3RhdGU9
MSxpJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbdixrXSksay5hc3luYyYmay50aW1l
b3V0PjAmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0
Iil9LGsudGltZW91dCkpO3RyeXt0PTEsYy5zZW5kKHIseCl9Y2F0Y2godyl7aWYo
ISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLCJObyBUcmFuc3BvcnQi
KTtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYo
dD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fCIiLHYucmVhZHlT
dGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT11Yyhr
LHYsZikpLHU9dmMoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJl
c3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG4ubGFzdE1vZGlmaWVk
W2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihuLmV0YWdb
ZF09dykpLDIwND09PWF8fCJIRUFEIj09PWsudHlwZT94PSJub2NvbnRlbnQiOjMw
ND09PWE/eD0ibm90bW9kaWZpZWQiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVy
cm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PSJlcnJvciIsMD5hJiYoYT0wKSkp
LHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KSsiIixqP28ucmVzb2x2ZVdp
dGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0Nv
ZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWph
eEVycm9yIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50
cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGtdKSwtLW4uYWN0aXZlfHxuLmV2ZW50
LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gdn0sZ2V0SlNPTjpmdW5jdGlv
bihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpm
dW5jdGlvbihhLGIpe3JldHVybiBuLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19
KSxuLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtuW2JdPWZ1bmN0
aW9uKGEsYyxkLGUpe3JldHVybiBuLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1j
LGM9dm9pZCAwKSxuLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6
YyxzdWNjZXNzOmR9KX19KSxuLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIs
ImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNl
bmQiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRo
aXMub24oYixhKX19KSxuLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuLmFq
YXgoe3VybDphLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEs
Z2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9LG4uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1
bmN0aW9uKGEpe3ZhciBiO3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNo
KGZ1bmN0aW9uKGIpe24odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToo
dGhpc1swXSYmKGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xv
bmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1sw
XSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVt
ZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5k
KHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlz
LmVhY2gobi5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGIpe24odGhpcykud3JhcElu
bmVyKGEuY2FsbCh0aGlzLGIpKX06ZnVuY3Rpb24oKXt2YXIgYj1uKHRoaXMpLGM9
Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0p
fSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW4uaXNGdW5jdGlvbihhKTtyZXR1cm4g
dGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykud3JhcEFsbChiP2EuY2FsbCh0
aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVu
dCgpLmVhY2goZnVuY3Rpb24oKXtuLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8bih0
aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksbi5l
eHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdp
ZHRoPD0wJiZhLm9mZnNldEhlaWdodDw9MH0sbi5leHByLmZpbHRlcnMudmlzaWJs
ZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2
YXIgd2M9LyUyMC9nLHhjPS9cW1xdJC8seWM9L1xyP1xuL2csemM9L14oPzpzdWJt
aXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLEFjPS9eKD86aW5wdXR8c2Vs
ZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBCYyhhLGIsYyxkKXt2YXIg
ZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx4Yy50
ZXN0KGEpP2QoYSxlKTpCYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlP2I6IiIp
KyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQo
YSxiKTtlbHNlIGZvcihlIGluIGIpQmMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4u
cGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXti
PW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVu
Y29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtp
Zih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3Mu
dHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5P
YmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZh
bHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlCYyhjLGFbY10sYixlKTtyZXR1cm4gZC5q
b2luKCImIikucmVwbGFjZSh3YywiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXpl
OmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgp
KX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVu
Y3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9u
Lm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhp
cy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQi
KSYmQWMudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXpjLnRlc3QoYSkmJih0aGlzLmNo
ZWNrZWR8fCFULnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0
aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1h
cChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxh
Y2UoeWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKHlj
LCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9u
KCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYSl7fX07dmFy
IENjPTAsRGM9e30sRWM9ezA6MjAwLDEyMjM6MjA0fSxGYz1uLmFqYXhTZXR0aW5n
cy54aHIoKTthLkFjdGl2ZVhPYmplY3QmJm4oYSkub24oInVubG9hZCIsZnVuY3Rp
b24oKXtmb3IodmFyIGEgaW4gRGMpRGNbYV0oKX0pLGsuY29ycz0hIUZjJiYid2l0
aENyZWRlbnRpYWxzImluIEZjLGsuYWpheD1GYz0hIUZjLG4uYWpheFRyYW5zcG9y
dChmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gay5jb3JzfHxGYyYmIWEuY3Jvc3NE
b21haW4/e3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK0Nj
O2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFz
c3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54
aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92
ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1siWC1S
ZXF1ZXN0ZWQtV2l0aCJdfHwoY1siWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRw
UmVxdWVzdCIpO2ZvcihlIGluIGMpZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXSk7
Yj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtiJiYoZGVsZXRlIERjW2dd
LGI9Zi5vbmxvYWQ9Zi5vbmVycm9yPW51bGwsImFib3J0Ij09PWE/Zi5hYm9ydCgp
OiJlcnJvciI9PT1hP2QoZi5zdGF0dXMsZi5zdGF0dXNUZXh0KTpkKEVjW2Yuc3Rh
dHVzXXx8Zi5zdGF0dXMsZi5zdGF0dXNUZXh0LCJzdHJpbmciPT10eXBlb2YgZi5y
ZXNwb25zZVRleHQ/e3RleHQ6Zi5yZXNwb25zZVRleHR9OnZvaWQgMCxmLmdldEFs
bFJlc3BvbnNlSGVhZGVycygpKSl9fSxmLm9ubG9hZD1iKCksZi5vbmVycm9yPWIo
ImVycm9yIiksYj1EY1tnXT1iKCJhYm9ydCIpO3RyeXtmLnNlbmQoYS5oYXNDb250
ZW50JiZhLmRhdGF8fG51bGwpfWNhdGNoKGgpe2lmKGIpdGhyb3cgaH19LGFib3J0
OmZ1bmN0aW9uKCl7YiYmYigpfX06dm9pZCAwfSksbi5hamF4U2V0dXAoe2FjY2Vw
dHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2Ny
aXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFz
Y3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30s
Y29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihhKXtyZXR1cm4gbi5n
bG9iYWxFdmFsKGEpLGF9fX0pLG4uYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5j
dGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0Rv
bWFpbiYmKGEudHlwZT0iR0VUIil9KSxuLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIs
ZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2Vu
ZDpmdW5jdGlvbihkLGUpe2I9bigiPHNjcmlwdD4iKS5wcm9wKHthc3luYzohMCxj
aGFyc2V0OmEuc2NyaXB0Q2hhcnNldCxzcmM6YS51cmx9KS5vbigibG9hZCBlcnJv
ciIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZlKCJlcnJvciI9
PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksbC5oZWFkLmFwcGVuZENoaWxkKGJb
MF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBHYz1bXSxIYz0v
KD0pXD8oPz0mfCQpfFw/XD8vO24uYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2si
LGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1HYy5wb3AoKXx8bi5leHBh
bmRvKyJfIitjYysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbi5hamF4UHJlZmls
dGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5q
c29ucCE9PSExJiYoSGMudGVzdChiLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVv
ZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0
aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZIYy50ZXN0KGIuZGF0YSkmJiJk
YXRhIik7cmV0dXJuIGh8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpz
b25wQ2FsbGJhY2s9bi5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29u
cENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2Uo
SGMsIiQxIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KGRjLnRlc3QoYi51cmwp
PyImIjoiPyIpK2IuanNvbnArIj0iK2UpLGIuY29udmVydGVyc1sic2NyaXB0IGpz
b24iXT1mdW5jdGlvbigpe3JldHVybiBnfHxuLmVycm9yKGUrIiB3YXMgbm90IGNh
bGxlZCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixmPWFbZV0sYVtlXT1m
dW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbZV09
ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxHYy5wdXNo
KGUpKSxnJiZuLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLCJz
Y3JpcHQiKTp2b2lkIDB9KSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYo
IWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5
cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8bDt2YXIgZD12LmV4ZWMoYSksZT0hYyYm
W107cmV0dXJuIGQ/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9bi5idWlsZEZy
YWdtZW50KFthXSxiLGUpLGUmJmUubGVuZ3RoJiZuKGUpLnJlbW92ZSgpLG4ubWVy
Z2UoW10sZC5jaGlsZE5vZGVzKSl9O3ZhciBJYz1uLmZuLmxvYWQ7bi5mbi5sb2Fk
PWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJkljKXJldHVy
biBJYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEu
aW5kZXhPZigiICIpO3JldHVybiBoPj0wJiYoZD1uLnRyaW0oYS5zbGljZShoKSks
YT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpi
JiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5h
amF4KHt1cmw6YSx0eXBlOmUsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yn0pLmRvbmUo
ZnVuY3Rpb24oYSl7Zj1hcmd1bWVudHMsZy5odG1sKGQ/bigiPGRpdj4iKS5hcHBl
bmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5jb21wbGV0ZShjJiZmdW5j
dGlvbihhLGIpe2cuZWFjaChjLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pLHRo
aXN9LG4uZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBu
LmdyZXAobi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5s
ZW5ndGh9O3ZhciBKYz1hLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmdW5jdGlv
biBLYyhhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZh
LmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMp
e3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSwicG9zaXRpb24iKSxsPW4oYSks
bT17fTsic3RhdGljIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIp
LGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsInRvcCIpLGk9bi5jc3MoYSwibGVmdCIp
LGo9KCJhYnNvbHV0ZSI9PT1rfHwiZml4ZWQiPT09aykmJihmK2kpLmluZGV4T2Yo
ImF1dG8iKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KToo
Zz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0
aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGgpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIu
dG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0
K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sbi5m
bi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3Ro
KXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24u
b2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxl
PXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJu
IGI9Zi5kb2N1bWVudEVsZW1lbnQsbi5jb250YWlucyhiLGQpPyh0eXBlb2YgZC5n
ZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1VJiYoZT1kLmdldEJvdW5kaW5nQ2xpZW50
UmVjdCgpKSxjPUtjKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVu
dFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9
LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNb
MF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoYywicG9z
aXRpb24iKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZz
ZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1s
Iil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BX
aWR0aCIsITApLGQubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwh
MCkpLHt0b3A6Yi50b3AtZC50b3Atbi5jc3MoYywibWFyZ2luVG9wIiwhMCksbGVm
dDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZz
ZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2
YXIgYT10aGlzLm9mZnNldFBhcmVudHx8SmM7d2hpbGUoYSYmIW4ubm9kZU5hbWUo
YSwiaHRtbCIpJiYic3RhdGljIj09PW4uY3NzKGEsInBvc2l0aW9uIikpYT1hLm9m
ZnNldFBhcmVudDtyZXR1cm4gYXx8SmN9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6
InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24o
YixjKXt2YXIgZD0icGFnZVlPZmZzZXQiPT09YztuLmZuW2JdPWZ1bmN0aW9uKGUp
e3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixlLGYpe3ZhciBnPUtjKGIpO3JldHVy
biB2b2lkIDA9PT1mP2c/Z1tjXTpiW2VdOnZvaWQoZz9nLnNjcm9sbFRvKGQ/YS5w
YWdlWE9mZnNldDpmLGQ/ZjphLnBhZ2VZT2Zmc2V0KTpiW2VdPWYpfSxiLGUsYXJn
dW1lbnRzLmxlbmd0aCxudWxsKX19KSxuLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVu
Y3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXliKGsucGl4ZWxQb3NpdGlvbixmdW5j
dGlvbihhLGMpe3JldHVybiBjPyhjPXhiKGEsYiksdmIudGVzdChjKT9uKGEpLnBv
c2l0aW9uKClbYl0rInB4IjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OiJo
ZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEsYil7bi5lYWNoKHtwYWRk
aW5nOiJpbm5lciIrYSxjb250ZW50OmIsIiI6Im91dGVyIithfSxmdW5jdGlvbihj
LGQpe24uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3Ro
JiYoY3x8ImJvb2xlYW4iIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/
Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixjLGQp
e3ZhciBlO3JldHVybiBuLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRF
bGVtZW50WyJjbGllbnQiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRF
bGVtZW50LE1hdGgubWF4KGIuYm9keVsic2Nyb2xsIithXSxlWyJzY3JvbGwiK2Fd
LGIuYm9keVsib2Zmc2V0IithXSxlWyJvZmZzZXQiK2FdLGVbImNsaWVudCIrYV0p
KTp2b2lkIDA9PT1kP24uY3NzKGIsYyxnKTpuLnN0eWxlKGIsYyxkLGcpfSxiLGY/
ZDp2b2lkIDAsZixudWxsKX19KX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVy
biB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rp
b24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIs
W10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBMYz1hLmpRdWVyeSxNYz1hLiQ7
cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYm
KGEuJD1NYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9TGMpLG59LHR5cGVv
ZiBiPT09VSYmKGEualF1ZXJ5PWEuJD1uKSxufSk7Ci8vIyBzb3VyY2VNYXBwaW5n
VVJMPWpxdWVyeS5taW4ubWFwPC9zY3JpcHQ+DQogICAgICA8IS0tIGQzLnNsaWRl
ci5qcyBsaWJyYXJ5IC0tPg0KICAgICAgPHNjcmlwdD4vKg0KICAgIEQzLmpzIFNs
aWRlcg0KICAgIEluc3BpcmVkIGJ5IGpRdWVyeSBVSSBTbGlkZXINCiAgICBDb3B5
cmlnaHQgKGMpIDIwMTMsIEJqb3JuIFNhbmR2aWsgLSBodHRwOi8vYmxvZy50aGVt
YXRpY21hcHBpbmcub3JnDQogICAgQlNEIGxpY2Vuc2U6IGh0dHA6Ly9vcGVuc291
cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2UNCiovDQooZnVuY3Rpb24gKHJv
b3QsIGZhY3RvcnkpIHsNCiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlv
bicgJiYgZGVmaW5lLmFtZCkgew0KICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4g
YW5vbnltb3VzIG1vZHVsZS4NCiAgICBkZWZpbmUoWydkMyddLCBmYWN0b3J5KTsN
CiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsNCiAg
ICBpZiAocHJvY2Vzcy5icm93c2VyKSB7DQogICAgICAvLyBCcm93c2VyaWZ5LiBJ
bXBvcnQgY3NzIHRvbyB1c2luZyBjc3NpZnkuDQogICAgICByZXF1aXJlKCcuL2Qz
LnNsaWRlci5jc3MnKTsNCiAgICB9DQogICAgLy8gTm9kZS4gRG9lcyBub3Qgd29y
ayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0DQogICAgLy8gb25seSBDb21tb25K
Uy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMs
DQogICAgLy8gbGlrZSBOb2RlLg0KICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9y
eShyZXF1aXJlKCdkMycpKTsNCiAgfSBlbHNlIHsNCiAgICAvLyBCcm93c2VyIGds
b2JhbHMgKHJvb3QgaXMgd2luZG93KQ0KICAgIHJvb3QuZDMuc2xpZGVyID0gZmFj
dG9yeShyb290LmQzKTsNCiAgfQ0KfSh0aGlzLCBmdW5jdGlvbiAoZDMpIHsNCnJl
dHVybiBmdW5jdGlvbiBtb2R1bGUoKSB7DQogICJ1c2Ugc3RyaWN0IjsNCg0KICAv
LyBQdWJsaWMgdmFyaWFibGVzIHdpZHRoIGRlZmF1bHQgc2V0dGluZ3MNCiAgdmFy
IG1pbiA9IDAsDQogICAgICBtYXggPSAxMDAsDQogICAgICBzdGVwID0gMC4wMSwN
CiAgICAgIGFuaW1hdGUgPSB0cnVlLA0KICAgICAgb3JpZW50YXRpb24gPSAiaG9y
aXpvbnRhbCIsDQogICAgICBheGlzID0gZmFsc2UsDQogICAgICBtYXJnaW4gPSA1
MCwNCiAgICAgIHZhbHVlLA0KICAgICAgYWN0aXZlID0gMSwNCiAgICAgIHNjYWxl
LA0KICAgICAgaW50ZXJ2YWw9MTsNCg0KICAvLyBQcml2YXRlIHZhcmlhYmxlcw0K
ICB2YXIgYXhpc1NjYWxlLA0KICAgICAgZGlzcGF0Y2ggPSBkMy5kaXNwYXRjaCgi
c2xpZGUiLCAic2xpZGVlbmQiKSwNCiAgICAgIGZvcm1hdFBlcmNlbnQgPSBkMy5m
b3JtYXQoIi4yJSIpLA0KICAgICAgdGlja0Zvcm1hdCA9IGQzLmZvcm1hdCgiLjAi
KSwNCiAgICAgIGhhbmRsZTEsDQogICAgICBoYW5kbGUyID0gbnVsbCwNCiAgICAg
IHNsaWRlckxlbmd0aDsNCg0KICBmdW5jdGlvbiBzbGlkZXIoc2VsZWN0aW9uKSB7
DQogICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24oKSB7DQoNCiAgICAgIC8vIENy
ZWF0ZSBzY2FsZSBpZiBub3QgZGVmaW5lZCBieSB1c2VyDQogICAgICBpZiAoIXNj
YWxlKSB7DQogICAgICAgIHNjYWxlID0gZDMuc2NhbGUubGluZWFyKCkuZG9tYWlu
KFttaW4sIG1heF0pOw0KICAgICAgfQ0KDQogICAgICAvLyBTdGFydCB2YWx1ZQ0K
ICAgICAgdmFsdWUgPSB2YWx1ZSB8fCBzY2FsZS5kb21haW4oKVswXTsNCg0KICAg
ICAgLy8gRElWIGNvbnRhaW5lcg0KICAgICAgdmFyIGRpdiA9IGQzLnNlbGVjdCh0
aGlzKS5jbGFzc2VkKCJkMy1zbGlkZXIgZDMtc2xpZGVyLSIgKyBvcmllbnRhdGlv
biwgdHJ1ZSk7DQogICAgICANCiAgICAgIHZhciBkcmFnID0gZDMuYmVoYXZpb3Iu
ZHJhZygpOw0KICAgICAgZHJhZy5vbignZHJhZ2VuZCcsIGZ1bmN0aW9uICgpIHsN
CiAgICAgICAgZGlzcGF0Y2guc2xpZGVlbmQoZDMuZXZlbnQsIHZhbHVlKTsNCiAg
ICAgIH0pDQoNCiAgICAgIC8vIFNsaWRlciBoYW5kbGUNCiAgICAgIC8vaWYgcmFu
Z2Ugc2xpZGVyLCBjcmVhdGUgdHdvDQogICAgICB2YXIgZGl2UmFuZ2U7DQoNCiAg
ICAgIGlmICggdmFsdWUubGVuZ3RoID09IDIgKSB7DQogICAgICAgIGhhbmRsZTEg
PSBkaXYuYXBwZW5kKCJhIikNCiAgICAgICAgICAuY2xhc3NlZCgiZDMtc2xpZGVy
LWhhbmRsZSIsIHRydWUpDQogICAgICAgICAgLmF0dHIoInhsaW5rOmhyZWYiLCAi
IyIpDQogICAgICAgICAgLmF0dHIoJ2lkJywgImhhbmRsZS1vbmUiKQ0KICAgICAg
ICAgIC5vbigiY2xpY2siLCBzdG9wUHJvcGFnYXRpb24pDQogICAgICAgICAgLmNh
bGwoZHJhZyk7DQogICAgICAgIGhhbmRsZTIgPSBkaXYuYXBwZW5kKCJhIikNCiAg
ICAgICAgICAuY2xhc3NlZCgiZDMtc2xpZGVyLWhhbmRsZSIsIHRydWUpDQogICAg
ICAgICAgLmF0dHIoJ2lkJywgImhhbmRsZS10d28iKQ0KICAgICAgICAgIC5hdHRy
KCJ4bGluazpocmVmIiwgIiMiKQ0KICAgICAgICAgIC5vbigiY2xpY2siLCBzdG9w
UHJvcGFnYXRpb24pDQogICAgICAgICAgLmNhbGwoZHJhZyk7DQogICAgICB9IGVs
c2Ugew0KICAgICAgICBoYW5kbGUxID0gZGl2LmFwcGVuZCgiYSIpDQogICAgICAg
ICAgLmNsYXNzZWQoImQzLXNsaWRlci1oYW5kbGUiLCB0cnVlKQ0KICAgICAgICAg
IC5hdHRyKCJ4bGluazpocmVmIiwgIiMiKQ0KICAgICAgICAgIC5hdHRyKCdpZCcs
ICJoYW5kbGUtb25lIikNCiAgICAgICAgICAub24oImNsaWNrIiwgc3RvcFByb3Bh
Z2F0aW9uKQ0KICAgICAgICAgIC5jYWxsKGRyYWcpOw0KICAgICAgfQ0KICAgICAg
Ly8gSG9yaXpvbnRhbCBzbGlkZXINCiAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0g
Imhvcml6b250YWwiKSB7DQoNCiAgICAgICAgZGl2Lm9uKCJjbGljayIsIG9uQ2xp
Y2tIb3Jpem9udGFsKTsNCiAgICAgICAgDQogICAgICAgIGlmICggdmFsdWUubGVu
Z3RoID09IDIgKSB7DQogICAgICAgICAgZGl2UmFuZ2UgPSBkMy5zZWxlY3QodGhp
cykuYXBwZW5kKCdkaXYnKS5jbGFzc2VkKCJkMy1zbGlkZXItcmFuZ2UiLCB0cnVl
KTsNCg0KICAgICAgICAgIGhhbmRsZTEuc3R5bGUoImxlZnQiLCBmb3JtYXRQZXJj
ZW50KHNjYWxlKHZhbHVlWyAwIF0pKSk7DQogICAgICAgICAgZGl2UmFuZ2Uuc3R5
bGUoImxlZnQiLCBmb3JtYXRQZXJjZW50KHNjYWxlKHZhbHVlWyAwIF0pKSk7DQog
ICAgICAgICAgZHJhZy5vbigiZHJhZyIsIG9uRHJhZ0hvcml6b250YWwpOw0KDQog
ICAgICAgICAgdmFyIHdpZHRoID0gMTAwIC0gcGFyc2VGbG9hdChmb3JtYXRQZXJj
ZW50KHNjYWxlKHZhbHVlWyAxIF0pKSk7DQogICAgICAgICAgaGFuZGxlMi5zdHls
ZSgibGVmdCIsIGZvcm1hdFBlcmNlbnQoc2NhbGUodmFsdWVbIDEgXSkpKTsNCiAg
ICAgICAgICBkaXZSYW5nZS5zdHlsZSgicmlnaHQiLCB3aWR0aCsiJSIpOw0KICAg
ICAgICAgIGRyYWcub24oImRyYWciLCBvbkRyYWdIb3Jpem9udGFsKTsNCg0KICAg
ICAgICB9IGVsc2Ugew0KICAgICAgICAgIGhhbmRsZTEuc3R5bGUoImxlZnQiLCBm
b3JtYXRQZXJjZW50KHNjYWxlKHZhbHVlKSkpOw0KICAgICAgICAgIGRyYWcub24o
ImRyYWciLCBvbkRyYWdIb3Jpem9udGFsKTsNCiAgICAgICAgfQ0KICAgICAgICAN
Cg0KICAgICAgICBzbGlkZXJMZW5ndGggPSBwYXJzZUludChkaXYuc3R5bGUoIndp
ZHRoIiksIDEwKTsNCiAgICAgICAgaGFuZGxlMS5zdHlsZSgnd2lkdGgnLCAoKHNj
YWxlKGludGVydmFsK21pbikqc2xpZGVyTGVuZ3RoKSkrJ3B4JykNCg0KICAgICAg
fSBlbHNlIHsgLy8gVmVydGljYWwNCg0KICAgICAgICBkaXYub24oImNsaWNrIiwg
b25DbGlja1ZlcnRpY2FsKTsNCiAgICAgICAgZHJhZy5vbigiZHJhZyIsIG9uRHJh
Z1ZlcnRpY2FsKTsNCiAgICAgICAgaWYgKCB2YWx1ZS5sZW5ndGggPT0gMiApIHsN
CiAgICAgICAgICBkaXZSYW5nZSA9IGQzLnNlbGVjdCh0aGlzKS5hcHBlbmQoJ2Rp
dicpLmNsYXNzZWQoImQzLXNsaWRlci1yYW5nZS12ZXJ0aWNhbCIsIHRydWUpOw0K
DQogICAgICAgICAgaGFuZGxlMS5zdHlsZSgiYm90dG9tIiwgZm9ybWF0UGVyY2Vu
dChzY2FsZSh2YWx1ZVsgMCBdKSkpOw0KICAgICAgICAgIGRpdlJhbmdlLnN0eWxl
KCJib3R0b20iLCBmb3JtYXRQZXJjZW50KHNjYWxlKHZhbHVlWyAwIF0pKSk7DQog
ICAgICAgICAgZHJhZy5vbigiZHJhZyIsIG9uRHJhZ1ZlcnRpY2FsKTsNCg0KICAg
ICAgICAgIHZhciB0b3AgPSAxMDAgLSBwYXJzZUZsb2F0KGZvcm1hdFBlcmNlbnQo
c2NhbGUodmFsdWVbIDEgXSkpKTsNCiAgICAgICAgICBoYW5kbGUyLnN0eWxlKCJi
b3R0b20iLCBmb3JtYXRQZXJjZW50KHNjYWxlKHZhbHVlWyAxIF0pKSk7DQogICAg
ICAgICAgZGl2UmFuZ2Uuc3R5bGUoInRvcCIsIHRvcCsiJSIpOw0KICAgICAgICAg
IGRyYWcub24oImRyYWciLCBvbkRyYWdWZXJ0aWNhbCk7DQoNCiAgICAgICAgfSBl
bHNlIHsNCiAgICAgICAgICBoYW5kbGUxLnN0eWxlKCJib3R0b20iLCBmb3JtYXRQ
ZXJjZW50KHNjYWxlKHZhbHVlKSkpOw0KICAgICAgICAgIGRyYWcub24oImRyYWci
LCBvbkRyYWdWZXJ0aWNhbCk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAg
IHNsaWRlckxlbmd0aCA9IHBhcnNlSW50KGRpdi5zdHlsZSgiaGVpZ2h0IiksIDEw
KTsNCg0KICAgICAgfQ0KICAgICAgDQogICAgICBpZiAoYXhpcykgew0KICAgICAg
ICBjcmVhdGVBeGlzKGRpdik7DQogICAgICB9DQoNCg0KICAgICAgZnVuY3Rpb24g
Y3JlYXRlQXhpcyhkb20pIHsNCg0KICAgICAgICAvLyBDcmVhdGUgYXhpcyBpZiBu
b3QgZGVmaW5lZCBieSB1c2VyDQogICAgICAgIGlmICh0eXBlb2YgYXhpcyA9PT0g
ImJvb2xlYW4iKSB7DQoNCiAgICAgICAgICBheGlzID0gZDMuc3ZnLmF4aXMoKQ0K
ICAgICAgICAgICAgICAudGlja3MoTWF0aC5yb3VuZChzbGlkZXJMZW5ndGggLyAx
MDApKQ0KICAgICAgICAgICAgICAudGlja0Zvcm1hdCh0aWNrRm9ybWF0KQ0KICAg
ICAgICAgICAgICAub3JpZW50KChvcmllbnRhdGlvbiA9PT0gImhvcml6b250YWwi
KSA/ICJib3R0b20iIDogICJyaWdodCIpOw0KDQogICAgICAgIH0NCg0KICAgICAg
ICAvLyBDb3B5IHNsaWRlciBzY2FsZSB0byBtb3ZlIGZyb20gcGVyY2VudGFnZXMg
dG8gcGl4ZWxzDQogICAgICAgIGF4aXNTY2FsZSA9IHNjYWxlLmNvcHkoKS5yYW5n
ZShbMCwgc2xpZGVyTGVuZ3RoXSk7DQogICAgICAgICAgYXhpcy5zY2FsZShheGlz
U2NhbGUpOw0KDQogICAgICAgICAgLy8gQ3JlYXRlIFNWRyBheGlzIGNvbnRhaW5l
cg0KICAgICAgICB2YXIgc3ZnID0gZG9tLmFwcGVuZCgic3ZnIikNCiAgICAgICAg
ICAgIC5jbGFzc2VkKCJkMy1zbGlkZXItYXhpcyBkMy1zbGlkZXItYXhpcy0iICsg
YXhpcy5vcmllbnQoKSwgdHJ1ZSkNCiAgICAgICAgICAgIC5vbigiY2xpY2siLCBz
dG9wUHJvcGFnYXRpb24pOw0KDQogICAgICAgIHZhciBnID0gc3ZnLmFwcGVuZCgi
ZyIpOw0KDQogICAgICAgIC8vIEhvcml6b250YWwgYXhpcw0KICAgICAgICBpZiAo
b3JpZW50YXRpb24gPT09ICJob3Jpem9udGFsIikgew0KDQogICAgICAgICAgc3Zn
LnN0eWxlKCJtYXJnaW4tbGVmdCIsIC1tYXJnaW4gKyAicHgiKTsNCg0KICAgICAg
ICAgIHN2Zy5hdHRyKHsNCiAgICAgICAgICAgIHdpZHRoOiBzbGlkZXJMZW5ndGgg
KyBtYXJnaW4gKiAyLA0KICAgICAgICAgICAgaGVpZ2h0OiBtYXJnaW4NCiAgICAg
ICAgICB9KTsNCg0KICAgICAgICAgIGlmIChheGlzLm9yaWVudCgpID09PSAidG9w
Iikgew0KICAgICAgICAgICAgc3ZnLnN0eWxlKCJ0b3AiLCAtbWFyZ2luICsgInB4
Iik7DQogICAgICAgICAgICBnLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUo
IiArIG1hcmdpbiArICIsIiArIG1hcmdpbiArICIpIik7DQogICAgICAgICAgfSBl
bHNlIHsgLy8gYm90dG9tDQogICAgICAgICAgICBnLmF0dHIoInRyYW5zZm9ybSIs
ICJ0cmFuc2xhdGUoIiArIG1hcmdpbiArICIsMCkiKTsNCiAgICAgICAgICB9DQoN
CiAgICAgICAgfSBlbHNlIHsgLy8gVmVydGljYWwNCg0KICAgICAgICAgIHN2Zy5z
dHlsZSgidG9wIiwgLW1hcmdpbiArICJweCIpOw0KDQogICAgICAgICAgc3ZnLmF0
dHIoew0KICAgICAgICAgICAgd2lkdGg6IG1hcmdpbiwNCiAgICAgICAgICAgIGhl
aWdodDogc2xpZGVyTGVuZ3RoICsgbWFyZ2luICogMg0KICAgICAgICAgIH0pOw0K
DQogICAgICAgICAgaWYgKGF4aXMub3JpZW50KCkgPT09ICJsZWZ0Iikgew0KICAg
ICAgICAgICAgc3ZnLnN0eWxlKCJsZWZ0IiwgLW1hcmdpbiArICJweCIpOw0KICAg
ICAgICAgICAgZy5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBtYXJn
aW4gKyAiLCIgKyBtYXJnaW4gKyAiKSIpOw0KICAgICAgICAgIH0gZWxzZSB7IC8v
IHJpZ2h0ICAgICAgICAgIA0KICAgICAgICAgICAgZy5hdHRyKCJ0cmFuc2Zvcm0i
LCAidHJhbnNsYXRlKCIgKyAwICsgIiwiICsgbWFyZ2luICsgIikiKTsNCiAgICAg
ICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIGcuY2FsbChheGlzKTsNCg0K
ICAgICAgfQ0KDQogICAgICBmdW5jdGlvbiBvbkNsaWNrSG9yaXpvbnRhbCgpIHsN
CiAgICAgICAgaWYgKCF2YWx1ZS5sZW5ndGgpIHsNCiAgICAgICAgICB2YXIgcG9z
ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2xpZGVyTGVuZ3RoLCBkMy5ldmVudC5v
ZmZzZXRYIHx8IGQzLmV2ZW50LmxheWVyWCkpOw0KICAgICAgICAgIG1vdmVIYW5k
bGUoc3RlcFZhbHVlKHNjYWxlLmludmVydChwb3MgLyBzbGlkZXJMZW5ndGgpKSk7
DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgZnVuY3Rpb24gb25DbGlja1Zl
cnRpY2FsKCkgew0KICAgICAgICBpZiAoIXZhbHVlLmxlbmd0aCkgew0KICAgICAg
ICAgIHZhciBwb3MgPSBzbGlkZXJMZW5ndGggLSBNYXRoLm1heCgwLCBNYXRoLm1p
bihzbGlkZXJMZW5ndGgsIGQzLmV2ZW50Lm9mZnNldFkgfHwgZDMuZXZlbnQubGF5
ZXJZKSk7DQogICAgICAgICAgbW92ZUhhbmRsZShzdGVwVmFsdWUoc2NhbGUuaW52
ZXJ0KHBvcyAvIHNsaWRlckxlbmd0aCkpKTsNCiAgICAgICAgfQ0KICAgICAgfQ0K
DQogICAgICBmdW5jdGlvbiBvbkRyYWdIb3Jpem9udGFsKCkgew0KICAgICAgICBp
ZiAoIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5pZCA9PT0gImhhbmRsZS1v
bmUiKSB7DQogICAgICAgICAgYWN0aXZlID0gMTsNCiAgICAgICAgfSBlbHNlIGlm
ICggZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0LmlkID09ICJoYW5kbGUtdHdv
IiApIHsNCiAgICAgICAgICBhY3RpdmUgPSAyOw0KICAgICAgICB9DQogICAgICAg
IHZhciBwb3MgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzbGlkZXJMZW5ndGgsIGQz
LmV2ZW50LngpKTsNCiAgICAgICAgbW92ZUhhbmRsZShzdGVwVmFsdWUoc2NhbGUu
aW52ZXJ0KHBvcyAvIHNsaWRlckxlbmd0aCkpKTsNCiAgICAgIH0NCg0KICAgICAg
ZnVuY3Rpb24gb25EcmFnVmVydGljYWwoKSB7DQogICAgICAgIGlmICggZDMuZXZl
bnQuc291cmNlRXZlbnQudGFyZ2V0LmlkID09PSAiaGFuZGxlLW9uZSIpIHsNCiAg
ICAgICAgICBhY3RpdmUgPSAxOw0KICAgICAgICB9IGVsc2UgaWYgKCBkMy5ldmVu
dC5zb3VyY2VFdmVudC50YXJnZXQuaWQgPT0gImhhbmRsZS10d28iICkgew0KICAg
ICAgICAgIGFjdGl2ZSA9IDI7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHBvcyA9
IHNsaWRlckxlbmd0aCAtIE1hdGgubWF4KDAsIE1hdGgubWluKHNsaWRlckxlbmd0
aCwgZDMuZXZlbnQueSkpDQogICAgICAgIG1vdmVIYW5kbGUoc3RlcFZhbHVlKHNj
YWxlLmludmVydChwb3MgLyBzbGlkZXJMZW5ndGgpKSk7DQogICAgICB9DQoNCiAg
ICAgIGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHsNCiAgICAgICAgZDMuZXZl
bnQuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICB9DQoNCiAgICB9KTsNCg0KICB9
DQoNCiAgLy8gTW92ZSBzbGlkZXIgaGFuZGxlIG9uIGNsaWNrL2RyYWcNCiAgZnVu
Y3Rpb24gbW92ZUhhbmRsZShuZXdWYWx1ZSkgeyANCiAgICBpZiAoc2xpZGVyLm1h
eCgpLXNsaWRlci5pbnRlcnZhbCgpIDwgbmV3VmFsdWUpIHsgDQogICAgICBuZXdW
YWx1ZSA9IHNsaWRlci5tYXgoKSAtIHNsaWRlci5pbnRlcnZhbCgpOw0KICAgIH0N
Cg0KICAgIHZhciBjdXJyZW50VmFsdWUgPSB2YWx1ZS5sZW5ndGggPyB2YWx1ZVth
Y3RpdmUgLSAxXTogdmFsdWU7DQoNCiAgICBpZiAoY3VycmVudFZhbHVlICE9PSBu
ZXdWYWx1ZSkgew0KICAgICAgdmFyIG9sZFBvcyA9IGZvcm1hdFBlcmNlbnQoc2Nh
bGUoc3RlcFZhbHVlKGN1cnJlbnRWYWx1ZSkpKSwNCiAgICAgICAgICBuZXdQb3Mg
PSBmb3JtYXRQZXJjZW50KHNjYWxlKHN0ZXBWYWx1ZShuZXdWYWx1ZSkpKSwNCiAg
ICAgICAgICBwb3NpdGlvbiA9IChvcmllbnRhdGlvbiA9PT0gImhvcml6b250YWwi
KSA/ICJsZWZ0IiA6ICJib3R0b20iOw0KDQogICAgICBpZiAoIHZhbHVlLmxlbmd0
aCA9PT0gMikgew0KICAgICAgICB2YWx1ZVsgYWN0aXZlIC0gMSBdID0gbmV3VmFs
dWU7DQogICAgICAgIGlmIChkMy5ldmVudCkgew0KICAgICAgICAgIGRpc3BhdGNo
LnNsaWRlKGQzLmV2ZW50LCB2YWx1ZSApOw0KICAgICAgICB9Ow0KICAgICAgfSBl
bHNlIHsNCiAgICAgICAgaWYgKGQzLmV2ZW50KSB7DQogICAgICAgICAgZGlzcGF0
Y2guc2xpZGUoZDMuZXZlbnQuc291cmNlRXZlbnQgfHwgZDMuZXZlbnQsIHZhbHVl
ID0gbmV3VmFsdWUpOw0KICAgICAgICB9Ow0KICAgICAgfQ0KDQogICAgICBpZiAo
IHZhbHVlWyAwIF0gPj0gdmFsdWVbIDEgXSApIHJldHVybjsNCiAgICAgIGlmICgg
YWN0aXZlID09PSAxICkgew0KICAgICAgICANCiAgICAgICAgaWYgKHZhbHVlLmxl
bmd0aCA9PT0gMikgew0KICAgICAgICAgIChwb3NpdGlvbiA9PT0gImxlZnQiKSA/
IGRpdlJhbmdlLnN0eWxlKCJsZWZ0IiwgbmV3UG9zKSA6IGRpdlJhbmdlLnN0eWxl
KCJib3R0b20iLCBuZXdQb3MpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGFu
aW1hdGUpIHsNCiAgICAgICAgICBoYW5kbGUxLnRyYW5zaXRpb24oKQ0KICAgICAg
ICAgICAgICAuc3R5bGVUd2Vlbihwb3NpdGlvbiwgZnVuY3Rpb24oKSB7IHJldHVy
biBkMy5pbnRlcnBvbGF0ZShvbGRQb3MsIG5ld1Bvcyk7IH0pDQogICAgICAgICAg
ICAgIC5kdXJhdGlvbigodHlwZW9mIGFuaW1hdGUgPT09ICJudW1iZXIiKSA/IGFu
aW1hdGUgOiAyNTApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGhhbmRs
ZTEuc3R5bGUocG9zaXRpb24sIG5ld1Bvcyk7DQogICAgICAgIH0NCiAgICAgIH0g
ZWxzZSB7DQogICAgICAgIA0KICAgICAgICB2YXIgd2lkdGggPSAxMDAgLSBwYXJz
ZUZsb2F0KG5ld1Bvcyk7DQogICAgICAgIHZhciB0b3AgPSAxMDAgLSBwYXJzZUZs
b2F0KG5ld1Bvcyk7DQoNCiAgICAgICAgKHBvc2l0aW9uID09PSAibGVmdCIpID8g
ZGl2UmFuZ2Uuc3R5bGUoInJpZ2h0Iiwgd2lkdGggKyAiJSIpIDogZGl2UmFuZ2Uu
c3R5bGUoInRvcCIsIHRvcCArICIlIik7DQogICAgICAgIA0KICAgICAgICBpZiAo
YW5pbWF0ZSkgew0KICAgICAgICAgIGhhbmRsZTIudHJhbnNpdGlvbigpDQogICAg
ICAgICAgICAgIC5zdHlsZVR3ZWVuKHBvc2l0aW9uLCBmdW5jdGlvbigpIHsgcmV0
dXJuIGQzLmludGVycG9sYXRlKG9sZFBvcywgbmV3UG9zKTsgfSkNCiAgICAgICAg
ICAgICAgLmR1cmF0aW9uKCh0eXBlb2YgYW5pbWF0ZSA9PT0gIm51bWJlciIpID8g
YW5pbWF0ZSA6IDI1MCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaGFu
ZGxlMi5zdHlsZShwb3NpdGlvbiwgbmV3UG9zKTsNCiAgICAgICAgfQ0KICAgICAg
fQ0KICAgIH0NCiAgfQ0KDQogIC8vIENhbGN1bGF0ZSBuZWFyZXN0IHN0ZXAgdmFs
dWUNCiAgZnVuY3Rpb24gc3RlcFZhbHVlKHZhbCkgew0KDQogICAgaWYgKHZhbCA9
PT0gc2NhbGUuZG9tYWluKClbMF0gfHwgdmFsID09PSBzY2FsZS5kb21haW4oKVsx
XSkgew0KICAgICAgcmV0dXJuIHZhbDsNCiAgICB9DQoNCiAgICB2YXIgdmFsTW9k
U3RlcCA9ICh2YWwgLSBzY2FsZS5kb21haW4oKVswXSkgJSBzdGVwLA0KICAgICAg
ICBhbGlnblZhbHVlID0gdmFsIC0gdmFsTW9kU3RlcDsNCg0KICAgIGlmIChNYXRo
LmFicyh2YWxNb2RTdGVwKSAqIDIgPj0gc3RlcCkgew0KICAgICAgYWxpZ25WYWx1
ZSArPSAodmFsTW9kU3RlcCA+IDApID8gc3RlcCA6IC1zdGVwOw0KICAgIH0NCg0K
ICAgIHJldHVybiBhbGlnblZhbHVlOw0KDQogIH0NCg0KICAvLyBHZXR0ZXIvc2V0
dGVyIGZ1bmN0aW9ucw0KICBzbGlkZXIubWluID0gZnVuY3Rpb24oXykgew0KICAg
IGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG1pbjsNCiAgICBtaW4gPSBf
Ow0KICAgIHJldHVybiBzbGlkZXI7DQogIH07DQoNCiAgc2xpZGVyLm1heCA9IGZ1
bmN0aW9uKF8pIHsNCiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBt
YXg7DQogICAgbWF4ID0gXzsNCiAgICByZXR1cm4gc2xpZGVyOw0KICB9Ow0KDQog
IHNsaWRlci5zdGVwID0gZnVuY3Rpb24oXykgew0KICAgIGlmICghYXJndW1lbnRz
Lmxlbmd0aCkgcmV0dXJuIHN0ZXA7DQogICAgc3RlcCA9IF87DQogICAgcmV0dXJu
IHNsaWRlcjsNCiAgfTsNCg0KICBzbGlkZXIuYW5pbWF0ZSA9IGZ1bmN0aW9uKF8p
IHsNCiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBhbmltYXRlOw0K
ICAgIGFuaW1hdGUgPSBfOw0KICAgIHJldHVybiBzbGlkZXI7DQogIH07DQoNCiAg
c2xpZGVyLm9yaWVudGF0aW9uID0gZnVuY3Rpb24oXykgew0KICAgIGlmICghYXJn
dW1lbnRzLmxlbmd0aCkgcmV0dXJuIG9yaWVudGF0aW9uOw0KICAgIG9yaWVudGF0
aW9uID0gXzsNCiAgICByZXR1cm4gc2xpZGVyOw0KICB9Ow0KDQogIHNsaWRlci5h
eGlzID0gZnVuY3Rpb24oXykgew0KICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkg
cmV0dXJuIGF4aXM7DQogICAgYXhpcyA9IF87DQogICAgcmV0dXJuIHNsaWRlcjsN
CiAgfTsNCg0KICBzbGlkZXIubWFyZ2luID0gZnVuY3Rpb24oXykgew0KICAgIGlm
ICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG1hcmdpbjsNCiAgICBtYXJnaW4g
PSBfOw0KICAgIHJldHVybiBzbGlkZXI7DQogIH07DQoNCiAgc2xpZGVyLnZhbHVl
ID0gZnVuY3Rpb24oXykgew0KICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0
dXJuIHZhbHVlOw0KICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7DQogICAg
ICBtb3ZlSGFuZGxlKHN0ZXBWYWx1ZShfKSk7DQogICAgfTsNCiAgICB2YWx1ZSA9
IF87DQogICAgcmV0dXJuIHNsaWRlcjsNCiAgfTsNCg0KICBzbGlkZXIuc2NhbGUg
PSBmdW5jdGlvbihfKSB7DQogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1
cm4gc2NhbGU7DQogICAgc2NhbGUgPSBfOw0KICAgIHJldHVybiBzbGlkZXI7DQog
IH07DQoNCiAgc2xpZGVyLmludGVydmFsID0gZnVuY3Rpb24oXykgew0KICAgIGlm
ICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGludGVydmFsOw0KICAgIGludGVy
dmFsID0gXzsNCiAgICByZXR1cm4gc2xpZGVyOw0KICB9Ow0KDQoNCiAgZDMucmVi
aW5kKHNsaWRlciwgZGlzcGF0Y2gsICJvbiIpOw0KDQogIHJldHVybiBzbGlkZXI7
DQoNCn0NCn0pKTsNCjwvc2NyaXB0Pg0KICAgICAgPCEtLSBuZHR2LWQzIGpzIGNv
ZGUgLS0+DQogICAgICA8c2NyaXB0Pi8qKgpuZHR2LWQzIGlzIGEgZDMtYmFzZWQg
SFRNTDUgbmV0d29yayBhbmltYXRpb24gcGxheWVyIGZvciB0aGUgbmR0diBwYWNr
YWdlIChodHRwOi8vY3Jhbi5yLXByb2plY3Qub3JnL3dlYi9wYWNrYWdlcy9uZHR2
L2luZGV4Lmh0bWwpCgpUaGUgbmR0di1kMyBsaWJyYXJ5IHdhcyBjcmVhdGVkIGJ5
IEdyZWcgTWljaGFsZWMgYW5kIFNreWUgQmVuZGVyLWRlTW9sbCBmb3IgdGhlIHN0
YXRuZXQgcHJvamVjdCBodHRwOi8vc3RhdG5ldC5vcmcgZnVuZGVkIGJ5IE5JQ0hE
IGdyYW50IFIwMUhEMDY4Mzk1LgoKVGhpcyBzb2Z0d2FyZSBpcyBkaXN0cmlidXRl
ZCB1bmRlciB0aGUgR1BMLTMgbGljZW5zZSAoaHR0cDovL2Nob29zZWFsaWNlbnNl
LmNvbS9saWNlbnNlcy9ncGwtMy4wLykuICBJdCBpcyBmcmVlLCBvcGVuIHNvdXJj
ZSwgYW5kIGhhcyB0aGUgYXR0cmlidXRpb24gcmVxdWlyZW1lbnRzIChHUEwgU2Vj
dGlvbiA3KSBhdCBodHRwOi8vc3RhdG5ldC5vcmcvYXR0cmlidXRpb246CgphLiB5
b3UgYWdyZWUgdG8gcmV0YWluIGluIG5kdHYtZDMgYW5kIGFueSBtb2RpZmljYXRp
b25zIHRvIG5kdHYtZDMgdGhlIGNvcHlyaWdodCwgYXV0aG9yIGF0dHJpYnV0aW9u
IGFuZCBVUkwgaW5mb3JtYXRpb24gYXMgcHJvdmlkZWQgYXQgYSBodHRwOi8vc3Rh
dG5ldHByb2plY3Qub3JnL2F0dHJpYnV0aW9uLgoKYi4geW91IGFncmVlIHRoYXQg
bmR0di1kMyBhbmQgYW55IG1vZGlmaWNhdGlvbnMgdG8gbmR0di1kMyB3aWxsLCB3
aGVuIHVzZWQsIGRpc3BsYXkgdGhlIGF0dHJpYnV0aW9uOgoKICAgIEJhc2VkIG9u
ICdzdGF0bmV0JyBwcm9qZWN0IHNvZnR3YXJlIChodHRwOi8vc3RhdG5ldHByb2pl
Y3Qub3JnKS4gRm9yIGxpY2Vuc2UgYW5kIGNpdGF0aW9uIGluZm9ybWF0aW9uIHNl
ZSBodHRwOi8vc3RhdG5ldHByb2plY3Qub3JnL2F0dHJpYnV0aW9uCgpDb3B5cmln
aHQgMjAxNCBTdGF0bmV0IENvbW1vbnMgaHR0cDovL3N0YXRuZXQub3JnCgpUbyBj
aXRlIHRoaXMgcHJvamVjdCwgcGxlYXNlIHVzZToKCkdyZWcgTWljaGFsZWMsIFNr
eWUgQmVuZGVyLWRlTW9sbCwgTWFydGluYSBNb3JyaXMgKDIwMTQpICduZHR2LWQz
OiBhbiBIVE1MNSBuZXR3b3JrIGFuaW1hdGlvbiBwbGF5ZXIgZm9yIHRoZSBuZHR2
IHBhY2thZ2UnIFRoZSBzdGF0bmV0IHByb2plY3QuIGh0dHA6Ly9zdGF0bmV0Lm9y
ZwpAbW9kdWxlCiovCgoKKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgLyoq
IEBjbGFzcyAqLwogIHJvb3QubmR0dl9kMyA9IGZhY3RvcnkoKTsKfSh0aGlzLCBm
dW5jdGlvbigpIHsKICAidXNlIHN0cmljdCI7CiAKICAvKioKICAqIFB1YmxpYyBv
cHRpb25zIHRvIGNvbnRyb2wgdmlzdWFsaXphdGlvbiBmdW5jdGlvbmFsaXR5CiAg
KiBAY29uc3RhbnQge29iamVjdH0KICAqIEBnbG9iYWwKICAqIEBkZWZhdWx0CiAg
Ki8KICB2YXIgZGVmYXVsdF9vcHRpb25zID0gewogICAgYW5pbWF0aW9uRHVyYXRp
b246IDgwMCwgICAgICAgLy9EdXJhdGlvbiBvZiBlYWNoIHN0ZXAgYW5pbWF0aW9u
IGR1cmluZyBwbGF5IG9yIHN0ZXAgYWN0aW9ucywgaW4gbWlsbGlzZWNvbmRzCiAg
ICBlbnRlckV4aXRBbmltYXRpb25GYWN0b3I6IDAsICAvL1BlcmNlbnRhZ2UgKDAt
MSkgb2YgdG90YWwgc3RlcCBhbmltYXRpb24gdGltZSB0aGF0IGVudGVyL2V4aXQg
YW5pbWF0aW9ucyBzaG91bGQgdGFrZQogICAgbGFiZWxPZmZzZXQ6IHsgICAgICAg
ICAgICAgICAgLy9waXhlbCBvZmZzZXQgb2YgbGFiZWxzCiAgICAgIHg6IDEyLAog
ICAgICB5OiAwCiAgICB9LAogICAgYmFzZUZvbnRTaXplOiAnMTQnLCAgICAgICAg
ICAgLy9Gb250IHNpemUsIGluIHBpeGVscywgZm9yIGxhYmVscyB3aXRoIGNleCB2
YWx1ZSBvZiAxCiAgICBub2RlU2l6ZUZhY3RvcjogMC4wMSwgICAgICAgICAvL1Bl
cmNlbnRhZ2UgKDAtMSkgb2Ygdmlld3BvcnQgc2l6ZSB0aGF0IGEgbm9kZSBvZiBz
aXplIDEgd2lsbCBiZSByZW5kZXJlZCBhdAogICAgZGF0YUNob29zZXI6IGZhbHNl
LCAgICAgICAgICAgLy9zaG93IGEgc2VsZWN0IGJveCBmb3IgY2hvb3NpbmcgZGlm
ZmVyZW50IGdyYXBocz8KICAgIGRhdGFDaG9vc2VyRGlyOiAnZGF0YS8nLCAgICAg
IC8vd2ViIHBhdGggdG8gZGlyIGNvbnRhaW5pbmcgZGF0YSBqc29uIGZpbGVzCiAg
ICBwbGF5Q29udHJvbHM6IHRydWUsICAgICAgICAgICAvL3Nob3cgdGhlIHBsYXll
ciBjb250cm9scwogICAgc2xpZGVyOiB0cnVlLCAgICAgICAgICAgICAgICAgLy9z
aG93IHRoZSBzbGlkZXIgY29udHJvbAogICAgbWVudTogdHJ1ZSwgICAgICAgICAg
ICAgICAgICAgLy9zaG93IGEgbWVudSBpbiB1cHBlci1yaWdodAogICAgYW5pbWF0
ZU9uTG9hZDogZmFsc2UsICAgICAgICAgLy9wbGF5IHRoZSBncmFwaCBhbmltYXRp
b24gb24gcGFnZSBsb2FkCiAgICBtYXJnaW46IHsgICAgICAgICAgICAgICAgICAg
ICAvL2dyYXBoIHJlbmRlciBhcmVhIG1hcmdpbnMKICAgICAgeDogMjAsCiAgICAg
IHk6IDEwCiAgICB9LAogICAgZ3JhcGhEYXRhOiBudWxsLCAgICAgICAgICAgICAg
Ly9ncmFwaCBkYXRhLCBlaXRoZXIgYXMgSlNPTiBvYmplY3Qgb3IgVVJMIHRvIGpz
b24gZmlsZQogICAgZGVidWdGcmFtZUluZm86IGZhbHNlLCAgICAgICAgLy9TaG93
IHRoZSBzbGljZSBpbmZvIGluIGNvcm5lcgogICAgZHVyYXRpb25Db250cm9sOiB0
cnVlLCAgLy9TaG93IGEgY29udHJvbCB0byBjaGFuZ2UgZHVyYXRpb24gc3BlZWQK
ICB9OwoKICAvKioKICAqIFN1cHBvcnRlZCBORFRWIG5ldHdvcmsgcHJvcGVydGll
cyBhbmQgdGhlaXIgZGVmYXVsdCB2YWx1ZXMKICAqIEBjb25zdGFudCB7b2JqZWN0
fQogICogQGdsb2JhbAogICogQGRlZmF1bHQKICAqLwogIHZhciBuZHR2UHJvcGVy
dGllcyA9IHsKICAgIGdyYXBoOiB7CiAgICAgIHhsYWI6IG51bGwsICAgICAgICAg
ICAgICAgICAgICAgLy8gbGFiZWwgY2FwdGlvbiBiZWxvdyB0aGUgcmVuZGVyLCBv
biB0aGUgeGF4aXMKICAgICAgbWFpbjogbnVsbCwgICAgICAgICAgICAgICAgICAg
ICAvLyBtYWluIGhlYWRsaW5lIGFib3ZlIHRoZSByZW5kZXIKICAgICAgZGlzcGxh
eWxhYmVsczogZmFsc2UgLCAgICAgICAgICAvLyBzaG91bGQgdmVydGV4IGxhYmVs
cyBiZSBkaXNwbGF5ZWQKICAgICAgYmc6ICcjZmZmJywgICAgICAgICAgICAgICAg
ICAgICAvLyBiYWNrZ3JvdW5kIGNvbG9yCiAgICAgIHVzZWFycm93czogdHJ1ZSwg
ICAgICAgICAgICAgICAgLy8gc2hvdWxkIGFycm93cyBiZSBkcmF3biBvbiBlZGdl
cz8KICAgICAgeGxpbTogbnVsbCwgICAgICAgICAgICAgICAgICAgICAvLyByYW5n
ZSBvZiB4IHZhbHVlcyAgICAgICAgICAgICAgICAgICAgIAogICAgICB5bGltOiBu
dWxsLCAgICAgICAgICAgICAgICAgICAgIC8vIHJhbmdlIG9mIHkgdmFsdWVzICAK
ICAgICAgZWRnZU9mZnNldDogMCwgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQg
b2YgZWRnZSBsZW5ndGggdG8gdmVydGV4IGJvcmRlcnMgIAogICAgICB0b29sdGlw
T2Zmc2V0OiAwLCAgICAgICAgICAgICAgIC8vIG9mZnNldCBvZiB0b29sdGlwcyB0
byB2ZXJ0ZXggYm9yZGVycyAKICAgIH0sIAogICAgbm9kZTogewogICAgICBjb29y
ZDogbnVsbCwgICAgICAgICAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIGZvciBu
b2RlcwogICAgICBsYWJlbDogbnVsbCwgICAgICAgICAgICAgICAgICAgIC8vIGxh
YmVscyBmb3IgdmVydGljZXMKICAgICAgJ2xhYmVsLmNvbCc6ICcjMDAwJywgICAg
ICAgICAgICAvLyBjb2xvciBvZiBub2RlIGxhYmVsCiAgICAgICdsYWJlbC5jZXgn
OiAxLCAgICAgICAgICAgICAgICAgLy8gbGFiZWwgZm9udCBzaXplIHNjYWxlIGZh
Y3RvcgogICAgICAndmVydGV4LmNleCc6IDEsICAgICAgICAgICAgICAgIC8vIHZl
cnRleCAobm9kZSkgZXhwYW5zaW9uIHNjYWxlIGZhY3RvcgogICAgICAndmVydGV4
LmNvbCc6ICcjRjAwJywgICAgICAgICAgIC8vIG5vZGUgZmlsbCBjb2xvcgogICAg
ICAndmVydGV4LnNpZGVzJzogNTAsICAgICAgICAgICAgIC8vIG51bWJlciBvZiBz
aWRlcyBmb3IgdmVydGV4IHBvbHlnb24gKHNoYXBlKQogICAgICAndmVydGV4LnJv
dCc6IDAsICAgICAgICAgICAgICAgIC8vIHJvdGF0aW9uIGZvciB2ZXJ0ZXggcG9s
eWdvbgogICAgICAndmVydGV4LnRvb2x0aXAnOiAnJywgICAgICAgICAgIC8vIHZl
cnRleCB0b29sdGlwIHZhbHVlCiAgICAgICd2ZXJ0ZXguYm9yZGVyJzogJyMwMDAn
LCAgICAgICAgLy8gY29sb3Igb2YgdmVydGV4IGJvcmRlciBzdHJva2UKICAgICAg
J3ZlcnRleC5sd2QnOiAxLCAgICAgICAgICAgICAgICAvLyB3aWR0aCBvZiB2ZXJ0
ZXggYm9yZGVyIHN0cm9rZQogICAgICAndmVydGV4LmNzcy5jbGFzcyc6IG51bGws
ICAgICAgIC8vIGNzcyBjbGFzcyBuYW1lIGFwcGxpZWQgdG8gbm9kZQogICAgICAn
dmVydGV4LmxhYmVsLmNzcy5jbGFzcyc6IG51bGwsIC8vIGNzcyBjbGFzcyBuYW1l
IGFwcGxpZWQgdG8gbm9kZSBsYWJlbAogICAgICAndmVydGV4LmNzcy5zdHlsZSc6
IG51bGwsICAgICAgIC8vIGNzcyBpbmxpbmUtc3R5bGUgYXBwbGllZCB0byBub2Rl
IChVTklNUExJTUVOVEVEKQogICAgICAndmVydGV4LmxhYmVsLmNzcy5zdHlsZSc6
IG51bGwsIC8vIGNzcyBpbmxpbmUgc3R5bGUgYXBwbGllZCB0byBub2RlIGxhYmVs
IChVTklNUExFTUVOVEVEKQogICAgICAnaW1hZ2UnOiBudWxsLCAgICAgICAgICAg
ICAgICAgIC8vIGJhY2tncm91bmQgaW1hZ2UgZm9yIHZlcnRleAogICAgfSwKICAg
IGVkZ2U6IHsKICAgICAgJ2VkZ2UubHdkJzogMSwgICAgICAgICAgICAgICAgICAv
LyB3aWR0aCBvZiBlZGdlIHN0cm9rZQogICAgICAnZWRnZS5jb2wnOiAnIzAwMCcs
ICAgICAgICAgICAgIC8vIGVkZ2Ugc3Ryb2tlIGNvbG9yCiAgICAgICdlZGdlLnRv
b2x0aXAnOiBudWxsLCAgICAgICAgICAgLy8gZWRnZSB0b29sdGlwIHZhbHVlCiAg
ICAgICdlZGdlLmNzcy5jbGFzcyc6IG51bGwsICAgICAgICAgLy8gY3NzIGNsYXNz
IG5hbWUgYXBwbGllZCB0byBlZGdlCiAgICAgICdlZGdlLmxhYmVsLmNzcy5jbGFz
cyc6IG51bGwsICAgLy8gY3NzIGNsYXNzIG5hbWUgYXBwbGllZCB0byBlZGdlIGxh
YmVsCiAgICAgICdlZGdlLmNzcy5zdHlsZSc6IG51bGwsICAgICAgICAgLy8gY3Nz
IGlubGluZS1zdHlsZSBhcHBsaWVkIHRvIGVkZ2UgKFVOSU1QTElNRU5URUQpCiAg
ICAgICdlZGdlLmxhYmVsLmNzcy5zdHlsZSc6IG51bGwsICAgLy8gY3NzIGlubGlu
ZSBzdHlsZSBhcHBsaWVkIHRvIGVkZ2UgbGFiZWwgKFVOSU1QTEVNRU5URUQpCiAg
ICB9CiAgfQogIAoKICAvKioKICAqIEluaXRpYWxpemUgYSBuZXcgbmR0di1kMyBp
bnN0YW5jZQogICogQGNvbnN0cnVjdHMgbmR0dl9kMwogICogQHBhcmFtIHtvYmpl
Y3R9IC0gQW4gb2JqZWN0IG9mIGRlZmF1bHQgb3B0aW9ucyBvdmVycmlkZXMKICAq
IEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSAtIEEgQ1NTIHNlbGVjdG9yIHN0
cmluZyBvciBET00gZWxlbWVudCByZWZlcmVuY2Ugc3BlY2lmeWluZyB0aGUgdGFy
Z2V0IGRvbSBlbGVtZW50IHRoZSBuZXR3b3JrIHNob3VsZCBiZSBpbml0aWFsaXpl
ZCB0bwogICovCiAgdmFyIG4zID0gZnVuY3Rpb24ob3B0aW9ucywgdGFyZ2V0KSB7
CiAgICB2YXIgbjMgPSB0aGlzOwogICAgCiAgICB2YXIgZ2xvYmFscyA9IHsKICAg
ICAgc3ZnOiBudWxsLAogICAgICB4U2NhbGU6IG51bGwsCiAgICAgIHlTY2FsZTog
bnVsbCwKICAgICAgbWluVGltZTogbnVsbCwKICAgICAgaW50ZXJ2YWw6IG51bGws
CiAgICAgIG1heFRpbWU6IG51bGwsCiAgICAgIGFuaW1hdGU6IG51bGwsCiAgICAg
IGJhc2VOb2RlU2l6ZTogbnVsbCwKICAgICAgY3VyclRpbWU6IDAsCiAgICAgIGdy
YXBoOiBudWxsLAogICAgICB0aW1lSW5kZXg6bnVsbCwKICAgICAgZG9tVGFyZ2V0
Om51bGwsCiAgICAgIHNsaWRlcjpudWxsLAogICAgICBub2RlQ29vcmRzOiB7fSwK
ICAgICAgb3B0aW9uczoge30KICAgIAp9CiAgICAvL2luaXRpYWxpemUgY2xhc3Mg
Z2xvYmFscwogICAgJC5leHRlbmQodHJ1ZSwgbjMsIGdsb2JhbHMpOwoKICAgIC8v
cmVwbGFjZSBkZWZhdWx0cyB3aXRoIHVzZXItc3BlY2lmaWVkIG9wdGlvbnMKICAg
ICQuZXh0ZW5kKHRydWUsIG4zLm9wdGlvbnMsIGRlZmF1bHRfb3B0aW9ucyk7CiAg
ICAkLmV4dGVuZCh0cnVlLCBuMy5vcHRpb25zLCBvcHRpb25zKTsKCiAgICBpZiAo
IXRhcmdldCkgewogICAgICB0YXJnZXQgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBl
bmQoJ2RpdicpLnN0eWxlKHt3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJ30p
Lm5vZGUoKTsKICAgICAgZDMuc2VsZWN0QWxsKCdodG1sLCBib2R5JykuY2xhc3Nl
ZCh7J25kdHYtZnVsbHNjcmVlbic6IHRydWV9KQogICAgfQogICAgbjMuZG9tVGFy
Z2V0ID0gZDMuc2VsZWN0KHRhcmdldCk7CiAgICBuMy5kb21UYXJnZXQuY2xhc3Nl
ZCh7J25kdHYtZDMtY29udGFpbmVyJzogdHJ1ZX0pOwogICAgbjMuU1ZHU2V0dXAo
bjMuZG9tVGFyZ2V0KTsKICAgIGlmIChuMy5vcHRpb25zLnBsYXlDb250cm9scyB8
fCBuMy5vcHRpb25zLnNsaWRlcikgewogICAgICBuMy5kb21UYXJnZXQuYXBwZW5k
KCdkaXYnKS5hdHRyKCdjbGFzcycsICdjb250cm9scycpOwogICAgfQogICAgaWYg
KG4zLm9wdGlvbnMuZGF0YUNob29zZXIpIHsgbjMuY3JlYXRlRGF0YUNob29zZXIo
KTsgfQogICAgaWYgKG4zLm9wdGlvbnMucGxheUNvbnRyb2xzKSB7IG4zLmNyZWF0
ZVBsYXlDb250cm9scygpOyB9CiAgICBpZiAobjMub3B0aW9ucy5zbGlkZXIpIHsg
bjMuY3JlYXRlU2xpZGVyQ29udHJvbCgpOyB9CiAgICBpZiAobjMub3B0aW9ucy5t
ZW51KSB7IG4zLmNyZWF0ZU1lbnUoKTsgfQoKCiAgICBuMy50b29sdGlwID0gbjMu
ZG9tVGFyZ2V0LnNlbGVjdCgnLmdyYXBoJykuYXBwZW5kKCdkaXYnKS5hdHRyKCdj
bGFzcycsICd0b29sdGlwJyk7CiAgICBuMy5mcmFtZUluZm9EaXYgPSBuMy5kb21U
YXJnZXQuc2VsZWN0KCcuZ3JhcGgnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNz
JywgJ2ZyYW1lSW5mbycpCiAgICBpZiAobjMub3B0aW9ucy5kZWJ1Z0ZyYW1lSW5m
bykgeyBuMy5mcmFtZUluZm9EaXYuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTsg
fQogICAgaWYobjMub3B0aW9ucy5ncmFwaERhdGEpIHsgbjMubG9hZERhdGEobjMu
b3B0aW9ucy5ncmFwaERhdGEpOyB9CiAgfQoKICAvKioKICAqIEluaXRpYWxpemUg
dGhlIFNWRyBlbGVtZW50IGFuZCByZWxhdGVkIERPTSBlbGVtZW50cyBhbmQgbGlz
dGVuZXJzCiAgKiBAcGFyYW0ge0QzU2VsZWN0aW9ufSAtIERPTSBlbGVtZW50IHRv
IGluc2VydCBzdmcgaW50bwogICovCiAgbjMucHJvdG90eXBlLlNWR1NldHVwID0g
ZnVuY3Rpb24oZG9tVGFyZ2V0KSB7CiAgICB2YXIgbjMgPSB0aGlzOwoKICAgICQo
ZG9tVGFyZ2V0KS5yZXNpemUoZnVuY3Rpb24obikgeyAKICAgICAgbjMucmVzaXpl
R3JhcGgobik7CiAgICB9KTsKICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24o
bikgeyAKICAgICAgbjMucmVzaXplR3JhcGgobik7CiAgICB9KTsKIAogICAgZG9t
VGFyZ2V0CiAgICAgIC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2dyYXBo
JykKICAgICAgLmFwcGVuZCgic3ZnOnN2ZyIpCiAgICAgIC5hcHBlbmQoImRlZnMi
KQoKICAgIHZhciBzdmcgPSBkb21UYXJnZXQuc2VsZWN0KCdzdmcnKQogICAgICAu
YXBwZW5kKCdnJykKCiAgICB2YXIgZHJhZ0V2ZW50OwogICAgdmFyIHJlY3QgPSBz
dmcuYXBwZW5kKCJyZWN0IikKICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JhY2tncm91
bmQnKQogICAgICAuc3R5bGUoImZpbGwiLCAibm9uZSIpCiAgICAgIC5zdHlsZSgi
cG9pbnRlci1ldmVudHMiLCAiYWxsIikKICAgICAgLm9uKCdtb3VzZWRvd24nLCBm
dW5jdGlvbigpIHsgCiAgICAgICAgZHJhZ0V2ZW50ID0gZDMuZXZlbnQ7CiAgICAg
IH0pCiAgICAgIC5vbignbW91c2V1cCcsIGZ1bmN0aW9uKCkgeyAKICAgICAgICBp
ZiAoTWF0aC5hYnMoZHJhZ0V2ZW50LnBhZ2VYIC0gZDMuZXZlbnQucGFnZVgpIDwg
NSAmJiBNYXRoLmFicyhkcmFnRXZlbnQucGFnZVkgLSBkMy5ldmVudC5wYWdlWSkg
PCA1KSB7CiAgICAgICAgICBuMy5oaWRlVG9vbHRpcCgpOwogICAgICAgICAgbjMu
dW5TZWxlY3ROZXR3b3JrKCk7CiAgICAgICAgfQogICAgICB9KQoKICAgIG4zLmNv
bnRhaW5lciA9IHN2Zy5hcHBlbmQoImciKQogICAgICAuYXR0cignY2xhc3MnLCAn
Y29udGFpbmVyJykKICAgIG4zLmNvbnRhaW5lci5hcHBlbmQoJ2cnKS5hdHRyKCdj
bGFzcycsICdlZGdlcycpOwogICAgbjMuY29udGFpbmVyLmFwcGVuZCgnZycpLmF0
dHIoJ2NsYXNzJywgJ25vZGVzJyk7CiAgICBuMy5jb250YWluZXIuYXBwZW5kKCdn
JykuYXR0cignY2xhc3MnLCAnbGFiZWxzJyk7CiAgICBuMy5jb250YWluZXIuYXBw
ZW5kKCdyZWN0JykuYXR0cignY2xhc3MnLCAnc2NyZWVuJyk7CiAgICBuMy5jb250
YWluZXIuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZWRnZXNfc2VsZWN0ZWQn
KTsKICAgIG4zLmNvbnRhaW5lci5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdu
b2Rlc19zZWxlY3RlZCcpOwogICAgbjMuY29udGFpbmVyLmFwcGVuZCgnZycpLmF0
dHIoJ2NsYXNzJywgJ2xhYmVsc19zZWxlY3RlZCcpOwoKICAgIHN2Zy5hcHBlbmQo
J2cnKS5hdHRyKCdjbGFzcycsICdtYWluJykuYXBwZW5kKCd0ZXh0Jyk7CiAgICBz
dmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAneGxhYicpLmFwcGVuZCgndGV4
dCcpOwoKICAgIHN2Zy5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7CiAgICAg
IHN2Zy5jbGFzc2VkKHsnZHJhZ2dpbmcnOiB0cnVlfSkKICAgIH0pCiAgICBzdmcu
b24oJ21vdXNldXAnLCBmdW5jdGlvbigpIHsKICAgICAgc3ZnLmNsYXNzZWQoeydk
cmFnZ2luZyc6IGZhbHNlfSkKICAgIH0pCgogICAgbjMuem9vbSA9IGQzLmJlaGF2
aW9yLnpvb20oKQogICAgICAuc2NhbGVFeHRlbnQoWy41LCAxMF0pCiAgICAgIC5v
bigiem9vbSIsIGZ1bmN0aW9uIHpvb21lZCgpIHsKICAgICAgICBuMy5jb250YWlu
ZXIuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgZDMuZXZlbnQudHJh
bnNsYXRlICsgIilzY2FsZSgiICsgZDMuZXZlbnQuc2NhbGUgKyAiKSIpOwogICAg
ICAgIG4zLmN0bSA9IG4zLmNvbnRhaW5lci5ub2RlKCkuZ2V0U2NyZWVuQ1RNKCk7
CiAgICAgICAgbjMubW92ZVRvb2x0aXAoKTsKICAgICAgfSkKICAgIHN2Zy5jYWxs
KG4zLnpvb20pCiAgfQoKICAvKiogc2V0cyBwb3NpdGlvbmluZyBvbiBzdmcgZWxl
bWVudHMgYmFzZWQgb24gY3VycmVudCBET00gY29udGFpbmVyIHNpemUgYW5kIHNl
dHMgZGF0YSBzY2FsaW5nIGZhY3RvcnMgYWNjb3JkaW5nbHkgKi8KICBuMy5wcm90
b3R5cGUudXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG4z
ID0gdGhpczsKICAgIHZhciBkaXZfd2lkdGggPSBuMy5kb21UYXJnZXQubm9kZSgp
Lm9mZnNldFdpZHRoCiAgICB2YXIgZGl2X2hlaWdodCA9IG4zLmRvbVRhcmdldC5u
b2RlKCkub2Zmc2V0SGVpZ2h0IC0gJChuMy5kb21UYXJnZXQuc2VsZWN0KCcuY29u
dHJvbHMnKS5ub2RlKCkpLm91dGVySGVpZ2h0KHRydWUpOwoKICAgIHZhciB4bGFi
ID0gbjMudGltZUluZGV4W24zLmN1cnJUaW1lXS5yZW5kZXJEYXRhLmdyYXBoLnhs
YWI7CiAgICB2YXIgbWFpbiA9IG4zLnRpbWVJbmRleFtuMy5jdXJyVGltZV0ucmVu
ZGVyRGF0YS5ncmFwaC5tYWluOwogICAgdmFyIHhsYWJTaXplID0gcGFyc2VGbG9h
dCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuMy5kb21UYXJnZXQuc2VsZWN0KCcu
eGxhYicpLm5vZGUoKSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1zaXpl
JykpOwogICAgdmFyIG1haW5TaXplID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29t
cHV0ZWRTdHlsZShuMy5kb21UYXJnZXQuc2VsZWN0KCcubWFpbicpLm5vZGUoKSwg
bnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1zaXplJykpOwogICAgdmFyIG1h
aW5NYXJnaW4gPSAwOwogICAgdmFyIHhsYWJNYXJnaW4gPSAwOwoKICAgIGlmICh4
bGFiKSB7CiAgICAgIHhsYWJNYXJnaW4gPSB4bGFiU2l6ZSooeGxhYi5sZW5ndGgr
MSkqMS4yOwogICAgfSAKICAgIGlmIChtYWluKSB7CiAgICAgIG1haW5NYXJnaW4g
PSBtYWluU2l6ZSoobWFpbi5sZW5ndGgrMSkqMS4yOwogICAgfSAKICAgIAogICAg
dmFyIG1hcmdpbiA9IHsKICAgICAgeDogbjMub3B0aW9ucy5tYXJnaW4ueCwKICAg
ICAgeTogbjMub3B0aW9ucy5tYXJnaW4ueQogICAgfQogICAgaWYgKGRpdl93aWR0
aCA+IGRpdl9oZWlnaHQpIHsgCiAgICAgIG1hcmdpbi54ID0gKGRpdl93aWR0aCAt
IGRpdl9oZWlnaHQpLzIKICAgIH0gZWxzZSB7CiAgICAgIG1hcmdpbi55ID0gKGRp
dl9oZWlnaHQgLSBkaXZfd2lkdGgpLzIKICAgIH0KCiAgICB2YXIgd2lkdGggPSBk
aXZfd2lkdGggLSAobWFyZ2luLngqMik7CiAgICB2YXIgaGVpZ2h0ID0gZGl2X2hl
aWdodCAtIChtYXJnaW4ueSoyKTsKCiAgICBuMy5kb21UYXJnZXQuc2VsZWN0QWxs
KCcuZ3JhcGg+c3ZnLCAuYmFja2dyb3VuZCwgLnNjcmVlbicpCiAgICAgIC5hdHRy
KHsKICAgICAgICB3aWR0aDogd2lkdGggKyBtYXJnaW4ueCAqIDIsCiAgICAgICAg
aGVpZ2h0OiBoZWlnaHQgKyBtYXJnaW4ueSAqIDIKICAgICAgfSkKICAgIAogICAg
Ly9yZXNldCBoZWlnaHQgaW5jbHVkaW5nIG1haW4gJiB4bGFiIGZvciBncmFwaCBj
b250YWluZXIgdHJhbnNsYXRpb24KICAgIGhlaWdodCA9IGhlaWdodCAtIG1haW5N
YXJnaW4gLSB4bGFiTWFyZ2luOwoKICAgIG4zLmNvbnRhaW5lci5hdHRyKCJ0cmFu
c2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBtYXJnaW4ueCArICIsIiArIChtYXJnaW4u
eSttYWluTWFyZ2luKSArICIpIik7CgogICAgdmFyIGNlbnRlciA9IG1hcmdpbi54
ICsgd2lkdGgvMjsKICAgIG4zLmRvbVRhcmdldC5zZWxlY3QoJy54bGFiJykuYXR0
cigndHJhbnNmb3JtJywgInRyYW5zbGF0ZSgiK2NlbnRlcisiLCIrKGRpdl9oZWln
aHQtbWFyZ2luLnkpKyIpIikKICAgIG4zLmRvbVRhcmdldC5zZWxlY3QoJy5tYWlu
JykuYXR0cigndHJhbnNmb3JtJywgInRyYW5zbGF0ZSgiK2NlbnRlcisiLCIrKG1h
cmdpbi55K21haW5TaXplKSsiKSIpCgogICAgdmFyIHBpeGVsU3BhY2UgPSBoZWln
aHQgPiB3aWR0aCA/IHdpZHRoIDogaGVpZ2h0OwogICAgbjMuYmFzZU5vZGVTaXpl
ID0gcGl4ZWxTcGFjZSAqIG4zLm9wdGlvbnMubm9kZVNpemVGYWN0b3I7CgogICAg
Ly9zZXQgdGhlIFggYW5kIFkgc2NhbGVzCiAgICBuMy54U2NhbGUgPSBkMy5zY2Fs
ZS5saW5lYXIoKQogICAgICAuZG9tYWluKFtuMy50aW1lSW5kZXhbMF0ucmVuZGVy
RGF0YS5ncmFwaC54bGltWzBdLG4zLnRpbWVJbmRleFswXS5yZW5kZXJEYXRhLmdy
YXBoLnhsaW1bMV1dKQogICAgICAucmFuZ2UoWzAsIHBpeGVsU3BhY2VdKTsKCiAg
ICBuMy55U2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKQogICAgICAuZG9tYWluKFtu
My50aW1lSW5kZXhbMF0ucmVuZGVyRGF0YS5ncmFwaC55bGltWzBdLG4zLnRpbWVJ
bmRleFswXS5yZW5kZXJEYXRhLmdyYXBoLnlsaW1bMV1dKQogICAgICAucmFuZ2Uo
W3BpeGVsU3BhY2UsIDBdKTsKCiAgICAvL3Jlc2V0IHpvb20gdHJhbnNsYXRlIGJh
c2VkIG9uIG1hcmdpbnMKICAgIG4zLnpvb20udHJhbnNsYXRlKFttYXJnaW4ueCwg
bWFyZ2luLnkrbWFpbk1hcmdpbl0pCgogICAgLy9DYWNoZSBoZWlnaHQgYW5kIG9m
ZnNldCB0byB1c2UgZm9yIHRvb2x0aXAgbW92ZW1lbnQKICAgIG4zLmhlaWdodCA9
IG4zLmRvbVRhcmdldC5zZWxlY3QoJy5ncmFwaCcpLm5vZGUoKS5vZmZzZXRIZWln
aHQKICAgIG4zLm9mZnNldCA9ICQobjMuZG9tVGFyZ2V0LnNlbGVjdCgnLmdyYXBo
Jykubm9kZSgpKS5vZmZzZXQoKTsKICAgIG4zLmN0bSA9IG4zLmNvbnRhaW5lci5u
b2RlKCkuZ2V0U2NyZWVuQ1RNKCk7CiAgfQogIAogIC8qKiBjcmVhdGVzIHRoZSBv
cHRpb25hbCBkYXRhQ2hvb3NlciBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIHNsZWN0
aW5nIGFtb25nIG11bHRpcGxlIEpTT04gZmlsZXMgZm9yIGRlYnVnZ2luZyAqLwog
IG4zLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hvb3NlciA9IGZ1bmN0aW9uKCkgewog
ICAgdmFyIG4zID0gdGhpczsKCiAgICB2YXIgZGl2ID0gbjMuZG9tVGFyZ2V0LmFw
cGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZGF0YV9jaG9vc2VyX2NvbnRhaW5l
cicpCiAgICBkaXYuYXBwZW5kKCdzZWxlY3QnKS5hdHRyKCdjbGFzcycsICdkYXRh
X2Nob29zZXInKQogICAgZGl2LmFwcGVuZCgnYScpLmF0dHIoeydjbGFzcyc6ICd2
aWRlb19saW5rJywgJ3RhcmdldCc6ICdfYmxhbmsnfSkuaHRtbCgnVmlkZW8nKTsK
CiAgICB2YXIgc2V0VmlkTGluayA9IGZ1bmN0aW9uKHVybCkgewogICAgICBkaXYu
c2VsZWN0KCcudmlkZW9fbGluaycpLmF0dHIoJ2hyZWYnLCB1cmwucmVwbGFjZSgn
Lmpzb24nLCAnLm1wNCcpKQogICAgfQogICAgJC5nZXQobjMub3B0aW9ucy5kYXRh
Q2hvb3NlckRpciwgZnVuY3Rpb24oZGF0YSl7CiAgICAgIGRpdi5zZWxlY3QoJy5k
YXRhX2Nob29zZXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAg
dmFyIHVybCA9ICQodGhpcykudmFsKCk7CiAgICAgICAgbjMubG9hZERhdGEodXJs
KTsKICAgICAgICBzZXRWaWRMaW5rKHVybCkKICAgICAgfSkKICAgICAgdmFyIG1h
dGNoZXMgPSBkYXRhLm1hdGNoKC88dGQ+PGEgaHJlZj0iW14iXSoiL2cpOwogICAg
ICAkLmVhY2gobWF0Y2hlcywgZnVuY3Rpb24oaSwgbSkgewogICAgICAgIHZhciB1
cmwgPSBtLm1hdGNoKC9ocmVmPSIoW14iXSopIi8pWzFdOwogICAgICAgIGlmICh1
cmwubWF0Y2goLy5qc29uJC8pKSB7CiAgICAgICAgICBkaXYuc2VsZWN0KCcuZGF0
YV9jaG9vc2VyJykuYXBwZW5kKCdvcHRpb24nKS5hdHRyKCd2YWx1ZScsIG4zLm9w
dGlvbnMuZGF0YUNob29zZXJEaXIrdXJsKS5odG1sKHVybCk7CiAgICAgICAgfQog
ICAgICAgIGlmIChpID09IDEpIHsKICAgICAgICAgIHNldFZpZExpbmsodXJsKTsK
ICAgICAgICB9CiAgICAgIH0pCiAgICB9KQogIH0KICAKICAvKiogY3JlYXRlcyB0
aGUgb3B0aW9uYWwgbWVudSBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIGNvbnRyb2xs
aW5nIHNldHRpbmdzIGFuZCBkaXNwbGF5aW5nICdhYm91dCcgbGluayAqLwogIG4z
LnByb3RvdHlwZS5jcmVhdGVNZW51ID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgbjMg
PSB0aGlzOwogICAgaWYgKGQzLnNlbGVjdCgnI25kdHYtc3ZnLW1lbnUtaWNvbnMn
KS5lbXB0eSgpKSB7CiAgICAgICQoJ2JvZHknKS5wcmVwZW5kKAogICAgICAnPHN2
ZyBpZD0ibmR0di1zdmctbWVudS1pY29ucyIgZGlzcGxheT0ibm9uZSIgdmVyc2lv
bj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5z
OnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTc2
IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTc2IDMyIj4nKwogICAgICAnICA8
ZGVmcz4nKwogICAgICAnICAgIDxnIGlkPSJpY29uLWxpc3QiPjxwYXRoIGQ9Ik0y
NS42IDE0LjRoLTE5LjJjLTAuODgzIDAtMS42IDAuNzE3LTEuNiAxLjZzMC43MTcg
MS42IDEuNiAxLjZoMTkuMmMwLjg4NSAwIDEuNi0wLjcxNyAxLjYtMS42cy0wLjcx
NS0xLjYtMS42LTEuNnpNNi40IDExLjJoMTkuMmMwLjg4NSAwIDEuNi0wLjcxNyAx
LjYtMS42cy0wLjcxNS0xLjYtMS42LTEuNmgtMTkuMmMtMC44ODMgMC0xLjYgMC43
MTctMS42IDEuNnMwLjcxNyAxLjYgMS42IDEuNnpNMjUuNiAyMC44aC0xOS4yYy0w
Ljg4MyAwLTEuNiAwLjcxNS0xLjYgMS42czAuNzE3IDEuNiAxLjYgMS42aDE5LjJj
MC44ODUgMCAxLjYtMC43MTUgMS42LTEuNnMtMC43MTUtMS42LTEuNi0xLjZ6Ij48
L3BhdGg+PC9nPicrCiAgICAgICcgIDwvZGVmcz4nKwogICAgICAnPC9zdmc+Jyk7
CiAgICB9CiAgICB2YXIgZGl2ID0gbjMuZG9tVGFyZ2V0LnNlbGVjdCgnLmdyYXBo
JykuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICduZHR2LW1lbnUtY29udGFp
bmVyJyk7CiAgICBkaXYuaHRtbCgKICAgICAgIjxkaXYgY2xhc3M9J25kdHYtbWVu
dS1pY29uJz4iKwogICAgICAiIDxzdmcgY2xhc3M9J2ljb24gbWVudS1jb250cm9s
JyB2aWV3Qm94PScwIDAgMzIgMzInPjx1c2UgeGxpbms6aHJlZj0nI2ljb24tbGlz
dCc+PC91c2U+PC9zdmc+IisKICAgICAgIjwvZGl2PiIrCiAgICAgICI8ZGl2IGNs
YXNzPSduZHR2LW1lbnUnPjwvZGl2PiIKICAgICkKICAgIHZhciBtZW51ID0gbjMu
ZG9tVGFyZ2V0LnNlbGVjdCgnLm5kdHYtbWVudScpOwoKICAgIGlmIChuMy5vcHRp
b25zLmR1cmF0aW9uQ29udHJvbCkgeyAKICAgICAgdmFyIGR1cmF0aW9uQ29udHJv
bCA9IG1lbnUuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdtZW51LWl0ZW0g
ZHVyYXRpb25Db250cm9sQ29udGFpbmVyJyk7CiAgICAgIGR1cmF0aW9uQ29udHJv
bC5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdjbGFzcycsICdtZW51LWxhYmVsJykuaHRt
bCgnQW5pbWF0aW9uIER1cmF0aW9uJyk7CiAgICAgIHZhciBkdXJhdGlvblNsaWRl
ciA9IGQzLnNsaWRlcigpLm1pbigwKS5tYXgoOCkuYXhpcyhuZXcgZDMuc3ZnLmF4
aXMoKS50aWNrcyg1KSkudmFsdWUobjMub3B0aW9ucy5hbmltYXRpb25EdXJhdGlv
bi8xMDAwKTsKICAgICAgZHVyYXRpb25Db250cm9sLmFwcGVuZCgnZGl2JykuYXR0
cignY2xhc3MnLCAnZHVyYXRpb25Db250cm9sJykuY2FsbChkdXJhdGlvblNsaWRl
cikKICAgICAgZHVyYXRpb25TbGlkZXIub24oJ3NsaWRlJywgZnVuY3Rpb24oZXZ0
LCB2YWx1ZSl7CiAgICAgICAgbjMub3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbiA9
IHZhbHVlKjEwMDA7CiAgICAgICAgaWYobjMub3B0aW9ucy5zbGlkZXIpIHsKICAg
ICAgICAgIG4zLnNsaWRlci5hbmltYXRlKG4zLm9wdGlvbnMuYW5pbWF0aW9uRHVy
YXRpb24pCiAgICAgICAgfQogICAgICB9KQogICAgfQoKICAgIG1lbnUuYXBwZW5k
KCJkaXYiKS5hdHRyKCdjbGFzcycsICdtZW51LWl0ZW0nKS5odG1sKCI8YSBocmVm
PSdodHRwczovL2dpdGh1Yi5jb20vbWljaGFsZ20vbmR0di1kMy9ibG9iL21hc3Rl
ci9SRUFETUUubWQnIHRhcmdldD0nX2JsYW5rJz5BYm91dCBORFRWLUQzPC9hPjwv
ZGl2PiIpOwogICAgbjMuZG9tVGFyZ2V0LnNlbGVjdCgnLm5kdHYtbWVudS1pY29u
Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICQobWVudS5ub2RlKCkp
LmZhZGVUb2dnbGUoMjAwKTsKICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnbWVu
dS1hY3RpdmUnKQogICAgfSkKICB9CgogIC8qKiBjcmVhdGVzIHRoZSBvcHRpb25h
bCBwbGF5IGNvbnRyb2xzIGRpdiB1c2luZyBzdmcgaWNvbnMgYW5kIGRlZmluZXMg
dGhlIGF0dGFjaGVkIGV2ZW50cyAqLwogIG4zLnByb3RvdHlwZS5jcmVhdGVQbGF5
Q29udHJvbHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBuMyA9IHRoaXM7CgogICAg
Ly9kZWZpbmUgU1ZHIGljb25zIHRvIGJlIHVzZWQgaW4gdGhlIHBsYXkgY29udHJv
bGxlcgogICAgaWYgKGQzLnNlbGVjdCgnI25kdHYtc3ZnLWljb25zJykuZW1wdHko
KSkgewogICAgICAkKCdib2R5JykucHJlcGVuZCgKICAgICAgJzxzdmcgaWQ9Im5k
dHYtc3ZnLWljb25zIiBkaXNwbGF5PSJub25lIiB2ZXJzaW9uPSIxLjEiIHhtbG5z
PSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6
Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNzYiIGhlaWdodD0iMzIi
IHZpZXdCb3g9IjAgMCAxNzYgMzIiPicrCiAgICAgICcgIDxkZWZzPicrCiAgICAg
ICcgICAgPGcgaWQ9Imljb24tcGxheSI+PHBhdGggY2xhc3M9InBhdGgxIiBkPSJN
MjYuNzE3IDE1LjE3OWwtMTMuNjk4LTguNDg2Yy0wLjk5OC0wLjY1NC0xLjgxNC0w
LjE3MS0xLjgxNCAxLjA3MnYxNi40NzRjMCAxLjI0MyAwLjgxOCAxLjcyNSAxLjgx
NCAxLjA3MGwxMy42OTktOC40ODZjMCAwIDAuNDg2LTAuMzQyIDAuNDg2LTAuODIy
LTAuMDAyLTAuNDc4LTAuNDg4LTAuODIxLTAuNDg4LTAuODIxeiI+PC9wYXRoPjwv
Zz4nKwogICAgICAnICAgIDxnIGlkPSJpY29uLXBhdXNlIj48cGF0aCBjbGFzcz0i
cGF0aDEiIGQ9Ik0yMS42IDQuOGMtMS41OSAwLTIuODggMC40OS0yLjg4IDIuMDgw
djE4LjI0YzAgMS41OSAxLjI5IDIuMDgwIDIuODggMi4wODBzMi44OC0wLjQ5IDIu
ODgtMi4wODB2LTE4LjI0YzAtMS41OS0xLjI5LTIuMDgwLTIuODgtMi4wODB6TTEw
LjQgNC44Yy0xLjU5IDAtMi44OCAwLjQ5LTIuODggMi4wODB2MTguMjRjMCAxLjU5
IDEuMjkgMi4wODAgMi44OCAyLjA4MHMyLjg4LTAuNDkgMi44OC0yLjA4MHYtMTgu
MjRjMC0xLjU5LTEuMjktMi4wODAtMi44OC0yLjA4MHoiPjwvcGF0aD48L2c+JysK
ICAgICAgJyAgICA8ZyBpZD0iaWNvbi1maXJzdCI+PHBhdGggY2xhc3M9InBhdGgx
IiBkPSJNMTEuOTc2IDE2YzAgMC40MTMgMC40MTkgMC43MDcgMC40MTkgMC43MDds
MTEuNjQgNy4zMWMwLjg2MiAwLjU2NSAxLjU2NSAwLjE0OSAxLjU2NS0wLjkydi0x
NC4xOTVjMC0xLjA3MC0wLjcwMi0xLjQ4Ni0xLjU2NS0wLjkyMmwtMTEuNjQgNy4z
MTJjMCAwLjAwMi0wLjQxOSAwLjI5NC0wLjQxOSAwLjcwN3pNNi40IDguNTcxdjE0
Ljg1OGMwIDEuNDIxIDAuOTc5IDEuODU2IDIuNCAxLjg1NnMyLjQtMC40MzUgMi40
LTEuODU0di0xNC44NTljMC0xLjQyMi0wLjk3OS0xLjg1OC0yLjQtMS44NThzLTIu
NCAwLjQzNy0yLjQgMS44NTh6Ij48L3BhdGg+PC9nPicrCiAgICAgICcgIDwvZGVm
cz4nKwogICAgICAnPC9zdmc+Jyk7CiAgICB9CiAgICB2YXIgZGl2ID0gbjMuZG9t
VGFyZ2V0LnNlbGVjdCgnLmNvbnRyb2xzJykuYXBwZW5kKCdkaXYnKS5hdHRyKCdj
bGFzcycsICdwbGF5LWNvbnRyb2wtY29udGFpbmVyJyk7CiAgICBkaXYuaHRtbCgK
ICAgICAgIjxkaXYgY2xhc3M9J3N0ZXAtYmFjay1jb250cm9sJz48c3ZnIGNsYXNz
PSdpY29uJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAgMCAzMiAz
Mic+PHVzZSB4bGluazpocmVmPScjaWNvbi1maXJzdCc+PC91c2U+PC9zdmc+PC9k
aXY+IisKICAgICAgIjxkaXYgY2xhc3M9J3BsYXktYmFjay1jb250cm9sJz48c3Zn
IGNsYXNzPSdpY29uJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZpZXdCb3g9JzAg
MCAzMiAzMic+PGcgdHJhbnNmb3JtPSdyb3RhdGUoMTgwLCAxNiwgMTYpJz48dXNl
IHhsaW5rOmhyZWY9JyNpY29uLXBsYXknPjwvdXNlPjwvZz48L3N2Zz48L2Rpdj4i
KwogICAgICAiPGRpdiBjbGFzcz0ncGF1c2UtY29udHJvbCc+PHN2ZyBjbGFzcz0n
aWNvbicgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScwIDAgMzIgMzIn
Pjx1c2UgeGxpbms6aHJlZj0nI2ljb24tcGF1c2UnPjwvdXNlPjwvc3ZnPjwvZGl2
PiIrCiAgICAgICI8ZGl2IGNsYXNzPSdwbGF5LWZvcndhcmQtY29udHJvbCc+PHN2
ZyBjbGFzcz0naWNvbicgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyB2aWV3Qm94PScw
IDAgMzIgMzInPjx1c2UgeGxpbms6aHJlZj0nI2ljb24tcGxheSc+PC91c2U+PC9z
dmc+PC9kaXY+IisKICAgICAgIjxkaXYgY2xhc3M9J3N0ZXAtZm9yd2FyZC1jb250
cm9sJz48c3ZnIGNsYXNzPSdpY29uJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHZp
ZXdCb3g9JzAgMCAzMiAzMic+PGcgdHJhbnNmb3JtPSdyb3RhdGUoMTgwLCAxNiwg
MTYpJz48dXNlIHhsaW5rOmhyZWY9JyNpY29uLWZpcnN0Jz48L3VzZT48L2c+PC9z
dmc+PC9kaXY+IgogICAgKTsKCiAgICBkaXYuc2VsZWN0KCcuc3RlcC1iYWNrLWNv
bnRyb2wnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgbjMuc3RlcEFuaW1hdGlv
bigxKTsgfSk7CiAgICBkaXYuc2VsZWN0KCcucGxheS1iYWNrLWNvbnRyb2wnKS5v
bignY2xpY2snLCBmdW5jdGlvbigpIHsgbjMucGxheUFuaW1hdGlvbigxKTsgfSk7
CiAgICBkaXYuc2VsZWN0KCcucGF1c2UtY29udHJvbCcpLm9uKCdjbGljaycsIGZ1
bmN0aW9uKCkgeyBuMy5lbmRBbmltYXRpb24oKTsgfSk7CiAgICBkaXYuc2VsZWN0
KCcucGxheS1mb3J3YXJkLWNvbnRyb2wnKS5vbignY2xpY2snLCBmdW5jdGlvbigp
IHsgbjMucGxheUFuaW1hdGlvbigpOyB9KTsKICAgIGRpdi5zZWxlY3QoJy5zdGVw
LWZvcndhcmQtY29udHJvbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyBuMy5z
dGVwQW5pbWF0aW9uKCk7IH0pOwogIH0KICAKICAvKiogY3JlYXRlcyB0aGUgdGlt
ZSBzbGlkZXIgY29udHJvbHMgYW5kIGRlZmluZXMgYXR0YWNoZWQgZXZlbnRzICov
CiAgbjMucHJvdG90eXBlLmNyZWF0ZVNsaWRlckNvbnRyb2wgPSBmdW5jdGlvbigp
IHsKICAgIHZhciBuMyA9IHRoaXM7CiAgICBuMy5kb21UYXJnZXQuc2VsZWN0KCcu
Y29udHJvbHMnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ3NsaWRlci1j
b250cm9sLWNvbnRhaW5lcicpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAn
c2xpZGVyJyk7CiAgfQogCiAgLyoqIGxvYWQgYW5kIHByb2Nlc3MgdGhlIEpTT04g
Zm9ybWF0dGVkIGRhdGEKICAqIEBwYXJhbSB7dXJsfEpTT059IC0gZWl0aGVyIGEg
TkRUVi1nZW5lcmF0ZWQgSlNPTiBvYmplY3QsIG9yIGEgVVJMIHBhdGggdG8gZmls
ZSBjb250YWluaW5nIEpTT04gZGF0YQogICovCiAgbjMucHJvdG90eXBlLmxvYWRE
YXRhID0gZnVuY3Rpb24oZ3JhcGhEYXRhKSB7CiAgICB2YXIgbjMgPSB0aGlzOwog
ICAgbjMuZW5kQW5pbWF0aW9uKCk7CiAgICBuMy5jdXJyVGltZSA9IDA7CiAgICBu
My5zZWxlY3RlZE5ldHdvcmsgPSBudWxsOwogICAgbjMuc2VsZWN0ZWQgPSBudWxs
OwogICAgCiAgICB2YXIgcHJvY2Vzc0RhdGEgPSBmdW5jdGlvbihkYXRhKSB7CiAg
ICAgIGNvbnNvbGUudGltZSgnbG9hZERhdGEnKTsKICAgICAgbjMuZ3JhcGggPSBk
YXRhLm5ldHdvcms7CiAgICAgIG4zLnRpbWVJbmRleCA9IGRhdGEucmVuZGVyOwog
ICAgICBpZiAobjMub3B0aW9ucy5kYXRhQ2hvb3NlciAmJiAhICQuaXNQbGFpbk9i
amVjdChncmFwaERhdGEpKSB7CiAgICAgICAgJChuMy5kb21UYXJnZXQuc2VsZWN0
KCcuZGF0YV9jaG9vc2VyJykubm9kZSgpKS52YWwoZ3JhcGhEYXRhKTsKICAgICAg
ICBuMy5kb21UYXJnZXQuc2VsZWN0KCcudmlkZW9fbGluaycpLmF0dHIoJ2hyZWYn
LCBncmFwaERhdGEucmVwbGFjZSgnLmpzb24nLCAnLm1wNCcpKQogICAgICB9CiAg
ICAgIG4zLmNvbnRhaW5lci5zZWxlY3RBbGwoJy5lZGdlLCAubGFiZWwsIC5ub2Rl
JykucmVtb3ZlKCk7CgogICAgICBuMy5ub2RlQ29vcmRzID0ge307CgogICAgICAk
LmVhY2gobjMuZ3JhcGgudmFsLCBmdW5jdGlvbihpLCBuKSB7CiAgICAgICAgaWYg
KCEgJC5pc0VtcHR5T2JqZWN0KG4pKSB7CiAgICAgICAgICBuLmlkID0gaSsxOwog
ICAgICAgIH0KICAgICAgICBuMy5ub2RlQ29vcmRzW24uaWRdID0gewogICAgICAg
ICAgY29vcmQ6IFswLDBdLAogICAgICAgICAgYWN0aXZlOiBmYWxzZSwKICAgICAg
ICAgIHNpemU6IDAsCiAgICAgICAgICBwb2ludHM6IFtdCiAgICAgICAgfQogICAg
ICB9KQogICAgICAkLmVhY2gobjMuZ3JhcGgubWVsLCBmdW5jdGlvbihpLCBlKSB7
CiAgICAgICAgaWYgKCEgJC5pc0VtcHR5T2JqZWN0KGUpKSB7CiAgICAgICAgICBl
LmlkID0gaSsxOwogICAgICAgIH0KICAgICAgfSkKICAgICAgdmFyIHNsaWNlSW5m
byA9IG4zLmdyYXBoLmdhbFsnc2xpY2UucGFyJ107CiAgICAgIAogICAgICBuMy5t
aW5UaW1lID0gc2xpY2VJbmZvLnN0YXJ0WzBdOwogICAgICBuMy5tYXhUaW1lID0g
c2xpY2VJbmZvLmVuZFswXTsKICAgICAgbjMuaW50ZXJ2YWwgPSBzbGljZUluZm8u
aW50ZXJ2YWxbMF07CiAgICAgIHZhciB2YWxJbmRleCA9IHt9OwogICAgICAkLmVh
Y2gobjMudGltZUluZGV4LCBmdW5jdGlvbihpLCB0KXsKICAgICAgICB2YWxJbmRl
eFt0LnN0YXJ0XSA9IGk7CiAgICAgICAgdC5yZW5kZXJEYXRhID0gbjMuZ2VuZXJh
dGVTbGljZVJlbmRlckRhdGEoaSk7CiAgICAgICAgZGVsZXRlIHQuZGF0YTsgLy9y
ZW1vdmUgcmVkdW5kYW50IGRhdGEgdGhhdCB3ZSd2ZSBzdG9yZWQgaW4gcmVuZGVy
RGF0YQogICAgICB9KSAgICAgIAoKICAgICAgbjMudXBkYXRlRGltZW5zaW9ucygp
OwoKICAgICAgaWYobjMub3B0aW9ucy5zbGlkZXIpIHsKICAgICAgICB2YXIgc2xp
ZGVyRGl2ID0gbjMuZG9tVGFyZ2V0LnNlbGVjdCgnLnNsaWRlcicpOwoKICAgICAg
ICBzbGlkZXJEaXYuaHRtbCgnJyk7CgogICAgICAgIG4zLnNsaWRlciA9IGQzLnNs
aWRlcigpLmF4aXModHJ1ZSkuc3RlcChuMy5pbnRlcnZhbCk7CiAgICAgICAgbjMu
c2xpZGVyLm1hcmdpbigzNSkKICAgICAgICBuMy5zbGlkZXIubWluKG4zLm1pblRp
bWUpCiAgICAgICAgbjMuc2xpZGVyLm1heChuMy5tYXhUaW1lK3NsaWNlSW5mb1sn
YWdncmVnYXRlLmR1ciddWzBdKQogICAgICAgIG4zLnNsaWRlci5hbmltYXRlKG4z
Lm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pCiAgICAgICAgbjMuc2xpZGVyLnZh
bHVlKG4zLm1pblRpbWUpCiAgICAgICAgbjMuc2xpZGVyLmludGVydmFsKHNsaWNl
SW5mb1snYWdncmVnYXRlLmR1ciddWzBdKQogICAgICAgIG4zLnNsaWRlci5vbign
c2xpZGUnLCBmdW5jdGlvbihleHQsIHZhbHVlKSB7CiAgICAgICAgICAvL0NoZWNr
IHRvIHNlZSBpZiBldmVudCBvcmlnaW5hdGVkIGZyb20gc2xpZGVyIGNvbnRyb2wg
b3IgZWxzZXdoZXJlCiAgICAgICAgICB2YXIgZXZlbnQgPSBkMy5ldmVudDsKICAg
ICAgICAgIGlmIChldmVudC50eXBlID09ICdkcmFnJyB8fCBkMy5zZWxlY3QoZXZl
bnQuY3VycmVudFRhcmdldCkuY2xhc3NlZCgnZDMtc2xpZGVyJykpIHsKICAgICAg
ICAgICAgbjMuZW5kQW5pbWF0aW9uKCk7CiAgICAgICAgICAgIG4zLmFuaW1hdGVH
cmFwaChuMy5jdXJyVGltZSwgdmFsSW5kZXhbdmFsdWVdLCB0cnVlKTsKICAgICAg
ICAgIH0KICAgICAgICB9KQogICAgICAgIAogICAgICAgIG4zLnNsaWRlci5vbign
c2xpZGVlbmQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIG4zLnNsaWRlci5hbmlt
YXRlKG4zLm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pOwogICAgICAgIH0pCiAg
ICAgICAgc2xpZGVyRGl2Lm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihlKSB7IAog
ICAgICAgICAgbjMuc2xpZGVyLmFuaW1hdGUoMCk7CiAgICAgICAgfSkKCiAgICAg
ICAgc2xpZGVyRGl2LmNhbGwobjMuc2xpZGVyKTsKICAgICAgfQogICAgICBjb25z
b2xlLnRpbWVFbmQoJ2xvYWREYXRhJyk7CiAgICAgIGlmIChuMy5vcHRpb25zLmFu
aW1hdGVPbkxvYWQpIHsKICAgICAgICBuMy5wbGF5QW5pbWF0aW9uKCk7CiAgICAg
IH0gZWxzZSB7CiAgICAgICAgbjMudXBkYXRlR3JhcGgobjMub3B0aW9ucy5hbmlt
YXRpb25EdXJhdGlvbik7CiAgICAgIH0KICAgIH07CgogICAgaWYoJC5pc1BsYWlu
T2JqZWN0KGdyYXBoRGF0YSkpIHsKICAgICAgcHJvY2Vzc0RhdGEoZ3JhcGhEYXRh
KQogICAgfSBlbHNlIHsKICAgICAgJC5nZXRKU09OKGdyYXBoRGF0YSwgZnVuY3Rp
b24oZGF0YSkgewogICAgICAgIHByb2Nlc3NEYXRhKGRhdGEpOwogICAgICB9KTsK
ICAgIH0KICB9CgogIHZhciBjb2xvciA9IGQzLnNjYWxlLmNhdGVnb3J5MjAoKTsK
CiAgLyoqIEZvciBhIGdpdmVuIHRpbWUgc2xpY2UsIHByb2Nlc3MgdGltZUluZGV4
IGRhdGEgYW5kIGdlbmVyYXRlIHJlbmRlciBkYXRhLCBmaWxsaW5nIGluIGRlZmF1
bHRzIGFzIG5lY2Vzc2FyeQogICogQHBhcmFtIHtpbnRlZ2VyfSAtIHRoZSB0aW1l
IGluZGV4IHRvIHByb2Nlc3MKICAqIEBwcml2YXRlCiAgKi8KICBuMy5wcm90b3R5
cGUuZ2VuZXJhdGVTbGljZVJlbmRlckRhdGEgPSBmdW5jdGlvbih0aW1lKSB7CiAg
ICB2YXIgbjMgPSB0aGlzOwoKICAgIHZhciBzbGljZVJlbmRlckRhdGEgPSB7CiAg
ICAgIGdyYXBoOiB7fSwKICAgICAgbm9kZToge30sCiAgICAgIGVkZ2U6IHt9CiAg
ICB9OwoKICAgIHZhciBkYXRhID0gbjMudGltZUluZGV4W3RpbWVdLmRhdGE7Cgog
ICAgJC5lYWNoKFsnZ3JhcGgnLCAnbm9kZScsICdlZGdlJ10sIGZ1bmN0aW9uKGks
IHR5cGUpIHsKICAgICAgdmFyIHNvdXJjZUxpc3QgPSBbXTsKICAgICAgaWYgKHR5
cGUgPT0gJ2dyYXBoJykgewogICAgICAgIHNvdXJjZUxpc3QgPSBbbjMuZ3JhcGgu
Z2FsXTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdub2RlJykgewogICAgICAg
IHNvdXJjZUxpc3QgPSBuMy5ncmFwaC52YWw7CiAgICAgIH0gZWxzZSB7CiAgICAg
ICAgc291cmNlTGlzdCA9IG4zLmdyYXBoLm1lbDsKICAgICAgfQoKICAgICAgJC5l
YWNoKHNvdXJjZUxpc3QsIGZ1bmN0aW9uKGksIGl0ZW0pIHsKICAgICAgICB2YXIg
aWQgPTA7CiAgICAgICAgdmFyIHByb3BlcnR5SW5kZXg7CiAgICAgICAgdmFyIGl0
ZW1Qcm9wZXJ0aWVzID0ge307CgogICAgICAgIGlmICh0eXBlICE9ICdncmFwaCcp
IHsKICAgICAgICAgIGlkID0gaXRlbS5pZDsKICAgICAgICAgIHByb3BlcnR5SW5k
ZXggPSBkYXRhLmFjdGl2ZVt0eXBlKydzJ11baWRdOwogICAgICAgIH0KCiAgICAg
ICAgaWYgKHR5cGUgPT0gJ2dyYXBoJyB8fCBwcm9wZXJ0eUluZGV4ICE9PSB1bmRl
ZmluZWQpIHsKICAgICAgICAgIGl0ZW1Qcm9wZXJ0aWVzLmlkID0gaWQ7CiAgICAg
ICAgICAkLmVhY2gobmR0dlByb3BlcnRpZXNbdHlwZV0sIGZ1bmN0aW9uKHByb3Bl
cnR5LCBkZWYpIHsKICAgICAgICAgICAgdmFyIGxvb2t1cCA9IHByb3BlcnR5SW5k
ZXg7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlZjsKCiAgICAgICAgICAgIC8v
SWYgdGhlIHByb3BlcnR5IGxpc3QgaGFzIG9ubHkgb25lIHZhbHVlLCB3ZSBhcHBs
eSBpdCB0byBhbGwgaXRlbXMKICAgICAgICAgICAgaWYodHlwZW9mIGRhdGFbcHJv
cGVydHldICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhW3Byb3BlcnR5XS5sZW5ndGgg
PT0gMSkgewogICAgICAgICAgICAgIGxvb2t1cCA9IDA7CiAgICAgICAgICAgIH0K
ICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW3Byb3BlcnR5XSAhPT0gJ3VuZGVm
aW5lZCcgJiYgZGF0YVtwcm9wZXJ0eV1bbG9va3VwXSAhPT0gdW5kZWZpbmVkKSB7
CiAgICAgICAgICAgICAgdmFsdWUgPSBkYXRhW3Byb3BlcnR5XVtsb29rdXBdOwog
ICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAocHJvcGVydHkgPT0gJ21haW4nIHx8
IHByb3BlcnR5ID09ICd4bGFiJykpIHsKICAgICAgICAgICAgICAgIHZhbHVlID0g
dmFsdWUuc3BsaXQoJ1xuJyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICghIHZh
bHVlICYmIHByb3BlcnR5ID09ICdjb29yZCcpIHsKICAgICAgICAgICAgICAgIGNv
bnNvbGUubG9nKCdtaXNzaW5nIGNvb3JkaW5hdGVzIGZvciBub2RlICcraWQrICcg
YXQgdGltZSAnK3RpbWUrJyAoJytuMy50aW1lSW5kZXhbdGltZV0uc3RhcnQrJy0n
K24zLnRpbWVJbmRleFt0aW1lXS5lbmQrJyknKTsKICAgICAgICAgICAgICB9CiAg
ICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZ3JhcGgnICYmIHR5cGVvZiBk
YXRhW3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpIHsgLy9ncmFwaCBwcm9wZXJ0
aWVzIGdldCBhcHBsaWVkIGRpcmVjdGx5CiAgICAgICAgICAgICAgdmFsdWUgPSBk
YXRhW3Byb3BlcnR5XTsKICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eSA9
PSAnbGFiZWwnICYmIHNsaWNlUmVuZGVyRGF0YS5ncmFwaC5kaXNwbGF5bGFiZWxz
KSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBpZDsKICAgICAgICAgICAgfQogICAg
ICAgICAgICBpZiAodmFsdWUgJiYgJC50eXBlKHZhbHVlKSA9PT0gJ3N0cmluZycg
JiYgdmFsdWUubWF0Y2goJ3JnYmEnKSkgewogICAgICAgICAgICAgIHZhciByZ2Jh
ID0gdmFsdWUubWF0Y2goL15yZ2JhXCgoLiopLCA/KC4qKVwpJC8pOwogICAgICAg
ICAgICAgIGlmIChyZ2JhKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9ICJyZ2Io
IityZ2JhWzFdKyIpIjsKICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5UHJvcCA9
IHByb3BlcnR5KyIuc3Ryb2tlLW9wYWNpdHkiOwogICAgICAgICAgICAgICAgaWYg
KHByb3BlcnR5ID09ICd2ZXJ0ZXguY29sJyB8fCBwcm9wZXJ0eSA9PSAnYmcnIHx8
IHByb3BlcnR5ID09ICdsYWJlbC5jb2wnKSB7CiAgICAgICAgICAgICAgICAgIG9w
YWNpdHlQcm9wID0gcHJvcGVydHkrIi5maWxsLW9wYWNpdHkiOwogICAgICAgICAg
ICAgICAgfQogICAgICAgICAgICAgICAgaXRlbVByb3BlcnRpZXNbb3BhY2l0eVBy
b3BdID0gcmdiYVsyXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAg
ICAgICAgICAgLy8gaWYgKHByb3BlcnR5ID09ICdlZGdlLmx3ZCcpIHsKICAgICAg
ICAgICAgICAvLyB2YWx1ZSA9IGlkKjAuMjsKICAgICAgICAgICAgLy8gfQogICAg
ICAgICAgICAvLyBpZiAocHJvcGVydHkgPT0gJ2VkZ2UuY29sJyB8fCBwcm9wZXJ0
eSA9PSAndmVydGV4LmNvbCcgfHwgcHJvcGVydHkgPT0gJ2xhYmVsLmNvbCcpIHsK
ICAgICAgICAgICAgLy8gICB2YWx1ZSA9IHR5cGUgPT0gJ2VkZ2UnID8gY29sb3Io
dGltZSkgOiBjb2xvcih0aW1lKzEpOwogICAgICAgICAgICAvLyB9CiAgICAgICAg
ICAgIGl0ZW1Qcm9wZXJ0aWVzW3Byb3BlcnR5XSA9IHZhbHVlOwogICAgICAgICAg
fSkKCiAgICAgICAgICBpZiAodHlwZSA9PSAnZWRnZScpIHsKICAgICAgICAgICAg
JC5lYWNoKFsnaW5sJywgJ291dGwnXSwgZnVuY3Rpb24oaSwgZGlyZWN0aW9uKSB7
CiAgICAgICAgICAgICAgdmFyIG90aGVyZGlyID0gZGlyZWN0aW9uID09ICdpbmwn
ID8gJ291dGwnIDogJ2lubCc7CiAgICAgICAgICAgICAgaXRlbVByb3BlcnRpZXNb
ZGlyZWN0aW9uXSA9IHsKICAgICAgICAgICAgICAgIGlkOiBpdGVtW2RpcmVjdGlv
bl1bMF0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgc2xpY2VSZW5kZXJE
YXRhLm5vZGVbaXRlbVtkaXJlY3Rpb25dWzBdXS5saW5rc1tpdGVtW290aGVyZGly
XVswXV0gPSBpZDsKICAgICAgICAgICAgfSk7ICAgICAgCiAgICAgICAgICB9IGVs
c2UgaWYgKHR5cGUgPT0gJ25vZGUnKSB7CiAgICAgICAgICAgIGl0ZW1Qcm9wZXJ0
aWVzLmxpbmtzID0ge307CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZSA9
PSAnZ3JhcGgnKSB7CiAgICAgICAgICAgIHNsaWNlUmVuZGVyRGF0YVt0eXBlXSA9
IGl0ZW1Qcm9wZXJ0aWVzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAg
c2xpY2VSZW5kZXJEYXRhW3R5cGVdW2lkXSA9IGl0ZW1Qcm9wZXJ0aWVzOwogICAg
ICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnbm9kZScpIHsKICAg
ICAgICAgIG4zLm5vZGVDb29yZHNbaWRdLmFjdGl2ZSA9IGZhbHNlOwogICAgICAg
IH0KICAgICAgfSkKICAgIH0pCiAgICByZXR1cm4gc2xpY2VSZW5kZXJEYXRhOwog
IH0KCiAgLyoqIHVwZGF0ZXMgcmVuZGVyZGF0YSBub2RlIGNvb3JkaW5hdGVzIGJh
c2VkIG9uIGN1cnJlbnQgc3RhdGUgb2YgZ3JhcGgsIGFuZCB1cGRhdGVzIG5vZGUg
c3RhdGUgdHJhY2tlcgogICogQHBhcmFtIHtpbnRlZ2VyfSAtIHRoZSB0aW1lIGlu
ZGV4IHRvIHByb2Nlc3MKICAqIEBwcml2YXRlCiAgKi8KICBuMy5wcm90b3R5cGUu
dXBkYXRlU2xpY2VSZW5kZXJEYXRhID0gZnVuY3Rpb24odGltZSkgewogICAgdmFy
IG4zID0gdGhpczsKCiAgICB2YXIgcHJldk5vZGVDb29yZHMgPSAkLmV4dGVuZCh7
fSwgbjMubm9kZUNvb3Jkcyk7CiAgICB2YXIgZGF0YSA9IG4zLnRpbWVJbmRleFt0
aW1lXS5yZW5kZXJEYXRhOwogICAgCiAgICAkLmVhY2gobjMubm9kZUNvb3Jkcywg
ZnVuY3Rpb24oaWQsIG5vZGVDb29yZCkgewogICAgICB2YXIgbm9kZSA9IGRhdGEu
bm9kZVtpZF07CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgaWYgKCFub2RlLmNv
b3JkKSB7CiAgICAgICAgICBub2RlLnJlbmRlckNvb3JkID0gbm9kZUNvb3JkLmNv
b3JkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlLnJlbmRlckNvb3Jk
ID0gbm9kZS5jb29yZDsKICAgICAgICB9CiAgICAgICAgbjMubm9kZUNvb3Jkc1tp
ZF0gPSB7CiAgICAgICAgICBjb29yZDogbm9kZS5yZW5kZXJDb29yZCwKICAgICAg
ICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgIHNpemU6IG5vZGVbJ3ZlcnRleC5j
ZXgnXSwKICAgICAgICAgIHByZXZQb2ludHM6IHByZXZOb2RlQ29vcmRzW2lkXS5w
b2ludHMsCiAgICAgICAgICAvL0ZJWE1FIC0gdGhpcyBjb3VsZCBicmVhayBpZiBh
IG5vZGUgaXMgZXZlciBjZW50ZXJlZCBhdCAwLDAKICAgICAgICAgIHByZXZDb29y
ZDogcHJldk5vZGVDb29yZHNbaWRdLmNvb3JkWzBdICYmIHByZXZOb2RlQ29vcmRz
W2lkXS5jb29yZFsxXSA/IHByZXZOb2RlQ29vcmRzW2lkXS5jb29yZCA6IG51bGwK
ICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbjMubm9kZUNvb3Jkc1tp
ZF0uYWN0aXZlID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogICAgJC5lYWNoKGRh
dGEuZWRnZSwgZnVuY3Rpb24oaWQsIGVkZ2UpewogICAgICAkLmVhY2goWydpbmwn
LCAnb3V0bCddLCBmdW5jdGlvbihpLCBkaXJlY3Rpb24pewogICAgICAgIHZhciBu
b2RlaWQgPSBlZGdlW2RpcmVjdGlvbl0uaWQ7CiAgICAgICAgdmFyIHByZXZDb29y
ZCA9IHByZXZOb2RlQ29vcmRzW25vZGVpZF07CiAgICAgICAgdmFyIGNvb3JkcyA9
IG4zLm5vZGVDb29yZHNbbm9kZWlkXSB8fCBwcmV2Q29vcmQ7CiAgICAgICAgZWRn
ZVtkaXJlY3Rpb25dID0gewogICAgICAgICAgaWQ6IG5vZGVpZCwKICAgICAgICAg
IGNvb3JkczogY29vcmRzLAogICAgICAgICAgcHJldlBvaW50czpwcmV2Q29vcmQu
cG9pbnRzLAogICAgICAgICAgLy9JZiB0aGUgbm9kZSBpcyBuZXdseSBhY3RpdmUs
IHVzZSB0aGUgY3VycmVudCBjb29yZGluYXRlcyBmb3IgdGhlIHN0YXJ0IHZhbHVl
cwogICAgICAgICAgc3RhcnRDb29yZHM6ICEgcHJldkNvb3JkLmFjdGl2ZSA/IGNv
b3JkcyA6IHByZXZDb29yZAogICAgICAgIH0KICAgICAgfSkKICAgIH0pCiAgICBy
ZXR1cm4gZGF0YTsKICB9CgogIC8qKiBjcmVhdGUgYSBwYXRoIGRlc2NyaXB0aW9u
cyBvbiB0aGUgZ2l2ZW4gZGF0YSBzZWxlY3Rpb24KICAqIEBwYXJhbSB7b2JqZWN0
fSAtIHRoZSBEMyBkYXRhIHNlbGVjdGlvbgogICogQHBhcmFtIHtORFRWX0QzfQog
ICogQHBhcmFtIHtib29sZWFufSAtIElmIHRydWUsIHBvc2l0aW9ucyBlbmQgb2Yg
bGluZSBvZmZzZXQgb2Ygbm9kZSByYWRpdXMgdG8gYWNjb21vZGF0ZSBhcnJvd2hl
YWQgCiAgKiBAcGFyYW0ge2Jvb2xlYW59IC0gSWYgdHJ1ZSwgZHJhd3MgcGF0aCB1
c2luZyBjdXJyZW50IG5vZGUgcG9zaXRpb25zIChiZWZvcmUgYW5pbWF0aW9uIGJl
Z2lucykKICAqIEBwcml2YXRlCiAgKi8KICBuMy5wcm90b3R5cGUuZHJhd0VkZ2Ug
PSBmdW5jdGlvbihzZWxlY3Rpb24sIG4zLCB1c2VhcnJvd3MsIHN0YXJ0KSB7CiAg
ICBzZWxlY3Rpb24uYXR0cih7CiAgICAgIGQ6IGZ1bmN0aW9uKGQpIHsKICAgICAg
ICB2YXIgdHlwZSA9IHN0YXJ0ID8gJ3N0YXJ0Q29vcmRzJyA6ICdjb29yZHMnOwoK
ICAgICAgICB2YXIgc3RhcnROb2RlID0gZC5vdXRsW3R5cGVdOwogICAgICAgIHZh
ciBlbmROb2RlID0gZC5pbmxbdHlwZV07CiAgICAgICAgdmFyIHN0YXJ0Q29vcmRz
ID0gW24zLnhTY2FsZShzdGFydE5vZGUuY29vcmRbMF0pLCBuMy55U2NhbGUoc3Rh
cnROb2RlLmNvb3JkWzFdKV07CiAgICAgICAgdmFyIGVuZENvb3JkcyA9IFtuMy54
U2NhbGUoZW5kTm9kZS5jb29yZFswXSksIG4zLnlTY2FsZShlbmROb2RlLmNvb3Jk
WzFdKV07CgogICAgICAgIGlmKHVzZWFycm93cyB8fCBuZHR2UHJvcGVydGllcy5n
cmFwaC5lZGdlT2Zmc2V0KSB7CiAgICAgICAgICB2YXIgYXJyb3dPZmZzZXQgPSB1
c2VhcnJvd3MgPyBzY2FsZUFycm93aGVhZHMoZCkqZFsnZWRnZS5sd2QnXSA6IDA7
CiAgICAgICAgICBzdGFydENvb3JkcyA9IGZpbmROb2RlSW50ZXJzZWN0aW9uKG4z
LCBkLm91dGwuaWQsIGVuZENvb3JkcywgbmR0dlByb3BlcnRpZXMuZ3JhcGguZWRn
ZU9mZnNldCwgc3RhcnQpCiAgICAgICAgICBlbmRDb29yZHMgPSBmaW5kTm9kZUlu
dGVyc2VjdGlvbihuMywgZC5pbmwuaWQsIHN0YXJ0Q29vcmRzLCBhcnJvd09mZnNl
dCtuZHR2UHJvcGVydGllcy5ncmFwaC5lZGdlT2Zmc2V0LCBzdGFydCkKICAgICAg
ICB9CiAgICAgICAgZFsnY3VycmVudENvb3JkcyddID0gW3N0YXJ0Q29vcmRzLCBl
bmRDb29yZHNdOwogICAgICAgIHJldHVybiAnTSAnK3N0YXJ0Q29vcmRzWzBdLnRv
Rml4ZWQoMSkrJyAnK3N0YXJ0Q29vcmRzWzFdLnRvRml4ZWQoMSkrJyBMICcrZW5k
Q29vcmRzWzBdLnRvRml4ZWQoMSkrJyAnK2VuZENvb3Jkc1sxXS50b0ZpeGVkKDEp
OyAgICAgCiAgICAgIH0KICAgIH0pCiAgfQoKICAvKiogaW5pdGlhbGl6ZXMgYSBE
MyBsaW5lIGRyYXdpbmcgZnVuY3Rpb24KICAqIEBwcml2YXRlICovCiAgdmFyIGRy
YXdMaW5lID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZDMuc3ZnLmxpbmUoKQog
ICAgICAueChmdW5jdGlvbihkKXtyZXR1cm4gZFswXTt9KQogICAgICAueShmdW5j
dGlvbihkKXtyZXR1cm4gZFsxXTt9KQogIH0KICAKICAvKiogb2Zmc2V0IGEgbGlu
ZSBiZXR3ZWVuIHR3byBnaXZlbiBwb2ludHMgYnkgdGhlIHNwZWNpZmllZCBhbW91
bnQuIHJldHVybnMgdGhlIG5ldyB0YXJnZXQgcG9pbnQKICAqIEBwYXJhbSB7cG9p
bnR9IC0gdGhlIG9yaWdpbiBwb2ludAogICogQHBhcmFtIHtwb2ludH0gLSB0aGUg
dGFyZ2V0IHBvaW50CiAgKiBAcGFyYW0ge251bWJlcn0gLSB0aGUgb2Zmc2V0IGFt
b3VudCAoYXMgbGVuZ3RoIG9mIGxpbmUpCiAgKiBAcHJpdmF0ZSAqLwogIHZhciBv
ZmZzZXRMaW5lID0gZnVuY3Rpb24ocG9pbnRBLCBwb2ludEIsIG9mZnNldCkgewog
ICAgcG9pbnRBID0gcG9pbnRBLm1hcChwYXJzZUZsb2F0KTsKICAgIHBvaW50QiA9
IHBvaW50Qi5tYXAocGFyc2VGbG9hdCk7CgogICAgdmFyIHhsZW4gPSBwb2ludEJb
MF0gLSBwb2ludEFbMF07CiAgICB2YXIgeWxlbiA9IHBvaW50QlsxXSAtIHBvaW50
QVsxXTsKCiAgICAvLyBEZXRlcm1pbmUgaHlwb3RlbnVzZSBsZW5ndGgKICAgIHZh
ciBobGVuID0gTWF0aC5zcXJ0KE1hdGgucG93KHhsZW4sMikgKyBNYXRoLnBvdyh5
bGVuLDIpKTsKCiAgICAvLyBEZXRlcm1pbmUgdGhlIHJhdGlvIGJldHdlZW4gdGhl
IHNob3J0ZW5lZCB2YWx1ZSBhbmQgdGhlIGZ1bGwgaHlwb3RlbnVzZS4KICAgIHZh
ciByYXRpbyA9IChobGVuIC0gb2Zmc2V0KSAvIGhsZW47CgogICAgLy9JZiB0aGUg
cmF0aW8gaXMgaW52YWxpZCwganVzdCB1c2UgdGhlIG9yaWdpbmFsIGNvb3JkaW5h
dGVzCiAgICBpZiAoJC5pc051bWVyaWMocmF0aW8pKSB7IAogICAgICByZXR1cm4g
WwogICAgICAgIHBvaW50QVswXSArICh4bGVuICogcmF0aW8pLAogICAgICAgIHBv
aW50QVsxXSArICh5bGVuICogcmF0aW8pCiAgICAgIF07CiAgICB9IGVsc2Ugewog
ICAgICByZXR1cm4gcG9pbnRCOwogICAgfQogIH0KCiAgdmFyIHNjYWxlQXJyb3do
ZWFkcyA9IGZ1bmN0aW9uKGQpIHsKICAgIHJldHVybiA2LTIuNSpNYXRoLmF0YW4o
ZFsnZWRnZS5sd2QnXSouNikKICB9CiAgLyoqIGZpbmQgdGhlIHBvaW50IGF0IHdo
aWNoIGEgbGluZSBkcmF3biBmcm9tIGEgcG9pbnQgdG8gdGhlIGNlbnRlciBvZiBh
IG5vZGUgaW50ZXJzZWN0cyB3aXRoIHRoZSBub2RlcyBib3JkZXIuCiAgKiByZXR1
cm5zIHRoZSBjb29yZGluYXRlLCBvcHRpb25hbGx5IGFwcGx5aW5nIGFuIG9mZnNl
dAogICogQHBhcmFtIHtuM30gbjMgLSB0aGUgbjMgb2JqZWN0CiAgKiBAcGFyYW0g
e2lkfSBpZCAtIHRoZSBub2RlIGlkCiAgKiBAcGFyYW0ge3BvaW50fSBwb2ludCAt
IHRoZSBwb2ludCBvZiBvcmlnaW4gZm9yIHRoZSBsaW5lCiAgKiBAcGFyYW0geyBu
dW1iZXJ9IG9mZnNldCAtIHRoZSBvZmZzZXQgYW1vdW50IHRvIGFwcGx5CiAgKiBA
cGFyYW0ge2Jvb2xlYW59IHVzZVByZXYgLSBzaG91bGQgd2UgdXNlIHRoZSBjdXJy
ZW50IHNsaWNlIGNvb3JkaW5hdGVzLCBvciB0aG9zZSBvZiB0aGUgcHJldmlvdXMg
c3RhdGU/CiAgKiBAcHJpdmF0ZSAqLwogIHZhciBmaW5kTm9kZUludGVyc2VjdGlv
biA9IGZ1bmN0aW9uKG4zLCBpZCwgcG9pbnQsIG9mZnNldCwgdXNlUHJldikgewog
ICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7CiAgICB2YXIgbm9kZURhdGEgPSBuMy5u
b2RlQ29vcmRzW2lkXTsKICAgIHZhciBjZW50ZXIgPSB1c2VQcmV2ICYmIG5vZGVE
YXRhLnByZXZDb29yZCA/IG5vZGVEYXRhLnByZXZDb29yZC5zbGljZSgpIDogbm9k
ZURhdGEuY29vcmQuc2xpY2UoKTsKICAgIHZhciBpbnRlcnNlY3Rpb24gPSBbCiAg
ICAgIG4zLnhTY2FsZShjZW50ZXJbMF0pLAogICAgICBuMy55U2NhbGUoY2VudGVy
WzFdKQogICAgXTsKCiAgICBpZiAobm9kZURhdGEucG9pbnRzKSB7CiAgICAgIHZh
ciBwb2ludHMgPSB1c2VQcmV2ICYmIG5vZGVEYXRhLnByZXZQb2ludHMubGVuZ3Ro
ID8gbm9kZURhdGEucHJldlBvaW50cyA6IG5vZGVEYXRhLnBvaW50czsKICAgICAg
aW50ZXJzZWN0aW9uID0gZmluZFBvbHlnb25JbnRlcnNlY3Rpb24ocG9pbnRzLCBp
bnRlcnNlY3Rpb24sIHBvaW50KTsKICAgIH0gZWxzZSB7CiAgICAgIG9mZnNldCAr
PSBub2RlRGF0YS5zaXplICogbjMuYmFzZU5vZGVTaXplOwogICAgfQogICAgcmV0
dXJuIG9mZnNldExpbmUocG9pbnQsIGludGVyc2VjdGlvbiwgb2Zmc2V0KTsKICB9
CiAKICAvKiogZmluZCB0aGUgcG9pbnQgb2YgaW50ZXNlY3Rpb24gb2YgdHdvIGxp
bmVzIC0gYWRhcHRlZCBmcm9tIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9nZW9tZXRy
eS9wb2ludGxpbmVwbGFuZS8gCiAgKiBAcHJpdmF0ZSAqLwogIHZhciBmaW5kTGlu
ZUludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQpIHsKICAgIHZhciBk
ZW5vbWluYXRvciA9IChkWzFdIC0gY1sxXSkgKiAoYlswXSAtIGFbMF0pIC0gKGRb
MF0gLSBjWzBdKSAqIChiWzFdIC0gYVsxXSk7CiAgICB2YXIgcHJlY2lzaW9uID0g
MTAwMDAwOwoKICAgIHZhciBvbmUgPSAoIChkWzBdIC0gY1swXSkgKiAoYVsxXSAt
IGNbMV0pIC0gKGRbMV0gLSBjWzFdKSAqIChhWzBdIC0gY1swXSkgKSAvIGRlbm9t
aW5hdG9yOwogICAgdmFyIHR3byA9ICggKGJbMF0gLSBhWzBdKSAqIChhWzFdIC0g
Y1sxXSkgLSAoYlsxXSAtIGFbMV0pICogKGFbMF0gLSBjWzBdKSApIC8gZGVub21p
bmF0b3I7CiAgICBvbmUgPSBNYXRoLnJvdW5kKG9uZSAqIHByZWNpc2lvbikgLyBw
cmVjaXNpb247CiAgICB0d28gPSBNYXRoLnJvdW5kKHR3byAqIHByZWNpc2lvbikg
LyBwcmVjaXNpb247CgogICAgaWYgKG9uZSA8PSAxICYmIG9uZSA+PSAwICYmIHR3
byA8PSAxICYmIHR3byA+PSAwKSB7CiAgICAgIHZhciB4ID0gYVswXSArIG9uZSAq
IChiWzBdIC0gYVswXSk7CiAgICAgIHZhciB5ID0gYVsxXSArIG9uZSAqIChiWzFd
IC0gYVsxXSk7IAogICAgICByZXR1cm4gW3gseV07CiAgICB9CiAgfQoKICAvKiog
ZmluZCB0aGUgcG9pbnQgYXQgd2hpY2ggYSBsaW5lIGludGVyc2VjdCBhIHBvbHln
b24KICAqIEBwcml2YXRlICovCiAgdmFyIGZpbmRQb2x5Z29uSW50ZXJzZWN0aW9u
ID0gZnVuY3Rpb24ocG9pbnRzLCBjZW50ZXJBLCBjZW50ZXJCKSB7CiAgICB2YXIg
aW50ZXJzZWN0aW9uID0gW107CiAgICBmb3IodmFyIGkgPSAwOyBpPHBvaW50cy5s
ZW5ndGgtMTsgaSsrKSB7CiAgICAgIHZhciByZXMgPSBmaW5kTGluZUludGVyc2Vj
dGlvbihwb2ludHNbaV0sIHBvaW50c1tpKzFdLCBjZW50ZXJBLCBjZW50ZXJCKTsK
ICAgICAgaWYgKHJlcykgewogICAgICAgIGludGVyc2VjdGlvbiA9IHJlczsKICAg
ICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgaWYgKCEgaW50ZXJzZWN0aW9u
Lmxlbmd0aCkgewogICAgICBpbnRlcnNlY3Rpb24gPSBmaW5kTGluZUludGVyc2Vj
dGlvbihwb2ludHNbcG9pbnRzLmxlbmd0aC0xXSwgcG9pbnRzWzBdLCBjZW50ZXJB
LCBjZW50ZXJCKTsKICAgIH0KICAgIGlmICghIGludGVyc2VjdGlvbikgewogICAg
ICBjb25zb2xlLmxvZygidW5hYmxlIHRvIGZpbmQgaW50ZXJzZWN0aW9uISB1c2lu
ZyB0YXJnZXQgcG9pbnQiLCBwb2ludHMsIGNlbnRlckEsIGNlbnRlckIpOwoKICAg
ICAgLy9kZWJ1Z2dpbmcgY29kZQogICAgICAvLyB2YXIgY29sb3IgPSBkMy5zY2Fs
ZS5jYXRlZ29yeTEwKCkuZG9tYWluKGQzLnJhbmdlKDAsMTApKShncmFwaDIuY3Vy
clRpbWUpOwogICAgICAvLyBkMy5zZWxlY3QoJy5jb250YWluZXInKS5hcHBlbmQo
J3BhdGgnKS5hdHRyKCdkJywgIk0gIitjZW50ZXJBWzBdICsgJyAnK2NlbnRlckFb
MV0gKyAnIEwgJysgY2VudGVyQlswXSArICcgJytjZW50ZXJCWzFdKS5zdHlsZSh7
J3N0cm9rZSc6IGNvbG9yfSkKICAgICAgLy8gZm9yKGkgPSAwOyBpPHBvaW50cy5s
ZW5ndGgtMTsgaSsrKSB7CiAgICAgIC8vICAgZDMuc2VsZWN0KCcuY29udGFpbmVy
JykuYXBwZW5kKCdwYXRoJykuYXR0cignZCcsICJNICIrcG9pbnRzW2ldWzBdICsg
JyAnK3BvaW50c1tpXVsxXSArICcgTCAnKyBwb2ludHNbaSsxXVswXSArICcgJytw
b2ludHNbaSsxXVsxXSkuc3R5bGUoeydzdHJva2UnOiBjb2xvcn0pCiAgICAgIC8v
IH0KICAgICAgLy8gZDMuc2VsZWN0KCcuY29udGFpbmVyJykuYXBwZW5kKCdwYXRo
JykuYXR0cignZCcsICJNICIrcG9pbnRzW3BvaW50cy5sZW5ndGgtMV1bMF0gKyAn
ICcrcG9pbnRzW3BvaW50cy5sZW5ndGgtMV1bMV0gKyAnIEwgJysgcG9pbnRzWzBd
WzBdICsgJyAnK3BvaW50c1swXVsxXSkuc3R5bGUoeydzdHJva2UnOiBjb2xvcn0p
CiAgICAgIHJldHVybiBjZW50ZXJCOyAvL0ZJWE1FIC0gdGhpcyBzaG91bGQgYmUg
ZW5hYmxlZCBmb3IgcHJvZHVjdGlvbgoKICAgIH0KICAgIHJldHVybiBpbnRlcnNl
Y3Rpb247CiAgfQoKICAvKiogY3JlYXRlcyBhIHBvbHlnb24tc2hhcGVkIHBhdGgg
YXR0cmlidXRlIGZvciBnaXZlbiBub2RlIHNlbGVjdGlvbgogICogQHBhcmFtIHtE
M3NlbGVjdGlvbn0KICAqIEBwYXJhbSB7TkRUVl9EM30KICAqIEBwcml2YXRlCiAg
Ki8KICBuMy5wcm90b3R5cGUuZHJhd1BvbHlnb25Ob2RlID0gZnVuY3Rpb24oc2Vs
ZWN0aW9uLCBuMyl7CiAgICAvLyBjb25zb2xlLnByb2ZpbGUoJ3BvbHltYXRoJykK
ICAgIC8vIGNvbnNvbGUubG9nKHJlbmRlckRhdGEubikKICAgIHNlbGVjdGlvbi5h
dHRyKHsKICAgICAgcG9pbnRzOiBmdW5jdGlvbihkLCBpKSB7IAogICAgICAgIHZh
ciBzaWRlcyA9IGRbJ3ZlcnRleC5zaWRlcyddOwogICAgICAgIHZhciBzaXplID0g
ZFsndmVydGV4LmNleCddICogbjMuYmFzZU5vZGVTaXplOwogICAgICAgIHZhciBj
b29yZHMgPSBkLnJlbmRlckNvb3JkOwogICAgICAgIHZhciByb3RhdGlvbiA9IGRb
J3ZlcnRleC5yb3QnXTsKICAgICAgICB2YXIgY2VudGVyWCA9IG4zLnhTY2FsZShj
b29yZHNbMF0pOwogICAgICAgIHZhciBjZW50ZXJZID0gbjMueVNjYWxlKGNvb3Jk
c1sxXSk7CgogICAgICAgIHZhciByb3QgPSByb3RhdGlvbiAqIDIgKiBNYXRoLlBJ
LzM2MAogICAgICAgIHZhciBiYXNlID0gMS9zaWRlcyAqIDIgKiBNYXRoLlBJOwog
ICAgICAgIG4zLm5vZGVDb29yZHNbZC5pZF0ucG9pbnRzID0gW107CgogICAgICAg
IGZvciAodmFyIGkgPSAxOyBpIDw9IHNpZGVzOyBpKyspIHsKICAgICAgICAgICAg
dmFyIGFuZyA9IGkgKiBiYXNlICsgcm90OwogICAgICAgICAgICB2YXIgeCA9IGNl
bnRlclggKyBzaXplICogTWF0aC5jb3MoYW5nKTsKICAgICAgICAgICAgdmFyIHkg
PSBjZW50ZXJZICsgc2l6ZSAqIE1hdGguc2luKGFuZyk7CiAgICAgICAgICAgIG4z
Lm5vZGVDb29yZHNbZC5pZF0ucG9pbnRzLnB1c2goW3gsIHldKTsKICAgICAgICB9
CiAgICAgICAgcmV0dXJuIG4zLm5vZGVDb29yZHNbZC5pZF0ucG9pbnRzLm1hcChm
dW5jdGlvbihwKSB7IHJldHVybiBwWzBdLnRvRml4ZWQoMSkrJywnK3BbMV0udG9G
aXhlZCgxKTsgfSkuam9pbignICcpOwogICAgICB9LAogICAgfSkKICAgIC8vIGNv
bnNvbGUucHJvZmlsZUVuZCgncG9seW1hdGgnKQogIH0KCiAgLyoqIGNyZWF0ZXMg
Y2lyY2xlIGF0dHJpYnV0ZXMgZm9yIGdpdmVuIG5vZGUgc2VsZWN0aW9uCiAgKiBA
cGFyYW0ge0Qzc2VsZWN0aW9ufQogICogQHBhcmFtIHtORFRWX0QzfQogICogQHBy
aXZhdGUKICAqLwogIG4zLnByb3RvdHlwZS5kcmF3Q2lyY2xlTm9kZSA9IGZ1bmN0
aW9uKHNlbGVjdGlvbiwgbjMpewogICAgc2VsZWN0aW9uLmF0dHIoewogICAgICBj
eDogZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gbjMueFNjYWxlKGQucmVuZGVyQ29v
cmRbMF0pLnRvRml4ZWQoMSk7IH0sCiAgICAgIGN5OiBmdW5jdGlvbihkLCBpKSB7
IHJldHVybiBuMy55U2NhbGUoZC5yZW5kZXJDb29yZFsxXSkudG9GaXhlZCgxKTsg
fSwKICAgICAgcjogZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gKGRbJ3ZlcnRleC5j
ZXgnXSAqIG4zLmJhc2VOb2RlU2l6ZSkudG9GaXhlZCgxKTsgfSwKICAgIH0pCiAg
fQoKICAvKiogcG9zaXRpb25zIHRoZSBub2RlIGxhYmVscwogICogQHBhcmFtIHtE
M3NlbGVjdGlvbn0KICAqIEBwYXJhbSB7TkRUVl9EM30KICAqIEBwcml2YXRlCiAg
Ki8KICBuMy5wcm90b3R5cGUuZHJhd05vZGVMYWJlbCA9IGZ1bmN0aW9uKHNlbGVj
dGlvbiwgbjMpewogICAgc2VsZWN0aW9uLmF0dHIoewogICAgICB4OiBmdW5jdGlv
bihkLCBpKSB7IHJldHVybiAobjMueFNjYWxlKGQucmVuZGVyQ29vcmRbMF0pK24z
Lm9wdGlvbnMubGFiZWxPZmZzZXQueCkudG9GaXhlZCgxKTsgfSwKICAgICAgeTog
ZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gKG4zLnlTY2FsZShkLnJlbmRlckNvb3Jk
WzFdKStuMy5vcHRpb25zLmxhYmVsT2Zmc2V0LnkpLnRvRml4ZWQoMSk7IH0sCiAg
ICB9KQogIH0KCiAgLyoqIGhpZ2hsaWdodHMgdGhlIGN1cnJlbnRseSBzZWxlY3Rl
ZCBuZXR3b3JrICovCiAgbjMucHJvdG90eXBlLnVwZGF0ZVNlbGVjdGVkTmV0d29y
ayA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG4zID0gdGhpczsKICAgIHZhciBub2Rl
ID0gbjMuc2VsZWN0ZWROZXR3b3JrOwogICAgJC5lYWNoKFsnbm9kZV9ncm91cCcs
ICdlZGdlJywgJ2xhYmVsJ10sIGZ1bmN0aW9uKGksIGNsYXNzbmFtZSkgewogICAg
ICB2YXIgc2VsZWN0aW9uID0gbjMuY29udGFpbmVyLnNlbGVjdEFsbCgnLicrY2xh
c3NuYW1lKQogICAgICB2YXIgdHlwZSA9IGNsYXNzbmFtZSA9PSAnbm9kZV9ncm91
cCcgPyAnbm9kZScgOiBjbGFzc25hbWU7CiAgICAgIHZhciB1bnNlbGVjdGVkVGFy
Z2V0Q2xhc3MgPSAnLicrdHlwZSsncyc7CiAgICAgIHZhciBzZWxlY3RlZFRhcmdl
dENsYXNzID0gJy4nK3R5cGUrJ3Nfc2VsZWN0ZWQnOwogICAgICB2YXIgdW5zZWxl
Y3RlZFRhcmdldCA9IG4zLmNvbnRhaW5lci5zZWxlY3QodW5zZWxlY3RlZFRhcmdl
dENsYXNzKS5ub2RlKCk7CiAgICAgIHZhciBzZWxlY3RlZFRhcmdldCA9IG4zLmNv
bnRhaW5lci5zZWxlY3Qoc2VsZWN0ZWRUYXJnZXRDbGFzcykubm9kZSgpOwoKICAg
ICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24oZCl7CiAgICAgICAgdmFyIHRhcmdl
dCA9IHVuc2VsZWN0ZWRUYXJnZXQ7CiAgICAgICAgdmFyIHRhcmdldENsYXNzID0g
dW5zZWxlY3RlZFRhcmdldENsYXNzOwogICAgICAgIGlmICh0eXBlID09ICdlZGdl
JykgewogICAgICAgICAgaWYgKG5vZGUgJiYgKGQuaW5sLmlkID09IG5vZGUuaWQg
fHwgZC5vdXRsLmlkID09IG5vZGUuaWQpKSB7CiAgICAgICAgICAgIHRhcmdldCA9
IHNlbGVjdGVkVGFyZ2V0OwogICAgICAgICAgICB0YXJnZXRDbGFzcyA9IHNlbGVj
dGVkVGFyZ2V0Q2xhc3M7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAg
ICAgICAgIGlmIChub2RlICYmIChub2RlLmxpbmtzW2QuaWRdICE9PSB1bmRlZmlu
ZWQgfHwgZC5pZCA9PSBub2RlLmlkKSkgewogICAgICAgICAgICB0YXJnZXQgPSBz
ZWxlY3RlZFRhcmdldDsKICAgICAgICAgICAgdGFyZ2V0Q2xhc3MgPSBzZWxlY3Rl
ZFRhcmdldENsYXNzOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBj
b25zb2xlLmxvZyh0YXJnZXRDbGFzcyk7CiAgICAgICAgaWYgKCEgJCh0aGlzKS5w
YXJlbnQodGFyZ2V0Q2xhc3MpLmxlbmd0aCkgewogICAgICAgICAgLy8gY29uc29s
ZS5sb2cobjMuY3VyclRpbWUpCiAgICAgICAgICAkKHRhcmdldCkuYXBwZW5kKHRo
aXMpOwogICAgICAgIH0KICAgICAgfSkgICAgCiAgICB9KSAgICAKICB9CgogIC8q
KiB1bmhpZ2hsaWdodHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBuZXR3b3JrICov
CiAgbjMucHJvdG90eXBlLnVuU2VsZWN0TmV0d29yayA9IGZ1bmN0aW9uKCkgewog
ICAgdmFyIG4zID0gdGhpczsKICAgIG4zLnNlbGVjdGVkTmV0d29yayA9IG51bGw7
CiAgICBuMy5jb250YWluZXIuc2VsZWN0KCcuc2NyZWVuJykuY2xhc3NlZCh7J25l
dHdvcmstc2VsZWN0ZWQnOiBmYWxzZX0pOwogICAgbjMudXBkYXRlU2VsZWN0ZWRO
ZXR3b3JrKCk7CiAgfQoKICAvKiogcmVuZGVyIHRoZSBncmFwaCB0byByZWZsZWN0
IHRoZSBzdGF0ZSBhdCBjdXJyVGltZSwgdHJhbnNpdGlvbmluZyBlbGVtZW50cyBv
dmVyIGEgZ2l2ZW4gZHVyYXRpb24KICAqIEBwYXJhbSB7bWlsbGlzZWNvbmRzfSAt
IHRoZSBhbW91bnQgb2YgdGltZSB0aGUgdHJhbnNpdGlvbiBhbmltYXRpb24gc2hv
dWxkIHRha2UKICAqLwogIG4zLnByb3RvdHlwZS51cGRhdGVHcmFwaCA9IGZ1bmN0
aW9uKGR1cmF0aW9uKSB7CiAgICB2YXIgbjMgPSB0aGlzOwogICAgLy8gY29uc29s
ZS5wcm9maWxlKCd1cGRhdGUgJytuMy5jdXJyVGltZSk7CgogICAgdmFyIHJlbmRl
ckRhdGEgPSBuMy51cGRhdGVTbGljZVJlbmRlckRhdGEobjMuY3VyclRpbWUpOwog
ICAgbjMuZnJhbWVJbmZvRGl2Lmh0bWwobjMuY3VyclRpbWUrJzogJytuMy50aW1l
SW5kZXhbbjMuY3VyclRpbWVdLnN0YXJ0ICsgJy0nK24zLnRpbWVJbmRleFtuMy5j
dXJyVGltZV0uZW5kKQoKICAgIHZhciBlbnRlckV4aXREdXJhdGlvbiA9IGR1cmF0
aW9uICogbjMub3B0aW9ucy5lbnRlckV4aXRBbmltYXRpb25GYWN0b3I7CiAgICB2
YXIgdXBkYXRlRHVyYXRpb24gPSBkdXJhdGlvbiAqICgxLW4zLm9wdGlvbnMuZW50
ZXJFeGl0QW5pbWF0aW9uRmFjdG9yKTsKCiAgICAkLmVhY2goWydtYWluJywgJ3hs
YWInXSwgZnVuY3Rpb24oaSwgdHlwZSl7CiAgICAgIHZhciB0ZXh0ID0gcmVuZGVy
RGF0YS5ncmFwaFt0eXBlXTsKICAgICAgdmFyIHRhcmdldCA9IG4zLmRvbVRhcmdl
dC5zZWxlY3QoJy4nK3R5cGUrJyB0ZXh0Jyk7CiAgICAgIHRhcmdldC5zZWxlY3RB
bGwoJyonKS5yZW1vdmUoKTsKCiAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgJC5l
YWNoKHRleHQsIGZ1bmN0aW9uKGksIHQpewogICAgICAgICAgdGFyZ2V0LmFwcGVu
ZCgndHNwYW4nKS5hdHRyKHsKICAgICAgICAgICAgJ2R5JzogKGkgPyAnMS4yZW0n
IDogMCksCiAgICAgICAgICAgICd4JzogMCwKICAgICAgICAgIH0pLnRleHQodCk7
CiAgICAgICAgfSkKICAgICAgfQogICAgfSk7CgogICAgbjMuZG9tVGFyZ2V0LnNl
bGVjdEFsbCgnLmJhY2tncm91bmQsIC5zY3JlZW4nKS50cmFuc2l0aW9uKCkKICAg
ICAgLnN0eWxlKHtmaWxsOiByZW5kZXJEYXRhLmdyYXBoWydiZyddLCAnZmlsbC1v
cGFjaXR5JzogcmVuZGVyRGF0YS5ncmFwaFsnYmcuZmlsbC1vcGFjaXR5J119KTsK
CiAgICB2YXIgc2hvd0luZm8gPSBmdW5jdGlvbihkKSB7CiAgICAgIGlmKCEgbjMu
c2VsZWN0ZWQgfHwgbjMuc2VsZWN0ZWQuaWQgIT09IGQuaWQpIHsKICAgICAgICBu
My5zZWxlY3RlZCA9IGQ7CiAgICAgICAgbjMubW92ZVRvb2x0aXAoKTsKICAgICAg
fSBlbHNlIHsKICAgICAgICBuMy5oaWRlVG9vbHRpcCgpOwogICAgICB9CiAgICB9
CgogICAgLy91cGRhdGUgc2VsZWN0ZWQgaXRlbQogICAgaWYgKG4zLnNlbGVjdGVk
KSB7CiAgICAgIG4zLnNlbGVjdGVkID0gbjMuc2VsZWN0ZWQuaW5sID8gcmVuZGVy
RGF0YS5lZGdlW24zLnNlbGVjdGVkLmlkXSA6IHJlbmRlckRhdGEubm9kZVtuMy5z
ZWxlY3RlZC5pZF07CiAgICAgIGlmICghIG4zLnNlbGVjdGVkKSB7CiAgICAgICAg
bjMuaGlkZVRvb2x0aXAoKTsKICAgICAgfSAKICAgIH0KICAgIGlmIChuMy5zZWxl
Y3RlZE5ldHdvcmspIHsKICAgICAgbjMuc2VsZWN0ZWROZXR3b3JrID0gcmVuZGVy
RGF0YS5ub2RlW24zLnNlbGVjdGVkTmV0d29yay5pZF07CiAgICB9CgogICAgLyoq
IGFwcGx5IHN0eWxlcyBhbmQgYXRycmlidXRlcyB0byBub2RlcwogICAgKiBAcHJp
dmF0ZQogICAgKi8KICAgIHZhciBzdHlsZU5vZGVzID0gZnVuY3Rpb24oc2VsZWN0
aW9uKSB7CiAgICAgIHNlbGVjdGlvbi5zdHlsZSh7CiAgICAgICAgLy8gJ2ZpbGwn
OiBmdW5jdGlvbihkLCBpKSB7cmV0dXJuIGRbJ3ZlcnRleC5jb2wnXTsgfSwKICAg
ICAgICBmaWxsOiBmdW5jdGlvbihkKSB7CiAgICAgICAgICBpZiAoZC5pbWFnZSkg
eyAKICAgICAgICAgICAgcmV0dXJuICd1cmwoI2ltYWdlXycrcGFyc2VJbnQoZC5p
ZCkrJyknOyAKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBk
Wyd2ZXJ0ZXguY29sJ107CiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAg
J2ZpbGwtb3BhY2l0eSc6IGZ1bmN0aW9uKGQsIGkpIHtyZXR1cm4gZFsndmVydGV4
LmNvbC5maWxsLW9wYWNpdHknXTsgfSwKICAgICAgICAnc3Ryb2tlLXdpZHRoJzog
ZnVuY3Rpb24oZCkge3JldHVybiBkWyd2ZXJ0ZXgubHdkJ107IH0sCiAgICAgICAg
J3N0cm9rZSc6IGZ1bmN0aW9uKGQpIHtyZXR1cm4gZFsndmVydGV4LmJvcmRlcidd
OyB9LAogICAgICAgICdzdHJva2Utb3BhY2l0eSc6IGZ1bmN0aW9uKGQpIHtyZXR1
cm4gZFsndmVydGV4LmJvcmRlci5zdHJva2Utb3BhY2l0eSddOyB9LAogICAgICB9
KQogICAgICBzZWxlY3Rpb24uZmlsdGVyKCdjaXJjbGUnKS5jYWxsKG4zLmRyYXdD
aXJjbGVOb2RlLCBuMykKICAgICAgc2VsZWN0aW9uLmZpbHRlcigncG9seWdvbicp
LmNhbGwobjMuZHJhd1BvbHlnb25Ob2RlLCBuMykKICAgIH0KCiAgICAvKiogc2V0
IGF0dHJpYnV0ZXMgJiB0cmFuc2l0aW9ucyB0byBiZSBhcHBsaWVkIHRvIG5ldyBu
b2RlcwogICAgKiBAcHJpdmF0ZQogICAgKi8KICAgIHZhciBjcmVhdGVOb2RlcyA9
IGZ1bmN0aW9uKHNlbGVjdGlvbikgewogICAgICBzZWxlY3Rpb24KICAgICAgICAu
YXR0cih7CiAgICAgICAgICBjbGFzczogZnVuY3Rpb24oZCkgeyByZXR1cm4gJ25v
ZGUgbm9kZV8nK2QuaWQrJyAnKyhkWyd2ZXJ0ZXguY3NzLmNsYXNzJ10gfHwgJycp
OyB9LAogICAgICAgICAgb3BhY2l0eTogMCwKICAgICAgICAgIC8vIGZpbGw6IGZ1
bmN0aW9uKGQpIHsgcmV0dXJuICd1cmwoI2ltYWdlXycrZC5pZCsnKSc7IH0KICAg
ICAgICB9KQogICAgICAgIC5jYWxsKHN0eWxlTm9kZXMpCiAgICAgICAgLm9uKCdj
bGljaycsIHNob3dJbmZvKQogICAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlv
bihkKSB7CiAgICAgICAgICBpZiAoISBuMy5zZWxlY3RlZE5ldHdvcmsgfHwgZC5p
ZCAhPSBuMy5zZWxlY3RlZE5ldHdvcmsuaWQpIHsKICAgICAgICAgICAgbjMuc2Vs
ZWN0ZWROZXR3b3JrID0gZDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg
IG4zLnNlbGVjdGVkTmV0d29yayA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAg
ICBuMy51cGRhdGVTZWxlY3RlZE5ldHdvcmsoKQogICAgICAgICAgbjMuY29udGFp
bmVyLnNlbGVjdCgnLnNjcmVlbicpLmNsYXNzZWQoeyduZXR3b3JrLXNlbGVjdGVk
JzogbjMuc2VsZWN0ZWROZXR3b3JrfSkKICAgICAgICAgIG4zLnNlbGVjdGVkID0g
bjMuc2VsZWN0ZWROZXR3b3JrOwogICAgICAgICAgbjMubW92ZVRvb2x0aXAoKTsK
ICAgICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIH0p
CiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihkKSB7CiAgICAgICAg
ICBkMy5zZWxlY3QodGhpcykKICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAg
ICAgICAgICAuZHVyYXRpb24oMjAwKQogICAgICAgICAgICAuc3R5bGUoJ3N0cm9r
ZS13aWR0aCcsIHBhcnNlRmxvYXQoZFsndmVydGV4Lmx3ZCddKSs1KTsKICAgICAg
ICB9KQogICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihkKSB7CiAgICAg
ICAgICBkMy5zZWxlY3QodGhpcykKICAgICAgICAgICAgLnRyYW5zaXRpb24oKQog
ICAgICAgICAgICAuZHVyYXRpb24oMjAwKQogICAgICAgICAgICAuc3R5bGUoJ3N0
cm9rZS13aWR0aCcsIGRbJ3ZlcnRleC5sd2QnXSk7CiAgICAgICAgfSkKICAgICAg
ICAudHJhbnNpdGlvbigpCiAgICAgICAgLmR1cmF0aW9uKGVudGVyRXhpdER1cmF0
aW9uKQogICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMSkKCiAgICB9CgogICAgdmFy
IGltYWdlcyA9IG4zLmRvbVRhcmdldC5zZWxlY3QoJ2RlZnMnKS5zZWxlY3RBbGwo
Jy5ub2RlLWltYWdlJykuZGF0YShkMy52YWx1ZXMocmVuZGVyRGF0YS5ub2RlKS5m
aWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pbWFnZTsgfSksIGZ1bmN0aW9u
KG4pIHsgcmV0dXJuIG4uaWQ7IH0pCiAgICAgIGltYWdlcy5lbnRlcigpCiAgICAg
ICAgLmFwcGVuZCgncGF0dGVybicpLmF0dHIoewogICAgICAgIGlkOiBmdW5jdGlv
bihkKSB7IHJldHVybiAnaW1hZ2VfJytkLmlkOyB9LAogICAgICAgIGNsYXNzOiAn
bm9kZS1pbWFnZScsCiAgICAgICAgdmlld0JveDoiMCAwIDEwMCAxMDAiLAogICAg
ICAgIC8vIHByZXNlcnZlQXNwZWN0UmF0aW86Im5vbmUiLCAKICAgICAgICAvLyAn
cGF0dGVyblVuaXRzJzogJ3VzZXJTcGFjZU9uVXNlJywKICAgICAgICB3aWR0aDog
MTAsCiAgICAgICAgaGVpZ2h0OjEwCiAgICAgIH0pLmFwcGVuZCgnaW1hZ2UnKS5h
dHRyKHsKICAgICAgICAneGxpbms6aHJlZic6IGZ1bmN0aW9uKGQpIHsgcmV0dXJu
IGQuaW1hZ2U7IH0sCiAgICAgICAgd2lkdGg6IDEwLAogICAgICAgIGhlaWdodDox
MCAgICAgICAgCiAgICAgIH0pCgogICAgICBpbWFnZXMuc2VsZWN0KCdpbWFnZScp
LnRyYW5zaXRpb24oKQogICAgICAgIC5kZWxheShlbnRlckV4aXREdXJhdGlvbikK
ICAgICAgICAuZHVyYXRpb24odXBkYXRlRHVyYXRpb24pCiAgICAgICAgLmF0dHIo
ewogICAgICAgICAgJ3hsaW5rOmhyZWYnOiBmdW5jdGlvbihkKSB7IHJldHVybiBk
LmltYWdlOyB9CiAgICAgICAgfSk7CgogICAgICBpbWFnZXMuZXhpdCgpCiAgICAg
ICAgLnRyYW5zaXRpb24oKQogICAgICAgIC5kdXJhdGlvbihlbnRlckV4aXREdXJh
dGlvbikKICAgICAgICAucmVtb3ZlKCk7IAoKICAgIHZhciBub2RlcyA9IG4zLmNv
bnRhaW5lci5zZWxlY3RBbGwoJy5ub2RlJykuZGF0YShkMy52YWx1ZXMocmVuZGVy
RGF0YS5ub2RlKSwgZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5pZDsgfSkKCiAgICAg
IHZhciBub2RlX2dyb3VwcyA9IG5vZGVzLmVudGVyKCkuYXBwZW5kKCdnJykuY2xh
c3NlZCh7J25vZGVfZ3JvdXAnIDogdHJ1ZX0pOwogICAgICBub2RlX2dyb3Vwcy5m
aWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZFsndmVydGV4LnNpZGVzJ10gIT0g
NTA7IH0pLmFwcGVuZCgncG9seWdvbicpLmNhbGwoY3JlYXRlTm9kZXMpOwogICAg
ICBub2RlX2dyb3Vwcy5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZFsndmVy
dGV4LnNpZGVzJ10gPT0gNTA7IH0pLmFwcGVuZCgnY2lyY2xlJykuY2FsbChjcmVh
dGVOb2Rlcyk7CgogICAgICBpZiAoIWVudGVyRXhpdER1cmF0aW9uKSB7bm9kZXMu
YXR0cih7b3BhY2l0eTogMX0pOyB9CgogICAgICBub2Rlcy5maWx0ZXIoJy5ub2Rl
JykudHJhbnNpdGlvbigpCiAgICAgICAgLmRlbGF5KGVudGVyRXhpdER1cmF0aW9u
KQogICAgICAgIC5kdXJhdGlvbih1cGRhdGVEdXJhdGlvbikKICAgICAgICAuYXR0
cignb3BhY2l0eScsIDEpCiAgICAgICAgLmNhbGwoc3R5bGVOb2RlcykKCiAgICAg
IG5vZGVzLmV4aXQoKQogICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAuZHVy
YXRpb24oZW50ZXJFeGl0RHVyYXRpb24pCiAgICAgICAgLmF0dHIoJ29wYWNpdHkn
LCAwKQogICAgICAgIC5yZW1vdmUoKTsgCgogICAgaWYgKHJlbmRlckRhdGEuZ3Jh
cGgudXNlYXJyb3dzKSB7CiAgICAgIHZhciBtYXJrZXJzID0gbjMuZG9tVGFyZ2V0
LnNlbGVjdCgnZGVmcycpLnNlbGVjdEFsbCgnLmFycm93aGVhZCcpLmRhdGEoZDMu
dmFsdWVzKHJlbmRlckRhdGEuZWRnZSksIGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGUu
aWR9KQogICAgICAgIG1hcmtlcnMuZW50ZXIoKS5hcHBlbmQoJ21hcmtlcicpLmF0
dHIoewogICAgICAgICAgaWQ6IGZ1bmN0aW9uKGQpIHsgcmV0dXJuICdhcnJvd2hl
YWRfJytkLmlkOyB9LAogICAgICAgICAgY2xhc3M6ICdhcnJvd2hlYWQnLAogICAg
ICAgICAgdmlld0JveDogIjAgLTEgMiAyIiwKICAgICAgICAgIG1hcmtlcldpZHRo
OiBzY2FsZUFycm93aGVhZHMsCiAgICAgICAgICBtYXJrZXJIZWlnaHQ6IHNjYWxl
QXJyb3doZWFkcywKICAgICAgICAgIG9yaWVudDogImF1dG8iLAogICAgICAgIH0p
LmFwcGVuZCgic3ZnOnBhdGgiKQogICAgICAgICAgLmF0dHIoewogICAgICAgICAg
ICBkOiAiTTAsLTFMMiwwTDAsMSIsCiAgICAgICAgICAgIGZpbGw6ICdncmVlbicK
ICAgICAgICAgIH0pOwoKICAgICAgICBtYXJrZXJzLnNlbGVjdCgncGF0aCcpLnRy
YW5zaXRpb24oKQogICAgICAgICAgLmRlbGF5KGVudGVyRXhpdER1cmF0aW9uKQog
ICAgICAgICAgLmR1cmF0aW9uKHVwZGF0ZUR1cmF0aW9uKQogICAgICAgICAgLmF0
dHIoewogICAgICAgICAgICBmaWxsOiBmdW5jdGlvbihkKSB7IHJldHVybiBkWydl
ZGdlLmNvbCddOyB9LAogICAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZnVuY3Rp
b24oZCkgeyByZXR1cm4gZFsnZWRnZS5jb2wuc3Ryb2tlLW9wYWNpdHknXTsgfQog
ICAgICAgICAgfSkKCiAgICAgICAgbWFya2Vycy5leGl0KCkuc2VsZWN0QWxsKCdw
YXRoJykKICAgICAgICAgIC5hdHRyKHsKICAgICAgICAgICAgZmlsbDogJ3JlZCcK
ICAgICAgICAgIH0pCiAgICAgICAgCiAgICAgICAgbWFya2Vycy5leGl0KCkudHJh
bnNpdGlvbigpCiAgICAgICAgICAuZGVsYXkoZHVyYXRpb24pCiAgICAgICAgICAu
ZHVyYXRpb24oMCkKICAgICAgICAgIC5yZW1vdmUoKQogICAgfQoKICAgIHZhciBs
aW5lcyA9IG4zLmNvbnRhaW5lci5zZWxlY3RBbGwoJy5lZGdlJykuZGF0YShkMy52
YWx1ZXMocmVuZGVyRGF0YS5lZGdlKSwgZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5p
ZH0pCiAgICAgIGxpbmVzLmVudGVyKCkuYXBwZW5kKCdwYXRoJykKICAgICAgICAu
YXR0cih7CiAgICAgICAgICBjbGFzczogZnVuY3Rpb24oZCkgeyByZXR1cm4gJ2Vk
Z2UgZWRnZV8nK2QuaWQrJyAnKyhkWydlZGdlLmNzcy5jbGFzcyddIHx8ICcnKTsg
fSwgICAgIAogICAgICAgICAgb3BhY2l0eTogMCwKICAgICAgICAgICJtYXJrZXIt
ZW5kIjogZnVuY3Rpb24oZCkgeyBpZihyZW5kZXJEYXRhLmdyYXBoLnVzZWFycm93
cykgeyByZXR1cm4gInVybCgjYXJyb3doZWFkXyIrZC5pZCsiKSI7IH19CiAgICAg
ICAgfSkKICAgICAgICAuc3R5bGUoewogICAgICAgICAgJ3N0cm9rZSc6ICdncmVl
bicsCiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogZnVuY3Rpb24oZCkgeyByZXR1
cm4gZFsnZWRnZS5sd2QnXTsgfQogICAgICAgIH0pCiAgICAgICAgLmNhbGwobjMu
ZHJhd0VkZ2UsIG4zLCByZW5kZXJEYXRhLmdyYXBoLnVzZWFycm93cywgMSkKICAg
ICAgICAub24oJ2NsaWNrJywgc2hvd0luZm8pCiAgICAgICAgLm9uKCdtb3VzZW92
ZXInLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICB2YXIgZWRnZSA9IGQzLnNlbGVj
dCh0aGlzKTsKICAgICAgICAgIHZhciBsaW5lID0gJ00gJytkLmN1cnJlbnRDb29y
ZHNbMF1bMF0udG9GaXhlZCgxKSsnICcrZC5jdXJyZW50Q29vcmRzWzBdWzFdLnRv
Rml4ZWQoMSkrJyBMICcrZC5jdXJyZW50Q29vcmRzWzFdWzBdLnRvRml4ZWQoMSkr
JyAnK2QuY3VycmVudENvb3Jkc1sxXVsxXS50b0ZpeGVkKDEpOwogICAgICAgICAg
aWYgKHJlbmRlckRhdGEuZ3JhcGgudXNlYXJyb3dzKSB7CiAgICAgICAgICAgIHZh
ciBvZmZzZXRQb2ludHMgPSBvZmZzZXRMaW5lKFtkLmN1cnJlbnRDb29yZHNbMF1b
MF0sIGQuY3VycmVudENvb3Jkc1swXVsxXV0sIFtkLmN1cnJlbnRDb29yZHNbMV1b
MF0sIGQuY3VycmVudENvb3Jkc1sxXVsxXV0sIChzY2FsZUFycm93aGVhZHMoZCkq
NSkpOwogICAgICAgICAgICBsaW5lID0gJ00gJytkLmN1cnJlbnRDb29yZHNbMF1b
MF0udG9GaXhlZCgxKSsnICcrZC5jdXJyZW50Q29vcmRzWzBdWzFdLnRvRml4ZWQo
MSkrJyBMICcrb2Zmc2V0UG9pbnRzWzBdLnRvRml4ZWQoMSkrJyAnK29mZnNldFBv
aW50c1sxXS50b0ZpeGVkKDEpOyAgICAgCiAgICAgICAgICB9CiAgICAgICAgICBl
ZGdlLnRyYW5zaXRpb24oKQogICAgICAgICAgICAuZHVyYXRpb24oMjAwKQogICAg
ICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIHBhcnNlRmxvYXQoZFsnZWRn
ZS5sd2QnXSkrNSkKICAgICAgICAgICAgLmF0dHIoJ2QnLCBsaW5lKTsKICAgICAg
ICB9KQogICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihkKSB7CiAgICAg
ICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpCiAgICAgICAgICAgIC5k
dXJhdGlvbigyMDApCiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywg
ZFsnZWRnZS5sd2QnXSkKICAgICAgICAgICAgLmNhbGwobjMuZHJhd0VkZ2UsIG4z
LCByZW5kZXJEYXRhLmdyYXBoLnVzZWFycm93cywgZmFsc2UpCiAgICAgICAgfSkK
ICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgLmR1cmF0aW9uKGVudGVyRXhp
dER1cmF0aW9uKQogICAgICAgIC5hdHRyKHtvcGFjaXR5OiAxfSkKCiAgICAgIGlm
ICghZW50ZXJFeGl0RHVyYXRpb24pIHtsaW5lcy5hdHRyKHtvcGFjaXR5OiAxfSk7
IH0KICAgICAgCiAgICAgIGxpbmVzLnRyYW5zaXRpb24oKQogICAgICAgIC5kZWxh
eShlbnRlckV4aXREdXJhdGlvbikKICAgICAgICAuZHVyYXRpb24odXBkYXRlRHVy
YXRpb24pCiAgICAgICAgLnN0eWxlKHsKICAgICAgICAgICdzdHJva2UnOiBmdW5j
dGlvbihkKSB7IHJldHVybiBkWydlZGdlLmNvbCddfSwKICAgICAgICAgICdzdHJv
a2Utb3BhY2l0eSc6IGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGRbJ2VkZ2UuY29sLnN0
cm9rZS1vcGFjaXR5J107IH0sCiAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogZnVu
Y3Rpb24oZCkgeyByZXR1cm4gZFsnZWRnZS5sd2QnXTsgfSwKICAgICAgICB9KQog
ICAgICAgIC5jYWxsKG4zLmRyYXdFZGdlLCBuMywgcmVuZGVyRGF0YS5ncmFwaC51
c2VhcnJvd3MpCiAgICAgICAgLmF0dHIoe29wYWNpdHk6IDF9KQoKICAgICAgbGlu
ZXMuZXhpdCgpCiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAncmVkJykKICAgICAg
ICAudHJhbnNpdGlvbigpCiAgICAgICAgLmR1cmF0aW9uKGVudGVyRXhpdER1cmF0
aW9uKQogICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMCkgICAgICAgICAgCiAgICAg
ICAgLnJlbW92ZSgpOwoKICAgIHZhciBsYWJlbHMgPSBuMy5jb250YWluZXIuc2Vs
ZWN0KCcubGFiZWxzJykuc2VsZWN0QWxsKCd0ZXh0JykuZGF0YShkMy52YWx1ZXMo
cmVuZGVyRGF0YS5ub2RlKSwgZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5pZH0pOwog
ICAgICBsYWJlbHMuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKS5maWx0ZXIoZnVuY3Rp
b24oZCkgeyByZXR1cm4gcmVuZGVyRGF0YS5ncmFwaC5kaXNwbGF5bGFiZWxzOyB9
KQogICAgICAgIC5hdHRyKHsKICAgICAgICAgIGNsYXNzOiBmdW5jdGlvbihkKSB7
IHJldHVybiAnbGFiZWwgbGFiZWxfJytkLmlkKyAnICcrIChkWyd2ZXJ0ZXgubGFi
ZWwuY3NzLmNsYXNzJ10gfHwgJycpOyB9LAogICAgICAgICAgb3BhY2l0eTogMAog
ICAgICAgIH0pCiAgICAgICAgLmNhbGwobjMuZHJhd05vZGVMYWJlbCwgbjMpCiAg
ICAgICAgLnRleHQoZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gZC5sYWJlbDsgfSkK
ICAgICAgICAuc3R5bGUoewogICAgICAgICAgJ2ZpbGwnOiBmdW5jdGlvbihkKSB7
cmV0dXJuIGRbJ2xhYmVsLmNvbCddOyB9LAogICAgICAgICAgJ2ZpbGwtb3BhY2l0
eSc6IGZ1bmN0aW9uKGQpIHtyZXR1cm4gZFsnbGFiZWwuY29sLmZpbGwtb3BhY2l0
eSddOyB9LAogICAgICAgICAgJ2ZvbnQtc2l6ZSc6IGZ1bmN0aW9uKGQpIHsgcmV0
dXJuIG4zLm9wdGlvbnMuYmFzZUZvbnRTaXplICogZFsnbGFiZWwuY2V4J10rJ3B4
Jzt9CiAgICAgICAgfSkKICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgLmRl
bGF5KDApCiAgICAgICAgLmR1cmF0aW9uKGVudGVyRXhpdER1cmF0aW9uKQogICAg
ICAgIC5hdHRyKHtvcGFjaXR5OiAxfSkKCiAgICAgIGlmICghZW50ZXJFeGl0RHVy
YXRpb24pIHtsYWJlbHMuYXR0cih7b3BhY2l0eTogMX0pOyB9CgogICAgICBsYWJl
bHMudHJhbnNpdGlvbigpLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiByZW5k
ZXJEYXRhLmdyYXBoLmRpc3BsYXlsYWJlbHM7IH0pCiAgICAgICAgLmRlbGF5KGVu
dGVyRXhpdER1cmF0aW9uKQogICAgICAgIC5kdXJhdGlvbih1cGRhdGVEdXJhdGlv
bikKICAgICAgICAuY2FsbChuMy5kcmF3Tm9kZUxhYmVsLCBuMykKICAgICAgICAv
Ly5hdHRyKHtvcGFjaXR5OiAxfSkKICAgICAgICAudGV4dChmdW5jdGlvbihkLCBp
KSB7IHJldHVybiBkLmxhYmVsOyB9KQogICAgICAgIC5zdHlsZSh7CiAgICAgICAg
ICAnZmlsbCc6IGZ1bmN0aW9uKGQpIHtyZXR1cm4gZFsnbGFiZWwuY29sJ107IH0s
CiAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZnVuY3Rpb24oZCkge3JldHVybiBk
WydsYWJlbC5jb2wuZmlsbC1vcGFjaXR5J107IH0sCiAgICAgICAgfSkKCiAgICAg
IGxhYmVscy5leGl0KCkKICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgLmR1
cmF0aW9uKGVudGVyRXhpdER1cmF0aW9uKQogICAgICAgIC5hdHRyKCdvcGFjaXR5
JywgMCkKICAgICAgICAucmVtb3ZlKCk7CgogICAgICBuMy51cGRhdGVTZWxlY3Rl
ZE5ldHdvcmsoKTsKICAKICAgICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTsKICAg
ICAgZDMudGltZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKG4zLnNlbGVjdGVk
ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG4zLm1vdmVUb29sdGlwKCk7CiAg
ICAgICAgfQogICAgICAgIHJldHVybiBEYXRlLm5vdygpID49IHN0YXJ0ICtkdXJh
dGlvbjsgCiAgICAgIH0pCiAgICAgIC8vIGNvbnNvbGUucHJvZmlsZUVuZCgndXBk
YXRlICcrbjMuY3VyclRpbWUpOwogIH0KCiAgLyoqIHJlc2l6ZXMgZ3JhcGggYW5k
IG90aGVyIGRpc3BsYXkgZWxlbWVudHMgdG8gZmlsbCB0aGUgdGFyZ2V0IHZpZXdw
b3J0ICovCiAgbjMucHJvdG90eXBlLnJlc2l6ZUdyYXBoID0gZnVuY3Rpb24oKSB7
CiAgICB2YXIgbjMgPSB0aGlzOwogICAgbjMudXBkYXRlRGltZW5zaW9ucygpOwoK
CiAgICBuMy5jb250YWluZXIuc2VsZWN0QWxsKCdjaXJjbGUubm9kZScpLmNhbGwo
bjMuZHJhd0NpcmNsZU5vZGUsIG4zKQogICAgbjMuY29udGFpbmVyLnNlbGVjdEFs
bCgncG9seWdvbi5ub2RlJykuY2FsbChuMy5kcmF3UG9seWdvbk5vZGUsIG4zKQoK
ICAgIG4zLmNvbnRhaW5lci5zZWxlY3RBbGwoJy5lZGdlJykuY2FsbChuMy5kcmF3
RWRnZSwgbjMsIG4zLnRpbWVJbmRleFtuMy5jdXJyVGltZV0ucmVuZGVyRGF0YS5n
cmFwaC51c2VhcnJvd3MpCgogICAgbjMuY29udGFpbmVyLnNlbGVjdCgnLmxhYmVs
cycpLnNlbGVjdEFsbCgndGV4dCcpLmNhbGwobjMuZHJhd05vZGVMYWJlbCwgbjMp
CgogICAgbjMubW92ZVRvb2x0aXAoKTsKICAgIC8vcmVkcmF3IHRoZSBzbGlkZXIg
Y29udHJvbCAKICAgIGlmIChuMy5vcHRpb25zLnNsaWRlcikgewogICAgICB2YXIg
c2xpZGVyRGl2ID0gbjMuZG9tVGFyZ2V0LnNlbGVjdCgnLnNsaWRlcicpOwogICAg
ICBzbGlkZXJEaXYuaHRtbCgnJyk7CiAgICAgIHNsaWRlckRpdi5jYWxsKG4zLnNs
aWRlcik7CiAgICB9IAogIH0KICAKICAvKiogZ3JhcGggYW5pbWF0aW9uIGNvbnRy
b2xsZXIKICAqIEBwYXJhbSB7aW50ZWdlcn0gLSByZW5kZXIgdGhlIGdyYXBoIHRv
IHRoZSBzdGF0ZSBhdCB0aGlzIHRpbWVzbGljZSBpbmRleAogICogQHBhcmFtIHtp
bnRlZ2VyfSAtIGZ1bmN0aW9uIHdpbGwgcmVjdXJzaXZlbHkgY2FsbCBpdHNlbGYg
dW50aWwgdGltZSBlcXVhbHMgdGhpcyB2YWx1ZQogICogQHBhcmFtIHtib29sZWFu
fSAtIHNob3VsZCB0aGUgZ3JhcGggdXBkYXRlIGltbWVkaWF0ZWx5LCBvciBhbmlt
YXRlPwogICovCiAgbjMucHJvdG90eXBlLmFuaW1hdGVHcmFwaCA9IGZ1bmN0aW9u
KHRpbWUsIGVuZFRpbWUsIGltbWVkaWF0ZSkgewogICAgdmFyIG4zID0gdGhpczsK
ICAgIGlmICh0aW1lID4gbjMudGltZUluZGV4Lmxlbmd0aCAtMSB8fCB0aW1lIDwg
MCkgeyByZXR1cm47IH0KCiAgICB2YXIgZHVyYXRpb24gPSBpbW1lZGlhdGUgPyAw
IDogbjMub3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbjsKICAgIGVuZFRpbWUgPSBl
bmRUaW1lID09PSB1bmRlZmluZWQgPyBuMy50aW1lSW5kZXgubGVuZ3RoIC0xIDog
ZW5kVGltZTsKICAgIHZhciBuZXh0VGltZTsKICAgIGlmICh0aW1lID09IGVuZFRp
bWUpIHsKICAgICAgbmV4dFRpbWUgPSB0aW1lOwogICAgfSBlbHNlIGlmIChlbmRU
aW1lID4gdGltZSkgewogICAgICBuZXh0VGltZSA9IHRpbWUgKzE7CiAgICB9IGVs
c2UgewogICAgICBuZXh0VGltZSA9IHRpbWUgLTE7CiAgICB9CgogICAgbjMuY3Vy
clRpbWUgPSB0aW1lID09IG4zLmN1cnJUaW1lID8gbmV4dFRpbWUgOiB0aW1lOwog
ICAgLy9jb25zb2xlLmxvZyhuMy5jdXJyVGltZSArICcgJyt0aW1lKycgJytlbmRU
aW1lKyAnICcrbmV4dFRpbWUrICcgJytuMy5wcmV2VGltZSkKICAgIGlmKCEgaW1t
ZWRpYXRlICYmIG4zLm9wdGlvbnMuc2xpZGVyKSB7CiAgICAgIG4zLnNsaWRlci52
YWx1ZShuMy50aW1lSW5kZXhbbjMuY3VyclRpbWVdLnN0YXJ0WzBdKTsKICAgIH0K
ICAgIG4zLnVwZGF0ZUdyYXBoKGR1cmF0aW9uKTsKICAgIGlmIChuMy5jdXJyVGlt
ZSAhPSBlbmRUaW1lKSB7CiAgICAgIG4zLmFuaW1hdGUgPSBzZXRUaW1lb3V0KGZ1
bmN0aW9uKCl7CiAgICAgICAgbjMuYW5pbWF0ZUdyYXBoKG5leHRUaW1lLCBlbmRU
aW1lLCBpbW1lZGlhdGUpOwogICAgICB9LCBkdXJhdGlvbikKICAgIH0KICB9Cgog
IC8qKiByZWRyYXcgdGhlIGluZm8gcG9wb3ZlciAvL0ZJWE1FIC0gbmVlZHMgcmVu
YW1lZCAqLwogIG4zLnByb3RvdHlwZS5tb3ZlVG9vbHRpcCA9IGZ1bmN0aW9uKCkg
ewogICAgLy8gY29uc29sZS5wcm9maWxlKCdtb3ZlVG9vbHRpcCcpOwogICAgdmFy
IG4zID0gdGhpczsKICAgIGlmIChuMy5zZWxlY3RlZCkgewogICAgICB2YXIgaXRl
bSA9IG4zLnNlbGVjdGVkOwogICAgICB2YXIgdHlwZSA9IGl0ZW0uaW5sID8gJ2Vk
Z2UnIDogJ25vZGUnOwogICAgICB2YXIgbm9kZURPTSA9IG4zLmNvbnRhaW5lci5z
ZWxlY3QoJy4nK3R5cGUrJ18nK2l0ZW0uaWQpLm5vZGUoKTsKICAgICAgaWYgKCFu
b2RlRE9NKSB7CiAgICAgICAgbjMuaGlkZVRvb2x0aXAoKTsKICAgICAgfSBlbHNl
IHsKICAgICAgICB2YXIgY29vcmRzID0gbjMuY29udmVydENvb3JkcyhpdGVtKTsK
ICAgICAgICB2YXIgcHJvcGVydHkgPSAndmVydGV4LnRvb2x0aXAnOwogICAgICAg
IGlmICh0eXBlID09ICdlZGdlJykgewogICAgICAgICAgcHJvcGVydHkgPSAnZWRn
ZS50b29sdGlwJzsKICAgICAgICB9CiAgICAgICAgdmFyIGh0bWwgPSBuMy5zZWxl
Y3RlZFtwcm9wZXJ0eV0gfHwgdHlwZSsiIGlkOiAiK24zLnNlbGVjdGVkLmlkOwog
ICAgICAgIG4zLnRvb2x0aXAuc3R5bGUoewogICAgICAgICAgZGlzcGxheTogJ2Js
b2NrJywKICAgICAgICAgIGJvdHRvbTogY29vcmRzWzFdKydweCcsCiAgICAgICAg
ICBsZWZ0OiBjb29yZHNbMF0rJ3B4JywKICAgICAgICB9KS5odG1sKGh0bWwpCiAg
ICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIG4zLmhpZGVUb29sdGlwKCk7CiAgICB9
CiAgICAvLyBjb25zb2xlLnByb2ZpbGVFbmQoJ21vdmVUb29sdGlwJyk7CiAgfQoK
ICAvKiogZ2V0IGNlbnRlciBwb2ludCBvZiBlZGdlIG9yIG5vZGUsIGluIERPTSBw
aXhlbHMgKi8KICBuMy5wcm90b3R5cGUuY29udmVydENvb3JkcyA9IGZ1bmN0aW9u
KGl0ZW0pIHsKICAgIHZhciBuMyA9IHRoaXM7CiAgICB2YXIgdHlwZSA9IGl0ZW0u
aW5sID8gJ2VkZ2UnIDogJ25vZGUnOwogICAgdmFyIG5vZGVET00gPSBuMy5jb250
YWluZXIuc2VsZWN0KCcuJyt0eXBlKydfJytpdGVtLmlkKS5ub2RlKCk7CiAgICB2
YXIgY3RtID0gbjMuY3RtOwogICAgdmFyIHgsIHk7CiAgICB2YXIgYmJveCA9IG5v
ZGVET00uZ2V0QkJveCgpOwogICAgdmFyIGNlbnRlciA9IHsKICAgICAgeDogYmJv
eC54ICsgYmJveC53aWR0aC8yLAogICAgICB5OiBiYm94LnkgKyBiYm94LmhlaWdo
dC8yCiAgICB9CiAgICBpZiAodHlwZSA9PSAnbm9kZScpIHsKICAgICAgaWYgKG5v
ZGVET00udGFnTmFtZSA9PSAncG9seWdvbicpIHsKICAgICAgICB2YXIgcG9pbnRz
ID0gJCgncG9seWdvbi5ub2RlXycraXRlbS5pZCkuYXR0cigncG9pbnRzJykuc3Bs
aXQoJyAnKS5tYXAoZnVuY3Rpb24ocCkgeyAKICAgICAgICAgIHJldHVybiBwLnNw
bGl0KCcsJykubWFwKHBhcnNlRmxvYXQpOwogICAgICAgIH0pCiAgICAgICAgdmFy
IHBvaW50ID0gZmluZFBvbHlnb25JbnRlcnNlY3Rpb24ocG9pbnRzLCBbYmJveC54
ICsgYmJveC53aWR0aCwgYmJveC55XSwgW2NlbnRlci54LCBjZW50ZXIueV0pCiAg
ICAgICAgeCA9IHBvaW50WzBdOwogICAgICAgIHkgPSBwb2ludFsxXTsKICAgICAg
fSBlbHNlIHsKICAgICAgICB2YXIgc2l6ZSA9IHBhcnNlRmxvYXQobm9kZURPTS5n
ZXRBdHRyaWJ1dGUoJ3InKSk7CiAgICAgICAgdmFyIGFuZ2xlID0gLU1hdGguUEkv
NDsKICAgICAgICB4ID0gY2VudGVyLnggKyBzaXplICogTWF0aC5jb3MoYW5nbGUp
OwogICAgICAgIHkgPSBjZW50ZXIueSArIHNpemUgKiBNYXRoLnNpbihhbmdsZSk7
CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHggPSBjZW50ZXIueDsKICAgICAg
eSA9IGNlbnRlci55OwogICAgfQogICAgLy8gdmFyIG9mZnNldENvb3JkcyA9IG9m
ZnNldExpbmUoIFtjZW50ZXIueCwgY2VudGVyLnldLFt4LCB5XSxuZHR2UHJvcGVy
dGllcy5ncmFwaC50b29sdGlwT2Zmc2V0KQogICAgLy8geCA9IG9mZnNldENvb3Jk
c1swXTsKICAgIC8vIHkgPSBvZmZzZXRDb29yZHNbMV07CgogICAgdmFyIGxlZnQg
PSAoeCpjdG0uYSkgKyBjdG0uZSAtIG4zLm9mZnNldC5sZWZ0IC0gJCh3aW5kb3cp
LnNjcm9sbExlZnQoKSArMTsKICAgIHZhciBib3R0b20gPSBuMy5oZWlnaHQgLSh5
KmN0bS5kKS1jdG0uZiArIG4zLm9mZnNldC50b3AgLSAkKHdpbmRvdykuc2Nyb2xs
VG9wKCkgKzE7CiAgICByZXR1cm4gW2xlZnQsIGJvdHRvbV07CiAgfQoKICAvKiog
aGlkZSB0aGUgdG9vbHRpcCBhbmQgdW5zZXQgdGhlIHNlbGVjdGVkIGdsb2JhbCAq
LwogIG4zLnByb3RvdHlwZS5oaWRlVG9vbHRpcCA9IGZ1bmN0aW9uKCkgewogICAg
dmFyIG4zID0gdGhpczsKICAgIG4zLnNlbGVjdGVkID0gbnVsbDsKICAgIG4zLnRv
b2x0aXAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpOwogIH0KCiAgLyoqIHN0b3Ag
dGhlIGN1cnJlbnQgYW5pbWF0aW9uIGN5Y2xlCiAgKiBAcGFyYW0ge2Jvb2xlYW59
IC0gaWYgdHJ1ZSwgaW1tZWRpYXRlIGhhbHQgYWxsIGFjdGl2ZSB0cmFuc2l0aW9u
cyAob3RoZXJ3aXNlLCBsZXQgYW5pbWF0aW9uIGNvbnRpbnVlIHRvIG5leHQgdGlt
ZSBzbGljZSkKICAqLwogIG4zLnByb3RvdHlwZS5lbmRBbmltYXRpb24gPSBmdW5j
dGlvbihub0hhbHQpewogICAgdmFyIG4zID0gdGhpczsKICAgIGNsZWFyVGltZW91
dChuMy5hbmltYXRlKTsKICAgIGlmICghIG5vSGFsdCkgewogICAgICBuMy5kb21U
YXJnZXQuc2VsZWN0QWxsKCcubm9kZSwgLmVkZ2UsIC5sYWJlbCwgLmQzLXNsaWRl
ci1oYW5kbGUnKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMCkKICAgIH0KICB9Cgog
IC8qKiBzdGVwIHRoZSBhbmltYXRpb24gYnkgb25lIHRpbWUgc2xpY2UKICAqIEBw
YXJhbSB7Ym9vbGVhbn0gLSBpZiB0cnVlLCBnbyB0byBwcmV2aW91cyB0aW1lIHNs
aWNlLCBlbHNlIGdvIGZvcndhcmQKICAqLwogIG4zLnByb3RvdHlwZS5zdGVwQW5p
bWF0aW9uID0gZnVuY3Rpb24ocmV2ZXJzZSkgewogICAgdmFyIG4zID0gdGhpczsK
CiAgICBuMy5lbmRBbmltYXRpb24oMSk7CiAgICBpZiAocmV2ZXJzZSkgewogICAg
ICBuMy5hbmltYXRlR3JhcGgobjMuY3VyclRpbWUtMSwgbjMuY3VyclRpbWUtMSk7
IAogICAgfSBlbHNlIHsKICAgICAgbjMuYW5pbWF0ZUdyYXBoKG4zLmN1cnJUaW1l
KzEsIG4zLmN1cnJUaW1lKzEpOyAKICAgIH0KICB9CgogIC8qKiBhbmltYXRlIHRo
ZSBncmFwaCBvdmVyIGFsbCB0aW1lIHNsaWNlcywgc3RhcnRpbmcgYXQgY3VycmVu
dCBzbGljZQogICogQHBhcmFtIHtib29sZWFufSAtIGlmIHRydWUsIGFuaW1hdGUg
c2xpY2VzIGJhY2t3YXJkcyB1bnRpbCBiZWdpbm5pbmcgb2YgdGltZSBpbmRleCwg
b3RoZXIgcGxheSB1bnRpbCBlbmQKICAqLwogIG4zLnByb3RvdHlwZS5wbGF5QW5p
bWF0aW9uID0gZnVuY3Rpb24ocmV2ZXJzZSkgewogICAgdmFyIG4zID0gdGhpczsK
CiAgICBuMy5lbmRBbmltYXRpb24oMSk7CiAgICBpZiAocmV2ZXJzZSkgeyAKICAg
ICAgbjMuYW5pbWF0ZUdyYXBoKG4zLmN1cnJUaW1lLTEsIDApOyAKICAgIH0gZWxz
ZSB7CiAgICAgIG4zLmFuaW1hdGVHcmFwaChuMy5jdXJyVGltZSsxKTsgCiAgICB9
CiAgfQogIHJldHVybiBuMzsKfSkpOwo8L3NjcmlwdD48L2hlYWQ+DQogIDxib2R5
PjxzY3JpcHQ+DQogICAgLy9JTklUIEdSQVBIIERBVEEgSEVSRQ0KICB2YXIgZ3Jh
cGhEYXRhID0geyJyZW5kZXIiOlt7InN0YXJ0IjpbMF0sImVuZCI6WzFdLCJkYXRh
Ijp7ImFjdGl2ZSI6eyJub2RlcyI6eyIxIjpbMF0sIjIiOlsxXSwiMyI6WzJdLCI0
IjpbM10sIjUiOls0XSwiNiI6WzVdLCI3IjpbNl0sIjgiOls3XSwiOSI6WzhdLCIx
MCI6WzldLCIxMSI6WzEwXSwiMTIiOlsxMV0sIjEzIjpbMTJdLCIxNCI6WzEzXSwi
MTUiOlsxNF0sIjE2IjpbMTVdLCIxNyI6WzE2XSwiMTgiOlsxN10sIjE5IjpbMThd
LCIyMCI6WzE5XSwiMjEiOlsyMF0sIjIyIjpbMjFdLCIyMyI6WzIyXSwiMjQiOlsy
M10sIjI1IjpbMjRdLCIyNiI6WzI1XSwiMjciOlsyNl0sIjI4IjpbMjddLCIyOSI6
WzI4XSwiMzAiOlsyOV0sIjMxIjpbMzBdLCIzMiI6WzMxXSwiMzMiOlszMl0sIjM0
IjpbMzNdLCIzNSI6WzM0XSwiMzYiOlszNV0sIjM3IjpbMzZdLCIzOCI6WzM3XSwi
MzkiOlszOF0sIjQwIjpbMzldLCI0MSI6WzQwXSwiNDIiOls0MV0sIjQzIjpbNDJd
LCI0NCI6WzQzXSwiNDUiOls0NF0sIjQ2IjpbNDVdLCI0NyI6WzQ2XSwiNDgiOls0
N10sIjQ5IjpbNDhdLCI1MCI6WzQ5XSwiNTEiOls1MF0sIjUyIjpbNTFdLCI1MyI6
WzUyXSwiNTQiOls1M10sIjU1IjpbNTRdLCI1NiI6WzU1XSwiNTciOls1Nl0sIjU4
IjpbNTddLCI1OSI6WzU4XSwiNjAiOls1OV0sIjYxIjpbNjBdLCI2MiI6WzYxXSwi
NjMiOls2Ml0sIjY0IjpbNjNdLCI2NSI6WzY0XSwiNjYiOls2NV0sIjY3IjpbNjZd
LCI2OCI6WzY3XSwiNjkiOls2OF0sIjcwIjpbNjldLCI3MSI6WzcwXSwiNzIiOls3
MV0sIjczIjpbNzJdLCI3NCI6WzczXSwiNzUiOls3NF0sIjc2IjpbNzVdLCI3NyI6
Wzc2XSwiNzgiOls3N10sIjc5IjpbNzhdLCI4MCI6Wzc5XX0sImVkZ2VzIjp7IjEi
OlswXSwiMiI6WzFdLCIzIjpbMl0sIjQiOlszXSwiNSI6WzRdLCI2IjpbNV0sIjci
Ols2XSwiOCI6WzddLCI5IjpbOF0sIjEwIjpbOV0sIjExIjpbMTBdLCIxMiI6WzEx
XSwiMTMiOlsxMl0sIjE0IjpbMTNdLCIxNSI6WzE0XSwiMTYiOlsxNV0sIjE3Ijpb
MTZdLCIxOCI6WzE3XSwiMTkiOlsxOF0sIjIwIjpbMTldLCIyMSI6WzIwXSwiMjIi
OlsyMV0sIjIzIjpbMjJdLCIyNCI6WzIzXSwiMjUiOlsyNF0sIjI2IjpbMjVdLCIy
NyI6WzI2XSwiMjgiOlsyN10sIjI5IjpbMjhdLCIzMCI6WzI5XSwiMzEiOlszMF0s
IjMyIjpbMzFdLCIzMyI6WzMyXSwiMzQiOlszM10sIjM1IjpbMzRdLCIzNiI6WzM1
XSwiMzciOlszNl0sIjM4IjpbMzddLCIzOSI6WzM4XSwiNDAiOlszOV0sIjQxIjpb
NDBdLCI0MiI6WzQxXSwiNDMiOls0Ml0sIjQ0IjpbNDNdLCI0NSI6WzQ0XSwiNDYi
Ols0NV0sIjQ3IjpbNDZdLCI0OCI6WzQ3XSwiNDkiOls0OF0sIjUwIjpbNDldLCI1
MSI6WzUwXSwiNTIiOls1MV0sIjUzIjpbNTJdLCI1NCI6WzUzXSwiNTUiOls1NF0s
IjU2IjpbNTVdLCI1NyI6WzU2XSwiNTgiOls1N10sIjU5IjpbNThdLCI2MCI6WzU5
XSwiNjEiOls2MF0sIjYyIjpbNjFdLCI2MyI6WzYyXSwiNjQiOls2M10sIjY1Ijpb
NjRdLCI2NiI6WzY1XSwiNjciOls2Nl0sIjY4IjpbNjddLCI2OSI6WzY4XSwiNzAi
Ols2OV0sIjcxIjpbNzBdLCI3MiI6WzcxXSwiNzMiOls3Ml0sIjc0IjpbNzNdLCI3
NSI6Wzc0XSwiNzYiOls3NV0sIjc3IjpbNzZdLCI3OCI6Wzc3XSwiNzkiOls3OF0s
IjgwIjpbNzldLCI4MSI6WzgwXSwiODIiOls4MV0sIjgzIjpbODJdLCI4NCI6Wzgz
XSwiODUiOls4NF0sIjg2IjpbODVdLCI4NyI6Wzg2XSwiODgiOls4N10sIjg5Ijpb
ODhdLCI5MCI6Wzg5XSwiOTEiOls5MF0sIjkyIjpbOTFdLCI5MyI6WzkyXSwiOTQi
Ols5M10sIjk1IjpbOTRdLCI5NiI6Wzk1XSwiOTciOls5Nl0sIjk4IjpbOTddLCI5
OSI6Wzk4XSwiMTAwIjpbOTldfX0sImNvb3JkIjpbWy01LjIzMjUsLTEuMjQ3XSxb
LTIuMjY0LDQuODYyOV0sWzUuMzc2NiwtMC45MTczXSxbLTMuMjk2NiwtMy44Njky
XSxbNC43MTk3LDIuNTgyNl0sWy0xLjUyNiw0Ljk5NjJdLFstNC4xMjY2LDMuNDY0
Ml0sWzAuOTA4OCwtNS4xNjM4XSxbLTUuMzgyMSwwLjM5NjhdLFswLjE0OTEsLTUu
MjI5NF0sWzMuMTg3NCwtNC4xOTc3XSxbMS40OTkyLDAuODA0OV0sWzMuMzIwOCwz
LjYwNzldLFstMi4yOTE2LC0zLjU4NjldLFsxLjc2OTUsMC40MDUxXSxbMS4xODA0
LDAuNDkzMV0sWzAuNjExMyw1LjNdLFstMi44OTY4LC0wLjUxNTFdLFs1LjMxMjMs
MS4yNDk2XSxbMi4zOTcyLDAuMDM5Ml0sWzQuMjQxOSwzLjQyOV0sWy0wLjcxMzYs
LTUuM10sWzUuMzgyMSwwLjAwOTJdLFstNC42MzA3LC0yLjY1ODddLFsyLjEwOTUs
NC45NzgyXSxbMS43MjkzLC01LjAyNjldLFswLjUzMzcsNC4wNDFdLFsxLjY5NTQs
LTAuNTI1Nl0sWzMuOTEzNSwtMy42ODMyXSxbMi41MTY5LC00LjY1ODVdLFstNC4w
MzcyLC0zLjU1OTFdLFsyLjE4MjUsLTAuMzYxNV0sWy0zLjAyNzMsLTAuMTE0M10s
Wy0zLjc5NDQsMi43NzkzXSxbMi4wMDc2LDAuODA4OV0sWy0yLjgxNzIsLTQuNTAw
OV0sWzMuMjc1Miw0LjM2OF0sWy00Ljk2NTEsMS44OTI4XSxbMi4zMzg2LDAuNDY3
NV0sWzEuMjkxNCwtMC4zMDQ1XSxbNC44MTYzLDEuODY3OV0sWy0wLjI5NCwtNC4x
OTI0XSxbMi40NzAzLDQuMjUxN10sWy0zLjQ4ODIsNC4wNjA2XSxbLTIuMDc5LC0w
LjYwNzNdLFstMS4zMjg0LC00LjgxNl0sWzEuNDIwNSwtNC4wNjg0XSxbNC41NDM5
LC0yLjkyMTJdLFstMi4wNzEsLTQuODY5Nl0sWy00LjY1ODcsMi41NzldLFs0Ljkz
ODgsMC42NDY1XSxbLTEuMTk2NCwtMy41NTA1XSxbNS4wMTE0LC0xLjk2MjZdLFst
MC44MzcxLDUuMTQ3NV0sWzEuMzIxNSw1LjAzOThdLFsxLjc5ODEsLTAuMDc1XSxb
LTUuMzExLC0wLjQzOTRdLFstMS44MjExLC0wLjI0MzddLFstNC44NTIyLC0xLjk0
MTZdLFswLjQ3OTcsLTMuNTc1OF0sWy0wLjEzNjMsNS4yNl0sWy0yLjYxMzcsMC41
NTQ5XSxbLTIuNjk0NSw0LjMwNTldLFstMS44NjAxLDAuMjIxNl0sWzQuMTQ0Nywt
Mi4yNTI0XSxbMi4yMzM4LC0zLjQ2OTddLFstMS40MzA2LDMuNjU2NV0sWzMuMzE0
MiwtMy4wNzE0XSxbLTIuMzk4MiwtMC4wNTYxXSxbLTIuNjMwNiwzLjM0NF0sWzEu
NTk1NiwzLjczNTFdLFsxLjEzMDEsMC4wODAzXSxbMy43NDU1LDIuNzU1OF0sWzQu
NzM1NSwtMS4wMzEyXSxbLTIuOTc5LDAuMzA0XSxbLTMuNzMyNiwtMi44Njc5XSxb
LTAuNDQwMiwzLjgxNDddLFstMi4xODEzLDAuNTQyOV0sWy01LjE1OTQsMS4xNzg1
XSxbLTIuNTA5MiwtMC43MDg4XV0sInZlcnRleC5jb2wiOlsicmdiYSgxMTcsMTEy
LDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43
NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3
LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4
LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5
NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEs
NDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5
NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgy
MTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1
LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4
LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3
LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwx
MTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3
LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5
NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5
NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3
LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwx
MzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3
LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0
MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywx
MTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1
Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiXSwiYmciOlsi
cmdiYSgyNTUsMjU1LDI1NSwxKSJdLCJsYWJlbCI6WyIxMTEgUmFuY2giLCJBZG9i
ZSBIaWxsIiwiQXJ0aWZhY3QgSGlsbCIsIkFzaCBUZXJyYWNlIiwiQVogQkI6Mzoy
MiIsIkFaIENDOjE6MyIsIkFaIENDOjI6MTg1IiwiQVogQ0M6MjozMyhCTE0pIiwi
QmFqYWRhIFNpdGUiLCJCYXlsZXNzIFJ1aW4iLCJCaWcgQmVsbCIsIkJyYWR5IFdh
c2giLCJCdXphbiIsIkNhY3R1cyBGb3Jlc3QiLCJDYXNhIEJ1ZW5hIiwiQ2FzYSBH
cmFuZGUiLCJDbHVmZiBSYW5jaCIsIkNvbnRpbmVudGFsIFNpdGUiLCJDcmVzY2Vu
dCBTaXRlIiwiQ3Jpc21vbiIsIkN1cnRpcyIsIkN1cnRpcyBSdWluKEJ1ZW5hIFZp
c3RhKSIsIkRhdmlzIFJhbmNoIFNpdGUiLCJEdWRsZXl2aWxsZSBNb3VuZCIsIkVh
cnZlbiBGbGF0IFNpdGUiLCJFbCBQb2x2b3JvbiIsIkVsbGlvdHQgU2l0ZSIsIkVz
Y2FsYW50ZSIsIkZpc2NoZXIgc2l0ZSIsIkZsaWVnZXIiLCJGb3J0IEdyYW50IFB1
ZWJsbyIsIkdlcm1hbm4gU2l0ZSIsIkdpYmJvbiAgU3ByaW5ncyIsIkdvYXQgSGls
bCIsIkdyYW5kIENhbmFsIiwiSGFieSBSYW5jaCIsIkhpZ2ggTWVzYSIsIkpvc2Ug
U29sYXMgUnVpbiIsIkp1bmt5YXJkIFNpdGUiLCJMYXMgQ2Fub3BhcyIsIkxhcyBD
b2xpbmFzIiwiTGFzIEZvc2FzIiwiTGVhdmVydG9uIiwiTG9zIEd1YW5hY29zIiwi
TG9zIE1vcnRlcm9zIiwiTG9zIE11ZXJ0b3MiLCJMb3N0IE1vdW5kIiwiTWFyaWpp
bGRhIFJ1aW4iLCJNZXNhIEdyYW5kZSIsIk1ldGhvZGlzdCBDaHVyY2giLCJNdXJw
aHkgU2l0ZS0tU2FmZm9yZCBFYXN0IiwiT3dlbnMtQ29sdmluIiwiUGlwZXIgU3By
aW5ncyIsIlB1ZWJsbyBCbGFuY28iLCJQdWVibG8gZGVsIE1vbnRlIiwiUHVlYmxv
IEdyYW5kZSIsIlB1ZWJsbyBTYWxhZG8iLCJSYWJpZCBSdWluIiwiUmF0dGxlc25h
a2UgTWVzYSIsIlJlZXZlIFJ1aW4iLCJSaWNoYXJkc29uIE9yY2hhcmQiLCJSaWxs
aXRvIEZhbiIsIlJpbmNvbiBDYW55b24iLCJTYW4gWGF2aWVyIEJyaWRnZSIsIlNl
Y29uZCBDYW55b24gQ29tcG91bmQiLCJTaGFyb24gU2l0ZSIsIlNwZWFyIFJhbmNo
IiwiU3dpbmdsZSdzIFNhbXBsZSIsIlRhbnF1ZSBWZXJkZSBWaWxsYWdlIiwiVHJl
cyBQdWVibG9zIiwiVHdpbiBIYXdrcyIsIlZlcmVzIiwiV2ViYiBSdWluIiwiV2Vz
IEplcm5pZ2FuIFNpdGUiLCJXaGlwdGFpbCBSdWluIiwiV2hpdG1lciIsIldyaWdo
dCIsIll1bWEgV2FzaC0tVHVjc29uIiwiWXVtYSBXYXNoIFNpdGUiLCJaYW5hcmRl
bGxpIFNpdGUiXSwieGxhYiI6WyJ0PTAtMSJdLCJqaXR0ZXIiOltmYWxzZV0sInVz
ZWFycm93cyI6W2ZhbHNlXSwieGxpbSI6Wy01LjgxMzUsNS44MTM1XSwieWxpbSI6
Wy01LjgxMDgsNS44MTA4XX19LHsic3RhcnQiOlsxXSwiZW5kIjpbMl0sImRhdGEi
OnsiYWN0aXZlIjp7Im5vZGVzIjp7IjEiOlswXSwiMiI6WzFdLCIzIjpbMl0sIjQi
OlszXSwiNSI6WzRdLCI2IjpbNV0sIjciOls2XSwiOCI6WzddLCI5IjpbOF0sIjEw
IjpbOV0sIjExIjpbMTBdLCIxMiI6WzExXSwiMTMiOlsxMl0sIjE0IjpbMTNdLCIx
NSI6WzE0XSwiMTYiOlsxNV0sIjE3IjpbMTZdLCIxOCI6WzE3XSwiMTkiOlsxOF0s
IjIwIjpbMTldLCIyMSI6WzIwXSwiMjIiOlsyMV0sIjIzIjpbMjJdLCIyNCI6WzIz
XSwiMjUiOlsyNF0sIjI2IjpbMjVdLCIyNyI6WzI2XSwiMjgiOlsyN10sIjI5Ijpb
MjhdLCIzMCI6WzI5XSwiMzEiOlszMF0sIjMyIjpbMzFdLCIzMyI6WzMyXSwiMzQi
OlszM10sIjM1IjpbMzRdLCIzNiI6WzM1XSwiMzciOlszNl0sIjM4IjpbMzddLCIz
OSI6WzM4XSwiNDAiOlszOV0sIjQxIjpbNDBdLCI0MiI6WzQxXSwiNDMiOls0Ml0s
IjQ0IjpbNDNdLCI0NSI6WzQ0XSwiNDYiOls0NV0sIjQ3IjpbNDZdLCI0OCI6WzQ3
XSwiNDkiOls0OF0sIjUwIjpbNDldLCI1MSI6WzUwXSwiNTIiOls1MV0sIjUzIjpb
NTJdLCI1NCI6WzUzXSwiNTUiOls1NF0sIjU2IjpbNTVdLCI1NyI6WzU2XSwiNTgi
Ols1N10sIjU5IjpbNThdLCI2MCI6WzU5XSwiNjEiOls2MF0sIjYyIjpbNjFdLCI2
MyI6WzYyXSwiNjQiOls2M10sIjY1IjpbNjRdLCI2NiI6WzY1XSwiNjciOls2Nl0s
IjY4IjpbNjddLCI2OSI6WzY4XSwiNzAiOls2OV0sIjcxIjpbNzBdLCI3MiI6Wzcx
XSwiNzMiOls3Ml0sIjc0IjpbNzNdLCI3NSI6Wzc0XSwiNzYiOls3NV0sIjc3Ijpb
NzZdLCI3OCI6Wzc3XSwiNzkiOls3OF0sIjgwIjpbNzldfSwiZWRnZXMiOnsiMSI6
WzBdLCIyIjpbMV0sIjMiOlsyXSwiNCI6WzNdLCI1IjpbNF0sIjYiOls1XSwiOCI6
WzZdLCI5IjpbN10sIjEwIjpbOF0sIjExIjpbOV0sIjEyIjpbMTBdLCIxMyI6WzEx
XSwiMTQiOlsxMl0sIjE1IjpbMTNdLCIxNyI6WzE0XSwiMTgiOlsxNV0sIjE5Ijpb
MTZdLCIyMCI6WzE3XSwiMjEiOlsxOF0sIjIyIjpbMTldLCIyMyI6WzIwXSwiMjUi
OlsyMV0sIjI2IjpbMjJdLCIyNyI6WzIzXSwiMjgiOlsyNF0sIjI5IjpbMjVdLCIz
MCI6WzI2XSwiMzEiOlsyN10sIjMyIjpbMjhdLCIzMyI6WzI5XSwiMzQiOlszMF0s
IjM1IjpbMzFdLCIzNiI6WzMyXSwiMzciOlszM10sIjM4IjpbMzRdLCIzOSI6WzM1
XSwiNDEiOlszNl0sIjQyIjpbMzddLCI0MyI6WzM4XSwiNDQiOlszOV0sIjQ1Ijpb
NDBdLCI0NyI6WzQxXSwiNDgiOls0Ml0sIjQ5IjpbNDNdLCI1MCI6WzQ0XSwiNTIi
Ols0NV0sIjUzIjpbNDZdLCI1NCI6WzQ3XSwiNTUiOls0OF0sIjU2IjpbNDldLCI1
NyI6WzUwXSwiNTgiOls1MV0sIjU5IjpbNTJdLCI2MCI6WzUzXSwiNjEiOls1NF0s
IjYyIjpbNTVdLCI2NCI6WzU2XSwiNjUiOls1N10sIjY2IjpbNThdLCI3MCI6WzU5
XSwiNzEiOls2MF0sIjcyIjpbNjFdLCI3MyI6WzYyXSwiNzQiOls2M10sIjc1Ijpb
NjRdLCI3NiI6WzY1XSwiNzciOls2Nl0sIjc4IjpbNjddLCI3OSI6WzY4XSwiODAi
Ols2OV0sIjgxIjpbNzBdLCI4MiI6WzcxXSwiODMiOls3Ml0sIjg0IjpbNzNdLCI4
NSI6Wzc0XSwiODYiOls3NV0sIjg3IjpbNzZdLCI4OCI6Wzc3XSwiODkiOls3OF0s
IjkwIjpbNzldLCI5MSI6WzgwXSwiOTIiOls4MV0sIjkzIjpbODJdLCI5NCI6Wzgz
XSwiOTUiOls4NF0sIjk2IjpbODVdLCI5NyI6Wzg2XSwiOTgiOls4N10sIjk5Ijpb
ODhdLCIxMDAiOls4OV0sIjEwMSI6WzkwXSwiMTAyIjpbOTFdLCIxMDMiOls5Ml0s
IjEwNCI6WzkzXSwiMTA1IjpbOTRdLCIxMDYiOls5NV0sIjEwNyI6Wzk2XSwiMTA4
IjpbOTddfX0sImNvb3JkIjpbWy01LjA1NDUsLTEuNzkyM10sWy0xLjk2OTMsNC45
ODczXSxbNS41MDc3LDAuMTI4OF0sWy0wLjQ1NzIsLTQuOTIxOF0sWzQuNDQzMiwz
LjE2MzJdLFstMS4yNDczLDQuOTcxMV0sWy0zLjg5NzEsMy41ODI4XSxbMS42Mjc5
LC00LjkxNTZdLFstNS41MDc3LDAuNTkxOF0sWzAuNjQ5MiwtNS4zODY5XSxbMy40
Mzg1LC00LjA0MTZdLFsxLjgyNjcsMS4xMjk3XSxbMi43MDk2LDMuNzE2M10sWy0y
Ljc2NSwtMy4wNTU0XSxbMi4wMzE4LDAuNzUxNF0sWzEuNDI4MiwwLjgwODddLFs0
Ljg4MTYsMC4xODY0XSxbLTMuNTkyNCwtMC4zNDI4XSxbNS4zMDUxLDEuMDIwMl0s
WzIuNjI5LDAuNTA1NF0sWzMuNzIzNyw0LjAxMDhdLFstMS4yMDkyLC01LjE0OTRd
LFs1LjIyMTQsLTEuNDA5M10sWy0wLjY3MTksLTIuOTQ0M10sWzEuODEzMiw1LjE3
MzZdLFsyLjQ4MTgsLTQuNzMwM10sWy0wLjMxNjcsLTIuMTE3Nl0sWzIuMDQ1OCwt
MC4yMjk0XSxbNC44ODQ4LC0wLjcyMDRdLFswLjQ0NzYsLTQuODE3XSxbLTMuOTAw
MywtMy41NjUyXSxbMi41MDU1LDAuMDQ2N10sWy0zLjc2NzgsMC4wNTYxXSxbLTIu
NzM4NSwzLjIxMjRdLFsyLjQzMTgsMC45NjkyXSxbLTMuMjQyOSwtNC4wNjY3XSxb
Mi45MDAxLDQuNjUxN10sWy00Ljc1MTgsMi40OTIzXSxbLTAuMTc1LDMuMTQ0MV0s
WzEuNTQyMiwtMC4wNDk1XSxbNC42NjQxLDIuNDI4N10sWzAuMDIxOCwtNC4wODE3
XSxbMS45NzA0LDQuMzgyM10sWy0zLjM3MzEsNC4xNTkxXSxbLTIuNzc2MSwtMC40
Mjk1XSxbLTEuODU2NCwtNC43NDhdLFsyLjUxNzksLTMuOTYzNl0sWzQuMDE2NCwt
My40MjQ2XSxbLTIuNTg5LC00LjUxNzFdLFstNC4yMjc4LDIuOTg1Ml0sWzUuMDAw
OSwxLjgyMTFdLFstMS44NDYsLTMuNTU5M10sWzQuNTk1MSwtMi43Mzg1XSxbLTAu
Niw1LjM4M10sWzAuOTg4Myw1LjE0NjddLFsxLjk5MjIsMC4yMzMzXSxbLTUuNDM2
MSwtMC43OTkxXSxbLTIuNTE3MywtMC4wNzUzXSxbLTQuNjYyNSwtMi41Mjk0XSxb
MS41NzA2LC0zLjUzMDFdLFswLjI2NDIsNS4zODY5XSxbLTMuMjkxMywwLjcyMzFd
LFstMi42ODQ0LDQuNjI2OV0sWy0yLjU0NzEsMC4zNjYxXSxbMy42ODk4LC0yLjM3
NDZdLFsyLjc2NDQsLTIuOTIyMV0sWy0xLjk4MjcsMy42OTddLFswLjI2MiwtMi44
Mjc1XSxbLTMuMTMwOSwwLjEwNTJdLFstMS4wNjM4LDMuMDUxNV0sWzEuMDUzOSwz
Ljc3NzZdLFsxLjMzNzksMC4zNzAyXSxbMy42NDEzLDMuMTMzNV0sWzQuNzAyNywt
MS45NTg3XSxbLTMuNjU1LDAuNDc2NV0sWy0zLjk4MDUsLTIuODM2NV0sWy0wLjE2
MTYsNC4zODFdLFstMi44NTU1LDAuNjgyXSxbLTUuMTc0NywxLjczNTVdLFstMy4y
MDI2LC0wLjUzNTRdXSwidmVydGV4LmNvbCI6WyJyZ2JhKDExNywxMTIsMTc5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1
LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3
NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3
LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgs
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwy
LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4
LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3
LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1
Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDEx
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIs
InJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywx
MTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1
Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43
NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDEx
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIs
InJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEy
LDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQx
LDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywx
MTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1
Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcw
NTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzks
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSJdLCJiZyI6WyJyZ2JhKDI1
NSwyNTUsMjU1LDEpIl0sImxhYmVsIjpbIjExMSBSYW5jaCIsIkFkb2JlIEhpbGwi
LCJBcnRpZmFjdCBIaWxsIiwiQXNoIFRlcnJhY2UiLCJBWiBCQjozOjIyIiwiQVog
Q0M6MTozIiwiQVogQ0M6MjoxODUiLCJBWiBDQzoyOjMzKEJMTSkiLCJCYWphZGEg
U2l0ZSIsIkJheWxlc3MgUnVpbiIsIkJpZyBCZWxsIiwiQnJhZHkgV2FzaCIsIkJ1
emFuIiwiQ2FjdHVzIEZvcmVzdCIsIkNhc2EgQnVlbmEiLCJDYXNhIEdyYW5kZSIs
IkNsdWZmIFJhbmNoIiwiQ29udGluZW50YWwgU2l0ZSIsIkNyZXNjZW50IFNpdGUi
LCJDcmlzbW9uIiwiQ3VydGlzIiwiQ3VydGlzIFJ1aW4oQnVlbmEgVmlzdGEpIiwi
RGF2aXMgUmFuY2ggU2l0ZSIsIkR1ZGxleXZpbGxlIE1vdW5kIiwiRWFydmVuIEZs
YXQgU2l0ZSIsIkVsIFBvbHZvcm9uIiwiRWxsaW90dCBTaXRlIiwiRXNjYWxhbnRl
IiwiRmlzY2hlciBzaXRlIiwiRmxpZWdlciIsIkZvcnQgR3JhbnQgUHVlYmxvIiwi
R2VybWFubiBTaXRlIiwiR2liYm9uICBTcHJpbmdzIiwiR29hdCBIaWxsIiwiR3Jh
bmQgQ2FuYWwiLCJIYWJ5IFJhbmNoIiwiSGlnaCBNZXNhIiwiSm9zZSBTb2xhcyBS
dWluIiwiSnVua3lhcmQgU2l0ZSIsIkxhcyBDYW5vcGFzIiwiTGFzIENvbGluYXMi
LCJMYXMgRm9zYXMiLCJMZWF2ZXJ0b24iLCJMb3MgR3VhbmFjb3MiLCJMb3MgTW9y
dGVyb3MiLCJMb3MgTXVlcnRvcyIsIkxvc3QgTW91bmQiLCJNYXJpamlsZGEgUnVp
biIsIk1lc2EgR3JhbmRlIiwiTWV0aG9kaXN0IENodXJjaCIsIk11cnBoeSBTaXRl
LS1TYWZmb3JkIEVhc3QiLCJPd2Vucy1Db2x2aW4iLCJQaXBlciBTcHJpbmdzIiwi
UHVlYmxvIEJsYW5jbyIsIlB1ZWJsbyBkZWwgTW9udGUiLCJQdWVibG8gR3JhbmRl
IiwiUHVlYmxvIFNhbGFkbyIsIlJhYmlkIFJ1aW4iLCJSYXR0bGVzbmFrZSBNZXNh
IiwiUmVldmUgUnVpbiIsIlJpY2hhcmRzb24gT3JjaGFyZCIsIlJpbGxpdG8gRmFu
IiwiUmluY29uIENhbnlvbiIsIlNhbiBYYXZpZXIgQnJpZGdlIiwiU2Vjb25kIENh
bnlvbiBDb21wb3VuZCIsIlNoYXJvbiBTaXRlIiwiU3BlYXIgUmFuY2giLCJTd2lu
Z2xlJ3MgU2FtcGxlIiwiVGFucXVlIFZlcmRlIFZpbGxhZ2UiLCJUcmVzIFB1ZWJs
b3MiLCJUd2luIEhhd2tzIiwiVmVyZXMiLCJXZWJiIFJ1aW4iLCJXZXMgSmVybmln
YW4gU2l0ZSIsIldoaXB0YWlsIFJ1aW4iLCJXaGl0bWVyIiwiV3JpZ2h0IiwiWXVt
YSBXYXNoLS1UdWNzb24iLCJZdW1hIFdhc2ggU2l0ZSIsIlphbmFyZGVsbGkgU2l0
ZSJdLCJ4bGFiIjpbInQ9MS0yIl0sImppdHRlciI6W2ZhbHNlXSwidXNlYXJyb3dz
IjpbZmFsc2VdLCJ4bGltIjpbLTUuODEzNSw1LjgxMzVdLCJ5bGltIjpbLTUuODEw
OCw1LjgxMDhdfX0seyJzdGFydCI6WzJdLCJlbmQiOlszXSwiZGF0YSI6eyJhY3Rp
dmUiOnsibm9kZXMiOnsiMSI6WzBdLCIyIjpbMV0sIjMiOlsyXSwiNCI6WzNdLCI1
IjpbNF0sIjYiOls1XSwiNyI6WzZdLCI4IjpbN10sIjkiOls4XSwiMTAiOls5XSwi
MTEiOlsxMF0sIjEyIjpbMTFdLCIxMyI6WzEyXSwiMTQiOlsxM10sIjE1IjpbMTRd
LCIxNiI6WzE1XSwiMTciOlsxNl0sIjE4IjpbMTddLCIxOSI6WzE4XSwiMjAiOlsx
OV0sIjIxIjpbMjBdLCIyMiI6WzIxXSwiMjMiOlsyMl0sIjI0IjpbMjNdLCIyNSI6
WzI0XSwiMjYiOlsyNV0sIjI3IjpbMjZdLCIyOCI6WzI3XSwiMjkiOlsyOF0sIjMw
IjpbMjldLCIzMSI6WzMwXSwiMzIiOlszMV0sIjMzIjpbMzJdLCIzNCI6WzMzXSwi
MzUiOlszNF0sIjM2IjpbMzVdLCIzNyI6WzM2XSwiMzgiOlszN10sIjM5IjpbMzhd
LCI0MCI6WzM5XSwiNDEiOls0MF0sIjQyIjpbNDFdLCI0MyI6WzQyXSwiNDQiOls0
M10sIjQ1IjpbNDRdLCI0NiI6WzQ1XSwiNDciOls0Nl0sIjQ4IjpbNDddLCI0OSI6
WzQ4XSwiNTAiOls0OV0sIjUxIjpbNTBdLCI1MiI6WzUxXSwiNTMiOls1Ml0sIjU0
IjpbNTNdLCI1NSI6WzU0XSwiNTYiOls1NV0sIjU3IjpbNTZdLCI1OCI6WzU3XSwi
NTkiOls1OF0sIjYwIjpbNTldLCI2MSI6WzYwXSwiNjIiOls2MV0sIjYzIjpbNjJd
LCI2NCI6WzYzXSwiNjUiOls2NF0sIjY2IjpbNjVdLCI2NyI6WzY2XSwiNjgiOls2
N10sIjY5IjpbNjhdLCI3MCI6WzY5XSwiNzEiOls3MF0sIjcyIjpbNzFdLCI3MyI6
WzcyXSwiNzQiOls3M10sIjc1IjpbNzRdLCI3NiI6Wzc1XSwiNzciOls3Nl0sIjc4
IjpbNzddLCI3OSI6Wzc4XSwiODAiOls3OV19LCJlZGdlcyI6eyI0IjpbMF0sIjEx
IjpbMV0sIjEyIjpbMl0sIjEzIjpbM10sIjE0IjpbNF0sIjE1IjpbNV0sIjE4Ijpb
Nl0sIjE5IjpbN10sIjIwIjpbOF0sIjIyIjpbOV0sIjIzIjpbMTBdLCIyNiI6WzEx
XSwiMjciOlsxMl0sIjI5IjpbMTNdLCIzMiI6WzE0XSwiMzMiOlsxNV0sIjM0Ijpb
MTZdLCIzNSI6WzE3XSwiMzYiOlsxOF0sIjM3IjpbMTldLCIzOCI6WzIwXSwiMzki
OlsyMV0sIjQyIjpbMjJdLCI0MyI6WzIzXSwiNDQiOlsyNF0sIjQ1IjpbMjVdLCI0
OCI6WzI2XSwiNTAiOlsyN10sIjUzIjpbMjhdLCI1NCI6WzI5XSwiNjUiOlszMF0s
IjY2IjpbMzFdLCI3NCI6WzMyXSwiNzUiOlszM10sIjc2IjpbMzRdLCI3NyI6WzM1
XSwiNzgiOlszNl0sIjc5IjpbMzddLCI5MSI6WzM4XSwiOTIiOlszOV0sIjkzIjpb
NDBdLCI5NCI6WzQxXSwiOTUiOls0Ml0sIjk2IjpbNDNdLCI5NyI6WzQ0XSwiOTgi
Ols0NV0sIjk5IjpbNDZdLCIxMDAiOls0N10sIjEwMSI6WzQ4XSwiMTAyIjpbNDld
LCIxMDQiOls1MF0sIjEwNSI6WzUxXSwiMTA2IjpbNTJdLCIxMDciOls1M10sIjEw
OSI6WzU0XSwiMTEwIjpbNTVdLCIxMTEiOls1Nl0sIjExMiI6WzU3XSwiMTEzIjpb
NThdLCIxMTQiOls1OV0sIjExNSI6WzYwXSwiMTE2IjpbNjFdLCIxMTciOls2Ml0s
IjExOCI6WzYzXSwiMTE5IjpbNjRdLCIxMjAiOls2NV0sIjEyMSI6WzY2XSwiMTIy
IjpbNjddLCIxMjMiOls2OF0sIjEyNCI6WzY5XSwiMTI1IjpbNzBdLCIxMjYiOls3
MV0sIjEyNyI6WzcyXSwiMTI4IjpbNzNdLCIxMjkiOls3NF0sIjEzMCI6Wzc1XSwi
MTMxIjpbNzZdLCIxMzIiOls3N10sIjEzMyI6Wzc4XSwiMTM0IjpbNzldLCIxMzUi
Ols4MF0sIjEzNiI6WzgxXSwiMTM3IjpbODJdLCIxMzgiOls4M10sIjEzOSI6Wzg0
XSwiMTQwIjpbODVdLCIxNDEiOls4Nl0sIjE0MiI6Wzg3XSwiMTQzIjpbODhdLCIx
NDQiOls4OV0sIjE0NSI6WzkwXSwiMTQ2IjpbOTFdLCIxNDciOls5Ml0sIjE0OCI6
WzkzXSwiMTQ5IjpbOTRdLCIxNTAiOls5NV0sIjE1MSI6Wzk2XSwiMTUyIjpbOTdd
LCIxNTMiOls5OF0sIjE1NCI6Wzk5XSwiMTU1IjpbMTAwXSwiMTU2IjpbMTAxXSwi
MTU3IjpbMTAyXSwiMTU4IjpbMTAzXSwiMTU5IjpbMTA0XSwiMTYwIjpbMTA1XSwi
MTYxIjpbMTA2XSwiMTYyIjpbMTA3XSwiMTYzIjpbMTA4XSwiMTY0IjpbMTA5XSwi
MTY1IjpbMTEwXSwiMTY2IjpbMTExXSwiMTY3IjpbMTEyXSwiMTY4IjpbMTEzXSwi
MTY5IjpbMTE0XSwiMTcwIjpbMTE1XSwiMTcxIjpbMTE2XSwiMTcyIjpbMTE3XSwi
MTczIjpbMTE4XSwiMTc0IjpbMTE5XSwiMTc1IjpbMTIwXSwiMTc2IjpbMTIxXSwi
MTc3IjpbMTIyXSwiMTc4IjpbMTIzXSwiMTc5IjpbMTI0XSwiMTgwIjpbMTI1XSwi
MTgxIjpbMTI2XSwiMTgyIjpbMTI3XSwiMTgzIjpbMTI4XSwiMTg0IjpbMTI5XSwi
MTg1IjpbMTMwXSwiMTg2IjpbMTMxXSwiMTg3IjpbMTMyXSwiMTg4IjpbMTMzXSwi
MTg5IjpbMTM0XSwiMTkwIjpbMTM1XSwiMTkxIjpbMTM2XSwiMTkyIjpbMTM3XSwi
MTkzIjpbMTM4XSwiMTk0IjpbMTM5XSwiMTk1IjpbMTQwXSwiMTk2IjpbMTQxXSwi
MTk3IjpbMTQyXSwiMTk4IjpbMTQzXSwiMTk5IjpbMTQ0XSwiMjAwIjpbMTQ1XSwi
MjAxIjpbMTQ2XSwiMjAyIjpbMTQ3XSwiMjAzIjpbMTQ4XSwiMjA0IjpbMTQ5XSwi
MjA1IjpbMTUwXSwiMjA2IjpbMTUxXSwiMjA3IjpbMTUyXSwiMjA4IjpbMTUzXSwi
MjA5IjpbMTU0XSwiMjEwIjpbMTU1XSwiMjExIjpbMTU2XSwiMjEyIjpbMTU3XX19
LCJjb29yZCI6W1stNC45OTEzLC0yLjEyODddLFstMi44NzAzLDQuNDU1NV0sWzIu
NjE2OSwtMi42NTA4XSxbMS40NjU1LC0xLjU2NTRdLFs0LjEzODgsLTEuNDk1XSxb
LTIuMjY4NCw0Ljg4NTRdLFszLjM5ODMsNC4xODI3XSxbLTAuMjYzOCwtNS4xOTU5
XSxbMS45MzIxLC0yLjc2MzJdLFstMS41NTEzLC00LjgzMDRdLFstMC45MTU4LC01
LjM3NjNdLFstMC44MDI5LDIuOTU2NF0sWzIuNzYwOSw0LjcwNzhdLFstMi4xMDI3
LC0xLjc3NjVdLFswLjU5NTYsMi40MTY1XSxbMC4yOTczLDEuOTc1XSxbNS4wMjgs
MS4yODY3XSxbLTQuNjkxOSwtMC4yOTY3XSxbMy40OTY2LC0xLjgzOThdLFsxLjA5
MSwyLjIxNzddLFsyLjQyMzQsLTIuMzI1OV0sWy0yLjYyMzYsLTQuODAwOF0sWzIu
NjY1LC0zLjI5MDldLFsyLjI4OCwtMy43MDUyXSxbMS44OTc3LDUuMTUwN10sWzAu
NDIwOSwtNS40MTM2XSxbMS40NDc4LC0yLjgxOThdLFstMC4wMjEsMi40NTkzXSxb
My45OTg0LDMuNTY0Ml0sWzIuOTM1MSwtMi42NTYzXSxbLTQuNDk3MywtMy4wMTg1
XSxbMC44MTY2LDEuODY2XSxbLTUuNTMzNywtMS4wMTQxXSxbLTMuNDgxNiwyLjcw
N10sWzEuMTExNiwyLjg2OTVdLFstMy4yOTMsLTIuODg3MV0sWzQuNTMyMywtMC43
Mzc4XSxbLTIuMTA2MiwtMy4xNzk4XSxbLTEuNTgzMiw0Ljk2MTFdLFs1LjI5MDQs
MC43MDddLFs0LjYwMDIsMi40MDQxXSxbMC40ODM5LDEuNjk1Ml0sWzIuMzkxLC0x
LjU5MjVdLFstNC40MTY5LDMuMTUzOV0sWy0zLjYwOTcsLTAuNTM5Ml0sWzEuMjc1
MiwxLjU4MTRdLFsxLjQzMDYsLTUuNDUxMV0sWzMuNTcyLC0yLjMyOV0sWy0zLjg1
NTksLTMuNzkzM10sWy00LjE3MiwyLjEzMjhdLFs0LjgyOTcsMS44NDczXSxbLTMu
MTQwMiwtNC4wNjM0XSxbMi4wNzg3LC0zLjM0NzddLFstMC44MzUzLDUuMzgyOF0s
WzAuNzUzMSwyLjg0NDhdLFsxLjMyOTIsMi41NzQ2XSxbLTEuNjExOCwyLjQxMDld
LFstMS45NTc0LC00LjA2NDRdLFszLjA3MSwtMS40NzY5XSxbMy4wMDM3LC0yLjIy
NjFdLFstMC4wMTE5LDUuNDUxMV0sWy01LjM0OTgsMS4zMzE0XSxbLTMuNzQxMSwz
Ljk3MjddLFstMy40NjU0LDAuMDY1Nl0sWy0xLjA2NCwtNC4wNDI0XSxbNS4wMDQ2
LC0zLjEwNzZdLFstMy4wOTMzLDMuNTA3OF0sWzEuNjI5NSwtMy4yOTEzXSxbLTQu
MDk3NCwtMC4wOTcxXSxbMC4yMTY3LDMuMDE1NF0sWzAuOTMyNiw1LjQwODVdLFsx
LjY0NTgsMi4wNTUxXSxbNC4zMjYyLDIuOTc2M10sWzUuNTMzNywtMC4xMzUzXSxb
LTQuNTU1MywwLjMyMzVdLFstMy45MzY0LC0yLjI4NDNdLFsxLjg3OTksLTIuMzEx
NF0sWy0zLjkyOSwwLjUwNTNdLFstNC45Nzg5LDIuMTgwN10sWy00LjIxNSwtMC43
MjQ3XV0sInZlcnRleC5jb2wiOlsicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3
NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIs
InJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcs
MTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5
NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5
NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5
LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3
NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwi
cmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1
LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwi
cmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDEx
MiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0
MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgy
MTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43
NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5
LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwy
LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3
NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEy
LDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5
NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3
LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIs
MTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIs
InJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUs
MiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwi
cmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4
LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5
NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIx
Nyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43
NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgy
MTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43
NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgs
MTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUs
MiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQx
LDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiXSwiYmciOlsicmdiYSgyNTUsMjU1LDI1
NSwxKSJdLCJsYWJlbCI6WyIxMTEgUmFuY2giLCJBZG9iZSBIaWxsIiwiQXJ0aWZh
Y3QgSGlsbCIsIkFzaCBUZXJyYWNlIiwiQVogQkI6MzoyMiIsIkFaIENDOjE6MyIs
IkFaIENDOjI6MTg1IiwiQVogQ0M6MjozMyhCTE0pIiwiQmFqYWRhIFNpdGUiLCJC
YXlsZXNzIFJ1aW4iLCJCaWcgQmVsbCIsIkJyYWR5IFdhc2giLCJCdXphbiIsIkNh
Y3R1cyBGb3Jlc3QiLCJDYXNhIEJ1ZW5hIiwiQ2FzYSBHcmFuZGUiLCJDbHVmZiBS
YW5jaCIsIkNvbnRpbmVudGFsIFNpdGUiLCJDcmVzY2VudCBTaXRlIiwiQ3Jpc21v
biIsIkN1cnRpcyIsIkN1cnRpcyBSdWluKEJ1ZW5hIFZpc3RhKSIsIkRhdmlzIFJh
bmNoIFNpdGUiLCJEdWRsZXl2aWxsZSBNb3VuZCIsIkVhcnZlbiBGbGF0IFNpdGUi
LCJFbCBQb2x2b3JvbiIsIkVsbGlvdHQgU2l0ZSIsIkVzY2FsYW50ZSIsIkZpc2No
ZXIgc2l0ZSIsIkZsaWVnZXIiLCJGb3J0IEdyYW50IFB1ZWJsbyIsIkdlcm1hbm4g
U2l0ZSIsIkdpYmJvbiAgU3ByaW5ncyIsIkdvYXQgSGlsbCIsIkdyYW5kIENhbmFs
IiwiSGFieSBSYW5jaCIsIkhpZ2ggTWVzYSIsIkpvc2UgU29sYXMgUnVpbiIsIkp1
bmt5YXJkIFNpdGUiLCJMYXMgQ2Fub3BhcyIsIkxhcyBDb2xpbmFzIiwiTGFzIEZv
c2FzIiwiTGVhdmVydG9uIiwiTG9zIEd1YW5hY29zIiwiTG9zIE1vcnRlcm9zIiwi
TG9zIE11ZXJ0b3MiLCJMb3N0IE1vdW5kIiwiTWFyaWppbGRhIFJ1aW4iLCJNZXNh
IEdyYW5kZSIsIk1ldGhvZGlzdCBDaHVyY2giLCJNdXJwaHkgU2l0ZS0tU2FmZm9y
ZCBFYXN0IiwiT3dlbnMtQ29sdmluIiwiUGlwZXIgU3ByaW5ncyIsIlB1ZWJsbyBC
bGFuY28iLCJQdWVibG8gZGVsIE1vbnRlIiwiUHVlYmxvIEdyYW5kZSIsIlB1ZWJs
byBTYWxhZG8iLCJSYWJpZCBSdWluIiwiUmF0dGxlc25ha2UgTWVzYSIsIlJlZXZl
IFJ1aW4iLCJSaWNoYXJkc29uIE9yY2hhcmQiLCJSaWxsaXRvIEZhbiIsIlJpbmNv
biBDYW55b24iLCJTYW4gWGF2aWVyIEJyaWRnZSIsIlNlY29uZCBDYW55b24gQ29t
cG91bmQiLCJTaGFyb24gU2l0ZSIsIlNwZWFyIFJhbmNoIiwiU3dpbmdsZSdzIFNh
bXBsZSIsIlRhbnF1ZSBWZXJkZSBWaWxsYWdlIiwiVHJlcyBQdWVibG9zIiwiVHdp
biBIYXdrcyIsIlZlcmVzIiwiV2ViYiBSdWluIiwiV2VzIEplcm5pZ2FuIFNpdGUi
LCJXaGlwdGFpbCBSdWluIiwiV2hpdG1lciIsIldyaWdodCIsIll1bWEgV2FzaC0t
VHVjc29uIiwiWXVtYSBXYXNoIFNpdGUiLCJaYW5hcmRlbGxpIFNpdGUiXSwieGxh
YiI6WyJ0PTItMyJdLCJqaXR0ZXIiOltmYWxzZV0sInVzZWFycm93cyI6W2ZhbHNl
XSwieGxpbSI6Wy01LjgxMzUsNS44MTM1XSwieWxpbSI6Wy01LjgxMDgsNS44MTA4
XX19LHsic3RhcnQiOlszXSwiZW5kIjpbNF0sImRhdGEiOnsiYWN0aXZlIjp7Im5v
ZGVzIjp7IjEiOlswXSwiMiI6WzFdLCIzIjpbMl0sIjQiOlszXSwiNSI6WzRdLCI2
IjpbNV0sIjciOls2XSwiOCI6WzddLCI5IjpbOF0sIjEwIjpbOV0sIjExIjpbMTBd
LCIxMiI6WzExXSwiMTMiOlsxMl0sIjE0IjpbMTNdLCIxNSI6WzE0XSwiMTYiOlsx
NV0sIjE3IjpbMTZdLCIxOCI6WzE3XSwiMTkiOlsxOF0sIjIwIjpbMTldLCIyMSI6
WzIwXSwiMjIiOlsyMV0sIjIzIjpbMjJdLCIyNCI6WzIzXSwiMjUiOlsyNF0sIjI2
IjpbMjVdLCIyNyI6WzI2XSwiMjgiOlsyN10sIjI5IjpbMjhdLCIzMCI6WzI5XSwi
MzEiOlszMF0sIjMyIjpbMzFdLCIzMyI6WzMyXSwiMzQiOlszM10sIjM1IjpbMzRd
LCIzNiI6WzM1XSwiMzciOlszNl0sIjM4IjpbMzddLCIzOSI6WzM4XSwiNDAiOlsz
OV0sIjQxIjpbNDBdLCI0MiI6WzQxXSwiNDMiOls0Ml0sIjQ0IjpbNDNdLCI0NSI6
WzQ0XSwiNDYiOls0NV0sIjQ3IjpbNDZdLCI0OCI6WzQ3XSwiNDkiOls0OF0sIjUw
IjpbNDldLCI1MSI6WzUwXSwiNTIiOls1MV0sIjUzIjpbNTJdLCI1NCI6WzUzXSwi
NTUiOls1NF0sIjU2IjpbNTVdLCI1NyI6WzU2XSwiNTgiOls1N10sIjU5IjpbNThd
LCI2MCI6WzU5XSwiNjEiOls2MF0sIjYyIjpbNjFdLCI2MyI6WzYyXSwiNjQiOls2
M10sIjY1IjpbNjRdLCI2NiI6WzY1XSwiNjciOls2Nl0sIjY4IjpbNjddLCI2OSI6
WzY4XSwiNzAiOls2OV0sIjcxIjpbNzBdLCI3MiI6WzcxXSwiNzMiOls3Ml0sIjc0
IjpbNzNdLCI3NSI6Wzc0XSwiNzYiOls3NV0sIjc3IjpbNzZdLCI3OCI6Wzc3XSwi
NzkiOls3OF0sIjgwIjpbNzldfSwiZWRnZXMiOnsiMSI6WzBdLCIyIjpbMV0sIjMi
OlsyXSwiNCI6WzNdLCI1IjpbNF0sIjYiOls1XSwiNyI6WzZdLCI5IjpbN10sIjEx
IjpbOF0sIjEyIjpbOV0sIjEzIjpbMTBdLCIxNCI6WzExXSwiMTUiOlsxMl0sIjE2
IjpbMTNdLCIxOCI6WzE0XSwiMjAiOlsxNV0sIjIxIjpbMTZdLCIyMiI6WzE3XSwi
MjMiOlsxOF0sIjI0IjpbMTldLCIyNiI6WzIwXSwiMzciOlsyMV0sIjM4IjpbMjJd
LCIzOSI6WzIzXSwiNDAiOlsyNF0sIjQyIjpbMjVdLCI0NCI6WzI2XSwiNDUiOlsy
N10sIjQ2IjpbMjhdLCI0OCI6WzI5XSwiNTAiOlszMF0sIjUxIjpbMzFdLCI1MyI6
WzMyXSwiNjMiOlszM10sIjY1IjpbMzRdLCI2OCI6WzM1XSwiMTAxIjpbMzZdLCIx
MDIiOlszN10sIjEwNCI6WzM4XSwiMTA1IjpbMzldLCIxMDYiOls0MF0sIjEwOCI6
WzQxXSwiMTA5IjpbNDJdLCIxMTAiOls0M10sIjExMSI6WzQ0XSwiMTEyIjpbNDVd
LCIxMTMiOls0Nl0sIjExNCI6WzQ3XSwiMTE2IjpbNDhdLCIxMTgiOls0OV0sIjEx
OSI6WzUwXSwiMTIwIjpbNTFdLCIxMjEiOls1Ml0sIjEyMiI6WzUzXSwiMTI1Ijpb
NTRdLCIxMjYiOls1NV0sIjEyNyI6WzU2XSwiMTI4IjpbNTddLCIxMjkiOls1OF0s
IjEzMCI6WzU5XSwiMTMxIjpbNjBdLCIxMzIiOls2MV0sIjEzMyI6WzYyXSwiMTM2
IjpbNjNdLCIxMzciOls2NF0sIjEzOCI6WzY1XSwiMTM5IjpbNjZdLCIxNDEiOls2
N10sIjE0MiI6WzY4XSwiMTQzIjpbNjldLCIxNDUiOls3MF0sIjE0NiI6WzcxXSwi
MTQ5IjpbNzJdLCIxNTAiOls3M10sIjE1MiI6Wzc0XSwiMTUzIjpbNzVdLCIxNTQi
Ols3Nl0sIjE1NSI6Wzc3XSwiMTU2IjpbNzhdLCIxNTciOls3OV0sIjE1OCI6Wzgw
XSwiMTYwIjpbODFdLCIxNjEiOls4Ml0sIjE2MiI6WzgzXSwiMTYzIjpbODRdLCIx
NjQiOls4NV0sIjE2NSI6Wzg2XSwiMTY2IjpbODddLCIxNjciOls4OF0sIjE2OCI6
Wzg5XSwiMTY5IjpbOTBdLCIxNzAiOls5MV0sIjE3MSI6WzkyXSwiMTcyIjpbOTNd
LCIxNzMiOls5NF0sIjE3NCI6Wzk1XSwiMTc1IjpbOTZdLCIxNzYiOls5N10sIjE3
NyI6Wzk4XSwiMTc5IjpbOTldLCIxODAiOlsxMDBdLCIxODEiOlsxMDFdLCIxODMi
OlsxMDJdLCIxODQiOlsxMDNdLCIxODUiOlsxMDRdLCIxODciOlsxMDVdLCIxODgi
OlsxMDZdLCIxOTAiOlsxMDddLCIxOTIiOlsxMDhdLCIxOTMiOlsxMDldLCIxOTQi
OlsxMTBdLCIxOTciOlsxMTFdLCIyMDMiOlsxMTJdLCIyMDQiOlsxMTNdLCIyMDUi
OlsxMTRdLCIyMDYiOlsxMTVdLCIyMDgiOlsxMTZdLCIyMTAiOlsxMTddLCIyMTEi
OlsxMThdLCIyMTIiOlsxMTldLCIyMTMiOlsxMjBdLCIyMTQiOlsxMjFdLCIyMTUi
OlsxMjJdLCIyMTYiOlsxMjNdLCIyMTciOlsxMjRdLCIyMTgiOlsxMjVdLCIyMTki
OlsxMjZdLCIyMjAiOlsxMjddLCIyMjEiOlsxMjhdLCIyMjIiOlsxMjldLCIyMjMi
OlsxMzBdLCIyMjQiOlsxMzFdLCIyMjUiOlsxMzJdLCIyMjYiOlsxMzNdLCIyMjci
OlsxMzRdLCIyMjgiOlsxMzVdLCIyMjkiOlsxMzZdLCIyMzAiOlsxMzddLCIyMzEi
OlsxMzhdLCIyMzIiOlsxMzldLCIyMzMiOlsxNDBdLCIyMzQiOlsxNDFdLCIyMzUi
OlsxNDJdLCIyMzYiOlsxNDNdLCIyMzciOlsxNDRdLCIyMzgiOlsxNDVdLCIyMzki
OlsxNDZdLCIyNDAiOlsxNDddLCIyNDEiOlsxNDhdLCIyNDIiOlsxNDldLCIyNDMi
OlsxNTBdLCIyNDQiOlsxNTFdLCIyNDUiOlsxNTJdLCIyNDYiOlsxNTNdLCIyNDci
OlsxNTRdLCIyNDgiOlsxNTVdLCIyNDkiOlsxNTZdLCIyNTAiOlsxNTddLCIyNTEi
OlsxNThdLCIyNTIiOlsxNTldLCIyNTMiOlsxNjBdLCIyNTQiOlsxNjFdLCIyNTUi
OlsxNjJdLCIyNTYiOlsxNjNdLCIyNTciOlsxNjRdLCIyNTgiOlsxNjVdLCIyNTki
OlsxNjZdLCIyNjAiOlsxNjddLCIyNjEiOlsxNjhdLCIyNjIiOlsxNjldLCIyNjMi
OlsxNzBdLCIyNjQiOlsxNzFdLCIyNjUiOlsxNzJdLCIyNjYiOlsxNzNdLCIyNjci
OlsxNzRdLCIyNjgiOlsxNzVdLCIyNjkiOlsxNzZdLCIyNzAiOlsxNzddLCIyNzEi
OlsxNzhdLCIyNzIiOlsxNzldLCIyNzMiOlsxODBdLCIyNzQiOlsxODFdLCIyNzUi
OlsxODJdLCIyNzYiOlsxODNdLCIyNzciOlsxODRdLCIyNzgiOlsxODVdLCIyNzki
OlsxODZdLCIyODAiOlsxODddLCIyODEiOlsxODhdLCIyODIiOlsxODldLCIyODMi
OlsxOTBdLCIyODQiOlsxOTFdLCIyODUiOlsxOTJdLCIyODYiOlsxOTNdLCIyODci
OlsxOTRdLCIyODgiOlsxOTVdLCIyODkiOlsxOTZdLCIyOTAiOlsxOTddLCIyOTEi
OlsxOThdLCIyOTIiOlsxOTldLCIyOTMiOlsyMDBdLCIyOTQiOlsyMDFdLCIyOTUi
OlsyMDJdLCIyOTYiOlsyMDNdLCIyOTciOlsyMDRdLCIyOTgiOlsyMDVdLCIyOTki
OlsyMDZdLCIzMDAiOlsyMDddLCIzMDEiOlsyMDhdLCIzMDIiOlsyMDldLCIzMDMi
OlsyMTBdLCIzMDQiOlsyMTFdLCIzMDUiOlsyMTJdLCIzMDYiOlsyMTNdLCIzMDci
OlsyMTRdLCIzMDgiOlsyMTVdLCIzMDkiOlsyMTZdLCIzMTAiOlsyMTddLCIzMTEi
OlsyMThdLCIzMTIiOlsyMTldLCIzMTMiOlsyMjBdLCIzMTQiOlsyMjFdLCIzMTUi
OlsyMjJdLCIzMTYiOlsyMjNdLCIzMTciOlsyMjRdLCIzMTgiOlsyMjVdLCIzMTki
OlsyMjZdLCIzMjAiOlsyMjddLCIzMjEiOlsyMjhdLCIzMjIiOlsyMjldLCIzMjMi
OlsyMzBdLCIzMjQiOlsyMzFdLCIzMjUiOlsyMzJdLCIzMjYiOlsyMzNdLCIzMjci
OlsyMzRdLCIzMjgiOlsyMzVdLCIzMjkiOlsyMzZdLCIzMzAiOlsyMzddLCIzMzEi
OlsyMzhdLCIzMzIiOlsyMzldLCIzMzMiOlsyNDBdLCIzMzQiOlsyNDFdLCIzMzUi
OlsyNDJdLCIzMzYiOlsyNDNdLCIzMzciOlsyNDRdLCIzMzgiOlsyNDVdLCIzMzki
OlsyNDZdLCIzNDAiOlsyNDddLCIzNDEiOlsyNDhdLCIzNDIiOlsyNDldLCIzNDMi
OlsyNTBdLCIzNDQiOlsyNTFdLCIzNDUiOlsyNTJdLCIzNDYiOlsyNTNdLCIzNDci
OlsyNTRdLCIzNDgiOlsyNTVdLCIzNDkiOlsyNTZdLCIzNTAiOlsyNTddLCIzNTEi
OlsyNThdLCIzNTIiOlsyNTldLCIzNTMiOlsyNjBdLCIzNTQiOlsyNjFdLCIzNTUi
OlsyNjJdLCIzNTYiOlsyNjNdLCIzNTciOlsyNjRdLCIzNTgiOlsyNjVdLCIzNTki
OlsyNjZdLCIzNjAiOlsyNjddLCIzNjEiOlsyNjhdLCIzNjIiOlsyNjldLCIzNjMi
OlsyNzBdLCIzNjQiOlsyNzFdLCIzNjUiOlsyNzJdLCIzNjYiOlsyNzNdLCIzNjci
OlsyNzRdLCIzNjgiOlsyNzVdLCIzNjkiOlsyNzZdLCIzNzAiOlsyNzddLCIzNzEi
OlsyNzhdLCIzNzIiOlsyNzldLCIzNzMiOlsyODBdLCIzNzQiOlsyODFdLCIzNzUi
OlsyODJdLCIzNzYiOlsyODNdLCIzNzciOlsyODRdLCIzNzgiOlsyODVdLCIzNzki
OlsyODZdLCIzODAiOlsyODddLCIzODEiOlsyODhdLCIzODIiOlsyODldLCIzODMi
OlsyOTBdLCIzODQiOlsyOTFdLCIzODUiOlsyOTJdLCIzODYiOlsyOTNdLCIzODci
OlsyOTRdLCIzODgiOlsyOTVdLCIzODkiOlsyOTZdLCIzOTAiOlsyOTddLCIzOTEi
OlsyOThdLCIzOTIiOlsyOTldLCIzOTMiOlszMDBdLCIzOTQiOlszMDFdLCIzOTUi
OlszMDJdLCIzOTYiOlszMDNdLCIzOTciOlszMDRdLCIzOTgiOlszMDVdLCIzOTki
OlszMDZdLCI0MDAiOlszMDddLCI0MDEiOlszMDhdLCI0MDIiOlszMDldLCI0MDMi
OlszMTBdLCI0MDQiOlszMTFdLCI0MDUiOlszMTJdLCI0MDYiOlszMTNdLCI0MDci
OlszMTRdLCI0MDgiOlszMTVdLCI0MDkiOlszMTZdLCI0MTAiOlszMTddLCI0MTEi
OlszMThdLCI0MTIiOlszMTldLCI0MTMiOlszMjBdLCI0MTQiOlszMjFdLCI0MTUi
OlszMjJdLCI0MTYiOlszMjNdLCI0MTciOlszMjRdLCI0MTgiOlszMjVdLCI0MTki
OlszMjZdLCI0MjAiOlszMjddLCI0MjEiOlszMjhdLCI0MjIiOlszMjldLCI0MjMi
OlszMzBdLCI0MjQiOlszMzFdLCI0MjUiOlszMzJdLCI0MjYiOlszMzNdLCI0Mjci
OlszMzRdLCI0MjgiOlszMzVdLCI0MjkiOlszMzZdLCI0MzAiOlszMzddLCI0MzEi
OlszMzhdLCI0MzIiOlszMzldLCI0MzMiOlszNDBdLCI0MzQiOlszNDFdLCI0MzUi
OlszNDJdLCI0MzYiOlszNDNdLCI0MzciOlszNDRdLCI0MzgiOlszNDVdLCI0Mzki
OlszNDZdLCI0NDAiOlszNDddLCI0NDEiOlszNDhdLCI0NDIiOlszNDldLCI0NDMi
OlszNTBdLCI0NDQiOlszNTFdLCI0NDUiOlszNTJdLCI0NDYiOlszNTNdLCI0NDci
OlszNTRdLCI0NDgiOlszNTVdLCI0NDkiOlszNTZdLCI0NTAiOlszNTddLCI0NTEi
OlszNThdLCI0NTIiOlszNTldLCI0NTMiOlszNjBdLCI0NTQiOlszNjFdLCI0NTUi
OlszNjJdLCI0NTYiOlszNjNdLCI0NTciOlszNjRdLCI0NTgiOlszNjVdLCI0NTki
OlszNjZdLCI0NjAiOlszNjddLCI0NjEiOlszNjhdLCI0NjIiOlszNjldLCI0NjMi
OlszNzBdLCI0NjQiOlszNzFdLCI0NjUiOlszNzJdLCI0NjYiOlszNzNdLCI0Njci
OlszNzRdLCI0NjgiOlszNzVdLCI0NjkiOlszNzZdLCI0NzAiOlszNzddLCI0NzEi
OlszNzhdLCI0NzIiOlszNzldLCI0NzMiOlszODBdLCI0NzQiOlszODFdLCI0NzUi
OlszODJdLCI0NzYiOlszODNdLCI0NzciOlszODRdLCI0NzgiOlszODVdLCI0Nzki
OlszODZdLCI0ODAiOlszODddLCI0ODEiOlszODhdLCI0ODIiOlszODldLCI0ODMi
OlszOTBdLCI0ODQiOlszOTFdLCI0ODUiOlszOTJdLCI0ODYiOlszOTNdLCI0ODci
OlszOTRdLCI0ODgiOlszOTVdLCI0ODkiOlszOTZdLCI0OTAiOlszOTddLCI0OTEi
OlszOThdLCI0OTIiOlszOTldLCI0OTMiOls0MDBdLCI0OTQiOls0MDFdLCI0OTUi
Ols0MDJdLCI0OTYiOls0MDNdLCI0OTciOls0MDRdLCI0OTgiOls0MDVdLCI0OTki
Ols0MDZdLCI1MDAiOls0MDddLCI1MDEiOls0MDhdLCI1MDIiOls0MDldLCI1MDMi
Ols0MTBdLCI1MDQiOls0MTFdLCI1MDUiOls0MTJdLCI1MDYiOls0MTNdLCI1MDci
Ols0MTRdLCI1MDgiOls0MTVdLCI1MDkiOls0MTZdLCI1MTAiOls0MTddLCI1MTEi
Ols0MThdLCI1MTIiOls0MTldLCI1MTMiOls0MjBdLCI1MTQiOls0MjFdLCI1MTUi
Ols0MjJdLCI1MTYiOls0MjNdLCI1MTciOls0MjRdLCI1MTgiOls0MjVdLCI1MTki
Ols0MjZdLCI1MjAiOls0MjddLCI1MjEiOls0MjhdLCI1MjIiOls0MjldLCI1MjMi
Ols0MzBdLCI1MjQiOls0MzFdLCI1MjUiOls0MzJdLCI1MjYiOls0MzNdLCI1Mjci
Ols0MzRdLCI1MjgiOls0MzVdLCI1MjkiOls0MzZdLCI1MzAiOls0MzddLCI1MzEi
Ols0MzhdLCI1MzIiOls0MzldLCI1MzMiOls0NDBdLCI1MzQiOls0NDFdLCI1MzUi
Ols0NDJdLCI1MzYiOls0NDNdLCI1MzciOls0NDRdLCI1MzgiOls0NDVdLCI1Mzki
Ols0NDZdLCI1NDAiOls0NDddLCI1NDEiOls0NDhdLCI1NDIiOls0NDldLCI1NDMi
Ols0NTBdLCI1NDQiOls0NTFdLCI1NDUiOls0NTJdLCI1NDYiOls0NTNdLCI1NDci
Ols0NTRdLCI1NDgiOls0NTVdLCI1NDkiOls0NTZdLCI1NTAiOls0NTddLCI1NTEi
Ols0NThdLCI1NTIiOls0NTldLCI1NTMiOls0NjBdLCI1NTQiOls0NjFdLCI1NTUi
Ols0NjJdLCI1NTYiOls0NjNdLCI1NTciOls0NjRdLCI1NTgiOls0NjVdLCI1NTki
Ols0NjZdLCI1NjAiOls0NjddLCI1NjEiOls0NjhdLCI1NjIiOls0NjldLCI1NjMi
Ols0NzBdLCI1NjQiOls0NzFdLCI1NjUiOls0NzJdLCI1NjYiOls0NzNdLCI1Njci
Ols0NzRdLCI1NjgiOls0NzVdLCI1NjkiOls0NzZdLCI1NzAiOls0NzddLCI1NzEi
Ols0NzhdLCI1NzIiOls0NzldLCI1NzMiOls0ODBdLCI1NzQiOls0ODFdLCI1NzUi
Ols0ODJdLCI1NzYiOls0ODNdLCI1NzciOls0ODRdLCI1NzgiOls0ODVdLCI1Nzki
Ols0ODZdLCI1ODAiOls0ODddLCI1ODEiOls0ODhdLCI1ODIiOls0ODldLCI1ODMi
Ols0OTBdLCI1ODQiOls0OTFdLCI1ODUiOls0OTJdLCI1ODYiOls0OTNdLCI1ODci
Ols0OTRdLCI1ODgiOls0OTVdLCI1ODkiOls0OTZdLCI1OTAiOls0OTddLCI1OTEi
Ols0OThdLCI1OTIiOls0OTldLCI1OTMiOls1MDBdLCI1OTQiOls1MDFdLCI1OTUi
Ols1MDJdLCI1OTYiOls1MDNdLCI1OTciOls1MDRdLCI1OTgiOls1MDVdLCI1OTki
Ols1MDZdLCI2MDAiOls1MDddLCI2MDEiOls1MDhdLCI2MDIiOls1MDldLCI2MDMi
Ols1MTBdLCI2MDQiOls1MTFdLCI2MDUiOls1MTJdLCI2MDYiOls1MTNdLCI2MDci
Ols1MTRdLCI2MDgiOls1MTVdLCI2MDkiOls1MTZdLCI2MTAiOls1MTddLCI2MTEi
Ols1MThdLCI2MTIiOls1MTldLCI2MTMiOls1MjBdLCI2MTQiOls1MjFdLCI2MTUi
Ols1MjJdLCI2MTYiOls1MjNdLCI2MTciOls1MjRdLCI2MTgiOls1MjVdLCI2MTki
Ols1MjZdLCI2MjAiOls1MjddLCI2MjEiOls1MjhdLCI2MjIiOls1MjldLCI2MjMi
Ols1MzBdLCI2MjQiOls1MzFdLCI2MjUiOls1MzJdLCI2MjYiOls1MzNdLCI2Mjci
Ols1MzRdLCI2MjgiOls1MzVdLCI2MjkiOls1MzZdLCI2MzAiOls1MzddLCI2MzEi
Ols1MzhdLCI2MzIiOls1MzldLCI2MzMiOls1NDBdLCI2MzQiOls1NDFdLCI2MzUi
Ols1NDJdLCI2MzYiOls1NDNdLCI2MzciOls1NDRdLCI2MzgiOls1NDVdLCI2Mzki
Ols1NDZdLCI2NDAiOls1NDddLCI2NDEiOls1NDhdLCI2NDIiOls1NDldLCI2NDMi
Ols1NTBdLCI2NDQiOls1NTFdLCI2NDUiOls1NTJdLCI2NDYiOls1NTNdLCI2NDci
Ols1NTRdLCI2NDgiOls1NTVdLCI2NDkiOls1NTZdLCI2NTAiOls1NTddLCI2NTEi
Ols1NThdLCI2NTIiOls1NTldLCI2NTMiOls1NjBdLCI2NTQiOls1NjFdLCI2NTUi
Ols1NjJdLCI2NTYiOls1NjNdLCI2NTciOls1NjRdLCI2NTgiOls1NjVdLCI2NTki
Ols1NjZdLCI2NjAiOls1NjddLCI2NjEiOls1NjhdLCI2NjIiOls1NjldLCI2NjMi
Ols1NzBdLCI2NjQiOls1NzFdLCI2NjUiOls1NzJdLCI2NjYiOls1NzNdLCI2Njci
Ols1NzRdLCI2NjgiOls1NzVdLCI2NjkiOls1NzZdLCI2NzAiOls1NzddLCI2NzEi
Ols1NzhdLCI2NzIiOls1NzldLCI2NzMiOls1ODBdLCI2NzQiOls1ODFdLCI2NzUi
Ols1ODJdLCI2NzYiOls1ODNdLCI2NzciOls1ODRdLCI2NzgiOls1ODVdLCI2Nzki
Ols1ODZdLCI2ODAiOls1ODddLCI2ODEiOls1ODhdLCI2ODIiOls1ODldLCI2ODMi
Ols1OTBdLCI2ODQiOls1OTFdLCI2ODUiOls1OTJdLCI2ODYiOls1OTNdLCI2ODci
Ols1OTRdLCI2ODgiOls1OTVdLCI2ODkiOls1OTZdLCI2OTAiOls1OTddLCI2OTEi
Ols1OThdLCI2OTIiOls1OTldLCI2OTMiOls2MDBdLCI2OTQiOls2MDFdLCI2OTUi
Ols2MDJdLCI2OTYiOls2MDNdLCI2OTciOls2MDRdLCI2OTgiOls2MDVdLCI2OTki
Ols2MDZdLCI3MDAiOls2MDddLCI3MDEiOls2MDhdLCI3MDIiOls2MDldLCI3MDMi
Ols2MTBdLCI3MDQiOls2MTFdLCI3MDUiOls2MTJdLCI3MDYiOls2MTNdLCI3MDci
Ols2MTRdLCI3MDgiOls2MTVdLCI3MDkiOls2MTZdLCI3MTAiOls2MTddLCI3MTEi
Ols2MThdLCI3MTIiOls2MTldLCI3MTMiOls2MjBdLCI3MTQiOls2MjFdLCI3MTUi
Ols2MjJdLCI3MTYiOls2MjNdLCI3MTciOls2MjRdLCI3MTgiOls2MjVdLCI3MTki
Ols2MjZdLCI3MjAiOls2MjddLCI3MjEiOls2MjhdLCI3MjIiOls2MjldLCI3MjMi
Ols2MzBdLCI3MjQiOls2MzFdLCI3MjUiOls2MzJdLCI3MjYiOls2MzNdLCI3Mjci
Ols2MzRdLCI3MjgiOls2MzVdLCI3MjkiOls2MzZdLCI3MzAiOls2MzddLCI3MzEi
Ols2MzhdLCI3MzIiOls2MzldLCI3MzMiOls2NDBdLCI3MzQiOls2NDFdLCI3MzUi
Ols2NDJdLCI3MzYiOls2NDNdLCI3MzciOls2NDRdLCI3MzgiOls2NDVdLCI3Mzki
Ols2NDZdLCI3NDAiOls2NDddLCI3NDEiOls2NDhdLCI3NDIiOls2NDldLCI3NDMi
Ols2NTBdLCI3NDQiOls2NTFdLCI3NDUiOls2NTJdLCI3NDYiOls2NTNdLCI3NDci
Ols2NTRdLCI3NDgiOls2NTVdLCI3NDkiOls2NTZdLCI3NTAiOls2NTddLCI3NTEi
Ols2NThdLCI3NTIiOls2NTldLCI3NTMiOls2NjBdLCI3NTQiOls2NjFdLCI3NTUi
Ols2NjJdLCI3NTYiOls2NjNdLCI3NTciOls2NjRdLCI3NTgiOls2NjVdLCI3NTki
Ols2NjZdLCI3NjAiOls2NjddLCI3NjEiOls2NjhdLCI3NjIiOls2NjldLCI3NjMi
Ols2NzBdLCI3NjQiOls2NzFdLCI3NjUiOls2NzJdLCI3NjYiOls2NzNdLCI3Njci
Ols2NzRdLCI3NjgiOls2NzVdLCI3NjkiOls2NzZdLCI3NzAiOls2NzddLCI3NzEi
Ols2NzhdLCI3NzIiOls2NzldLCI3NzMiOls2ODBdLCI3NzQiOls2ODFdLCI3NzUi
Ols2ODJdLCI3NzYiOls2ODNdLCI3NzciOls2ODRdLCI3NzgiOls2ODVdLCI3Nzki
Ols2ODZdLCI3ODAiOls2ODddLCI3ODEiOls2ODhdLCI3ODIiOls2ODldLCI3ODMi
Ols2OTBdLCI3ODQiOls2OTFdLCI3ODUiOls2OTJdLCI3ODYiOls2OTNdLCI3ODci
Ols2OTRdLCI3ODgiOls2OTVdLCI3ODkiOls2OTZdLCI3OTAiOls2OTddLCI3OTEi
Ols2OThdLCI3OTIiOls2OTldLCI3OTMiOls3MDBdLCI3OTQiOls3MDFdLCI3OTUi
Ols3MDJdLCI3OTYiOls3MDNdLCI3OTciOls3MDRdLCI3OTgiOls3MDVdLCI3OTki
Ols3MDZdLCI4MDAiOls3MDddLCI4MDEiOls3MDhdLCI4MDIiOls3MDldLCI4MDMi
Ols3MTBdLCI4MDQiOls3MTFdfX0sImNvb3JkIjpbWzAuNDIwNCw1LjI4NjhdLFst
MC40NDA2LC0wLjY5MTRdLFswLjY2MzcsLTEuMDAwMV0sWzAuMDE4OSwtMi4xMTQz
XSxbMC40Nzc2LC0yLjA1MTldLFszLjM0NTgsLTIuMDQzOV0sWzEuMDY0Nyw1Ljgx
MDhdLFs0LjU0MDksLTQuMDc3NF0sWy0wLjAzMDQsLTAuNTU2MV0sWzAuMTczMSwt
MS41MjAzXSxbMC41NDU1LC0yLjU4MzRdLFstMC4zNjgxLC0xLjA0NjhdLFsyLjEw
OTgsNS4xOTg1XSxbLTAuNjQ2NywtMC45NTk1XSxbMC40NDkyLC0wLjQ4NDJdLFsw
LjE4NTgsLTAuODUwNl0sWzQuODUzOCwyLjg2NzddLFstNS43MzIxLDAuNzUyMV0s
WzAuODE2OCwtMC44OTNdLFswLjc2NiwtMC41NDI2XSxbMC41MjczLC0xLjQ2NDRd
LFsxLjgyNTgsLTMuMDA3OV0sWzAuNDE0OSwtMC44OTM1XSxbLTAuMTMwMSwtMS4y
MjFdLFstMC4zMTM0LDUuNjE4NV0sWy0yLjAxMTcsLTUuODEwOF0sWy0wLjM3NjMs
LTEuMjk3NV0sWy0wLjI1MjYsLTAuNDM5OV0sWzEuMzE2NSw1LjA1MzhdLFswLjcz
OTUsLTEuMjE2MV0sWzEuMTY1NSwtMi4zODg3XSxbMC4xNzg1LC0wLjM5OTddLFst
NS43OTE1LC0wLjgzMzNdLFstMy4yMzkzLDQuNTg4NV0sWzAuMzE4NSwtMC4xOTE2
XSxbLTAuNTY3LC0xLjIxMzFdLFsyLjM0ODIsLTIuMzA0Nl0sWy0wLjI0NzQsLTEu
NTMzN10sWy0wLjE0MywtMC45MDQ0XSxbNS4yNjI5LDIuMTI5OF0sWzMuODU2Nyw0
LjA0MDRdLFstMC4wNTAyLC0wLjIwN10sWzEuMzc5NywtMS43MDczXSxbLTAuNTYz
OCwtMC41NDQ3XSxbLTUuNjM5MiwtMS43MDM5XSxbMy4yOTg3LDQuNDg3NV0sWzAu
MDM5NiwtMy41NjU4XSxbNS44MTM1LDAuMTEwOV0sWy01LjMyMTMsLTIuNjMxM10s
Wy0zLjc1MzIsNC4yMzA4XSxbNC4zNjc1LDMuNTE0Ml0sWy00Ljc3MjUsLTMuNjE4
N10sWzAuMTI0NCwtMS4xMTA1XSxbLTAuMjM3NywtMC4yMjM0XSxbMC40OTg1LC0w
LjI1NTldLFswLjY1NzQsLTAuMzg4Nl0sWy0wLjQzNzUsLTAuMzc2M10sWy0zLjg1
MDYsLTQuNjcyOV0sWzEuMzc1OSwtMi4wNjg3XSxbMC42NDU3LC0xLjMwMzhdLFst
MS41NjU5LDUuMzg3M10sWy0wLjYzOTIsLTAuNzcyN10sWy0yLjcxNDcsNC45MzAx
XSxbLTUuMzEzNywyLjE1MThdLFswLjM1OSwtMS41NTc1XSxbNS41ODk4LDEuMjYz
OV0sWy0yLjE0MDcsNS4xNjM4XSxbLTAuMDc2LC0xLjQ1NjFdLFstNS41NTg0LDEu
NDk2Nl0sWzAuMTI1MSwtMC4xNDRdLFstMC45NDk0LDUuNDkxN10sWzIuNzA0MSw0
Ljg2MzNdLFswLjYzOTYsLTAuNzY2MV0sWzUuMTMyMiwtMy4xOTg2XSxbLTQuOTk1
MiwyLjc1OTVdLFstMC40NTE4LC0xLjQzNjhdLFswLjMzMTksLTEuMzAzN10sWy00
LjYyNDksMy4zMDgzXSxbLTQuMTk3LDMuNzkzNV0sWy01LjgxMzUsMC4wMjk4XV0s
InZlcnRleC5jb2wiOlsicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4
LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgy
NywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43
NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcw
NTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgy
NywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzks
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUs
MiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcs
OTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMx
LDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4
OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3
LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwx
MTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0
MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcs
MTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1
Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgy
NywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwy
LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUs
MiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1
LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0
MTE3NjQ3MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgp
IiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3
LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIz
MSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1
Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcw
NTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCww
Ljc1Mjk0MTE3NjQ3MDU4OCkiXSwiYmciOlsicmdiYSgyNTUsMjU1LDI1NSwxKSJd
LCJsYWJlbCI6WyIxMTEgUmFuY2giLCJBZG9iZSBIaWxsIiwiQXJ0aWZhY3QgSGls
bCIsIkFzaCBUZXJyYWNlIiwiQVogQkI6MzoyMiIsIkFaIENDOjE6MyIsIkFaIEND
OjI6MTg1IiwiQVogQ0M6MjozMyhCTE0pIiwiQmFqYWRhIFNpdGUiLCJCYXlsZXNz
IFJ1aW4iLCJCaWcgQmVsbCIsIkJyYWR5IFdhc2giLCJCdXphbiIsIkNhY3R1cyBG
b3Jlc3QiLCJDYXNhIEJ1ZW5hIiwiQ2FzYSBHcmFuZGUiLCJDbHVmZiBSYW5jaCIs
IkNvbnRpbmVudGFsIFNpdGUiLCJDcmVzY2VudCBTaXRlIiwiQ3Jpc21vbiIsIkN1
cnRpcyIsIkN1cnRpcyBSdWluKEJ1ZW5hIFZpc3RhKSIsIkRhdmlzIFJhbmNoIFNp
dGUiLCJEdWRsZXl2aWxsZSBNb3VuZCIsIkVhcnZlbiBGbGF0IFNpdGUiLCJFbCBQ
b2x2b3JvbiIsIkVsbGlvdHQgU2l0ZSIsIkVzY2FsYW50ZSIsIkZpc2NoZXIgc2l0
ZSIsIkZsaWVnZXIiLCJGb3J0IEdyYW50IFB1ZWJsbyIsIkdlcm1hbm4gU2l0ZSIs
IkdpYmJvbiAgU3ByaW5ncyIsIkdvYXQgSGlsbCIsIkdyYW5kIENhbmFsIiwiSGFi
eSBSYW5jaCIsIkhpZ2ggTWVzYSIsIkpvc2UgU29sYXMgUnVpbiIsIkp1bmt5YXJk
IFNpdGUiLCJMYXMgQ2Fub3BhcyIsIkxhcyBDb2xpbmFzIiwiTGFzIEZvc2FzIiwi
TGVhdmVydG9uIiwiTG9zIEd1YW5hY29zIiwiTG9zIE1vcnRlcm9zIiwiTG9zIE11
ZXJ0b3MiLCJMb3N0IE1vdW5kIiwiTWFyaWppbGRhIFJ1aW4iLCJNZXNhIEdyYW5k
ZSIsIk1ldGhvZGlzdCBDaHVyY2giLCJNdXJwaHkgU2l0ZS0tU2FmZm9yZCBFYXN0
IiwiT3dlbnMtQ29sdmluIiwiUGlwZXIgU3ByaW5ncyIsIlB1ZWJsbyBCbGFuY28i
LCJQdWVibG8gZGVsIE1vbnRlIiwiUHVlYmxvIEdyYW5kZSIsIlB1ZWJsbyBTYWxh
ZG8iLCJSYWJpZCBSdWluIiwiUmF0dGxlc25ha2UgTWVzYSIsIlJlZXZlIFJ1aW4i
LCJSaWNoYXJkc29uIE9yY2hhcmQiLCJSaWxsaXRvIEZhbiIsIlJpbmNvbiBDYW55
b24iLCJTYW4gWGF2aWVyIEJyaWRnZSIsIlNlY29uZCBDYW55b24gQ29tcG91bmQi
LCJTaGFyb24gU2l0ZSIsIlNwZWFyIFJhbmNoIiwiU3dpbmdsZSdzIFNhbXBsZSIs
IlRhbnF1ZSBWZXJkZSBWaWxsYWdlIiwiVHJlcyBQdWVibG9zIiwiVHdpbiBIYXdr
cyIsIlZlcmVzIiwiV2ViYiBSdWluIiwiV2VzIEplcm5pZ2FuIFNpdGUiLCJXaGlw
dGFpbCBSdWluIiwiV2hpdG1lciIsIldyaWdodCIsIll1bWEgV2FzaC0tVHVjc29u
IiwiWXVtYSBXYXNoIFNpdGUiLCJaYW5hcmRlbGxpIFNpdGUiXSwieGxhYiI6WyJ0
PTMtNCJdLCJqaXR0ZXIiOltmYWxzZV0sInVzZWFycm93cyI6W2ZhbHNlXSwieGxp
bSI6Wy01LjgxMzUsNS44MTM1XSwieWxpbSI6Wy01LjgxMDgsNS44MTA4XX19LHsi
c3RhcnQiOls0XSwiZW5kIjpbNV0sImRhdGEiOnsiYWN0aXZlIjp7Im5vZGVzIjp7
IjEiOlswXSwiMiI6WzFdLCIzIjpbMl0sIjQiOlszXSwiNSI6WzRdLCI2IjpbNV0s
IjciOls2XSwiOCI6WzddLCI5IjpbOF0sIjEwIjpbOV0sIjExIjpbMTBdLCIxMiI6
WzExXSwiMTMiOlsxMl0sIjE0IjpbMTNdLCIxNSI6WzE0XSwiMTYiOlsxNV0sIjE3
IjpbMTZdLCIxOCI6WzE3XSwiMTkiOlsxOF0sIjIwIjpbMTldLCIyMSI6WzIwXSwi
MjIiOlsyMV0sIjIzIjpbMjJdLCIyNCI6WzIzXSwiMjUiOlsyNF0sIjI2IjpbMjVd
LCIyNyI6WzI2XSwiMjgiOlsyN10sIjI5IjpbMjhdLCIzMCI6WzI5XSwiMzEiOlsz
MF0sIjMyIjpbMzFdLCIzMyI6WzMyXSwiMzQiOlszM10sIjM1IjpbMzRdLCIzNiI6
WzM1XSwiMzciOlszNl0sIjM4IjpbMzddLCIzOSI6WzM4XSwiNDAiOlszOV0sIjQx
IjpbNDBdLCI0MiI6WzQxXSwiNDMiOls0Ml0sIjQ0IjpbNDNdLCI0NSI6WzQ0XSwi
NDYiOls0NV0sIjQ3IjpbNDZdLCI0OCI6WzQ3XSwiNDkiOls0OF0sIjUwIjpbNDld
LCI1MSI6WzUwXSwiNTIiOls1MV0sIjUzIjpbNTJdLCI1NCI6WzUzXSwiNTUiOls1
NF0sIjU2IjpbNTVdLCI1NyI6WzU2XSwiNTgiOls1N10sIjU5IjpbNThdLCI2MCI6
WzU5XSwiNjEiOls2MF0sIjYyIjpbNjFdLCI2MyI6WzYyXSwiNjQiOls2M10sIjY1
IjpbNjRdLCI2NiI6WzY1XSwiNjciOls2Nl0sIjY4IjpbNjddLCI2OSI6WzY4XSwi
NzAiOls2OV0sIjcxIjpbNzBdLCI3MiI6WzcxXSwiNzMiOls3Ml0sIjc0IjpbNzNd
LCI3NSI6Wzc0XSwiNzYiOls3NV0sIjc3IjpbNzZdLCI3OCI6Wzc3XSwiNzkiOls3
OF0sIjgwIjpbNzldfSwiZWRnZXMiOnsiMSI6WzBdLCIyIjpbMV0sIjMiOlsyXSwi
NCI6WzNdLCI1IjpbNF0sIjYiOls1XSwiNyI6WzZdLCI5IjpbN10sIjExIjpbOF0s
IjEyIjpbOV0sIjEzIjpbMTBdLCIxNCI6WzExXSwiMTUiOlsxMl0sIjE2IjpbMTNd
LCIxOCI6WzE0XSwiMjAiOlsxNV0sIjIxIjpbMTZdLCIyMiI6WzE3XSwiMjMiOlsx
OF0sIjI0IjpbMTldLCIyNiI6WzIwXSwiMzciOlsyMV0sIjM4IjpbMjJdLCIzOSI6
WzIzXSwiNDAiOlsyNF0sIjQyIjpbMjVdLCI0NCI6WzI2XSwiNDUiOlsyN10sIjQ2
IjpbMjhdLCI0OCI6WzI5XSwiNTAiOlszMF0sIjUxIjpbMzFdLCI1MyI6WzMyXSwi
NjMiOlszM10sIjY1IjpbMzRdLCI2OCI6WzM1XSwiMTAxIjpbMzZdLCIxMDIiOlsz
N10sIjEwNCI6WzM4XSwiMTA1IjpbMzldLCIxMDYiOls0MF0sIjEwOCI6WzQxXSwi
MTA5IjpbNDJdLCIxMTAiOls0M10sIjExMSI6WzQ0XSwiMTEyIjpbNDVdLCIxMTMi
Ols0Nl0sIjExNCI6WzQ3XSwiMTE2IjpbNDhdLCIxMTciOls0OV0sIjExOCI6WzUw
XSwiMTE5IjpbNTFdLCIxMjAiOls1Ml0sIjEyMSI6WzUzXSwiMTIyIjpbNTRdLCIx
MjUiOls1NV0sIjEyNiI6WzU2XSwiMTI3IjpbNTddLCIxMjgiOls1OF0sIjEyOSI6
WzU5XSwiMTMwIjpbNjBdLCIxMzEiOls2MV0sIjEzMiI6WzYyXSwiMTMzIjpbNjNd
LCIxMzYiOls2NF0sIjEzNyI6WzY1XSwiMTM4IjpbNjZdLCIxMzkiOls2N10sIjE0
MSI6WzY4XSwiMTQyIjpbNjldLCIxNDMiOls3MF0sIjE0NSI6WzcxXSwiMTQ2Ijpb
NzJdLCIxNDgiOls3M10sIjE0OSI6Wzc0XSwiMTUwIjpbNzVdLCIxNTIiOls3Nl0s
IjE1MyI6Wzc3XSwiMTU0IjpbNzhdLCIxNTUiOls3OV0sIjE1NiI6WzgwXSwiMTU3
IjpbODFdLCIxNTgiOls4Ml0sIjE2MCI6WzgzXSwiMTYxIjpbODRdLCIxNjIiOls4
NV0sIjE2MyI6Wzg2XSwiMTY0IjpbODddLCIxNjUiOls4OF0sIjE2NiI6Wzg5XSwi
MTY3IjpbOTBdLCIxNjgiOls5MV0sIjE2OSI6WzkyXSwiMTcwIjpbOTNdLCIxNzEi
Ols5NF0sIjE3MiI6Wzk1XSwiMTczIjpbOTZdLCIxNzQiOls5N10sIjE3NSI6Wzk4
XSwiMTc2IjpbOTldLCIxNzciOlsxMDBdLCIxNzkiOlsxMDFdLCIxODAiOlsxMDJd
LCIxODEiOlsxMDNdLCIxODMiOlsxMDRdLCIxODQiOlsxMDVdLCIxODUiOlsxMDZd
LCIxODciOlsxMDddLCIxODgiOlsxMDhdLCIxOTAiOlsxMDldLCIxOTIiOlsxMTBd
LCIxOTMiOlsxMTFdLCIxOTQiOlsxMTJdLCIxOTciOlsxMTNdLCIyMDMiOlsxMTRd
LCIyMDQiOlsxMTVdLCIyMDUiOlsxMTZdLCIyMDYiOlsxMTddLCIyMDgiOlsxMThd
LCIyMTAiOlsxMTldLCIyMTEiOlsxMjBdLCIyMTIiOlsxMjFdLCIyMTMiOlsxMjJd
LCIyMTQiOlsxMjNdLCIyMTUiOlsxMjRdLCIyMTYiOlsxMjVdLCIyMTciOlsxMjZd
LCIyMTgiOlsxMjddLCIyMTkiOlsxMjhdLCIyMjAiOlsxMjldLCIyMjEiOlsxMzBd
LCIyMjIiOlsxMzFdLCIyMjMiOlsxMzJdLCIyMjQiOlsxMzNdLCIyMjUiOlsxMzRd
LCIyMjYiOlsxMzVdLCIyMjciOlsxMzZdLCIyMjgiOlsxMzddLCIyMjkiOlsxMzhd
LCIyMzAiOlsxMzldLCIyMzEiOlsxNDBdLCIyMzIiOlsxNDFdLCIyMzMiOlsxNDJd
LCIyMzQiOlsxNDNdLCIyMzUiOlsxNDRdLCIyMzYiOlsxNDVdLCIyMzciOlsxNDZd
LCIyMzgiOlsxNDddLCIyMzkiOlsxNDhdLCIyNDAiOlsxNDldLCIyNDEiOlsxNTBd
LCIyNDIiOlsxNTFdLCIyNDMiOlsxNTJdLCIyNDUiOlsxNTNdLCIyNDYiOlsxNTRd
LCIyNDciOlsxNTVdLCIyNDgiOlsxNTZdLCIyNDkiOlsxNTddLCIyNTAiOlsxNThd
LCIyNTEiOlsxNTldLCIyNTIiOlsxNjBdLCIyNTMiOlsxNjFdLCIyNTQiOlsxNjJd
LCIyNTUiOlsxNjNdLCIyNTYiOlsxNjRdLCIyNTciOlsxNjVdLCIyNTgiOlsxNjZd
LCIyNTkiOlsxNjddLCIyNjAiOlsxNjhdLCIyNjEiOlsxNjldLCIyNjIiOlsxNzBd
LCIyNjMiOlsxNzFdLCIyNjQiOlsxNzJdLCIyNjUiOlsxNzNdLCIyNjYiOlsxNzRd
LCIyNjciOlsxNzVdLCIyNjgiOlsxNzZdLCIyNjkiOlsxNzddLCIyNzAiOlsxNzhd
LCIyNzEiOlsxNzldLCIyNzIiOlsxODBdLCIyNzMiOlsxODFdLCIyNzQiOlsxODJd
LCIyNzUiOlsxODNdLCIyNzYiOlsxODRdLCIyNzciOlsxODVdLCIyNzgiOlsxODZd
LCIyODIiOlsxODddLCIyODUiOlsxODhdLCIyODYiOlsxODldLCIyODgiOlsxOTBd
LCIyODkiOlsxOTFdLCIyOTEiOlsxOTJdLCIyOTQiOlsxOTNdLCIyOTUiOlsxOTRd
LCIyOTYiOlsxOTVdLCIyOTciOlsxOTZdLCIyOTgiOlsxOTddLCIyOTkiOlsxOThd
LCIzMDAiOlsxOTldLCIzMDEiOlsyMDBdLCIzMDMiOlsyMDFdLCIzMDQiOlsyMDJd
LCIzMDUiOlsyMDNdLCIzMDYiOlsyMDRdLCIzMDciOlsyMDVdLCIzMDgiOlsyMDZd
LCIzMDkiOlsyMDddLCIzMTAiOlsyMDhdLCIzMTEiOlsyMDldLCIzMTIiOlsyMTBd
LCIzMTMiOlsyMTFdLCIzMTUiOlsyMTJdLCIzMTYiOlsyMTNdLCIzMTgiOlsyMTRd
LCIzMTkiOlsyMTVdLCIzMjAiOlsyMTZdLCIzMjEiOlsyMTddLCIzMjIiOlsyMThd
LCIzMjMiOlsyMTldLCIzMjQiOlsyMjBdLCIzMjUiOlsyMjFdLCIzMjYiOlsyMjJd
LCIzMjciOlsyMjNdLCIzMjgiOlsyMjRdLCIzMjkiOlsyMjVdLCIzMzAiOlsyMjZd
LCIzMzEiOlsyMjddLCIzMzIiOlsyMjhdLCIzMzMiOlsyMjldLCIzMzQiOlsyMzBd
LCIzMzUiOlsyMzFdLCIzMzYiOlsyMzJdLCIzMzciOlsyMzNdLCIzMzgiOlsyMzRd
LCIzMzkiOlsyMzVdLCIzNDEiOlsyMzZdLCIzNDIiOlsyMzddLCIzNDMiOlsyMzhd
LCIzNDQiOlsyMzldLCIzNDUiOlsyNDBdLCIzNDYiOlsyNDFdLCIzNDciOlsyNDJd
LCIzNDgiOlsyNDNdLCIzNDkiOlsyNDRdLCIzNTAiOlsyNDVdLCIzNTEiOlsyNDZd
LCIzNTIiOlsyNDddLCIzNTMiOlsyNDhdLCIzNTQiOlsyNDldLCIzNTUiOlsyNTBd
LCIzNTYiOlsyNTFdLCIzNTciOlsyNTJdLCIzNTgiOlsyNTNdLCIzNTkiOlsyNTRd
LCIzNjAiOlsyNTVdLCIzNjEiOlsyNTZdLCIzNjIiOlsyNTddLCIzNjMiOlsyNThd
LCIzNjQiOlsyNTldLCIzNjUiOlsyNjBdLCIzNjYiOlsyNjFdLCIzNjciOlsyNjJd
LCIzNjgiOlsyNjNdLCIzNjkiOlsyNjRdLCIzNzAiOlsyNjVdLCIzNzEiOlsyNjZd
LCIzNzIiOlsyNjddLCIzNzMiOlsyNjhdLCIzNzQiOlsyNjldLCIzNzUiOlsyNzBd
LCIzNzYiOlsyNzFdLCIzNzciOlsyNzJdLCIzNzgiOlsyNzNdLCIzNzkiOlsyNzRd
LCIzODAiOlsyNzVdLCIzODEiOlsyNzZdLCIzODIiOlsyNzddLCIzODMiOlsyNzhd
LCIzODQiOlsyNzldLCIzODUiOlsyODBdLCIzODYiOlsyODFdLCIzODciOlsyODJd
LCIzODgiOlsyODNdLCIzODkiOlsyODRdLCIzOTAiOlsyODVdLCIzOTEiOlsyODZd
LCIzOTIiOlsyODddLCIzOTMiOlsyODhdLCIzOTQiOlsyODldLCIzOTUiOlsyOTBd
LCIzOTYiOlsyOTFdLCIzOTciOlsyOTJdLCIzOTgiOlsyOTNdLCIzOTkiOlsyOTRd
LCI0MDAiOlsyOTVdLCI0MDEiOlsyOTZdLCI0MDIiOlsyOTddLCI0MDMiOlsyOThd
LCI0MDQiOlsyOTldLCI0MDUiOlszMDBdLCI0MDYiOlszMDFdLCI0MDciOlszMDJd
LCI0MDgiOlszMDNdLCI0MDkiOlszMDRdLCI0MTAiOlszMDVdLCI0MTEiOlszMDZd
LCI0MTIiOlszMDddLCI0MTMiOlszMDhdLCI0MTQiOlszMDldLCI0MTUiOlszMTBd
LCI0MTYiOlszMTFdLCI0MTciOlszMTJdLCI0MTgiOlszMTNdLCI0MTkiOlszMTRd
LCI0MjAiOlszMTVdLCI0MjEiOlszMTZdLCI0MjIiOlszMTddLCI0MjMiOlszMThd
LCI0MjQiOlszMTldLCI0MjUiOlszMjBdLCI0MjYiOlszMjFdLCI0MjciOlszMjJd
LCI0MjgiOlszMjNdLCI0MjkiOlszMjRdLCI0MzEiOlszMjVdLCI0MzIiOlszMjZd
LCI0MzMiOlszMjddLCI0MzQiOlszMjhdLCI0MzUiOlszMjldLCI0MzYiOlszMzBd
LCI0MzciOlszMzFdLCI0MzgiOlszMzJdLCI0MzkiOlszMzNdLCI0NDAiOlszMzRd
LCI0NDEiOlszMzVdLCI0NDIiOlszMzZdLCI0NDMiOlszMzddLCI0NDQiOlszMzhd
LCI0NDUiOlszMzldLCI0NDYiOlszNDBdLCI0NDciOlszNDFdLCI0NDgiOlszNDJd
LCI0NDkiOlszNDNdLCI0NTEiOlszNDRdLCI0NTIiOlszNDVdLCI0NTMiOlszNDZd
LCI0NTQiOlszNDddLCI0NTUiOlszNDhdLCI0NTYiOlszNDldLCI0NTciOlszNTBd
LCI0NTgiOlszNTFdLCI0NTkiOlszNTJdLCI0NjAiOlszNTNdLCI0NjEiOlszNTRd
LCI0NjIiOlszNTVdLCI0NjMiOlszNTZdLCI0NjQiOlszNTddLCI0NjUiOlszNThd
LCI0NjYiOlszNTldLCI0NjciOlszNjBdLCI0NjgiOlszNjFdLCI0NjkiOlszNjJd
LCI0NzAiOlszNjNdLCI0NzEiOlszNjRdLCI0NzIiOlszNjVdLCI0NzMiOlszNjZd
LCI0NzQiOlszNjddLCI0NzUiOlszNjhdLCI0NzYiOlszNjldLCI0NzciOlszNzBd
LCI0NzgiOlszNzFdLCI0NzkiOlszNzJdLCI0ODAiOlszNzNdLCI0ODEiOlszNzRd
LCI0ODIiOlszNzVdLCI0ODMiOlszNzZdLCI0ODQiOlszNzddLCI0ODUiOlszNzhd
LCI0ODYiOlszNzldLCI0ODgiOlszODBdLCI0ODkiOlszODFdLCI0OTAiOlszODJd
LCI0OTEiOlszODNdLCI0OTIiOlszODRdLCI0OTMiOlszODVdLCI0OTQiOlszODZd
LCI0OTUiOlszODddLCI0OTYiOlszODhdLCI0OTciOlszODldLCI0OTgiOlszOTBd
LCI0OTkiOlszOTFdLCI1MDAiOlszOTJdLCI1MDEiOlszOTNdLCI1MDIiOlszOTRd
LCI1MDMiOlszOTVdLCI1MDQiOlszOTZdLCI1MDUiOlszOTddLCI1MDYiOlszOThd
LCI1MDciOlszOTldLCI1MDgiOls0MDBdLCI1MDkiOls0MDFdLCI1MTAiOls0MDJd
LCI1MTEiOls0MDNdLCI1MTIiOls0MDRdLCI1MTMiOls0MDVdLCI1MTUiOls0MDZd
LCI1MTYiOls0MDddLCI1MTciOls0MDhdLCI1MTgiOls0MDldLCI1MTkiOls0MTBd
LCI1MjAiOls0MTFdLCI1MjEiOls0MTJdLCI1MjIiOls0MTNdLCI1MjMiOls0MTRd
LCI1MjQiOls0MTVdLCI1MjUiOls0MTZdLCI1MjYiOls0MTddLCI1MjciOls0MThd
LCI1MjgiOls0MTldLCI1MjkiOls0MjBdLCI1MzAiOls0MjFdLCI1MzEiOls0MjJd
LCI1MzIiOls0MjNdLCI1MzMiOls0MjRdLCI1MzQiOls0MjVdLCI1MzUiOls0MjZd
LCI1MzYiOls0MjddLCI1MzciOls0MjhdLCI1MzgiOls0MjldLCI1MzkiOls0MzBd
LCI1NDAiOls0MzFdLCI1NDEiOls0MzJdLCI1NDIiOls0MzNdLCI1NDMiOls0MzRd
LCI1NDQiOls0MzVdLCI1NDUiOls0MzZdLCI1NDYiOls0MzddLCI1NDciOls0Mzhd
LCI1NDgiOls0MzldLCI1NDkiOls0NDBdLCI1NTAiOls0NDFdLCI1NTEiOls0NDJd
LCI1NTIiOls0NDNdLCI1NTMiOls0NDRdLCI1NTQiOls0NDVdLCI1NTUiOls0NDZd
LCI1NTYiOls0NDddLCI1NTciOls0NDhdLCI1NTgiOls0NDldLCI1NTkiOls0NTBd
LCI1NjAiOls0NTFdLCI1NjEiOls0NTJdLCI1NjIiOls0NTNdLCI1NjMiOls0NTRd
LCI1NjQiOls0NTVdLCI1NjUiOls0NTZdLCI1NjYiOls0NTddLCI1NjciOls0NThd
LCI1NjgiOls0NTldLCI1NjkiOls0NjBdLCI1NzAiOls0NjFdLCI1NzEiOls0NjJd
LCI1NzIiOls0NjNdLCI1NzMiOls0NjRdLCI1NzQiOls0NjVdLCI1NzUiOls0NjZd
LCI1NzYiOls0NjddLCI1NzciOls0NjhdLCI1NzgiOls0NjldLCI1NzkiOls0NzBd
LCI1ODAiOls0NzFdLCI1ODEiOls0NzJdLCI1ODIiOls0NzNdLCI1ODMiOls0NzRd
LCI1ODQiOls0NzVdLCI1ODUiOls0NzZdLCI1ODYiOls0NzddLCI1ODciOls0Nzhd
LCI1ODgiOls0NzldLCI1ODkiOls0ODBdLCI1OTAiOls0ODFdLCI1OTEiOls0ODJd
LCI1OTIiOls0ODNdLCI1OTMiOls0ODRdLCI1OTQiOls0ODVdLCI1OTUiOls0ODZd
LCI1OTYiOls0ODddLCI1OTciOls0ODhdLCI1OTgiOls0ODldLCI1OTkiOls0OTBd
LCI2MDAiOls0OTFdLCI2MDEiOls0OTJdLCI2MDIiOls0OTNdLCI2MDMiOls0OTRd
LCI2MDQiOls0OTVdLCI2MDUiOls0OTZdLCI2MDciOls0OTddLCI2MDgiOls0OThd
LCI2MDkiOls0OTldLCI2MTAiOls1MDBdLCI2MTEiOls1MDFdLCI2MTIiOls1MDJd
LCI2MTMiOls1MDNdLCI2MTQiOls1MDRdLCI2MTUiOls1MDVdLCI2MTYiOls1MDZd
LCI2MTciOls1MDddLCI2MTgiOls1MDhdLCI2MTkiOls1MDldLCI2MjAiOls1MTBd
LCI2MjEiOls1MTFdLCI2MjIiOls1MTJdLCI2MjMiOls1MTNdLCI2MjQiOls1MTRd
LCI2MjUiOls1MTVdLCI2MjYiOls1MTZdLCI2MjciOls1MTddLCI2MjgiOls1MThd
LCI2MjkiOls1MTldLCI2MzAiOls1MjBdLCI2MzEiOls1MjFdLCI2MzIiOls1MjJd
LCI2MzMiOls1MjNdLCI2MzQiOls1MjRdLCI2MzUiOls1MjVdLCI2MzYiOls1MjZd
LCI2MzciOls1MjddLCI2MzgiOls1MjhdLCI2MzkiOls1MjldLCI2NDAiOls1MzBd
LCI2NDEiOls1MzFdLCI2NDMiOls1MzJdLCI2NDQiOls1MzNdLCI2NDUiOls1MzRd
LCI2NDYiOls1MzVdLCI2NDciOls1MzZdLCI2NDgiOls1MzddLCI2NDkiOls1Mzhd
LCI2NTAiOls1MzldLCI2NTEiOls1NDBdLCI2NTIiOls1NDFdLCI2NTMiOls1NDJd
LCI2NTQiOls1NDNdLCI2NTYiOls1NDRdLCI2NTciOls1NDVdLCI2NTgiOls1NDZd
LCI2NTkiOls1NDddLCI2NjAiOls1NDhdLCI2NjEiOls1NDldLCI2NjIiOls1NTBd
LCI2NjMiOls1NTFdLCI2NjQiOls1NTJdLCI2NjUiOls1NTNdLCI2NjYiOls1NTRd
LCI2NjciOls1NTVdLCI2NjgiOls1NTZdLCI2NjkiOls1NTddLCI2NzAiOls1NThd
LCI2NzEiOls1NTldLCI2NzIiOls1NjBdLCI2NzMiOls1NjFdLCI2NzQiOls1NjJd
LCI2NzUiOls1NjNdLCI2NzYiOls1NjRdLCI2NzciOls1NjVdLCI2NzgiOls1NjZd
LCI2NzkiOls1NjddLCI2ODAiOls1NjhdLCI2ODEiOls1NjldLCI2ODIiOls1NzBd
LCI2ODMiOls1NzFdLCI2ODQiOls1NzJdLCI2ODUiOls1NzNdLCI2ODYiOls1NzRd
LCI2ODciOls1NzVdLCI2ODgiOls1NzZdLCI2ODkiOls1NzddLCI2OTAiOls1Nzhd
LCI2OTEiOls1NzldLCI2OTIiOls1ODBdLCI2OTMiOls1ODFdLCI2OTQiOls1ODJd
LCI2OTUiOls1ODNdLCI2OTYiOls1ODRdLCI2OTciOls1ODVdLCI2OTgiOls1ODZd
LCI2OTkiOls1ODddLCI3MDAiOls1ODhdLCI3MDEiOls1ODldLCI3MDIiOls1OTBd
LCI3MDMiOls1OTFdLCI3MDQiOls1OTJdLCI3MDUiOls1OTNdLCI3MDYiOls1OTRd
LCI3MDciOls1OTVdLCI3MDgiOls1OTZdLCI3MDkiOls1OTddLCI3MTAiOls1OThd
LCI3MTEiOls1OTldLCI3MTMiOls2MDBdLCI3MTQiOls2MDFdLCI3MTUiOls2MDJd
LCI3MTYiOls2MDNdLCI3MTciOls2MDRdLCI3MTgiOls2MDVdLCI3MTkiOls2MDZd
LCI3MjAiOls2MDddLCI3MjEiOls2MDhdLCI3MjIiOls2MDldLCI3MjMiOls2MTBd
LCI3MjQiOls2MTFdLCI3MjUiOls2MTJdLCI3MjYiOls2MTNdLCI3MjgiOls2MTRd
LCI3MjkiOls2MTVdLCI3MzAiOls2MTZdLCI3MzEiOls2MTddLCI3MzIiOls2MThd
LCI3MzMiOls2MTldLCI3MzQiOls2MjBdLCI3MzUiOls2MjFdLCI3MzYiOls2MjJd
LCI3MzciOls2MjNdLCI3MzgiOls2MjRdLCI3MzkiOls2MjVdLCI3NDAiOls2MjZd
LCI3NDEiOls2MjddLCI3NDIiOls2MjhdLCI3NDMiOls2MjldLCI3NDQiOls2MzBd
LCI3NDUiOls2MzFdLCI3NDYiOls2MzJdLCI3NDciOls2MzNdLCI3NDkiOls2MzRd
LCI3NTAiOls2MzVdLCI3NTEiOls2MzZdLCI3NTIiOls2MzddLCI3NTMiOls2Mzhd
LCI3NTQiOls2MzldLCI3NTUiOls2NDBdLCI3NTYiOls2NDFdLCI3NTgiOls2NDJd
LCI3NTkiOls2NDNdLCI3NjAiOls2NDRdLCI3NjEiOls2NDVdLCI3NjIiOls2NDZd
LCI3NjMiOls2NDddLCI3NjQiOls2NDhdLCI3NjYiOls2NDldLCI3NjciOls2NTBd
LCI3NjgiOls2NTFdLCI3NjkiOls2NTJdLCI3NzAiOls2NTNdLCI3NzEiOls2NTRd
LCI3NzMiOls2NTVdLCI3NzQiOls2NTZdLCI3NzUiOls2NTddLCI3NzYiOls2NThd
LCI3NzciOls2NTldLCI3NzgiOls2NjBdLCI3NzkiOls2NjFdLCI3ODAiOls2NjJd
LCI3ODEiOls2NjNdLCI3ODIiOls2NjRdLCI3ODMiOls2NjVdLCI3ODQiOls2NjZd
LCI3ODYiOls2NjddLCI3ODciOls2NjhdLCI3ODgiOls2NjldLCI3ODkiOls2NzBd
LCI3OTAiOls2NzFdLCI3OTEiOls2NzJdLCI3OTMiOls2NzNdLCI3OTQiOls2NzRd
LCI3OTUiOls2NzVdLCI3OTYiOls2NzZdLCI3OTciOls2NzddLCI3OTgiOls2Nzhd
LCI3OTkiOls2NzldLCI4MDAiOls2ODBdLCI4MDEiOls2ODFdLCI4MDIiOls2ODJd
LCI4MDMiOls2ODNdLCI4MDQiOls2ODRdLCI4MDUiOls2ODVdLCI4MDYiOls2ODZd
LCI4MDciOls2ODddLCI4MDgiOls2ODhdLCI4MDkiOls2ODldLCI4MTAiOls2OTBd
LCI4MTEiOls2OTFdfX0sImNvb3JkIjpbWzAuMTUyNiw0LjE5MTldLFstMC4zNTc2
LC0yLjE2MjNdLFswLjcxMzUsLTIuNTk5Ml0sWy0wLjAwNzgsLTMuODA0N10sWzAu
Mzc1MSwtMy41OTk4XSxbNS4zMzkzLDAuNzk2XSxbMC43MjM0LDQuODYxMl0sWzUu
NzIyLC0wLjkwNzJdLFswLjAzNjQsLTEuOTk4Nl0sWzAuMTg0OSwtMi45NjY1XSxb
MC41MzIsLTQuMTI2N10sWy0wLjI4MTksLTIuNTMyMV0sWzEuNjUyMiw0LjY5NDld
LFstMC41NzQzLC0yLjQyN10sWzAuNDc0MiwtMS45NDk3XSxbMC4yNDY4LC0yLjI5
NTldLFszLjk2MDMsMi45Nzk0XSxbLTUuMjE5NSwxLjMwNDFdLFswLjg3NjQsLTIu
MzM5Ml0sWzAuODM3NywtMS45NjU3XSxbMC41NTU1LC0yLjkxMzVdLFsxLjkzNTIs
LTQuMDk5Nl0sWzAuNjEwMSwtMi4zNzA5XSxbLTAuMDk2NSwtMi4zMjE4XSxbLTAu
MzUxNCw0Ljk3NTNdLFstNS4yMDQ0LC0zLjY0MDJdLFstMC4wMTc4LC0yLjk3ODhd
LFstMC4yMDA2LC0xLjkxMTVdLFsxLjAxOTIsNC4wMjcyXSxbMC42MjcxLC0yLjc5
NzddLFsxLjczMTEsLTMuMTA0N10sWzAuMjM2LC0xLjg0Ml0sWy01LjU3MjYsMC4x
NTc4XSxbLTIuNTM5NCwzLjYzNDddLFswLjM3NjUsLTEuNjI0OF0sWy0wLjAzMTQs
LTIuNzkxM10sWzIuMzUxOCwtMy40MzU4XSxbLTAuMzU4OSwtMi43Nzc5XSxbMC4x
Njk3LC0yLjY0ODJdLFs0LjMzMzMsMi41MTA5XSxbMy4wNzE4LDMuNjk4N10sWy0w
LjAwOTUsLTEuNjQyOF0sWzEuMjc5MywtMy41ODczXSxbLTAuNTE1OCwtMi4wMjUy
XSxbLTUuNjc5NSwtMC40NzE3XSxbMi42MjQ5LDQuMTA5OV0sWy0wLjE4MDIsLTQu
OTc1M10sWzUuMDQyMSwxLjQ0OThdLFstNS43MjIsLTEuMTQ4Nl0sWy0zLjMzMDYs
My45NzRdLFszLjQ1NDUsMy4yNzk4XSxbLTUuNjgxNywtMS44ODI5XSxbMC40MDA3
LC0yLjYwM10sWy0wLjE5NjYsLTEuNjg4Ml0sWzAuNTU2MiwtMS42OTg1XSxbMC43
MDU5LC0xLjgxOTRdLFstMC4zOTMyLC0xLjgzOTZdLFstNS41MzI2LC0yLjY5MTRd
LFsxLjA4NCwtMy40NjI4XSxbMC44ODc3LC0yLjU2NV0sWy0xLjQzNTMsNC44MjY4
XSxbLTAuNTcyNCwtMi4yNDM1XSxbLTIuMzg5OSw0LjQ5OTNdLFstNC43NjQ0LDIu
NDAyN10sWzAuNjM2NCwtMy40NTI0XSxbNC43MDY5LDIuMDE5N10sWy0xLjY1MzEs
My45MDc5XSxbLTAuMjc0MywtMi45MTE5XSxbLTQuODQ1MSwxLjc3MjhdLFswLjE3
MzcsLTEuNTkzXSxbLTAuNzk5MSw0LjIzMjldLFsxLjk4MzUsMy45NTg1XSxbMC43
MjY2LC0yLjEyNjRdLFs1LjU4ODgsLTAuMDIyNV0sWy00LjA4OTcsMi41NDA5XSxb
LTAuNDY0MywtMi43MDY4XSxbMC4zNDc2LC0yLjk1OTddLFstNC4xMTEzLDMuMzM2
Nl0sWy0zLjI4NTMsMy4wNDY4XSxbLTUuMzk5NSwwLjc1NDNdXSwidmVydGV4LmNv
bCI6WyJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3
OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwi
cmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwy
LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDEx
MiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTks
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3
MDU4OCkiLCJyZ2JhKDIzMSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTks
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3
NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJn
YmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEy
LDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcs
MTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUy
OTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3
LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1
ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEo
MjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgs
MTE5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0
MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIz
MSw0MSwxMzgsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAu
NzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcw
NTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgx
MTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTks
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyNywxNTgsMTE5LDAuNzUyOTQxMTc2
NDcwNTg4KSIsInJnYmEoMjcsMTU4LDExOSwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJy
Z2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEs
MTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIsMC43NTI5NDEx
NzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQx
LDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQx
MTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCki
LCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3
LDk1LDIsMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0
MTE3NjQ3MDU4OCkiLCJyZ2JhKDExNywxMTIsMTc5LDAuNzUyOTQxMTc2NDcwNTg4
KSIsInJnYmEoMjMxLDQxLDEzOCwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3
LDE1OCwxMTksMC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgxMTcsMTEyLDE3OSww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDI3LDE1OCwxMTksMC43NTI5NDExNzY0
NzA1ODgpIiwicmdiYSgyMTcsOTUsMiwwLjc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2Jh
KDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjMxLDQxLDEzOCww
Ljc1Mjk0MTE3NjQ3MDU4OCkiLCJyZ2JhKDIxNyw5NSwyLDAuNzUyOTQxMTc2NDcw
NTg4KSIsInJnYmEoMTE3LDExMiwxNzksMC43NTI5NDExNzY0NzA1ODgpIiwicmdi
YSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2NDcwNTg4KSIsInJnYmEoMjE3LDk1LDIs
MC43NTI5NDExNzY0NzA1ODgpIiwicmdiYSgyMzEsNDEsMTM4LDAuNzUyOTQxMTc2
NDcwNTg4KSJdLCJiZyI6WyJyZ2JhKDI1NSwyNTUsMjU1LDEpIl0sImxhYmVsIjpb
IjExMSBSYW5jaCIsIkFkb2JlIEhpbGwiLCJBcnRpZmFjdCBIaWxsIiwiQXNoIFRl
cnJhY2UiLCJBWiBCQjozOjIyIiwiQVogQ0M6MTozIiwiQVogQ0M6MjoxODUiLCJB
WiBDQzoyOjMzKEJMTSkiLCJCYWphZGEgU2l0ZSIsIkJheWxlc3MgUnVpbiIsIkJp
ZyBCZWxsIiwiQnJhZHkgV2FzaCIsIkJ1emFuIiwiQ2FjdHVzIEZvcmVzdCIsIkNh
c2EgQnVlbmEiLCJDYXNhIEdyYW5kZSIsIkNsdWZmIFJhbmNoIiwiQ29udGluZW50
YWwgU2l0ZSIsIkNyZXNjZW50IFNpdGUiLCJDcmlzbW9uIiwiQ3VydGlzIiwiQ3Vy
dGlzIFJ1aW4oQnVlbmEgVmlzdGEpIiwiRGF2aXMgUmFuY2ggU2l0ZSIsIkR1ZGxl
eXZpbGxlIE1vdW5kIiwiRWFydmVuIEZsYXQgU2l0ZSIsIkVsIFBvbHZvcm9uIiwi
RWxsaW90dCBTaXRlIiwiRXNjYWxhbnRlIiwiRmlzY2hlciBzaXRlIiwiRmxpZWdl
ciIsIkZvcnQgR3JhbnQgUHVlYmxvIiwiR2VybWFubiBTaXRlIiwiR2liYm9uICBT
cHJpbmdzIiwiR29hdCBIaWxsIiwiR3JhbmQgQ2FuYWwiLCJIYWJ5IFJhbmNoIiwi
SGlnaCBNZXNhIiwiSm9zZSBTb2xhcyBSdWluIiwiSnVua3lhcmQgU2l0ZSIsIkxh
cyBDYW5vcGFzIiwiTGFzIENvbGluYXMiLCJMYXMgRm9zYXMiLCJMZWF2ZXJ0b24i
LCJMb3MgR3VhbmFjb3MiLCJMb3MgTW9ydGVyb3MiLCJMb3MgTXVlcnRvcyIsIkxv
c3QgTW91bmQiLCJNYXJpamlsZGEgUnVpbiIsIk1lc2EgR3JhbmRlIiwiTWV0aG9k
aXN0IENodXJjaCIsIk11cnBoeSBTaXRlLS1TYWZmb3JkIEVhc3QiLCJPd2Vucy1D
b2x2aW4iLCJQaXBlciBTcHJpbmdzIiwiUHVlYmxvIEJsYW5jbyIsIlB1ZWJsbyBk
ZWwgTW9udGUiLCJQdWVibG8gR3JhbmRlIiwiUHVlYmxvIFNhbGFkbyIsIlJhYmlk
IFJ1aW4iLCJSYXR0bGVzbmFrZSBNZXNhIiwiUmVldmUgUnVpbiIsIlJpY2hhcmRz
b24gT3JjaGFyZCIsIlJpbGxpdG8gRmFuIiwiUmluY29uIENhbnlvbiIsIlNhbiBY
YXZpZXIgQnJpZGdlIiwiU2Vjb25kIENhbnlvbiBDb21wb3VuZCIsIlNoYXJvbiBT
aXRlIiwiU3BlYXIgUmFuY2giLCJTd2luZ2xlJ3MgU2FtcGxlIiwiVGFucXVlIFZl
cmRlIFZpbGxhZ2UiLCJUcmVzIFB1ZWJsb3MiLCJUd2luIEhhd2tzIiwiVmVyZXMi
LCJXZWJiIFJ1aW4iLCJXZXMgSmVybmlnYW4gU2l0ZSIsIldoaXB0YWlsIFJ1aW4i
LCJXaGl0bWVyIiwiV3JpZ2h0IiwiWXVtYSBXYXNoLS1UdWNzb24iLCJZdW1hIFdh
c2ggU2l0ZSIsIlphbmFyZGVsbGkgU2l0ZSJdLCJ4bGFiIjpbInQ9NC01Il0sImpp
dHRlciI6W2ZhbHNlXSwidXNlYXJyb3dzIjpbZmFsc2VdLCJ4bGltIjpbLTUuODEz
NSw1LjgxMzVdLCJ5bGltIjpbLTUuODEwOCw1LjgxMDhdfX1dLCJuZXR3b3JrIjp7
Im1lbCI6W3siaW5sIjpbMTVdLCJvdXRsIjpbMTJdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDJdLFszLDVdXX19LHsiaW5sIjpbMTZdLCJvdXRsIjpb
MTJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdLFszLDVdXX19
LHsiaW5sIjpbMjBdLCJvdXRsIjpbMTJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDJdLFszLDVdXX19LHsiaW5sIjpbMjhdLCJvdXRsIjpbMTJdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMzJd
LCJvdXRsIjpbMTJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJd
LFszLDVdXX19LHsiaW5sIjpbMzVdLCJvdXRsIjpbMTJdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1swLDJdLFszLDVdXX19LHsiaW5sIjpbMzldLCJvdXRs
IjpbMTJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDFdLFszLDVd
XX19LHsiaW5sIjpbNDBdLCJvdXRsIjpbMTJdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNTZdLCJvdXRsIjpbMTJdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdLFszLDVdXX19LHsiaW5sIjpb
NzJdLCJvdXRsIjpbMTJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDJdXX19LHsiaW5sIjpbMTZdLCJvdXRsIjpbMTVdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMjBdLCJvdXRsIjpbMTVdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMjhd
LCJvdXRsIjpbMTVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVd
XX19LHsiaW5sIjpbMzJdLCJvdXRsIjpbMTVdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMzVdLCJvdXRsIjpbMTVdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMzldLCJv
dXRsIjpbMTVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDFdLFsz
LDVdXX19LHsiaW5sIjpbNDBdLCJvdXRsIjpbMTVdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNTZdLCJvdXRsIjpbMTVdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbNzJd
LCJvdXRsIjpbMTVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNd
XX19LHsiaW5sIjpbMjBdLCJvdXRsIjpbMTZdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMjhdLCJvdXRsIjpbMTZdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdLFszLDVdXX19LHsiaW5sIjpb
MzJdLCJvdXRsIjpbMTZdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDVdXX19LHsiaW5sIjpbMzVdLCJvdXRsIjpbMTZdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMzldLCJvdXRsIjpbMTZdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDFdLFszLDVdXX19LHsiaW5s
IjpbNDBdLCJvdXRsIjpbMTZdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1swLDJdXX19LHsiaW5sIjpbNTZdLCJvdXRsIjpbMTZdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbNzJdLCJvdXRsIjpbMTZd
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpb
MzNdLCJvdXRsIjpbMThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDJdXX19LHsiaW5sIjpbNDVdLCJvdXRsIjpbMThdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNThdLCJvdXRsIjpbMThdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNjJd
LCJvdXRsIjpbMThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJd
XX19LHsiaW5sIjpbNjRdLCJvdXRsIjpbMThdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNjldLCJvdXRsIjpbMThdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzVdLCJv
dXRsIjpbMThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19
LHsiaW5sIjpbNzhdLCJvdXRsIjpbMThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbODBdLCJvdXRsIjpbMThdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbMjhdLCJvdXRs
IjpbMjBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsi
aW5sIjpbMzJdLCJvdXRsIjpbMjBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1swLDVdXX19LHsiaW5sIjpbMzVdLCJvdXRsIjpbMjBdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMzldLCJvdXRsIjpb
MjBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDFdLFszLDVdXX19
LHsiaW5sIjpbNDBdLCJvdXRsIjpbMjBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNTZdLCJvdXRsIjpbMjBdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbNzJdLCJvdXRs
IjpbMjBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsi
aW5sIjpbMzJdLCJvdXRsIjpbMjhdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1swLDVdXX19LHsiaW5sIjpbMzVdLCJvdXRsIjpbMjhdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbMzldLCJvdXRsIjpb
MjhdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDFdLFszLDVdXX19
LHsiaW5sIjpbNDBdLCJvdXRsIjpbMjhdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNTZdLCJvdXRsIjpbMjhdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbNzJdLCJvdXRs
IjpbMjhdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsi
aW5sIjpbMzVdLCJvdXRsIjpbMzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1swLDVdXX19LHsiaW5sIjpbMzldLCJvdXRsIjpbMzJdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1swLDFdLFszLDVdXX19LHsiaW5sIjpbNDBdLCJv
dXRsIjpbMzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19
LHsiaW5sIjpbNTZdLCJvdXRsIjpbMzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDVdXX19LHsiaW5sIjpbNzJdLCJvdXRsIjpbMzJdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNDVdLCJvdXRs
IjpbMzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsi
aW5sIjpbNThdLCJvdXRsIjpbMzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1swLDJdXX19LHsiaW5sIjpbNjJdLCJvdXRsIjpbMzNdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNjRdLCJvdXRsIjpb
MzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5s
IjpbNjldLCJvdXRsIjpbMzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1swLDJdXX19LHsiaW5sIjpbNzVdLCJvdXRsIjpbMzNdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNzhdLCJvdXRsIjpbMzNd
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpb
ODBdLCJvdXRsIjpbMzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDJdXX19LHsiaW5sIjpbMzldLCJvdXRsIjpbMzVdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDFdLFszLDVdXX19LHsiaW5sIjpbNDBdLCJvdXRsIjpb
MzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5s
IjpbNTZdLCJvdXRsIjpbMzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1swLDVdXX19LHsiaW5sIjpbNzJdLCJvdXRsIjpbMzVdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNDBdLCJvdXRsIjpbMzld
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDFdXX19LHsiaW5sIjpb
NTZdLCJvdXRsIjpbMzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDFdLFszLDVdXX19LHsiaW5sIjpbNzJdLCJvdXRsIjpbMzldLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1swLDFdXX19LHsiaW5sIjpbNTZdLCJvdXRsIjpb
NDBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5s
IjpbNzJdLCJvdXRsIjpbNDBdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1swLDJdXX19LHsiaW5sIjpbNThdLCJvdXRsIjpbNDVdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNjJdLCJvdXRsIjpbNDVd
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpb
NjRdLCJvdXRsIjpbNDVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDNdXX19LHsiaW5sIjpbNjldLCJvdXRsIjpbNDVdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzVdLCJvdXRsIjpbNDVdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzhd
LCJvdXRsIjpbNDVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNd
XX19LHsiaW5sIjpbODBdLCJvdXRsIjpbNDVdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzJdLCJvdXRsIjpbNTZdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNjJdLCJv
dXRsIjpbNThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19
LHsiaW5sIjpbNjRdLCJvdXRsIjpbNThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNjldLCJvdXRsIjpbNThdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNzVdLCJvdXRs
IjpbNThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsi
aW5sIjpbNzhdLCJvdXRsIjpbNThdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1swLDJdXX19LHsiaW5sIjpbODBdLCJvdXRsIjpbNThdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNjRdLCJvdXRsIjpb
NjJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5s
IjpbNjldLCJvdXRsIjpbNjJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1swLDJdXX19LHsiaW5sIjpbNzVdLCJvdXRsIjpbNjJdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpbNzhdLCJvdXRsIjpbNjJd
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDJdXX19LHsiaW5sIjpb
ODBdLCJvdXRsIjpbNjJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sw
LDJdXX19LHsiaW5sIjpbNjldLCJvdXRsIjpbNjRdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzVdLCJvdXRsIjpbNjRdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzhd
LCJvdXRsIjpbNjRdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNd
XX19LHsiaW5sIjpbODBdLCJvdXRsIjpbNjRdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzVdLCJvdXRsIjpbNjldLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzhdLCJv
dXRsIjpbNjldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19
LHsiaW5sIjpbODBdLCJvdXRsIjpbNjldLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbNzhdLCJvdXRsIjpbNzVdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsiaW5sIjpbODBdLCJvdXRs
IjpbNzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1swLDNdXX19LHsi
aW5sIjpbODBdLCJvdXRsIjpbNzhdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1swLDNdXX19LHsiaW5sIjpbMTldLCJvdXRsIjpbM10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzEsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOls0
XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMSw1XV19fSx7ImlubCI6
WzI5XSwib3V0bCI6WzE3XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltb
MSwyXV19fSx7ImlubCI6WzI3XSwib3V0bCI6WzI0XSwiYXRsIjp7Im5hIjpbZmFs
c2VdLCJhY3RpdmUiOltbMSw1XV19fSx7ImlubCI6WzY4XSwib3V0bCI6WzI0XSwi
YXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMSw1XV19fSx7ImlubCI6WzY4
XSwib3V0bCI6WzI3XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMSw1
XV19fSx7ImlubCI6WzY3XSwib3V0bCI6WzM0XSwiYXRsIjp7Im5hIjpbZmFsc2Vd
LCJhY3RpdmUiOltbMSwzXV19fSx7ImlubCI6WzcwXSwib3V0bCI6WzM5XSwiYXRs
Ijp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMSwyXSxbMyw1XV19fSx7ImlubCI6
WzldLCJvdXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIs
NV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2Vd
LCJhY3RpdmUiOltbMiw1XV19fSx7ImlubCI6WzIzXSwib3V0bCI6WzNdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1syLDVdXX19LHsiaW5sIjpbMjRdLCJv
dXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0s
eyJpbmwiOlsyN10sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3Rp
dmUiOltbMiw1XV19fSx7ImlubCI6WzQzXSwib3V0bCI6WzNdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1syLDVdXX19LHsiaW5sIjpbNDhdLCJvdXRsIjpb
M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwi
Ols1M10sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltb
Miw1XV19fSx7ImlubCI6WzU5XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1syLDNdLFs0LDVdXX19LHsiaW5sIjpbNjBdLCJvdXRsIjpb
M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwi
Ols2OF0sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltb
Miw1XV19fSx7ImlubCI6Wzc3XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1syLDVdXX19LHsiaW5sIjpbNDNdLCJvdXRsIjpbNF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOlsxOV0s
Im91dGwiOls1XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMiw1XV19
fSx7ImlubCI6WzM3XSwib3V0bCI6WzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1syLDNdXX19LHsiaW5sIjpbNDhdLCJvdXRsIjpbNV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1OV0sIm91dGwi
Ols1XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMiw1XV19fSx7Imlu
bCI6WzI5XSwib3V0bCI6WzddLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1syLDVdXX19LHsiaW5sIjpbMjFdLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOlsyM10sIm91dGwiOls5XSwi
YXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMiw1XV19fSx7ImlubCI6WzI0
XSwib3V0bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1syLDVd
XX19LHsiaW5sIjpbMjddLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOls5XSwiYXRsIjp7
Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMiw1XV19fSx7ImlubCI6WzYwXSwib3V0
bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1syLDVdXX19LHsi
aW5sIjpbNjhdLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzIsNV1dfX0seyJpbmwiOlsxMV0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1OF0sIm91dGwiOlsx
MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwi
Ols2NV0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzIsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsxMl0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0
Ml0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIs
NV1dfX0seyJpbmwiOls0Nl0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1NV0sIm91dGwiOlsxNV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3MF0s
Im91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1d
fX0seyJpbmwiOls0Ml0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0Nl0sIm91dGwiOlsxNl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1NV0sIm91
dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0s
eyJpbmwiOlsyMV0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0OF0sIm91dGwiOlsxOV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1OV0sIm91dGwi
OlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM10sWzQsNV1d
fX0seyJpbmwiOls2MF0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlsyMF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0Nl0sIm91
dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0s
eyJpbmwiOls1NV0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsyMF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOlsyM10sIm91dGwi
OlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJp
bmwiOlsyNF0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzIsNV1dfX0seyJpbmwiOlsyN10sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsy
MV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwi
Ols0M10sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzIsNV1dfX0seyJpbmwiOls0OF0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1M10sIm91dGwiOlsyMV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1
OV0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIs
NV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsyMV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3N10s
Im91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1d
fX0seyJpbmwiOlsyNF0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOlsyN10sIm91dGwiOlsyM10sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1M10sIm91
dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0s
eyJpbmwiOls2MF0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzIsNV1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsyM10sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3N10sIm91dGwi
OlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJp
bmwiOls1M10sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzIsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsy
N10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwi
Ols0Ml0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzIsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsyOF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0
M10sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIs
NV1dfX0seyJpbmwiOls0OF0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls2MF0sIm91dGwiOlszMF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3N10s
Im91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1d
fX0seyJpbmwiOls0Ml0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0Nl0sIm91dGwiOlszMl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1NV0sIm91
dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0s
eyJpbmwiOls3MF0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlszNV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls0Nl0sIm91dGwi
OlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJp
bmwiOls1NV0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzIsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1OF0sIm91dGwiOlsz
OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwi
Ols1NF0sIm91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzIsNV1dfX0seyJpbmwiOls0Nl0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1NV0sIm91dGwiOls0Ml0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1
Nl0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIs
NV1dfX0seyJpbmwiOls3MF0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3Ml0sIm91dGwiOls0Ml0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls0OF0s
Im91dGwiOls0M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11d
fX0seyJpbmwiOls3N10sIm91dGwiOls0M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOls0Nl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls1Nl0sIm91
dGwiOls0Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0s
eyJpbmwiOls3Ml0sIm91dGwiOls0Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzIsM11dfX0seyJpbmwiOls1OV0sIm91dGwiOls0OF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls2MF0sIm91dGwi
Ols0OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJp
bmwiOls2OF0sIm91dGwiOls1M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzIsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls1M10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOls1
NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwi
Ols3MF0sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzIsNV1dfX0seyJpbmwiOls3Ml0sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzIsM11dfX0seyJpbmwiOls3MF0sIm91dGwiOls1Nl0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls2
NV0sIm91dGwiOls1OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIs
M11dfX0seyJpbmwiOls2MF0sIm91dGwiOls1OV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls2MF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1dfX0seyJpbmwiOls3N10s
Im91dGwiOls2OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzIsNV1d
fX0seyJpbmwiOls3XSwib3V0bCI6WzFdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMjldLCJvdXRsIjpbMV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszXSwib3V0bCI6
WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5s
IjpbOV0sIm91dGwiOlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltb
Myw1XV19fSx7ImlubCI6WzEwXSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMTJdLCJvdXRsIjpbMl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxNF0s
Im91dGwiOlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19
fSx7ImlubCI6WzE1XSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMTZdLCJvdXRsIjpbMl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxOV0sIm91dGwi
OlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7Imlu
bCI6WzIwXSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1szLDVdXX19LHsiaW5sIjpbMjFdLCJvdXRsIjpbMl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyM10sIm91dGwiOlsyXSwi
YXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzI0
XSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVd
XX19LHsiaW5sIjpbMjddLCJvdXRsIjpbMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyOF0sIm91dGwiOlsyXSwiYXRsIjp7
Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzMwXSwib3V0
bCI6WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsi
aW5sIjpbMzJdLCJvdXRsIjpbMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlszNV0sIm91dGwiOlsyXSwiYXRsIjp7Im5hIjpb
ZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzM2XSwib3V0bCI6WzJd
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpb
MzhdLCJvdXRsIjpbMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlsyXSwiYXRsIjp7Im5hIjpbZmFsc2Vd
LCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzQyXSwib3V0bCI6WzJdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNDRdLCJv
dXRsIjpbMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1M10sIm91dGwiOlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3Rp
dmUiOltbMyw1XV19fSx7ImlubCI6WzU0XSwib3V0bCI6WzJdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNTVdLCJvdXRsIjpb
Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols1Nl0sIm91dGwiOlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltb
Myw1XV19fSx7ImlubCI6WzU3XSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNjBdLCJvdXRsIjpbMl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0s
Im91dGwiOlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19
fSx7ImlubCI6WzY1XSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1szLDRdXX19LHsiaW5sIjpbNjhdLCJvdXRsIjpbMl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwi
OlsyXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7Imlu
bCI6WzczXSwib3V0bCI6WzJdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1szLDVdXX19LHsiaW5sIjpbNzZdLCJvdXRsIjpbMl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsyXSwi
YXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzRd
LCJvdXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMTBdLCJvdXRsIjpbM10sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxMl0sIm91dGwi
OlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7Imlu
bCI6WzE0XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6
W1szLDVdXX19LHsiaW5sIjpbMTVdLCJvdXRsIjpbM10sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxNl0sIm91dGwiOlszXSwi
YXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzIw
XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVd
XX19LHsiaW5sIjpbMjhdLCJvdXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlszXSwiYXRsIjp7
Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzMyXSwib3V0
bCI6WzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsi
aW5sIjpbMzVdLCJvdXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpb
ZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzM4XSwib3V0bCI6WzNd
LCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpb
MzldLCJvdXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2Vd
LCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzQ0XSwib3V0bCI6WzNdLCJhdGwi
OnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNTRdLCJv
dXRsIjpbM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NV0sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3Rp
dmUiOltbMyw1XV19fSx7ImlubCI6WzU2XSwib3V0bCI6WzNdLCJhdGwiOnsibmEi
OltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNTddLCJvdXRsIjpb
M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols2Ml0sIm91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltb
Myw1XV19fSx7ImlubCI6WzY1XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxz
ZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNzBdLCJvdXRsIjpbM10sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10s
Im91dGwiOlszXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19
fSx7ImlubCI6Wzc2XSwib3V0bCI6WzNdLCJhdGwiOnsibmEiOltmYWxzZV0sImFj
dGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNV0sIm91dGwiOls0XSwiYXRsIjp7Im5h
IjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzEwXSwib3V0bCI6
WzRdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5s
IjpbMTFdLCJvdXRsIjpbNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlsxMl0sIm91dGwiOls0XSwiYXRsIjp7Im5hIjpbZmFs
c2VdLCJhY3RpdmUiOltbMyw0XV19fSx7ImlubCI6WzE2XSwib3V0bCI6WzRdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDRdXX19LHsiaW5sIjpbMTld
LCJvdXRsIjpbNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1d
fX0seyJpbmwiOlsyMV0sIm91dGwiOls0XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJh
Y3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzIzXSwib3V0bCI6WzRdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDRdXX19LHsiaW5sIjpbMjRdLCJvdXRs
IjpbNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJp
bmwiOlsyN10sIm91dGwiOls0XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUi
OltbMyw1XV19fSx7ImlubCI6WzM2XSwib3V0bCI6WzRdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMzhdLCJvdXRsIjpbNF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOlsz
OV0sIm91dGwiOls0XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1
XV19fSx7ImlubCI6WzUzXSwib3V0bCI6WzRdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNjBdLCJvdXRsIjpbNF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2NV0sIm91
dGwiOls0XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7
ImlubCI6WzY4XSwib3V0bCI6WzRdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1szLDRdXX19LHsiaW5sIjpbNzNdLCJvdXRsIjpbNF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls3Nl0sIm91dGwiOls0
XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6
Wzc3XSwib3V0bCI6WzRdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sz
LDVdXX19LHsiaW5sIjpbMTBdLCJvdXRsIjpbNV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxMV0sIm91dGwiOls1XSwiYXRs
Ijp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzEyXSwi
b3V0bCI6WzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19
LHsiaW5sIjpbMTZdLCJvdXRsIjpbNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOls1XSwiYXRsIjp7Im5h
IjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzIzXSwib3V0bCI6
WzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5s
IjpbMjRdLCJvdXRsIjpbNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNF1dfX0seyJpbmwiOlsyN10sIm91dGwiOls1XSwiYXRsIjp7Im5hIjpbZmFs
c2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzMwXSwib3V0bCI6WzVdLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMzFd
LCJvdXRsIjpbNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszNl0sIm91dGwiOls1XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJh
Y3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzM4XSwib3V0bCI6WzVdLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMzldLCJvdXRs
IjpbNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls0M10sIm91dGwiOls1XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUi
OltbMyw1XV19fSx7ImlubCI6WzUzXSwib3V0bCI6WzVdLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNjBdLCJvdXRsIjpbNV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2
NV0sIm91dGwiOls1XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1
XV19fSx7ImlubCI6WzY4XSwib3V0bCI6WzVdLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNzNdLCJvdXRsIjpbNV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls3Nl0sIm91
dGwiOls1XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7
ImlubCI6Wzc3XSwib3V0bCI6WzVdLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1szLDVdXX19LHsiaW5sIjpbMzddLCJvdXRsIjpbNl0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls3NF0sIm91dGwiOls4
XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6
WzEwXSwib3V0bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sz
LDVdXX19LHsiaW5sIjpbMTJdLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxNF0sIm91dGwiOls5XSwiYXRs
Ijp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzE1XSwi
b3V0bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19
LHsiaW5sIjpbMTZdLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxOV0sIm91dGwiOls5XSwiYXRsIjp7Im5h
IjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzIwXSwib3V0bCI6
WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5s
IjpbMjhdLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOls5XSwiYXRsIjp7Im5hIjpbZmFs
c2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzMyXSwib3V0bCI6WzldLCJh
dGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMzVd
LCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszNl0sIm91dGwiOls5XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJh
Y3RpdmUiOltbMyw1XV19fSx7ImlubCI6WzM4XSwib3V0bCI6WzldLCJhdGwiOnsi
bmEiOltmYWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbMzldLCJvdXRs
IjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls0Ml0sIm91dGwiOls5XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUi
OltbMyw1XV19fSx7ImlubCI6WzQ0XSwib3V0bCI6WzldLCJhdGwiOnsibmEiOltm
YWxzZV0sImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNTRdLCJvdXRsIjpbOV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1
NV0sIm91dGwiOls5XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1
XV19fSx7ImlubCI6WzU2XSwib3V0bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0s
ImFjdGl2ZSI6W1szLDVdXX19LHsiaW5sIjpbNTddLCJvdXRsIjpbOV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91
dGwiOls5XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7
ImlubCI6WzY1XSwib3V0bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2
ZSI6W1szLDRdXX19LHsiaW5sIjpbNzBdLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOls5
XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbMyw1XV19fSx7ImlubCI6
Wzc2XSwib3V0bCI6WzldLCJhdGwiOnsibmEiOltmYWxzZV0sImFjdGl2ZSI6W1sz
LDVdXX19LHsiaW5sIjpbNzddLCJvdXRsIjpbOV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxMl0sIm91dGwiOlsxMF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxNF0s
Im91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlsxNV0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxNl0sIm91dGwiOlsxMF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxOV0sIm91
dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOlsyMF0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOlsxMF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyM10sIm91dGwi
OlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOlsyNF0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlsyN10sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyOF0sIm91dGwiOlsx
MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszMF0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszMl0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNV0sIm91dGwiOlsxMF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsz
Nl0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlsxMF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0s
Im91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls0M10sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsxMF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91
dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NF0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlsxMF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwi
OlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls1N10sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls1OV0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsx
MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols2Ml0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsxMF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3
M10sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsxMF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsxMF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyMV0s
Im91dGwiOlsxMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszMF0sIm91dGwiOlsxMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0M10sIm91dGwiOlsxMV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0N10sIm91
dGwiOlsxMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1OV0sIm91dGwiOlsxMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlsxMV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwi
OlsxMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOlsxNF0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlsxOV0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOlsx
Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlsyM10sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlsyNF0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyN10sIm91dGwiOlsxMl0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsz
MF0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlsxMl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0s
Im91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls0NF0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOlsxMl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0sIm91
dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NV0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsxMl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwi
OlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2NV0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsx
Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3Nl0sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsxMl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsxNV0sIm91dGwiOlsxNF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsx
Nl0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlsxOV0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyMF0sIm91dGwiOlsxNF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyMV0s
Im91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlsyM10sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyNF0sIm91dGwiOlsxNF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyN10sIm91
dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOlsyOF0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsxNF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMl0sIm91dGwi
OlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOlszNV0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlsx
NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszOV0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsxNF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1
M10sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls1NF0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlsxNF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0s
Im91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1N10sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsxNF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91
dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2NV0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsxNF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwi
OlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3M10sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsxNF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsx
NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlsxOV0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyM10sIm91dGwiOlsxNV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsy
NF0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlsyN10sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsxNV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0s
Im91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszOF0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsxNV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91
dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NF0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlsxNV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwi
OlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2Ml0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsx
NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3M10sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsxNV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsxNV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsx
OV0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyM10sIm91dGwiOlsxNl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyNF0s
Im91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlsyN10sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsxNl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91
dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOlszOF0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsxNl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwi
OlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls1NF0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsx
Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols2Ml0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsxNl0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3
MF0sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsxNl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10s
Im91dGwiOlsxNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlsyMF0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyM10sIm91dGwiOlsxOV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyNF0sIm91
dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOlsyN10sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyOF0sIm91dGwiOlsxOV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwi
OlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOlszMl0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlszNV0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlsx
OV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszOF0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlsxOV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0
M10sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NF1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOlsxOV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0s
Im91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1NV0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOlsxOV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91
dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2Ml0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlsxOV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2OF0sIm91dGwi
OlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3MF0sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsx
OV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3N10sIm91dGwiOlsxOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlsyMV0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyM10sIm91dGwiOlsyMF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsy
NF0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlsyN10sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsyMF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0s
Im91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszOF0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsyMF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91
dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NF0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlsyMF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwi
OlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2Ml0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsy
MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3M10sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsyMF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsyMF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsy
OF0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlszMV0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMl0sIm91dGwiOlsyMV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNV0s
Im91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszNl0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlsyMV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOV0sIm91
dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls0Ml0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsyMV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0sIm91dGwi
OlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls1NV0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlsy
MV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols2Ml0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsyMV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3
M10sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsyMV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMV0sIm91dGwiOlsyMl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszN10s
Im91dGwiOlsyMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1OV0sIm91dGwiOlsyMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsyOF0sIm91dGwiOlsyM10sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91
dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOlszMl0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNV0sIm91dGwiOlsyM10sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwi
OlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOlszOF0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlsy
M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols0NF0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls1NF0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlsyM10s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1
Nl0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls1N10sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOlsyM10sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0s
Im91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls3MF0sIm91dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsyM10sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91
dGwiOlsyM10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOlsyOF0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsyNF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMl0sIm91dGwi
OlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOlszNV0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlsy
NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszOV0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsyNF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1
NF0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOlsyNF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10s
Im91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls2MF0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOlsyNF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91
dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls3MF0sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsyNF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwi
OlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3N10sIm91dGwiOlsyNF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOlsyOF0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsy
N10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszMl0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszNV0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlsyN10s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsz
OF0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlsyN10sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0s
Im91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1NF0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlsyN10sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91
dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1N10sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsyN10sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwi
OlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2NV0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsy
N10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3Nl0sIm91dGwiOlsyN10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszMF0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlsyOF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsz
OF0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOlsyOF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0s
Im91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1N10sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlsyOF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91
dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2NV0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsyOF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwi
OlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3Nl0sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsyOF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszMl0sIm91dGwiOlsz
MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszNV0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszNl0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlszMF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsz
OV0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlszMF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10s
Im91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1NF0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlszMF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91
dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1N10sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1OV0sIm91dGwiOlszMF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwi
OlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2NV0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2OF0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlsz
MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3M10sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlszMF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszN10sIm91dGwiOlszMV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1
OV0sIm91dGwiOlszMV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls2MF0sIm91dGwiOlszMV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlszMV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszNl0s
Im91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOlszOF0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlszMl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91
dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NF0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlszMl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwi
OlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2Ml0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOlsz
Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3M10sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlszMl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlszMl0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlsz
Nl0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOlszOF0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlszNV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10s
Im91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1NF0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlszNV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91
dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2Ml0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlszNV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwi
OlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3M10sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlszNV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlsz
NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
OlszOF0sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlszNl0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0
NF0sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls1M10sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0sIm91dGwiOlszNl0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0s
Im91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1Nl0sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOlszNl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91
dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2Ml0sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOlszNl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2OF0sIm91dGwi
OlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3MF0sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOlsz
Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3N10sIm91dGwiOlszNl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls1OV0sIm91dGwiOlszN10sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOlszOV0sIm91dGwiOlszOF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0
Ml0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls0NF0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOlszOF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0s
Im91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls1NV0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOlszOF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91
dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2MF0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOlszOF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwi
OlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2OF0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlsz
OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3Nl0sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOlszOF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0Ml0sIm91dGwiOlszOV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls0
NF0sIm91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls1M10sIm91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOlszOV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10s
Im91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls2MF0sIm91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOlszOV0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91
dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2OF0sIm91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOlszOV0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwi
OlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3N10sIm91dGwiOlszOV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls0NF0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwiOls0
Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols1NF0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOls0Ml0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2
Ml0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls2NV0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOls0Ml0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10s
Im91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls3Nl0sIm91dGwiOls0Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls0Ml0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1OV0sIm91
dGwiOls0M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls2MF0sIm91dGwiOls0M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOls0M10sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1M10sIm91dGwi
Ols0NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls1NF0sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls1NV0sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOls0
NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols1N10sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOls0NF0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2
NV0sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NF1dfX0seyJpbmwiOls2OF0sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOls0NF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10s
Im91dGwiOls0NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls3Nl0sIm91dGwiOls0NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls0NF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1NF0sIm91
dGwiOls1M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls1NV0sIm91dGwiOls1M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOls1M10sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwi
Ols1M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2MF0sIm91dGwiOls1M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOls1M10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOls1
M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3MF0sIm91dGwiOls1M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOls1M10sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOls1M10s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1
NV0sIm91dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls1Nl0sIm91dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOls1NF0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0s
Im91dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls2Ml0sIm91dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOls1NF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91
dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls3MF0sIm91dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOls1NF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwi
Ols1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3N10sIm91dGwiOls1NF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls1N10sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOls1
NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols2Ml0sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOls1NV0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3
M10sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOls1NV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls1NV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls1N10s
Im91dGwiOls1Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls2MF0sIm91dGwiOls1Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOls1Nl0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91
dGwiOls1Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNF1dfX0s
eyJpbmwiOls2OF0sIm91dGwiOls1Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOls1Nl0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwi
Ols1Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3N10sIm91dGwiOls1Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls2MF0sIm91dGwiOls1N10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2Ml0sIm91dGwiOls1
N10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols2NV0sIm91dGwiOls1N10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOls1N10sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOls1N10s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3
M10sIm91dGwiOls1N10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOls1N10sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls1N10sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0s
Im91dGwiOls1OV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls2Ml0sIm91dGwiOls2MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2NV0sIm91dGwiOls2MF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2OF0sIm91
dGwiOls2MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls3MF0sIm91dGwiOls2MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOls2MF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwi
Ols2MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls2NV0sIm91dGwiOls2Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNF1dfX0seyJpbmwiOls2OF0sIm91dGwiOls2Ml0sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOls2
Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3M10sIm91dGwiOls2Ml0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOls2Ml0sImF0bCI6eyJuYSI6W2Zh
bHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls2Ml0s
ImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls2
OF0sIm91dGwiOls2NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMs
NV1dfX0seyJpbmwiOls3MF0sIm91dGwiOls2NV0sImF0bCI6eyJuYSI6W2ZhbHNl
XSwiYWN0aXZlIjpbWzMsNF1dfX0seyJpbmwiOls3M10sIm91dGwiOls2NV0sImF0
bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0s
Im91dGwiOls2NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1d
fX0seyJpbmwiOls3N10sIm91dGwiOls2NV0sImF0bCI6eyJuYSI6W2ZhbHNlXSwi
YWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3MF0sIm91dGwiOls2OF0sImF0bCI6
eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91
dGwiOls2OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0s
eyJpbmwiOls3Nl0sIm91dGwiOls2OF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0
aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3M10sIm91dGwiOls3MF0sImF0bCI6eyJu
YSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwi
Ols3MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJp
bmwiOls3N10sIm91dGwiOls3MF0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZl
IjpbWzMsNV1dfX0seyJpbmwiOls3Nl0sIm91dGwiOls3M10sImF0bCI6eyJuYSI6
W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwiOls3N10sIm91dGwiOls3
M10sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpbWzMsNV1dfX0seyJpbmwi
Ols3N10sIm91dGwiOls3Nl0sImF0bCI6eyJuYSI6W2ZhbHNlXSwiYWN0aXZlIjpb
WzMsNV1dfX0seyJpbmwiOls1OV0sIm91dGwiOls0XSwiYXRsIjp7Im5hIjpbZmFs
c2VdLCJhY3RpdmUiOltbNCw1XV19fSx7ImlubCI6WzU5XSwib3V0bCI6WzIzXSwi
YXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbNCw1XV19fSx7ImlubCI6WzU5
XSwib3V0bCI6WzI3XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbNCw1
XV19fSx7ImlubCI6WzU5XSwib3V0bCI6WzM2XSwiYXRsIjp7Im5hIjpbZmFsc2Vd
LCJhY3RpdmUiOltbNCw1XV19fSx7ImlubCI6WzU5XSwib3V0bCI6WzM5XSwiYXRs
Ijp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbNCw1XV19fSx7ImlubCI6WzU5XSwi
b3V0bCI6WzUzXSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJhY3RpdmUiOltbNCw1XV19
fSx7ImlubCI6Wzc3XSwib3V0bCI6WzU5XSwiYXRsIjp7Im5hIjpbZmFsc2VdLCJh
Y3RpdmUiOltbNCw1XV19fV0sImdhbCI6eyJuIjpbODBdLCJtbmV4dCI6WzgxMl0s
ImRpcmVjdGVkIjpbZmFsc2VdLCJoeXBlciI6W2ZhbHNlXSwibG9vcHMiOltmYWxz
ZV0sIm11bHRpcGxlIjpbZmFsc2VdLCJiaXBhcnRpdGUiOltmYWxzZV0sIm5ldC5v
YnMucGVyaW9kIjp7Im9ic2VydmF0aW9ucyI6W1swLDVdXSwibW9kZSI6WyJkaXNj
cmV0ZSJdLCJ0aW1lLmluY3JlbWVudCI6WzFdLCJ0aW1lLnVuaXQiOlsic3RlcCJd
fSwic2xpY2UucGFyIjp7InN0YXJ0IjpbMF0sImVuZCI6WzVdLCJpbnRlcnZhbCI6
WzFdLCJhZ2dyZWdhdGUuZHVyIjpbMV0sInJ1bGUiOlsibGF0ZXN0Il19fSwidmFs
IjpbeyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIjExMSBSYW5jaCJdLCJh
Y3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJB
ZG9iZSBIaWxsIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVy
dGV4Lm5hbWVzIjpbIkFydGlmYWN0IEhpbGwiXSwiYWN0aXZlIjpbWzAsNV1dfSx7
Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiQXNoIFRlcnJhY2UiXSwiYWN0
aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiQVog
QkI6MzoyMiJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRl
eC5uYW1lcyI6WyJBWiBDQzoxOjMiXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpb
ZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiQVogQ0M6MjoxODUiXSwiYWN0aXZlIjpb
WzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiQVogQ0M6Mjoz
MyhCTE0pIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4
Lm5hbWVzIjpbIkJhamFkYSBTaXRlIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6
W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkJheWxlc3MgUnVpbiJdLCJhY3RpdmUi
OltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJCaWcgQmVs
bCJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1l
cyI6WyJCcmFkeSBXYXNoIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNl
XSwidmVydGV4Lm5hbWVzIjpbIkJ1emFuIl0sImFjdGl2ZSI6W1swLDVdXX0seyJu
YSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkNhY3R1cyBGb3Jlc3QiXSwiYWN0
aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiQ2Fz
YSBCdWVuYSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRl
eC5uYW1lcyI6WyJDYXNhIEdyYW5kZSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEi
OltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJDbHVmZiBSYW5jaCJdLCJhY3RpdmUi
OltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJDb250aW5l
bnRhbCBTaXRlIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVy
dGV4Lm5hbWVzIjpbIkNyZXNjZW50IFNpdGUiXSwiYWN0aXZlIjpbWzAsNV1dfSx7
Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiQ3Jpc21vbiJdLCJhY3RpdmUi
OltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJDdXJ0aXMi
XSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMi
OlsiQ3VydGlzIFJ1aW4oQnVlbmEgVmlzdGEpIl0sImFjdGl2ZSI6W1swLDVdXX0s
eyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkRhdmlzIFJhbmNoIFNpdGUi
XSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMi
OlsiRHVkbGV5dmlsbGUgTW91bmQiXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpb
ZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiRWFydmVuIEZsYXQgU2l0ZSJdLCJhY3Rp
dmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJFbCBQ
b2x2b3JvbiJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRl
eC5uYW1lcyI6WyJFbGxpb3R0IFNpdGUiXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5h
IjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiRXNjYWxhbnRlIl0sImFjdGl2ZSI6
W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkZpc2NoZXIg
c2l0ZSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5u
YW1lcyI6WyJGbGllZ2VyIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNl
XSwidmVydGV4Lm5hbWVzIjpbIkZvcnQgR3JhbnQgUHVlYmxvIl0sImFjdGl2ZSI6
W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkdlcm1hbm4g
U2l0ZSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5u
YW1lcyI6WyJHaWJib24gIFNwcmluZ3MiXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5h
IjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiR29hdCBIaWxsIl0sImFjdGl2ZSI6
W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkdyYW5kIENh
bmFsIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5h
bWVzIjpbIkhhYnkgUmFuY2giXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFs
c2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiSGlnaCBNZXNhIl0sImFjdGl2ZSI6W1swLDVd
XX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkpvc2UgU29sYXMgUnVp
biJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1l
cyI6WyJKdW5reWFyZCBTaXRlIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2Zh
bHNlXSwidmVydGV4Lm5hbWVzIjpbIkxhcyBDYW5vcGFzIl0sImFjdGl2ZSI6W1sw
LDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkxhcyBDb2xpbmFz
Il0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVz
IjpbIkxhcyBGb3NhcyJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0s
InZlcnRleC5uYW1lcyI6WyJMZWF2ZXJ0b24iXSwiYWN0aXZlIjpbWzAsNV1dfSx7
Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiTG9zIEd1YW5hY29zIl0sImFj
dGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIkxv
cyBNb3J0ZXJvcyJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZl
cnRleC5uYW1lcyI6WyJMb3MgTXVlcnRvcyJdLCJhY3RpdmUiOltbMCw1XV19LHsi
bmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJMb3N0IE1vdW5kIl0sImFjdGl2
ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIk1hcmlq
aWxkYSBSdWluIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVy
dGV4Lm5hbWVzIjpbIk1lc2EgR3JhbmRlIl0sImFjdGl2ZSI6W1swLDVdXX0seyJu
YSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIk1ldGhvZGlzdCBDaHVyY2giXSwi
YWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsi
TXVycGh5IFNpdGUtLVNhZmZvcmQgRWFzdCJdLCJhY3RpdmUiOltbMCw1XV19LHsi
bmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJPd2Vucy1Db2x2aW4iXSwiYWN0
aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiUGlw
ZXIgU3ByaW5ncyJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZl
cnRleC5uYW1lcyI6WyJQdWVibG8gQmxhbmNvIl0sImFjdGl2ZSI6W1swLDVdXX0s
eyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIlB1ZWJsbyBkZWwgTW9udGUi
XSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMi
OlsiUHVlYmxvIEdyYW5kZSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxz
ZV0sInZlcnRleC5uYW1lcyI6WyJQdWVibG8gU2FsYWRvIl0sImFjdGl2ZSI6W1sw
LDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIlJhYmlkIFJ1aW4i
XSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMi
OlsiUmF0dGxlc25ha2UgTWVzYSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltm
YWxzZV0sInZlcnRleC5uYW1lcyI6WyJSZWV2ZSBSdWluIl0sImFjdGl2ZSI6W1sw
LDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIlJpY2hhcmRzb24g
T3JjaGFyZCJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRl
eC5uYW1lcyI6WyJSaWxsaXRvIEZhbiJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEi
OltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJSaW5jb24gQ2FueW9uIl0sImFjdGl2
ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIlNhbiBY
YXZpZXIgQnJpZGdlIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6W2ZhbHNlXSwi
dmVydGV4Lm5hbWVzIjpbIlNlY29uZCBDYW55b24gQ29tcG91bmQiXSwiYWN0aXZl
IjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiU2hhcm9u
IFNpdGUiXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgu
bmFtZXMiOlsiU3BlYXIgUmFuY2giXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpb
ZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiU3dpbmdsZSdzIFNhbXBsZSJdLCJhY3Rp
dmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJUYW5x
dWUgVmVyZGUgVmlsbGFnZSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxz
ZV0sInZlcnRleC5uYW1lcyI6WyJUcmVzIFB1ZWJsb3MiXSwiYWN0aXZlIjpbWzAs
NV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiVHdpbiBIYXdrcyJd
LCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6
WyJWZXJlcyJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRl
eC5uYW1lcyI6WyJXZWJiIFJ1aW4iXSwiYWN0aXZlIjpbWzAsNV1dfSx7Im5hIjpb
ZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiV2VzIEplcm5pZ2FuIFNpdGUiXSwiYWN0
aXZlIjpbWzAsNV1dfSx7Im5hIjpbZmFsc2VdLCJ2ZXJ0ZXgubmFtZXMiOlsiV2hp
cHRhaWwgUnVpbiJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZl
cnRleC5uYW1lcyI6WyJXaGl0bWVyIl0sImFjdGl2ZSI6W1swLDVdXX0seyJuYSI6
W2ZhbHNlXSwidmVydGV4Lm5hbWVzIjpbIldyaWdodCJdLCJhY3RpdmUiOltbMCw1
XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJZdW1hIFdhc2gtLVR1
Y3NvbiJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEiOltmYWxzZV0sInZlcnRleC5u
YW1lcyI6WyJZdW1hIFdhc2ggU2l0ZSJdLCJhY3RpdmUiOltbMCw1XV19LHsibmEi
OltmYWxzZV0sInZlcnRleC5uYW1lcyI6WyJaYW5hcmRlbGxpIFNpdGUiXSwiYWN0
aXZlIjpbWzAsNV1dfV0sImllbCI6W1tdLFtdLFsyMTVdLFsyNTBdLFsyNTEsMjc2
XSxbXSxbMjEzXSxbXSxbMTA5LDIxNl0sWzIxNywyNTIsMjc3LDI5NiwzMTldLFsx
MzQsMjc4LDI5N10sWzIxOCwyNTMsMjc5LDI5OCwzMjAsMzQ1XSxbXSxbMjE5LDI1
NCwzMjEsMzQ2LDM4NV0sWzEsMjIwLDI1NSwzMjIsMzQ3LDQwNl0sWzIsMTEsMjIx
LDI1NiwyODAsMjk5LDMyMywzNDgsNDA3XSxbXSxbXSxbMTAxLDEyMiwyMjIsMjgx
LDMyNCwzNDksMzg2LDQwOCw0MzYsNDU1XSxbMywxMiwyMCwyMjMsMjU3LDMyNSwz
NTAsNDA5LDQ3NV0sWzExMCwxMjcsMTQ2LDIyNCwyODIsMzAwLDM1MSwzNzgsMzg3
LDQxMCw0MzcsNDU2LDUwMV0sW10sWzExMSwxMjgsMTU0LDIyNSwyODMsMzAxLDM1
MiwzODgsNDExLDQzOCw0NTcsNDc2LDUwMl0sWzExMiwxMjksMTU1LDE2NSwyMjYs
Mjg0LDMwMiwzNTMsMzg5LDQxMiw0MzksNDU4LDQ3Nyw1MDNdLFtdLFtdLFsxMDQs
MTEzLDEzMCwxNTYsMTY2LDIyNywyODUsMzAzLDM1NCwzOTAsNDEzLDQ0MCw0NTks
NDc4LDUwNF0sWzQsMTMsMjEsMzcsMjI4LDI1OCwzMjYsMzU1LDQxNCw0NzksNTE5
LDU0MCw1NTgsNTc4XSxbMTAzLDEyNiwyMTRdLFsxMDIsMTU3LDIyOSwyNTksMzA0
LDMyNywzNTYsMzc5LDM5MSw0MTUsNDQxLDQ2MCw0ODAsNTA1LDU0MSw1NTksNTc5
LDU5N10sWzMwNSw1MjAsNTM3XSxbNSwxNCwyMiwzOCw0NCwyMzAsMjYwLDMyOCwz
NTcsNDE2LDQ4MSw1MjEsNTQyLDU2MCw1ODAsNjExXSxbMjhdLFtdLFs2LDE1LDIz
LDM5LDQ1LDUwLDIzMSwyNjEsMzI5LDM1OCw0MTcsNDgyLDUyMiw1NDMsNTYxLDU4
MSw2MTJdLFsyMzIsMjYyLDI4NiwzMDYsMzMwLDM1OSwzOTIsNDE4LDQ0Miw0NjEs
NDgzLDUwNiw1MjMsNTQ0LDU2Miw1ODIsNTk4LDYxMyw2MzQsNjQ3XSxbMTIzLDMx
Nyw1MzgsNjMwXSxbMjMzLDI2MywyODcsMzA3LDMzMSwzNjAsMzkzLDQxOSw0NDMs
NDYyLDQ4NCw1MDcsNTI0LDU0NSw1NjMsNTgzLDU5OSw2MTQsNjM1LDY0OCw2NjBd
LFs3LDE2LDI0LDQwLDQ2LDUxLDYzLDIzNCwyNjQsMjg4LDMwOCwzMzIsMzYxLDQy
MCw0ODUsNTI1LDU0Niw1NjQsNTg0LDYxNSw2NjEsNjc4XSxbOCwxNywyNSw0MSw0
Nyw1Miw2NCw2N10sW10sWzEzOSwxNDMsMTUwLDE3NCwxODEsMTg1LDIzNSwyNjUs
MzMzLDM2MiwzOTQsNDIxLDQ4Niw1MjYsNTQ3LDU2NSw1ODUsNjE2LDY2Miw2Nzks
Njk0XSxbMTE0LDEyMSwxNTgsMTc3LDMwOSwzNjMsMzgwLDQ4N10sWzIzNiwyNjYs
MzM0LDM2NCwzOTUsNDIyLDQ0NCw0NjMsNDg4LDUwOCw1MjcsNTQ4LDU2Niw1ODYs
NjAwLDYxNyw2MzYsNjQ5LDY2Myw2ODAsNjk1LDcwNl0sWzI5LDU1XSxbMTQwLDE0
NCwxNTEsMTgyLDE4NiwxOTFdLFszODFdLFsxMTUsMTI0LDE0NywxNTksMTc4LDE5
Nl0sW10sW10sW10sW10sWzExNiwxMzEsMTYwLDE2NywxNzEsMTcyLDIzNywyODks
MzEwLDM2NSwzOTYsNDIzLDQ0NSw0NjQsNDg5LDUwOSw2MDEsNjE4LDYzNyw2NTAs
NjY0LDY4MSw2OTYsNzA3LDcyMF0sWzE5MCwyMzgsMjY3LDMzNSwzNjYsMzk3LDQy
NCw0NDYsNDY1LDQ5MCw1MTAsNTI4LDU0OSw1NjcsNTg3LDYwMiw2MTksNjM4LDY1
MSw2NjUsNjgyLDcwOCw3MjEsNzMzXSxbMTQxLDE0NSwxNTIsMTc1LDE4MywxODcs
MTkyLDE5OCwyMzksMjY4LDMzNiwzNjcsMzk4LDQyNSw0OTEsNTI5LDU1MCw1Njgs
NTg4LDYyMCw2NjYsNjgzLDY5Nyw3MjIsNzM0LDc0M10sWzksMTgsMjYsNDIsNDgs
NTMsNjUsNjgsNzAsMTkzLDE5OSwyMDUsMjQwLDI2OSwzMzcsMzY4LDQyNiw0OTIs
NTMwLDU1MSw1NjksNTg5LDYyMSw2NjcsNjg0LDcyMyw3MzUsNzQ0XSxbMTM3LDI0
MSwyNzAsMzM4LDM2OSw0MjcsNDQ3LDQ2Niw0OTMsNTExLDUzMSw1NTIsNTcwLDU5
MCw2MDMsNjIyLDYzOSw2NTIsNjY4LDY4NSw2OTgsNzA5LDcyNCw3MzYsNzQ1LDc1
NCw3NjJdLFszMCw1Niw3MiwxMzUsMTg5XSxbMTE3LDEyNSwxNDgsMTYxLDIwMSwz
NzAsMzgyLDUzOSw2MjMsNjMxLDY3Nyw3MTcsODA1LDgwNiw4MDcsODA4LDgwOSw4
MTBdLFsxMTgsMTMyLDE0OSwxNjIsMTY4LDE3OSwyMDIsMjQyLDI5MCwzMTEsMzcx
LDM5OSw0MjgsNDQ4LDQ2Nyw1MTIsNTcxLDU5MSw2MDQsNjMyLDY0MCw2NTMsNjY5
LDY4Niw2OTksNzEwLDcxOCw3MjUsNzM3LDc0Niw3NTUsNzYzLDc3MCwyMTBdLFtd
LFszMSw1Nyw3Myw4MCwyNDMsMjcxLDMzOSwzNzIsNDAwLDQyOSw0NDksNDY4LDQ5
NCw1MTMsNTMyLDU1Myw1NzIsNTkyLDYwNSw2MjQsNjQxLDY1NCw2NzAsNjg3LDcw
MCw3MTEsNzI2LDczOCw3NDcsNzU2LDc2NCw3NzEsNzc5XSxbXSxbMzIsNTgsNzQs
ODEsODZdLFsxMzYsMjA5LDI0NCwyNzIsMjkxLDMxMiwzNDAsMzgzLDQwMSw0MzAs
NDUwLDQ2OSw0OTUsNTE0LDUzMyw1NTQsNTczLDU5Myw2MDYsNjI1LDYzMyw2NDIs
NjU1LDY3MSw2ODgsNzAxLDcxMiw3MTksNzI3LDczOSw3NDgsNzU3LDc2NSw3NzIs
Nzc4LDc4MCw3ODVdLFtdLFsxMDddLFsxMDUsMTA2LDExOSwxMzMsMTYzLDE2OSwy
MDMsMjQ1LDI5MiwzMTMsMzczLDQwMiw0MzEsNDUxLDQ3MCw0OTYsNTE1LDYwNyw2
MjYsNjQzLDY1Niw2NzIsNjg5LDcwMiw3MTMsNzI4LDc0OSw3NTgsNzY2LDc3Myw3
ODEsNzg2LDc5MV0sWzMzLDU5LDc1LDgyLDg3LDkxXSxbMTA4LDEzOCwxNDIsMTUz
LDE3NiwxODQsMTg4LDE5NCwyMDYsMjA4LDI0NiwyNzMsMzQxLDM3NCw0MzIsNDcx
LDQ5Nyw1MzQsNTU1LDU3NCw1OTQsNjI3LDY3Myw2OTAsNzI5LDc0MCw3NTAsNzc0
LDc4Miw3ODcsNzkyLDc5Nl0sW10sWzEwLDE5LDI3LDQzLDQ5LDU0LDY2LDY5LDcx
LDc5LDE5NSwyMDAsMjA3XSxbMjQ3LDI3NCwyOTMsMzE0LDM0MiwzNzUsNDAzLDQz
Myw0NTIsNDcyLDQ5OCw1MTYsNTM1LDU1Niw1NzUsNTk1LDYwOCw2MjgsNjQ0LDY1
Nyw2NzQsNjkxLDcwMyw3MTQsNzMwLDc0MSw3NTEsNzU5LDc2Nyw3NzUsNzgzLDc4
OCw3OTMsNzk3LDc5OV0sWzMxOF0sWzM0LDYwLDc2LDgzLDg4LDkyLDk1XSxbMjQ4
LDI3NSwyOTQsMzE1LDM0MywzNzYsNDA0LDQzNCw0NTMsNDczLDQ5OSw1MTcsNTM2
LDU1Nyw1NzYsNTk2LDYwOSw2MjksNjQ1LDY1OCw2NzUsNjkyLDcwNCw3MTUsNzMx
LDc0Miw3NTIsNzYwLDc2OCw3NzYsNzg0LDc4OSw3OTQsNzk4LDgwMCw4MDJdLFsx
MjAsMTY0LDE3MCwxNzMsMTgwLDE5NywyMDQsMjExLDIxMiwyNDksMjk1LDMxNiwz
NDQsMzc3LDM4NCw0MDUsNDM1LDQ1NCw0NzQsNTAwLDUxOCw1NzcsNjEwLDY0Niw2
NTksNjc2LDY5Myw3MDUsNzE2LDczMiw3NTMsNzYxLDc2OSw3NzcsNzkwLDc5NSw4
MDEsODAzLDgwNCw4MTFdLFszNSw2MSw3Nyw4NCw4OSw5Myw5Niw5OF0sW10sWzM2
LDYyLDc4LDg1LDkwLDk0LDk3LDk5LDEwMF1dLCJvZWwiOltbMjE0LDIxM10sWzI0
OSwyNDgsMjQ3LDI0NiwyNDUsMjQ0LDI0MywyNDIsMjQxLDI0MCwyMzksMjM4LDIz
NywyMzYsMjM1LDIzNCwyMzMsMjMyLDIzMSwyMzAsMjI5LDIyOCwyMjcsMjI2LDIy
NSwyMjQsMjIzLDIyMiwyMjEsMjIwLDIxOSwyMTgsMjE3LDIxNiwyMTVdLFsyNzUs
Mjc0LDI3MywyNzIsMjcxLDI3MCwyNjksMjY4LDI2NywyNjYsMjY1LDI2NCwyNjMs
MjYyLDI2MSwyNjAsMjU5LDI1OCwyNTcsMjU2LDI1NSwyNTQsMjUzLDI1MiwyNTEs
MjUwLDEyMCwxMTksMTE4LDExNywxMTYsMTE1LDExNCwxMTMsMTEyLDExMSwxMTAs
MTA5LDEwMV0sWzgwNSwyOTUsMjk0LDI5MywyOTIsMjkxLDI5MCwyODksMjg4LDI4
NywyODYsMjg1LDI4NCwyODMsMjgyLDI4MSwyODAsMjc5LDI3OCwyNzcsMjc2LDEy
MSwxMDJdLFszMTYsMzE1LDMxNCwzMTMsMzEyLDMxMSwzMTAsMzA5LDMwOCwzMDcs
MzA2LDMwNSwzMDQsMzAzLDMwMiwzMDEsMzAwLDI5OSwyOTgsMjk3LDI5NiwxMjUs
MTI0LDEyMywxMjJdLFszMTddLFsxMjZdLFszMThdLFszNDQsMzQzLDM0MiwzNDEs
MzQwLDMzOSwzMzgsMzM3LDMzNiwzMzUsMzM0LDMzMywzMzIsMzMxLDMzMCwzMjks
MzI4LDMyNywzMjYsMzI1LDMyNCwzMjMsMzIyLDMyMSwzMjAsMzE5LDEzMywxMzIs
MTMxLDEzMCwxMjksMTI4LDEyN10sWzM3NywzNzYsMzc1LDM3NCwzNzMsMzcyLDM3
MSwzNzAsMzY5LDM2OCwzNjcsMzY2LDM2NSwzNjQsMzYzLDM2MiwzNjEsMzYwLDM1
OSwzNTgsMzU3LDM1NiwzNTUsMzU0LDM1MywzNTIsMzUxLDM1MCwzNDksMzQ4LDM0
NywzNDYsMzQ1LDEzNiwxMzUsMTM0XSxbMzg0LDM4MywzODIsMzgxLDM4MCwzNzks
Mzc4XSxbNDA1LDQwNCw0MDMsNDAyLDQwMSw0MDAsMzk5LDM5OCwzOTcsMzk2LDM5
NSwzOTQsMzkzLDM5MiwzOTEsMzkwLDM4OSwzODgsMzg3LDM4NiwzODUsMTM4LDEz
NywxMCw5LDgsNyw2LDUsNCwzLDIsMV0sW10sWzQzNSw0MzQsNDMzLDQzMiw0MzEs
NDMwLDQyOSw0MjgsNDI3LDQyNiw0MjUsNDI0LDQyMyw0MjIsNDIxLDQyMCw0MTks
NDE4LDQxNyw0MTYsNDE1LDQxNCw0MTMsNDEyLDQxMSw0MTAsNDA5LDQwOCw0MDcs
NDA2XSxbNDU0LDQ1Myw0NTIsNDUxLDQ1MCw0NDksNDQ4LDQ0Nyw0NDYsNDQ1LDQ0
NCw0NDMsNDQyLDQ0MSw0NDAsNDM5LDQzOCw0MzcsNDM2LDE0MiwxNDEsMTQwLDEz
OSwxOSwxOCwxNywxNiwxNSwxNCwxMywxMiwxMV0sWzQ3NCw0NzMsNDcyLDQ3MSw0
NzAsNDY5LDQ2OCw0NjcsNDY2LDQ2NSw0NjQsNDYzLDQ2Miw0NjEsNDYwLDQ1OSw0
NTgsNDU3LDQ1Niw0NTUsMTQ1LDE0NCwxNDMsMjcsMjYsMjUsMjQsMjMsMjIsMjEs
MjBdLFsxMDNdLFszNiwzNSwzNCwzMywzMiwzMSwzMCwyOSwyOF0sWzUwMCw0OTks
NDk4LDQ5Nyw0OTYsNDk1LDQ5NCw0OTMsNDkyLDQ5MSw0OTAsNDg5LDQ4OCw0ODcs
NDg2LDQ4NSw0ODQsNDgzLDQ4Miw0ODEsNDgwLDQ3OSw0NzgsNDc3LDQ3Niw0NzUs
MTQ5LDE0OCwxNDcsMTQ2XSxbNTE4LDUxNyw1MTYsNTE1LDUxNCw1MTMsNTEyLDUx
MSw1MTAsNTA5LDUwOCw1MDcsNTA2LDUwNSw1MDQsNTAzLDUwMiw1MDEsMTUzLDE1
MiwxNTEsMTUwLDQzLDQyLDQxLDQwLDM5LDM4LDM3XSxbNTM2LDUzNSw1MzQsNTMz
LDUzMiw1MzEsNTMwLDUyOSw1MjgsNTI3LDUyNiw1MjUsNTI0LDUyMyw1MjIsNTIx
LDUyMCw1MTksMTY0LDE2MywxNjIsMTYxLDE2MCwxNTksMTU4LDE1NywxNTYsMTU1
LDE1NF0sWzUzOSw1MzgsNTM3XSxbODA2LDU1Nyw1NTYsNTU1LDU1NCw1NTMsNTUy
LDU1MSw1NTAsNTQ5LDU0OCw1NDcsNTQ2LDU0NSw1NDQsNTQzLDU0Miw1NDEsNTQw
LDE3MCwxNjksMTY4LDE2NywxNjYsMTY1XSxbNTc3LDU3Niw1NzUsNTc0LDU3Myw1
NzIsNTcxLDU3MCw1NjksNTY4LDU2Nyw1NjYsNTY1LDU2NCw1NjMsNTYyLDU2MSw1
NjAsNTU5LDU1OCwxNzEsMTA1LDEwNF0sW10sW10sWzgwNyw1OTYsNTk1LDU5NCw1
OTMsNTkyLDU5MSw1OTAsNTg5LDU4OCw1ODcsNTg2LDU4NSw1ODQsNTgzLDU4Miw1
ODEsNTgwLDU3OSw1NzgsMTczLDE3MiwxMDZdLFs2MTAsNjA5LDYwOCw2MDcsNjA2
LDYwNSw2MDQsNjAzLDYwMiw2MDEsNjAwLDU5OSw1OTgsNTk3LDE3NiwxNzUsMTc0
LDQ5LDQ4LDQ3LDQ2LDQ1LDQ0XSxbXSxbNjI5LDYyOCw2MjcsNjI2LDYyNSw2MjQs
NjIzLDYyMiw2MjEsNjIwLDYxOSw2MTgsNjE3LDYxNiw2MTUsNjE0LDYxMyw2MTIs
NjExLDE4MCwxNzksMTc4LDE3N10sWzYzMyw2MzIsNjMxLDYzMF0sWzY0Niw2NDUs
NjQ0LDY0Myw2NDIsNjQxLDY0MCw2MzksNjM4LDYzNyw2MzYsNjM1LDYzNCwxODQs
MTgzLDE4MiwxODEsNTQsNTMsNTIsNTEsNTBdLFs2Miw2MSw2MCw1OSw1OCw1Nyw1
Niw1NV0sWzEwN10sWzY1OSw2NTgsNjU3LDY1Niw2NTUsNjU0LDY1Myw2NTIsNjUx
LDY1MCw2NDksNjQ4LDY0NywxODgsMTg3LDE4NiwxODUsNjYsNjUsNjQsNjNdLFs4
MDgsNjc2LDY3NSw2NzQsNjczLDY3Miw2NzEsNjcwLDY2OSw2NjgsNjY3LDY2Niw2
NjUsNjY0LDY2Myw2NjIsNjYxLDY2MF0sWzY3N10sWzY5Myw2OTIsNjkxLDY5MCw2
ODksNjg4LDY4Nyw2ODYsNjg1LDY4NCw2ODMsNjgyLDY4MSw2ODAsNjc5LDY3OCwx
ODldLFsxMDgsODA5LDcwNSw3MDQsNzAzLDcwMiw3MDEsNzAwLDY5OSw2OTgsNjk3
LDY5Niw2OTUsNjk0LDE5MCw2OSw2OCw2N10sWzcxLDcwXSxbXSxbNzE2LDcxNSw3
MTQsNzEzLDcxMiw3MTEsNzEwLDcwOSw3MDgsNzA3LDcwNiwxOTUsMTk0LDE5Mywx
OTIsMTkxXSxbNzE5LDcxOCw3MTcsMTk3LDE5Nl0sWzczMiw3MzEsNzMwLDcyOSw3
MjgsNzI3LDcyNiw3MjUsNzI0LDcyMyw3MjIsNzIxLDcyMF0sWzc4LDc3LDc2LDc1
LDc0LDczLDcyXSxbMjAwLDE5OSwxOThdLFtdLFsyMDIsMjAxXSxbXSxbXSxbXSxb
XSxbODEwLDc0Miw3NDEsNzQwLDczOSw3MzgsNzM3LDczNiw3MzUsNzM0LDczMywy
MDQsMjAzXSxbNzUzLDc1Miw3NTEsNzUwLDc0OSw3NDgsNzQ3LDc0Niw3NDUsNzQ0
LDc0M10sWzc2MSw3NjAsNzU5LDc1OCw3NTcsNzU2LDc1NSw3NTQsMjA3LDIwNiwy
MDVdLFs3NjksNzY4LDc2Nyw3NjYsNzY1LDc2NCw3NjMsNzYyLDIwOCw3OV0sWzc3
Nyw3NzYsNzc1LDc3NCw3NzMsNzcyLDc3MSw3NzBdLFsyMDksODUsODQsODMsODIs
ODEsODBdLFs4MTEsNzc4LDIxMF0sWzc4NCw3ODMsNzgyLDc4MSw3ODAsNzc5LDIx
MV0sW10sWzc5MCw3ODksNzg4LDc4Nyw3ODYsNzg1LDkwLDg5LDg4LDg3LDg2XSxb
XSxbOTQsOTMsOTIsOTFdLFs3OTUsNzk0LDc5Myw3OTIsNzkxXSxbXSxbXSxbMjEy
LDc5OCw3OTcsNzk2XSxbOTcsOTYsOTVdLFs4MDEsODAwLDc5OV0sW10sW10sWzgw
Myw4MDJdLFtdLFs5OSw5OF0sWzgwNF0sW10sWzEwMF0sW10sW11dfX07DQogIHZh
ciBvcHRpb25zID0geyJuZHR2LnZlcnNpb24iOiIwLjEzLjIsMjAyMS0xMC0yNyJ9
Ow0KICAvL0VORCBHUkFQSCBEQVRBIElOSVQNCiAgDQogIC8vSW5zZXJ0IGluaXQg
SlMgSGVyZQ0KICAkKGZ1bmN0aW9uKCkgew0KICAgIG9wdGlvbnMuZ3JhcGhEYXRh
ID0gZ3JhcGhEYXRhOw0KICAgIHZhciBncmFwaCA9IG5ldyBuZHR2X2QzKG9wdGlv
bnMpOyAgICAgICAgDQogIH0pDQogIDwvc2NyaXB0PjwvYm9keT4NCjwvaHRtbD4=

">
</iframe>
</div>
<div id="Figure_6_25" class="section level3" number="5.4.25">
<h3><span class="header-section-number">5.4.25</span> Figure 6.25: Interactive Networks</h3>
<p>Fig. 6.25. An example of a dynamic network visual created in R. Notice how the nodes and edges are responding to the movement of the edge under the cursor and the drop down menu that allows selection of nodes by group.</p>
<p>For this example we closely follow an example provided on the <a href="https://kateto.net/network-visualization">Static and dynamic network visualization with R</a> workshop documents online but using the <a href="data/Figure6_25.Rdata">Cibola technological similarity data</a> instead.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-6"><a href="#cb195-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_25.Rdata&quot;</span>) <span class="co"># Contains an igraph graph object</span></span>
<span id="cb195-7"><a href="#cb195-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-8"><a href="#cb195-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use igraph to make the graph and find membership</span></span>
<span id="cb195-9"><a href="#cb195-9" aria-hidden="true" tabindex="-1"></a>clust <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(graph)</span>
<span id="cb195-10"><a href="#cb195-10" aria-hidden="true" tabindex="-1"></a>members <span class="ot">&lt;-</span> <span class="fu">membership</span>(clust)</span>
<span id="cb195-11"><a href="#cb195-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-12"><a href="#cb195-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to object suitable for networkD3</span></span>
<span id="cb195-13"><a href="#cb195-13" aria-hidden="true" tabindex="-1"></a>graph_d3 <span class="ot">&lt;-</span> <span class="fu">igraph_to_networkD3</span>(graph, <span class="at">group =</span> members)</span>
<span id="cb195-14"><a href="#cb195-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-15"><a href="#cb195-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify interactive network to allow highlighting by groups, etc.</span></span>
<span id="cb195-16"><a href="#cb195-16" aria-hidden="true" tabindex="-1"></a>links <span class="ot">&lt;-</span> graph_d3<span class="sc">$</span>links</span>
<span id="cb195-17"><a href="#cb195-17" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(links) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;from&#39;</span>, <span class="st">&#39;to&#39;</span>)</span>
<span id="cb195-18"><a href="#cb195-18" aria-hidden="true" tabindex="-1"></a>links[, <span class="dv">1</span>] <span class="ot">&lt;-</span> links[, <span class="dv">1</span>] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb195-19"><a href="#cb195-19" aria-hidden="true" tabindex="-1"></a>links[, <span class="dv">2</span>] <span class="ot">&lt;-</span> links[, <span class="dv">2</span>] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb195-20"><a href="#cb195-20" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> graph_d3<span class="sc">$</span>nodes</span>
<span id="cb195-21"><a href="#cb195-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nodes)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&#39;id&#39;</span></span>
<span id="cb195-22"><a href="#cb195-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-23"><a href="#cb195-23" aria-hidden="true" tabindex="-1"></a>vis.nodes <span class="ot">&lt;-</span> nodes</span>
<span id="cb195-24"><a href="#cb195-24" aria-hidden="true" tabindex="-1"></a>vis.links <span class="ot">&lt;-</span> links</span>
<span id="cb195-25"><a href="#cb195-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-26"><a href="#cb195-26" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>shape  <span class="ot">&lt;-</span> <span class="st">&quot;dot&quot;</span></span>
<span id="cb195-27"><a href="#cb195-27" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>shadow <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># Nodes will drop shadow</span></span>
<span id="cb195-28"><a href="#cb195-28" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>borderWidth <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># Node border width</span></span>
<span id="cb195-29"><a href="#cb195-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-30"><a href="#cb195-30" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>color.background <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;slategrey&quot;</span>, <span class="st">&quot;tomato&quot;</span>, <span class="st">&quot;gold&quot;</span>,</span>
<span id="cb195-31"><a href="#cb195-31" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;purple&quot;</span>)[nodes<span class="sc">$</span>group]</span>
<span id="cb195-32"><a href="#cb195-32" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>color.border <span class="ot">&lt;-</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb195-33"><a href="#cb195-33" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>color.highlight.background <span class="ot">&lt;-</span> <span class="st">&quot;orange&quot;</span></span>
<span id="cb195-34"><a href="#cb195-34" aria-hidden="true" tabindex="-1"></a>vis.nodes<span class="sc">$</span>color.highlight.border <span class="ot">&lt;-</span> <span class="st">&quot;darkred&quot;</span></span>
<span id="cb195-35"><a href="#cb195-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-36"><a href="#cb195-36" aria-hidden="true" tabindex="-1"></a>visnet <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(vis.nodes, vis.links)</span>
<span id="cb195-37"><a href="#cb195-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-38"><a href="#cb195-38" aria-hidden="true" tabindex="-1"></a><span class="fu">visOptions</span>(visnet, <span class="at">highlightNearest =</span> <span class="cn">TRUE</span>, <span class="at">selectedBy =</span> <span class="st">&quot;group&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-3a832cdad18925e43dde" style="width:672px;height:672px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-3a832cdad18925e43dde">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],"group":[1,2,2,1,2,1,1,3,2,3,1,1,1,2,2,1,2,2,2,3,2,1,2,2,1,2,1,1,1,4,2],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"borderWidth":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"color.background":["slategrey","tomato","tomato","slategrey","tomato","slategrey","slategrey","gold","tomato","gold","slategrey","slategrey","slategrey","tomato","tomato","slategrey","tomato","tomato","tomato","gold","tomato","slategrey","tomato","tomato","slategrey","tomato","slategrey","slategrey","slategrey","purple","tomato"],"color.border":["black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black"],"color.highlight.background":["orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange","orange"],"color.highlight.border":["darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred"],"label":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]},"edges":{"from":[1,2,1,4,4,6,7,8,5,9,5,7,4,8,1,4,6,6,10,11,1,8,4,12,6,10,11,4,1,7,10,9,5,2,14,9,5,10,11,1,8,6,7,12,13,10,5,14,15,9,2,9,15,14,10,5,17,8,2,3,5,9,15,14,18,17,8,14,10,9,5,15,18,19,9,2,17,12,6,1,16,10,8,13,4,11,5,21,9,19,18,10,2,8,15,17,14,19,21,23,17,18,10,15,9,5,2,6,11,12,1,13,22,4,21,10,14,24,19,5,2,8,9,23,17,18,15,10,12,16,1,7,6,22,11,25,4,13,10,11,12,27,6,13,7,22,25,1,16,4,8,28,11,1,13,16,27,19,15,14,24,9,23,26,17,5,20],"to":[4,5,6,6,8,8,8,9,9,10,10,10,10,10,11,11,11,12,12,12,12,12,12,13,13,13,13,13,13,13,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,20,20,20,20,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,31,31,31,31,31,31,31,31,31,31]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false}},"groups":["1","2","3","4"],"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":[1,2,3,4]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="figure-6.26-swsn-example-1" class="section level3" number="5.4.26">
<h3><span class="header-section-number">5.4.26</span> Figure 6.26: SWSN Example 1</h3>
<p>Fig. 6.26. Networks by time for the SWSN project area (from Mills et al. 2013).</p>
<p>The figure for the original plot in Mills et al. 2013 was produced in R and then compiled and modified using Adobe Illustrator. First a regional color scheme was defined and then each time period was plotted using this color scheme. In Illustrator components were arranged in rough geographic positions and isolates were placed at the margin.</p>
<p>The following chunk of code reproduces Figure 6.26 for one time period (AD1300-1350). <a href="data/Figure6_26.Rdata">Download these data</a> to follow along.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_26.Rdata&quot;</span>)</span>
<span id="cb196-6"><a href="#cb196-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-7"><a href="#cb196-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create sna network object</span></span>
<span id="cb196-8"><a href="#cb196-8" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span></span>
<span id="cb196-9"><a href="#cb196-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">network</span>(<span class="fu">event2dichot</span>(sim, <span class="at">method =</span> <span class="st">&quot;absolute&quot;</span>, <span class="at">thresh =</span> <span class="fl">0.75</span>), </span>
<span id="cb196-10"><a href="#cb196-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">directed =</span> F)</span>
<span id="cb196-11"><a href="#cb196-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-12"><a href="#cb196-12" aria-hidden="true" tabindex="-1"></a><span class="co"># define color scheme. colors listed in order based on the </span></span>
<span id="cb196-13"><a href="#cb196-13" aria-hidden="true" tabindex="-1"></a><span class="co"># factor attr$Macro</span></span>
<span id="cb196-14"><a href="#cb196-14" aria-hidden="true" tabindex="-1"></a>myCols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#000738&quot;</span>, <span class="st">&quot;#ffa1a1&quot;</span>, <span class="st">&quot;#ad71d8&quot;</span>, <span class="st">&quot;#016d1b&quot;</span>, <span class="st">&quot;#00ff30&quot;</span>,</span>
<span id="cb196-15"><a href="#cb196-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;#92d8ff&quot;</span>, <span class="st">&quot;#ffffff&quot;</span>, <span class="st">&quot;#adadad&quot;</span>, <span class="st">&quot;#846b00&quot;</span>, <span class="st">&quot;#ff0000&quot;</span>,</span>
<span id="cb196-16"><a href="#cb196-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;#5273dd&quot;</span>, <span class="st">&quot;#946a43&quot;</span>, <span class="st">&quot;#a00000&quot;</span>, <span class="st">&quot;#f97c00&quot;</span>, <span class="st">&quot;#00ffec&quot;</span>,</span>
<span id="cb196-17"><a href="#cb196-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;#ffff3e&quot;</span>, <span class="st">&quot;#824444&quot;</span>, <span class="st">&quot;#00ba89&quot;</span>, <span class="st">&quot;#00ba89&quot;</span>, <span class="st">&quot;#0303ff&quot;</span>)</span>
<span id="cb196-18"><a href="#cb196-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-19"><a href="#cb196-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot network</span></span>
<span id="cb196-20"><a href="#cb196-20" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">235</span>)</span>
<span id="cb196-21"><a href="#cb196-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-22"><a href="#cb196-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb196-23"><a href="#cb196-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(attr<span class="sc">$</span>Macro), <span class="at">size =</span> <span class="fu">evcent</span>(net)),</span>
<span id="cb196-24"><a href="#cb196-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb196-25"><a href="#cb196-25" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb196-26"><a href="#cb196-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb196-27"><a href="#cb196-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> myCols) <span class="sc">+</span></span>
<span id="cb196-28"><a href="#cb196-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="figure-6.27-swsn-example-2" class="section level3" number="5.4.27">
<h3><span class="header-section-number">5.4.27</span> Figure 6.27: SWSN Example 2</h3>
<p>Fig. 6.27. An explicit geographic map network of the SWSN project area through time (Mills et al. 2013).</p>
<p>The original version of this figure was produced in ArcGIS using data prepared in R. Here we show how these same network maps with edges color coded by geogrpahic length can be produced in R. We provide code to prepare a map for one time period (AD1300-1350). <a href="data/Figure6_27.Rdata">Use these data</a> to follow along. Note that this figure will differ slightly from the one in the book and in the original Mills et al. 2013 publication as site locations have been jittered.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb197-5"><a href="#cb197-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb197-6"><a href="#cb197-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-7"><a href="#cb197-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in network and map data</span></span>
<span id="cb197-8"><a href="#cb197-8" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/Figure6_27.Rdata&quot;</span>)</span>
<span id="cb197-9"><a href="#cb197-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-10"><a href="#cb197-10" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare network object</span></span>
<span id="cb197-11"><a href="#cb197-11" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span> <span class="fu">network</span>(<span class="fu">event2dichot</span>(sim, <span class="at">method =</span> <span class="st">&#39;absolute&#39;</span>, <span class="at">thresh =</span> <span class="fl">0.75</span>),</span>
<span id="cb197-12"><a href="#cb197-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">directed =</span> F)</span>
<span id="cb197-13"><a href="#cb197-13" aria-hidden="true" tabindex="-1"></a>r.net <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(net)</span>
<span id="cb197-14"><a href="#cb197-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-15"><a href="#cb197-15" aria-hidden="true" tabindex="-1"></a><span class="co"># convert coordinates to lat/long and covert to sf object</span></span>
<span id="cb197-16"><a href="#cb197-16" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(attr,</span>
<span id="cb197-17"><a href="#cb197-17" aria-hidden="true" tabindex="-1"></a>                         <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;EASTING&quot;</span>, <span class="st">&quot;NORTHING&quot;</span>),</span>
<span id="cb197-18"><a href="#cb197-18" aria-hidden="true" tabindex="-1"></a>                         <span class="at">crs =</span> <span class="dv">26912</span>)</span>
<span id="cb197-19"><a href="#cb197-19" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(locations_sf, <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb197-20"><a href="#cb197-20" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(z)) <span class="sc">%&gt;%</span></span>
<span id="cb197-21"><a href="#cb197-21" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb197-22"><a href="#cb197-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-23"><a href="#cb197-23" aria-hidden="true" tabindex="-1"></a><span class="co"># output coordinates in dataframe</span></span>
<span id="cb197-24"><a href="#cb197-24" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb197-25"><a href="#cb197-25" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb197-26"><a href="#cb197-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-27"><a href="#cb197-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create edgelist with xy coordinates for each source and target</span></span>
<span id="cb197-28"><a href="#cb197-28" aria-hidden="true" tabindex="-1"></a>edgelist2 <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(r.net)</span>
<span id="cb197-29"><a href="#cb197-29" aria-hidden="true" tabindex="-1"></a>edges2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(xy[edgelist2[, <span class="dv">1</span>], ], xy[edgelist2[, <span class="dv">2</span>], ])</span>
<span id="cb197-30"><a href="#cb197-30" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb197-31"><a href="#cb197-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-32"><a href="#cb197-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the geographic distances of edges</span></span>
<span id="cb197-33"><a href="#cb197-33" aria-hidden="true" tabindex="-1"></a>dist.meas <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb197-34"><a href="#cb197-34" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edges2)) {</span>
<span id="cb197-35"><a href="#cb197-35" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(edges2[i, ])</span>
<span id="cb197-36"><a href="#cb197-36" aria-hidden="true" tabindex="-1"></a>  dist.meas[i] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">dist</span>(<span class="fu">rbind</span>(temp[<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],</span>
<span id="cb197-37"><a href="#cb197-37" aria-hidden="true" tabindex="-1"></a>                                        temp[<span class="dv">1</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>]))) <span class="sc">/</span> <span class="fl">0.009</span></span>
<span id="cb197-38"><a href="#cb197-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb197-39"><a href="#cb197-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-40"><a href="#cb197-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Order edges so shorest will plot last</span></span>
<span id="cb197-41"><a href="#cb197-41" aria-hidden="true" tabindex="-1"></a>net.dat <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(edges2, dist.meas))</span>
<span id="cb197-42"><a href="#cb197-42" aria-hidden="true" tabindex="-1"></a>net.dat <span class="ot">&lt;-</span> net.dat[<span class="fu">order</span>(net.dat<span class="sc">$</span>dist.meas, <span class="at">decreasing =</span> T), ]</span>
<span id="cb197-43"><a href="#cb197-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-44"><a href="#cb197-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Create bins in distance measurement</span></span>
<span id="cb197-45"><a href="#cb197-45" aria-hidden="true" tabindex="-1"></a>net.dat <span class="ot">&lt;-</span> net.dat <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb197-46"><a href="#cb197-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">DistBins =</span> <span class="fu">cut</span>(dist.meas, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">25</span>, <span class="dv">100</span>, <span class="dv">250</span>, <span class="cn">Inf</span>)))</span>
<span id="cb197-47"><a href="#cb197-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-48"><a href="#cb197-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot network map</span></span>
<span id="cb197-49"><a href="#cb197-49" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(base2, <span class="at">darken =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb197-50"><a href="#cb197-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(</span>
<span id="cb197-51"><a href="#cb197-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> map3,</span>
<span id="cb197-52"><a href="#cb197-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">group =</span> Group<span class="fl">.1</span>),</span>
<span id="cb197-53"><a href="#cb197-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb197-54"><a href="#cb197-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb197-55"><a href="#cb197-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span></span>
<span id="cb197-56"><a href="#cb197-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb197-57"><a href="#cb197-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb197-58"><a href="#cb197-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> net.dat,</span>
<span id="cb197-59"><a href="#cb197-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb197-60"><a href="#cb197-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb197-61"><a href="#cb197-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb197-62"><a href="#cb197-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb197-63"><a href="#cb197-63" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2,</span>
<span id="cb197-64"><a href="#cb197-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> DistBins</span>
<span id="cb197-65"><a href="#cb197-65" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb197-66"><a href="#cb197-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.15</span>,</span>
<span id="cb197-67"><a href="#cb197-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb197-68"><a href="#cb197-68" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb197-69"><a href="#cb197-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;skyblue&quot;</span>, <span class="st">&quot;dodgerblue&quot;</span>,</span>
<span id="cb197-70"><a href="#cb197-70" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;darkblue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb197-71"><a href="#cb197-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="05-visualization_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<!--chapter:end:05-visualization.Rmd-->
</div>
</div>
</div>
<div id="spatial-networks" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Spatial Networks</h1>
<p>This section follows along with Chapter 7 of Brughmans and Peeples (2022) to provide information on how to implement spatial network models and analyses in R.</p>
<div id="dataset-and-setup" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Dataset and Setup</h2>
<p>For the initial examples in this section we will use the Roman Road data from the Iberian Penninsula. This dataset consists of a <a href="data/Hispania_nodes.csv">csv file of a set of Roman settlements</a> and a <a href="data/Hispania_roads">csv file of an edge list</a> defining connections among those settlements in terms of roads.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a>edges1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Hispania_roads.csv&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Hispania_nodes.csv&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb198-6"><a href="#cb198-6" aria-hidden="true" tabindex="-1"></a>road_net <span class="ot">&lt;-</span></span>
<span id="cb198-7"><a href="#cb198-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(edges1[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb198-8"><a href="#cb198-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert attribute location data to sf coordinates</span></span>
<span id="cb198-9"><a href="#cb198-9" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span></span>
<span id="cb198-10"><a href="#cb198-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(nodes, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;long&quot;</span>, <span class="st">&quot;lat&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb198-11"><a href="#cb198-11" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(locations_sf)) <span class="sc">%&gt;%</span></span>
<span id="cb198-12"><a href="#cb198-12" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb198-13"><a href="#cb198-13" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(coord1)</span>
<span id="cb198-14"><a href="#cb198-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb198-15"><a href="#cb198-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object</span></span>
<span id="cb198-16"><a href="#cb198-16" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(road_net)</span>
<span id="cb198-17"><a href="#cb198-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb198-18"><a href="#cb198-18" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist), <span class="dv">4</span>))</span>
<span id="cb198-19"><a href="#cb198-19" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb198-20"><a href="#cb198-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist)) {</span>
<span id="cb198-21"><a href="#cb198-21" aria-hidden="true" tabindex="-1"></a>  edges[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb198-22"><a href="#cb198-22" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb198-23"><a href="#cb198-23" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">3</span>],</span>
<span id="cb198-24"><a href="#cb198-24" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">2</span>])</span>
<span id="cb198-25"><a href="#cb198-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb198-26"><a href="#cb198-26" aria-hidden="true" tabindex="-1"></a>myMap <span class="ot">&lt;-</span> <span class="fu">get_stamenmap</span>(<span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">9.5</span>, <span class="dv">36</span>, <span class="dv">3</span>, <span class="fl">43.8</span>),</span>
<span id="cb198-27"><a href="#cb198-27" aria-hidden="true" tabindex="-1"></a>                       <span class="at">maptype =</span> <span class="st">&quot;watercolor&quot;</span>,</span>
<span id="cb198-28"><a href="#cb198-28" aria-hidden="true" tabindex="-1"></a>                       <span class="at">zoom =</span> <span class="dv">6</span>)</span>
<span id="cb198-29"><a href="#cb198-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb198-30"><a href="#cb198-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb198-31"><a href="#cb198-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges,</span>
<span id="cb198-32"><a href="#cb198-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb198-33"><a href="#cb198-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb198-34"><a href="#cb198-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb198-35"><a href="#cb198-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb198-36"><a href="#cb198-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb198-37"><a href="#cb198-37" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb198-38"><a href="#cb198-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb198-39"><a href="#cb198-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb198-40"><a href="#cb198-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb198-41"><a href="#cb198-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb198-42"><a href="#cb198-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb198-43"><a href="#cb198-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb198-44"><a href="#cb198-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb198-45"><a href="#cb198-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb198-46"><a href="#cb198-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb198-47"><a href="#cb198-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb198-48"><a href="#cb198-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb198-49"><a href="#cb198-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb198-50"><a href="#cb198-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb198-51"><a href="#cb198-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/spatial_networks-1.png" width="672" /></p>
</div>
<div id="planar-networks-and-trees" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Planar Networks and Trees</h2>
<div id="evaluating-planarity" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Evaluating Planarity</h3>
<p>A planar network is a network that can be drawn on a plane where the edges do not cross but instead always end in nodes. In many small networks it is relatively easy to determine whether or not a network is planar by simply viewing a network graph. In larger graphs, this can sometimes be difficult.</p>
<p>There is a package available for R called <code>RBGL</code> which is an R implementation of something called the Boost Graph Library. This set of routines includes many powerful tools for characterizing network topology including planarity. This package is not, however, in the CRAN archive where the packages we have worked with so far reside so it needs to be installed from another archive called Bioconductor. In order to install this library, run the following lines of code.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;BiocManager&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))</span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;BiocManager&quot;</span>)</span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>BiocManager<span class="sc">::</span><span class="fu">install</span>(<span class="st">&quot;RBGL&quot;</span>)</span></code></pre></div>
<p>With this in place we can now preform an analysis called the Boyer-Myrvold planarity test (Boyer and Myrvold 2004). This analysis performs a set of operations on a graph structure to evaluate whether or not it can be defined as a planar graph (see publication for more details).</p>
<p>Let’s take a look at our Roman Road data.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RBGL)</span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="co"># First convert to a graphNEL object for planarity test</span></span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">as_graphnel</span>(road_net)</span>
<span id="cb200-4"><a href="#cb200-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Implement test</span></span>
<span id="cb200-5"><a href="#cb200-5" aria-hidden="true" tabindex="-1"></a><span class="fu">boyerMyrvoldPlanarityTest</span>(g)</span>
<span id="cb200-6"><a href="#cb200-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>This results suggests that our Roman Road data is not planar. We can plot the data to evaluate this and do see crossed edges that could not be repositioned.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5364</span>)</span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(road_net, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span></span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb201-6"><a href="#cb201-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Network of Roman Roads&quot;</span>) <span class="sc">+</span></span>
<span id="cb201-7"><a href="#cb201-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Now, by way of example, we can generate a small random network that is planar and see the results of the test. Note that in the network graph that is produced the visual is not planar but could be a small number of nodes were moved. Unfortunately planar graph drawing is not currently implemented into <code>igraph</code> or other packages so you cannot automatically plot a graph as planar even if it meets the criteria of a planar graph.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">49</span>)</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">erdos.renyi.game</span>(<span class="dv">20</span>, <span class="dv">1</span> <span class="sc">/</span> <span class="dv">8</span>)</span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">939</span>)</span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb202-5"><a href="#cb202-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb202-6"><a href="#cb202-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb202-7"><a href="#cb202-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">as_graphnel</span>(g)</span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boyerMyrvoldPlanarityTest</span>(g)</span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Here is another example where the graph layout algorithm happens to produce a planar graph.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4957</span>)</span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">erdos.renyi.game</span>(<span class="dv">20</span>, <span class="dv">1</span> <span class="sc">/</span> <span class="dv">8</span>)</span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">939</span>)</span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">as_graphnel</span>(g)</span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boyerMyrvoldPlanarityTest</span>(g)</span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div id="defining-trees" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Defining Trees</h3>
<p>A tree is a network that is connected and acyclic. Trees contain the minimum number of edges for a set of nodes to be connected, which results in an acyclic network with some interesting properties:</p>
<ul>
<li>Every edge in a tree is a bridge, in that its removal would increase the number of components.</li>
<li>The number of edges in a tree is equal to the number of nodes minus one.</li>
<li>There can be only one single path between every pair of nodes in a tree.</li>
</ul>
<p>In R using the igraph package it is possible to both generate trees and also to take an existing network and define what is called the minimum spanning tree of that graph or the minimum acyclic component.</p>
<p>Let’s create a simple tree using the <code>make_tree</code> function in igraph.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>tree1 <span class="ot">&lt;-</span> <span class="fu">make_tree</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">children =</span> <span class="dv">5</span>, <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a>tree1</span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; IGRAPH ce7a496 U--- 50 49 -- Tree</span></span>
<span id="cb206-4"><a href="#cb206-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + attr: name (g/c), children (g/n), mode (g/c)</span></span>
<span id="cb206-5"><a href="#cb206-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; + edges from ce7a496:</span></span>
<span id="cb206-6"><a href="#cb206-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1-- 2  1-- 3  1-- 4  1-- 5  1-- 6  2-- 7  2-- 8  2-- 9</span></span>
<span id="cb206-7"><a href="#cb206-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9]  2--10  2--11  3--12  3--13  3--14  3--15  3--16  4--17</span></span>
<span id="cb206-8"><a href="#cb206-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17]  4--18  4--19  4--20  4--21  5--22  5--23  5--24  5--25</span></span>
<span id="cb206-9"><a href="#cb206-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25]  5--26  6--27  6--28  6--29  6--30  6--31  7--32  7--33</span></span>
<span id="cb206-10"><a href="#cb206-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [33]  7--34  7--35  7--36  8--37  8--38  8--39  8--40  8--41</span></span>
<span id="cb206-11"><a href="#cb206-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [41]  9--42  9--43  9--44  9--45  9--46 10--47 10--48 10--49</span></span>
<span id="cb206-12"><a href="#cb206-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [49] 10--50</span></span>
<span id="cb206-13"><a href="#cb206-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tree1)</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>In the example here you can see the branch and leaf structure of the network where there are central nodes that are hubs to a number of other nodes and so on, but there are no cycles back to the previous nodes. Thus, such a tree is inherently hierarchical.In the next sub-section, we will discuss the use of minimum spanning trees.</p>
<p>It is also possible plot trees with a heirarchical network layout where nodes are arranged at levels of the hierarchy. In this case you need to specify the node or nodes that represent the first layer using the <code>root</code> call within the <code>ggraph</code> call.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(tree1,</span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&#39;igraph&#39;</span>,</span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">algorithm =</span> <span class="st">&#39;tree&#39;</span>,</span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">root =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb207-5"><a href="#cb207-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_diagonal</span>(<span class="at">edge_width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb207-6"><a href="#cb207-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">V</span>(tree1)), <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb207-7"><a href="#cb207-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() </span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
</div>
<div id="spatial-network-models" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Spatial Network Models</h2>
<p>In Chapter 7.5 in Brughmans and Peeples (2022) we go over a series of spatial network models that provide a number of different ways of defining networks from spatial data. In this sub-section we demonstrate how to define and analyze networks using these approaches.</p>
<div id="relative-neighborhood-networks" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Relative Neighborhood Networks</h3>
<p>Relative neighborhood graph: a pair of nodes are connected if there are no other nodes in the area marked by the overlap of a circle around each node with a radius equal to the distance between the nodes.</p>
<p>The R package <code>cccd</code> contains functions to define relative neighborhood networks from distance data using the <code>rng</code> function. This function can either take a distance matrix object as created above or a set of coordinates to calculate the distance within the call. The output of this function is an igraph object. For large graphs it is also possible to limit the search for possible neighbors to k neighbors.</p>
<p>Let’s use our previously created distance matrix and plot the results.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cccd)</span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a>rng1 <span class="ot">&lt;-</span> <span class="fu">rng</span>(nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)])</span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(rng1, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb208-6"><a href="#cb208-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>We can also plot the results using geographic coordinates.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(rng1,</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> nodes[, <span class="dv">3</span>],</span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> nodes[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb209-7"><a href="#cb209-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="gabriel-graphs" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Gabriel Graphs</h3>
<p>Gabriel graph: a pair of nodes are connected in a Gabriel graph if no other nodes lie within the circular region with a diameter equal to the distance between the pair of nodes.</p>
<p>Again we can use a function in the <code>cccd</code> package to define Gabriel Graph igraph objects from x and y coordinates. Let’s take a look using the Roman Road data. See <code>?gg</code> for details on the options including different algorithms for calculating Gabriel Graphs. We define a Gabriel graph here and plot it using an algorithmic layout and then geographic coordinates.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>gg1 <span class="ot">&lt;-</span> <span class="fu">gg</span>(<span class="at">x =</span> nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)])</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gg1, <span class="at">layout =</span> <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb210-4"><a href="#cb210-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb210-5"><a href="#cb210-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gg1,</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> nodes[, <span class="dv">3</span>],</span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> nodes[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb211-5"><a href="#cb211-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb211-6"><a href="#cb211-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb211-7"><a href="#cb211-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
</div>
<div id="beta-skeletons" class="section level3" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> Beta Skeletons</h3>
<p>Beta skeleton: a Gabriel graph in which the diameter of the circle is controlled by a parameter beta.</p>
<p>In R the <code>gg</code> function for producing Gabriel Graphs has the procedure for beta skeletons built directly in. The argument r in the gg function controls the beta parameter. When r = 1 a traditional Gabriel graph is returned. When the parameter r &gt; 1 there is a stricter definition of connection resulting in fewer ties and when r &lt; 1 link criteria are loosened. See <code>?gg</code> for more details.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>beta_s <span class="ot">&lt;-</span> <span class="fu">gg</span>(<span class="at">x =</span> nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)], <span class="at">r =</span> <span class="fl">1.5</span>)</span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(beta_s,</span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb212-4"><a href="#cb212-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> nodes[, <span class="dv">3</span>],</span>
<span id="cb212-5"><a href="#cb212-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> nodes[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb212-6"><a href="#cb212-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb212-7"><a href="#cb212-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb212-8"><a href="#cb212-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="minimum-spanning-trees" class="section level3" number="6.3.4">
<h3><span class="header-section-number">6.3.4</span> Minimum Spanning Trees</h3>
<p>Minimum spanning tree: in a set of nodes in the Euclidean plane, edges are created between pairs of nodes to form a tree where each node can be reached by each other node, such that the sum of the Euclidean edge lengths is less than the sum for any other spanning tree.</p>
<p>Perhaps the most common use-case for trees in archaeological networks is to define the minimum spanning tree of a given graph or the minimum set of nodes and edges required for a fully connected graph. The <code>igraph</code> package has a function called <code>mst</code> that defines the minimum spanning tree for a given graph. Let’s try this with the Roman Road and then plot it as a node-link diagram and a map.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>mst_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">mst</span>(road_net)</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4643</span>)</span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(mst_net, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object</span></span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(mst_net)</span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb214-4"><a href="#cb214-4" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist), <span class="dv">4</span>))</span>
<span id="cb214-5"><a href="#cb214-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb214-6"><a href="#cb214-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist)) {</span>
<span id="cb214-7"><a href="#cb214-7" aria-hidden="true" tabindex="-1"></a>  edges[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb214-8"><a href="#cb214-8" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb214-9"><a href="#cb214-9" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">3</span>],</span>
<span id="cb214-10"><a href="#cb214-10" aria-hidden="true" tabindex="-1"></a>                  nodes[<span class="fu">which</span>(nodes<span class="sc">$</span>Id <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">2</span>])</span>
<span id="cb214-11"><a href="#cb214-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb214-12"><a href="#cb214-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb214-13"><a href="#cb214-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb214-14"><a href="#cb214-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges,</span>
<span id="cb214-15"><a href="#cb214-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb214-16"><a href="#cb214-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb214-17"><a href="#cb214-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb214-18"><a href="#cb214-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb214-19"><a href="#cb214-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb214-20"><a href="#cb214-20" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb214-21"><a href="#cb214-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb214-22"><a href="#cb214-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb214-23"><a href="#cb214-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb214-24"><a href="#cb214-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb214-25"><a href="#cb214-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)],</span>
<span id="cb214-26"><a href="#cb214-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(long, lat),</span>
<span id="cb214-27"><a href="#cb214-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb214-28"><a href="#cb214-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb214-29"><a href="#cb214-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb214-30"><a href="#cb214-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb214-31"><a href="#cb214-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>,</span>
<span id="cb214-32"><a href="#cb214-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb214-33"><a href="#cb214-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb214-34"><a href="#cb214-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb214-35"><a href="#cb214-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Removed 2 rows containing missing values</span></span>
<span id="cb214-36"><a href="#cb214-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (geom_point).</span></span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<p>Note that minimum spanning trees can also be used for weighted graphs such that weighted connections will be preferred in defining tree structure. See <code>?mst</code> for more details.</p>
</div>
<div id="delaunay-triangulation" class="section level3" number="6.3.5">
<h3><span class="header-section-number">6.3.5</span> Delaunay Triangulation</h3>
<p>Delaunay triangulation: a pair of nodes are connected by an edge if and only if their corresponding regions in a Voronoi diagram share a side.</p>
<p>Voronoi diagram or Thiessen polygons: for each node in a set of nodes in a Euclidean plane, a region is created covering the area that is closer or equidistant to that node than it is to any other node in the set.</p>
<p>The package <code>deldir</code> in R allows for the calculation of Delaunay triangles with x and y coordinates as input. By default the <code>deldir</code> function will define a boundary that extends slightly beyond the xy coordinates of all points included in the analysis. This boundary can also be specified within the call using the <code>rw</code> argument. See <code>?deldir</code> for more details.</p>
<p>The results of this function can be directly plotted and the output also contains coordinates necessary to integrate the results into another type of figure like a <code>ggmap</code>. Let’s take a look.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(deldir)</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>dt1 <span class="ot">&lt;-</span> <span class="fu">deldir</span>(nodes[, <span class="dv">3</span>], nodes[, <span class="dv">2</span>])</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dt1)</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract Voronoi polygons for plotting</span></span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>mapdat <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dt1<span class="sc">$</span>dirsgs)</span>
<span id="cb216-3"><a href="#cb216-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract network for plotting</span></span>
<span id="cb216-4"><a href="#cb216-4" aria-hidden="true" tabindex="-1"></a>mapdat2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dt1<span class="sc">$</span>delsgs)</span>
<span id="cb216-5"><a href="#cb216-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(myMap) <span class="sc">+</span></span>
<span id="cb216-6"><a href="#cb216-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb216-7"><a href="#cb216-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mapdat,</span>
<span id="cb216-8"><a href="#cb216-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb216-9"><a href="#cb216-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> x1,</span>
<span id="cb216-10"><a href="#cb216-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> y1,</span>
<span id="cb216-11"><a href="#cb216-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> x2,</span>
<span id="cb216-12"><a href="#cb216-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> y2</span>
<span id="cb216-13"><a href="#cb216-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb216-14"><a href="#cb216-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb216-15"><a href="#cb216-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb216-16"><a href="#cb216-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb216-17"><a href="#cb216-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb216-18"><a href="#cb216-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mapdat2,</span>
<span id="cb216-19"><a href="#cb216-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb216-20"><a href="#cb216-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> x1,</span>
<span id="cb216-21"><a href="#cb216-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> y1,</span>
<span id="cb216-22"><a href="#cb216-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> x2,</span>
<span id="cb216-23"><a href="#cb216-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> y2</span>
<span id="cb216-24"><a href="#cb216-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb216-25"><a href="#cb216-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;red&#39;</span>,</span>
<span id="cb216-26"><a href="#cb216-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb216-27"><a href="#cb216-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb216-28"><a href="#cb216-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb216-29"><a href="#cb216-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> nodes,</span>
<span id="cb216-30"><a href="#cb216-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(long, lat),</span>
<span id="cb216-31"><a href="#cb216-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb216-32"><a href="#cb216-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb216-33"><a href="#cb216-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb216-34"><a href="#cb216-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb216-35"><a href="#cb216-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb216-36"><a href="#cb216-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb216-37"><a href="#cb216-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb216-38"><a href="#cb216-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
</div>
<div id="k-nearest-neighbors" class="section level3" number="6.3.6">
<h3><span class="header-section-number">6.3.6</span> K-nearest Neighbors</h3>
<p>K-nearest neighbor network: each node is connected to K other nodes closest to it.</p>
<p>The <code>cccd</code> package has a routine that allows for the calculation of K-nearest neighbor graphs from geographic coordinates or a precomputed distance matrix. In this example we use the Roman Road data and calculate K=1 and K=6 nearest neighbor networks and plot the both simultaneously.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate k=1 nearest neighbor graph</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a>nn1 <span class="ot">&lt;-</span> <span class="fu">nng</span>(<span class="at">x =</span> nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)], <span class="at">k =</span> <span class="dv">1</span>)</span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate k=6 nearest neighbor graph</span></span>
<span id="cb217-4"><a href="#cb217-4" aria-hidden="true" tabindex="-1"></a>nn6 <span class="ot">&lt;-</span> <span class="fu">nng</span>(<span class="at">x =</span> nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)], <span class="at">k =</span> <span class="dv">6</span>)</span>
<span id="cb217-5"><a href="#cb217-5" aria-hidden="true" tabindex="-1"></a>EL1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(</span>
<span id="cb217-6"><a href="#cb217-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(<span class="fu">cbind</span>(<span class="fu">get.edgelist</span>(nn6),</span>
<span id="cb217-7"><a href="#cb217-7" aria-hidden="true" tabindex="-1"></a>         <span class="fu">rep</span>(<span class="st">&quot;K=6&quot;</span>, <span class="fu">nrow</span>(<span class="fu">get.edgelist</span>(nn1))</span>
<span id="cb217-8"><a href="#cb217-8" aria-hidden="true" tabindex="-1"></a>             )),</span>
<span id="cb217-9"><a href="#cb217-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cbind</span>(<span class="fu">get.edgelist</span>(nn1), </span>
<span id="cb217-10"><a href="#cb217-10" aria-hidden="true" tabindex="-1"></a>          <span class="fu">rep</span>(<span class="st">&quot;K=1&quot;</span>, <span class="fu">nrow</span>(<span class="fu">get.edgelist</span>(nn1))</span>
<span id="cb217-11"><a href="#cb217-11" aria-hidden="true" tabindex="-1"></a>             ))))</span>
<span id="cb217-12"><a href="#cb217-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(EL1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;from&quot;</span>, <span class="st">&quot;to&quot;</span>, <span class="st">&quot;K&quot;</span>)</span>
<span id="cb217-13"><a href="#cb217-13" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(EL1)</span>
<span id="cb217-14"><a href="#cb217-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot both graphs</span></span>
<span id="cb217-15"><a href="#cb217-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb217-16"><a href="#cb217-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> nodes[, <span class="dv">3</span>], <span class="at">y =</span> nodes[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb217-17"><a href="#cb217-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(K)), <span class="at">width =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb217-18"><a href="#cb217-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb217-19"><a href="#cb217-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">edge_color =</span> <span class="st">&quot;K&quot;</span>) <span class="sc">+</span></span>
<span id="cb217-20"><a href="#cb217-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="maximum-distance-networks" class="section level3" number="6.3.7">
<h3><span class="header-section-number">6.3.7</span> Maximum Distance Networks</h3>
<p>Maximum distance network: each node is connected to all other nodes at a distance closer than or equal to a threshold value. In order define a maximum distance network we simply need to define a threshold distance and define all nodes greater than that distance as unconnected and nodes within that distance as connected. This can be done in base R using the dist function we used above.</p>
<p>Since the coordinates we are using here are in decimal degrees we need to calculate distances based on “great circles” across the globe rather than Euclidean distances on a projected plane. There is a function called <code>distm</code> in the <code>geosphere</code> package that allows us to do this. If you are working with projected data, you can simply use the <code>dist</code> function in the place of <code>distm</code> like the example below.</p>
<p>Next, in order to define a minimum distance network we simply binarize this matrix. We can do this using the <code>event2dichot</code> function within the <code>statnet</code> package and easily create an R network objects. Let’s try it out with the Roman Road data for thresholds of 100,000 and 250,000 meters.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geosphere)</span>
<span id="cb218-3"><a href="#cb218-3" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">distm</span>(nodes[, <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)])</span>
<span id="cb218-4"><a href="#cb218-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note we use the leq=TRUE argument here as we want nodes less than</span></span>
<span id="cb218-5"><a href="#cb218-5" aria-hidden="true" tabindex="-1"></a><span class="co"># the threshold to count.</span></span>
<span id="cb218-6"><a href="#cb218-6" aria-hidden="true" tabindex="-1"></a>net100 <span class="ot">&lt;-</span> <span class="fu">network</span>(<span class="fu">event2dichot</span>(</span>
<span id="cb218-7"><a href="#cb218-7" aria-hidden="true" tabindex="-1"></a>  d1,</span>
<span id="cb218-8"><a href="#cb218-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">&#39;absolute&#39;</span>,</span>
<span id="cb218-9"><a href="#cb218-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">thresh =</span> <span class="dv">100000</span>,</span>
<span id="cb218-10"><a href="#cb218-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">leq =</span> <span class="cn">TRUE</span></span>
<span id="cb218-11"><a href="#cb218-11" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb218-12"><a href="#cb218-12" aria-hidden="true" tabindex="-1"></a><span class="at">directed =</span> F)</span>
<span id="cb218-13"><a href="#cb218-13" aria-hidden="true" tabindex="-1"></a>net250 <span class="ot">&lt;-</span> <span class="fu">network</span>(<span class="fu">event2dichot</span>(</span>
<span id="cb218-14"><a href="#cb218-14" aria-hidden="true" tabindex="-1"></a>  d1,</span>
<span id="cb218-15"><a href="#cb218-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">&#39;absolute&#39;</span>,</span>
<span id="cb218-16"><a href="#cb218-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">thresh =</span> <span class="dv">250000</span>,</span>
<span id="cb218-17"><a href="#cb218-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">leq =</span> <span class="cn">TRUE</span></span>
<span id="cb218-18"><a href="#cb218-18" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb218-19"><a href="#cb218-19" aria-hidden="true" tabindex="-1"></a><span class="at">directed =</span> F)</span>
<span id="cb218-20"><a href="#cb218-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 100 Km network</span></span>
<span id="cb218-21"><a href="#cb218-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net100,</span>
<span id="cb218-22"><a href="#cb218-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb218-23"><a href="#cb218-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> nodes[, <span class="dv">3</span>],</span>
<span id="cb218-24"><a href="#cb218-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> nodes[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb218-25"><a href="#cb218-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb218-26"><a href="#cb218-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb218-27"><a href="#cb218-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 250 Km network</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net250,</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> nodes[, <span class="dv">3</span>],</span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> nodes[, <span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb219-6"><a href="#cb219-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb219-7"><a href="#cb219-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb219-8"><a href="#cb219-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-15-2.png" width="672" /></p>
</div>
</div>
<div id="case-studies" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Case Studies</h2>
<div id="proximity-of-iron-age-sites-in-southern-spain" class="section level3" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Proximity of Iron Age sites in Southern Spain</h3>
<p>The first case study in Chapter 7 of Brughmans and Peeples (2022) is an example of several of the methods for defining networks using spatial data outlined above using the locations of 86 sites in the Guadalquivir river valley in Southern Spain. In the code chunks below, we replicate the analyses presented in the book.</p>
<p>First we read in the data which represents site location information in lat/long decimal degrees.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>guad <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/Guadalquivir.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>Next we create a distance matrix based on the decimal degrees locations using the “distm” function.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geosphere)</span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>g_dist1 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">distm</span>(guad[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]))</span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>g_dist1[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]     [,2]     [,3]     [,4]</span></span>
<span id="cb221-5"><a href="#cb221-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]     0.00 69995.82 42265.58 51296.53</span></span>
<span id="cb221-6"><a href="#cb221-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] 69995.82     0.00 28240.50 29202.84</span></span>
<span id="cb221-7"><a href="#cb221-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] 42265.58 28240.50     0.00 23692.10</span></span>
<span id="cb221-8"><a href="#cb221-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] 51296.53 29202.84 23692.10     0.00</span></span></code></pre></div>
<p>From here we can create maximum distance networks at both the 10km and 18km distance and plot it using the geographic location of nodes for node placement.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note we use the leq=TRUE argument here as we want nodes less than the threshold to count.</span></span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a>net10 <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(<span class="fu">network</span>(</span>
<span id="cb222-4"><a href="#cb222-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">event2dichot</span>(</span>
<span id="cb222-5"><a href="#cb222-5" aria-hidden="true" tabindex="-1"></a>    g_dist1,</span>
<span id="cb222-6"><a href="#cb222-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&#39;absolute&#39;</span>,</span>
<span id="cb222-7"><a href="#cb222-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">thresh =</span> <span class="dv">10000</span>,</span>
<span id="cb222-8"><a href="#cb222-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">leq =</span> <span class="cn">TRUE</span></span>
<span id="cb222-9"><a href="#cb222-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb222-10"><a href="#cb222-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> F</span>
<span id="cb222-11"><a href="#cb222-11" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb222-12"><a href="#cb222-12" aria-hidden="true" tabindex="-1"></a>net18 <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(<span class="fu">network</span>(</span>
<span id="cb222-13"><a href="#cb222-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">event2dichot</span>(</span>
<span id="cb222-14"><a href="#cb222-14" aria-hidden="true" tabindex="-1"></a>    g_dist1,</span>
<span id="cb222-15"><a href="#cb222-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&#39;absolute&#39;</span>,</span>
<span id="cb222-16"><a href="#cb222-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">thresh =</span> <span class="dv">18000</span>,</span>
<span id="cb222-17"><a href="#cb222-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">leq =</span> <span class="cn">TRUE</span></span>
<span id="cb222-18"><a href="#cb222-18" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb222-19"><a href="#cb222-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">directed =</span> F</span>
<span id="cb222-20"><a href="#cb222-20" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb222-21"><a href="#cb222-21" aria-hidden="true" tabindex="-1"></a>g10_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(net10))</span>
<span id="cb222-22"><a href="#cb222-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(g10_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb222-23"><a href="#cb222-23" aria-hidden="true" tabindex="-1"></a>g18_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(net18))</span>
<span id="cb222-24"><a href="#cb222-24" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(g18_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb222-25"><a href="#cb222-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot histogram of degree for 10km network</span></span>
<span id="cb222-26"><a href="#cb222-26" aria-hidden="true" tabindex="-1"></a>h10 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> g10_deg) <span class="sc">+</span></span>
<span id="cb222-27"><a href="#cb222-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">15</span>)</span>
<span id="cb222-28"><a href="#cb222-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot histogram of degree for 18km network</span></span>
<span id="cb222-29"><a href="#cb222-29" aria-hidden="true" tabindex="-1"></a>h18 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> g18_deg) <span class="sc">+</span></span>
<span id="cb222-30"><a href="#cb222-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">15</span>)</span>
<span id="cb222-31"><a href="#cb222-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 10 Km network</span></span>
<span id="cb222-32"><a href="#cb222-32" aria-hidden="true" tabindex="-1"></a>g10 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net10,</span>
<span id="cb222-33"><a href="#cb222-33" aria-hidden="true" tabindex="-1"></a>              <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb222-34"><a href="#cb222-34" aria-hidden="true" tabindex="-1"></a>              <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb222-35"><a href="#cb222-35" aria-hidden="true" tabindex="-1"></a>              <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb222-36"><a href="#cb222-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb222-37"><a href="#cb222-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb222-38"><a href="#cb222-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb222-39"><a href="#cb222-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 18 Km network</span></span>
<span id="cb222-40"><a href="#cb222-40" aria-hidden="true" tabindex="-1"></a>g18 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(net18,</span>
<span id="cb222-41"><a href="#cb222-41" aria-hidden="true" tabindex="-1"></a>              <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb222-42"><a href="#cb222-42" aria-hidden="true" tabindex="-1"></a>              <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb222-43"><a href="#cb222-43" aria-hidden="true" tabindex="-1"></a>              <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb222-44"><a href="#cb222-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb222-45"><a href="#cb222-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb222-46"><a href="#cb222-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb222-47"><a href="#cb222-47" aria-hidden="true" tabindex="-1"></a>g18</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>If we want to combine the degree distribution plot and the network into the same frame, we can use the <code>inset_element</code> function in the <code>patchwork</code> package.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>plot_a <span class="ot">&lt;-</span> g10 <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a>  h10,</span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb223-5"><a href="#cb223-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb223-6"><a href="#cb223-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb223-7"><a href="#cb223-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb223-8"><a href="#cb223-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb223-9"><a href="#cb223-9" aria-hidden="true" tabindex="-1"></a>plot_b <span class="ot">&lt;-</span> g18 <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb223-10"><a href="#cb223-10" aria-hidden="true" tabindex="-1"></a>  h18,</span>
<span id="cb223-11"><a href="#cb223-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb223-12"><a href="#cb223-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb223-13"><a href="#cb223-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb223-14"><a href="#cb223-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb223-15"><a href="#cb223-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb223-16"><a href="#cb223-16" aria-hidden="true" tabindex="-1"></a>plot_a</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>plot_b</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-19-2.png" width="672" /></p>
<p>Next, we calculate a relative neighborhood graph for the site locations and plot it with nodes positioned in geographic space.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>rng1 <span class="ot">&lt;-</span> <span class="fu">rng</span>(guad[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>g_rng <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(rng1,</span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb225-9"><a href="#cb225-9" aria-hidden="true" tabindex="-1"></a>g_rng_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(rng1))</span>
<span id="cb225-10"><a href="#cb225-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(g_rng_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb225-11"><a href="#cb225-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot histogram of degree for relative neighborhood network</span></span>
<span id="cb225-12"><a href="#cb225-12" aria-hidden="true" tabindex="-1"></a>h_rng <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> g_rng_deg) <span class="sc">+</span></span>
<span id="cb225-13"><a href="#cb225-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">3</span>)</span>
<span id="cb225-14"><a href="#cb225-14" aria-hidden="true" tabindex="-1"></a>plot_c <span class="ot">&lt;-</span> g_rng <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb225-15"><a href="#cb225-15" aria-hidden="true" tabindex="-1"></a>  h_rng,</span>
<span id="cb225-16"><a href="#cb225-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb225-17"><a href="#cb225-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb225-18"><a href="#cb225-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb225-19"><a href="#cb225-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb225-20"><a href="#cb225-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb225-21"><a href="#cb225-21" aria-hidden="true" tabindex="-1"></a>plot_c</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>The chunk of code below then calculates and plots the Gabrial graph with the associated degree distribution plot.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>gg1 <span class="ot">&lt;-</span> <span class="fu">gg</span>(<span class="at">x =</span> guad[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a>g_gg <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(gg1,</span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb226-4"><a href="#cb226-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb226-5"><a href="#cb226-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb226-6"><a href="#cb226-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb226-7"><a href="#cb226-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb226-8"><a href="#cb226-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb226-9"><a href="#cb226-9" aria-hidden="true" tabindex="-1"></a>g_gg_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(gg1))</span>
<span id="cb226-10"><a href="#cb226-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(g_gg_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb226-11"><a href="#cb226-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot histogram of degree for relative neighborhood network</span></span>
<span id="cb226-12"><a href="#cb226-12" aria-hidden="true" tabindex="-1"></a>h_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> g_gg_deg) <span class="sc">+</span></span>
<span id="cb226-13"><a href="#cb226-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">5</span>)</span>
<span id="cb226-14"><a href="#cb226-14" aria-hidden="true" tabindex="-1"></a>plot_d <span class="ot">&lt;-</span> g_gg <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb226-15"><a href="#cb226-15" aria-hidden="true" tabindex="-1"></a>  h_gg,</span>
<span id="cb226-16"><a href="#cb226-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb226-17"><a href="#cb226-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb226-18"><a href="#cb226-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb226-19"><a href="#cb226-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb226-20"><a href="#cb226-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb226-21"><a href="#cb226-21" aria-hidden="true" tabindex="-1"></a>plot_d</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Next, we’ll plot the K-nearest neighbors graphs for k= 2, 3, 4, and 6 with the associated degree distribution for each.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate k=2,3,4, and 6 nearest neighbor graphs</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a>nn2 <span class="ot">&lt;-</span> <span class="fu">nng</span>(<span class="at">x =</span> guad[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">k =</span> <span class="dv">2</span>)</span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a>nn3 <span class="ot">&lt;-</span> <span class="fu">nng</span>(<span class="at">x =</span> guad[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">k =</span> <span class="dv">3</span>)</span>
<span id="cb227-4"><a href="#cb227-4" aria-hidden="true" tabindex="-1"></a>nn4 <span class="ot">&lt;-</span> <span class="fu">nng</span>(<span class="at">x =</span> guad[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">k =</span> <span class="dv">4</span>)</span>
<span id="cb227-5"><a href="#cb227-5" aria-hidden="true" tabindex="-1"></a>nn6 <span class="ot">&lt;-</span> <span class="fu">nng</span>(<span class="at">x =</span> guad[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">k =</span> <span class="dv">6</span>)</span>
<span id="cb227-6"><a href="#cb227-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialiize network graph for each k value</span></span>
<span id="cb227-7"><a href="#cb227-7" aria-hidden="true" tabindex="-1"></a>g_nn2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(nn2,</span>
<span id="cb227-8"><a href="#cb227-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb227-9"><a href="#cb227-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb227-10"><a href="#cb227-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb227-11"><a href="#cb227-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb227-12"><a href="#cb227-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb227-13"><a href="#cb227-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb227-14"><a href="#cb227-14" aria-hidden="true" tabindex="-1"></a>g_nn3 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(nn3,</span>
<span id="cb227-15"><a href="#cb227-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb227-16"><a href="#cb227-16" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb227-17"><a href="#cb227-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb227-18"><a href="#cb227-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb227-19"><a href="#cb227-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb227-20"><a href="#cb227-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb227-21"><a href="#cb227-21" aria-hidden="true" tabindex="-1"></a>g_nn4 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(nn4,</span>
<span id="cb227-22"><a href="#cb227-22" aria-hidden="true" tabindex="-1"></a>                <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb227-23"><a href="#cb227-23" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb227-24"><a href="#cb227-24" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb227-25"><a href="#cb227-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb227-26"><a href="#cb227-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb227-27"><a href="#cb227-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb227-28"><a href="#cb227-28" aria-hidden="true" tabindex="-1"></a>g_nn6 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(nn6,</span>
<span id="cb227-29"><a href="#cb227-29" aria-hidden="true" tabindex="-1"></a>                <span class="at">layout =</span> <span class="st">&quot;manual&quot;</span>,</span>
<span id="cb227-30"><a href="#cb227-30" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> guad[, <span class="dv">2</span>],</span>
<span id="cb227-31"><a href="#cb227-31" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> guad[, <span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb227-32"><a href="#cb227-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb227-33"><a href="#cb227-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb227-34"><a href="#cb227-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span>
<span id="cb227-35"><a href="#cb227-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up dataframes of degree distribution for each network</span></span>
<span id="cb227-36"><a href="#cb227-36" aria-hidden="true" tabindex="-1"></a>nn2_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(nn2))</span>
<span id="cb227-37"><a href="#cb227-37" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nn2_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb227-38"><a href="#cb227-38" aria-hidden="true" tabindex="-1"></a>nn3_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(nn3))</span>
<span id="cb227-39"><a href="#cb227-39" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nn3_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb227-40"><a href="#cb227-40" aria-hidden="true" tabindex="-1"></a>nn4_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(nn4))</span>
<span id="cb227-41"><a href="#cb227-41" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nn4_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb227-42"><a href="#cb227-42" aria-hidden="true" tabindex="-1"></a>nn6_deg <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(nn6))</span>
<span id="cb227-43"><a href="#cb227-43" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nn6_deg) <span class="ot">&lt;-</span> <span class="st">&#39;degree&#39;</span></span>
<span id="cb227-44"><a href="#cb227-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize histogram plot for each degree distribution</span></span>
<span id="cb227-45"><a href="#cb227-45" aria-hidden="true" tabindex="-1"></a>h_nn2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> nn2_deg) <span class="sc">+</span></span>
<span id="cb227-46"><a href="#cb227-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb227-47"><a href="#cb227-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(nn2_deg)))</span>
<span id="cb227-48"><a href="#cb227-48" aria-hidden="true" tabindex="-1"></a>h_nn3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> nn3_deg) <span class="sc">+</span></span>
<span id="cb227-49"><a href="#cb227-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb227-50"><a href="#cb227-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(nn3_deg)))</span>
<span id="cb227-51"><a href="#cb227-51" aria-hidden="true" tabindex="-1"></a>h_nn4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> nn4_deg) <span class="sc">+</span></span>
<span id="cb227-52"><a href="#cb227-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb227-53"><a href="#cb227-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(nn4_deg)))</span>
<span id="cb227-54"><a href="#cb227-54" aria-hidden="true" tabindex="-1"></a>h_nn6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> nn6_deg) <span class="sc">+</span></span>
<span id="cb227-55"><a href="#cb227-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> degree), <span class="at">bins =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb227-56"><a href="#cb227-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(nn6_deg)))</span>
<span id="cb227-57"><a href="#cb227-57" aria-hidden="true" tabindex="-1"></a>plot_a <span class="ot">&lt;-</span> g_nn2 <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb227-58"><a href="#cb227-58" aria-hidden="true" tabindex="-1"></a>  h_nn2,</span>
<span id="cb227-59"><a href="#cb227-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb227-60"><a href="#cb227-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb227-61"><a href="#cb227-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb227-62"><a href="#cb227-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb227-63"><a href="#cb227-63" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb227-64"><a href="#cb227-64" aria-hidden="true" tabindex="-1"></a>plot_b <span class="ot">&lt;-</span> g_nn3 <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb227-65"><a href="#cb227-65" aria-hidden="true" tabindex="-1"></a>  h_nn3,</span>
<span id="cb227-66"><a href="#cb227-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb227-67"><a href="#cb227-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb227-68"><a href="#cb227-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb227-69"><a href="#cb227-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb227-70"><a href="#cb227-70" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb227-71"><a href="#cb227-71" aria-hidden="true" tabindex="-1"></a>plot_c <span class="ot">&lt;-</span> g_nn4 <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb227-72"><a href="#cb227-72" aria-hidden="true" tabindex="-1"></a>  h_nn4,</span>
<span id="cb227-73"><a href="#cb227-73" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb227-74"><a href="#cb227-74" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb227-75"><a href="#cb227-75" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb227-76"><a href="#cb227-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb227-77"><a href="#cb227-77" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb227-78"><a href="#cb227-78" aria-hidden="true" tabindex="-1"></a>plot_d <span class="ot">&lt;-</span> g_nn6 <span class="sc">+</span> <span class="fu">inset_element</span>(</span>
<span id="cb227-79"><a href="#cb227-79" aria-hidden="true" tabindex="-1"></a>  h_nn6,</span>
<span id="cb227-80"><a href="#cb227-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb227-81"><a href="#cb227-81" aria-hidden="true" tabindex="-1"></a>  <span class="at">bottom =</span> <span class="fl">0.7</span>,</span>
<span id="cb227-82"><a href="#cb227-82" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="fl">0.25</span>,</span>
<span id="cb227-83"><a href="#cb227-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">top =</span> <span class="fl">0.99</span></span>
<span id="cb227-84"><a href="#cb227-84" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb227-85"><a href="#cb227-85" aria-hidden="true" tabindex="-1"></a>plot_a</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>plot_b</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-22-2.png" width="672" /></p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>plot_c</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-22-3.png" width="672" /></p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>plot_d</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-22-4.png" width="672" /></p>
</div>
<div id="networks-in-space-in-the-u.s.-southwest" class="section level3" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Networks in Space in the U.S. Southwest</h3>
<p>The second case study in Chapter 7 of Brughmans and Peeples (2022) provides an example of how we can use spatial network methods to analyze material cultural network data. We use the Chaco World data here and you can download the <a href="data/map.RData">map data</a>, <a href="data/AD1050attr.csv">the site attribute data</a>, and <a href="data/AD1050cer.csv">the ceramic frequency data</a> to follow along.</p>
<p>The first analysis expores the degree to which similarities in ceramics (in terms of Brainerd-Robinson similarity based on wares) can be explained by spatial distance. To do this we simply define a ceramic similarity matrix, a Euclidean distance matrix, and the fit a model using distance to explain ceramic similarity using a general additive model (<code>gam</code>) approach. The <code>gam</code> function we use here is in the <code>mgcv</code> package. Note that the object <code>dmat</code> is created using the <code>dist</code> function as the data we started with are already projected site locations using UTM coordinates.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mgcv)</span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&#39;data/map.RData&#39;</span>)</span>
<span id="cb231-3"><a href="#cb231-3" aria-hidden="true" tabindex="-1"></a>attr <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/AD1050attr.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb231-4"><a href="#cb231-4" aria-hidden="true" tabindex="-1"></a>cer <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/AD1050cer.csv&#39;</span>,</span>
<span id="cb231-5"><a href="#cb231-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">header =</span> T,</span>
<span id="cb231-6"><a href="#cb231-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb231-7"><a href="#cb231-7" aria-hidden="true" tabindex="-1"></a>sim <span class="ot">&lt;-</span></span>
<span id="cb231-8"><a href="#cb231-8" aria-hidden="true" tabindex="-1"></a>  (<span class="dv">2</span> <span class="sc">-</span> <span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(<span class="fu">prop.table</span>(</span>
<span id="cb231-9"><a href="#cb231-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.matrix</span>(cer), <span class="dv">1</span>), </span>
<span id="cb231-10"><a href="#cb231-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">&#39;manhattan&#39;</span>))) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb231-11"><a href="#cb231-11" aria-hidden="true" tabindex="-1"></a>dmat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">dist</span>(attr[, <span class="dv">9</span><span class="sc">:</span><span class="dv">10</span>]))</span>
<span id="cb231-12"><a href="#cb231-12" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">gam</span>(<span class="fu">as.vector</span>(sim) <span class="sc">~</span> <span class="fu">as.vector</span>(dmat))</span>
<span id="cb231-13"><a href="#cb231-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span>
<span id="cb231-14"><a href="#cb231-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb231-15"><a href="#cb231-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Family: gaussian </span></span>
<span id="cb231-16"><a href="#cb231-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Link function: identity </span></span>
<span id="cb231-17"><a href="#cb231-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb231-18"><a href="#cb231-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Formula:</span></span>
<span id="cb231-19"><a href="#cb231-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; as.vector(sim) ~ as.vector(dmat)</span></span>
<span id="cb231-20"><a href="#cb231-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb231-21"><a href="#cb231-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Parametric coefficients:</span></span>
<span id="cb231-22"><a href="#cb231-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                   Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb231-23"><a href="#cb231-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)      7.979e-01  2.547e-03   313.3   &lt;2e-16 ***</span></span>
<span id="cb231-24"><a href="#cb231-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; as.vector(dmat) -2.487e-06  1.448e-08  -171.8   &lt;2e-16 ***</span></span>
<span id="cb231-25"><a href="#cb231-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb231-26"><a href="#cb231-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  </span></span>
<span id="cb231-27"><a href="#cb231-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb231-28"><a href="#cb231-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb231-29"><a href="#cb231-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb231-30"><a href="#cb231-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; R-sq.(adj) =  0.372   Deviance explained = 37.2%</span></span>
<span id="cb231-31"><a href="#cb231-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; GCV = 0.082702  Scale est. = 0.082699  n = 49729</span></span></code></pre></div>
<p>As these results show and as described in the book, spatial distance is a statistically significant predictor of ceramic similarity and distance appear to explain about 37.2% of the variation in ceramic similarity.</p>
<p>The next analysis presented the book creates a series of minimum distance networks from 36Kms all the way out to nearly 400Kms in concentric days travel (36Kms is about one day of travel on foot) and explore the proportion of variance explained by networks constrained on each distance.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a sequence of distances from 36km to 400kms by concentric</span></span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a><span class="co"># days travel on foot</span></span>
<span id="cb232-3"><a href="#cb232-3" aria-hidden="true" tabindex="-1"></a>kms <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">36000</span>, <span class="dv">400000</span>, <span class="at">by =</span> <span class="dv">36000</span>)</span>
<span id="cb232-4"><a href="#cb232-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define minimum distance networks for each item in &quot;kms&quot; and the</span></span>
<span id="cb232-5"><a href="#cb232-5" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate variance explained</span></span>
<span id="cb232-6"><a href="#cb232-6" aria-hidden="true" tabindex="-1"></a>temp.out <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb232-7"><a href="#cb232-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(kms)) {</span>
<span id="cb232-8"><a href="#cb232-8" aria-hidden="true" tabindex="-1"></a>  dmat.temp <span class="ot">&lt;-</span> dmat</span>
<span id="cb232-9"><a href="#cb232-9" aria-hidden="true" tabindex="-1"></a>  dmat.temp[dmat <span class="sc">&gt;</span> kms[i]] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb232-10"><a href="#cb232-10" aria-hidden="true" tabindex="-1"></a>  dmat.temp[dmat.temp <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb232-11"><a href="#cb232-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate gam model and output r^2 value</span></span>
<span id="cb232-12"><a href="#cb232-12" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">gam</span>(<span class="fu">as.vector</span>(sim[<span class="fu">lower.tri</span>(sim)]) <span class="sc">~</span></span>
<span id="cb232-13"><a href="#cb232-13" aria-hidden="true" tabindex="-1"></a>                <span class="fu">as.vector</span>(dmat.temp[<span class="fu">lower.tri</span>(dmat.temp)]))</span>
<span id="cb232-14"><a href="#cb232-14" aria-hidden="true" tabindex="-1"></a>  temp.out[i] <span class="ot">&lt;-</span> <span class="fu">summary</span>(temp)<span class="sc">$</span>r.sq</span>
<span id="cb232-15"><a href="#cb232-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb232-16"><a href="#cb232-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data frame of output</span></span>
<span id="cb232-17"><a href="#cb232-17" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(kms <span class="sc">/</span> <span class="dv">1000</span>, temp.out))</span>
<span id="cb232-18"><a href="#cb232-18" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dat) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;Dist&#39;</span>, <span class="st">&#39;Cor&#39;</span>)</span>
<span id="cb232-19"><a href="#cb232-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb232-20"><a href="#cb232-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb232-21"><a href="#cb232-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dat) <span class="sc">+</span></span>
<span id="cb232-22"><a href="#cb232-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> Dist, <span class="at">y =</span> Cor)) <span class="sc">+</span></span>
<span id="cb232-23"><a href="#cb232-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Dist, <span class="at">y =</span> Cor), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb232-24"><a href="#cb232-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Maximum Distance Network Threshold (Km)&quot;</span>) <span class="sc">+</span></span>
<span id="cb232-25"><a href="#cb232-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proportion of Variance Explained&quot;</span>) <span class="sc">+</span></span>
<span id="cb232-26"><a href="#cb232-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb232-27"><a href="#cb232-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb232-28"><a href="#cb232-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb232-29"><a href="#cb232-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb232-30"><a href="#cb232-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb232-31"><a href="#cb232-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>))</span>
<span id="cb232-32"><a href="#cb232-32" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>Finally, let’s recreate figure 7.8 from the book to display the 36km minimum distance network for the Chaco region ca. AD 1050-1100. This follows the same basic format for plotting minimum distance networks we defined above.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>d36 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">dist</span>(attr[, <span class="dv">9</span><span class="sc">:</span><span class="dv">10</span>]))</span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>d36[d36 <span class="sc">&lt;</span> <span class="dv">36001</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>d36[d36 <span class="sc">&gt;</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb233-4"><a href="#cb233-4" aria-hidden="true" tabindex="-1"></a>g36.net <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(d36, <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb233-5"><a href="#cb233-5" aria-hidden="true" tabindex="-1"></a>locations_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(attr,</span>
<span id="cb233-6"><a href="#cb233-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;EASTING&quot;</span>, <span class="st">&quot;NORTHING&quot;</span>),</span>
<span id="cb233-7"><a href="#cb233-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">crs =</span> <span class="dv">26912</span>)</span>
<span id="cb233-8"><a href="#cb233-8" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(locations_sf, <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb233-9"><a href="#cb233-9" aria-hidden="true" tabindex="-1"></a>coord1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">st_geometry</span>(z)) <span class="sc">%&gt;%</span></span>
<span id="cb233-10"><a href="#cb233-10" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>))</span>
<span id="cb233-11"><a href="#cb233-11" aria-hidden="true" tabindex="-1"></a>xy <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(attr<span class="sc">$</span>SWSN_Site, coord1))</span>
<span id="cb233-12"><a href="#cb233-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;site&#39;</span>, <span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb233-13"><a href="#cb233-13" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> <span class="fu">get_stamenmap</span>(</span>
<span id="cb233-14"><a href="#cb233-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">bbox =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">110.75</span>, <span class="fl">33.5</span>, <span class="sc">-</span><span class="dv">107</span>, <span class="dv">38</span>),</span>
<span id="cb233-15"><a href="#cb233-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom =</span> <span class="dv">8</span>,</span>
<span id="cb233-16"><a href="#cb233-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">maptype =</span> <span class="st">&quot;terrain-background&quot;</span>,</span>
<span id="cb233-17"><a href="#cb233-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">&quot;bw&quot;</span></span>
<span id="cb233-18"><a href="#cb233-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb233-19"><a href="#cb233-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract edgelist from network object</span></span>
<span id="cb233-20"><a href="#cb233-20" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">get.edgelist</span>(g36.net)</span>
<span id="cb233-21"><a href="#cb233-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataframe of beginning and ending points of edges</span></span>
<span id="cb233-22"><a href="#cb233-22" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(edgelist), <span class="dv">4</span>))</span>
<span id="cb233-23"><a href="#cb233-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edges) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;Y1&quot;</span>, <span class="st">&quot;X2&quot;</span>, <span class="st">&quot;Y2&quot;</span>)</span>
<span id="cb233-24"><a href="#cb233-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(edgelist)) {</span>
<span id="cb233-25"><a href="#cb233-25" aria-hidden="true" tabindex="-1"></a>  edges[i, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(xy[<span class="fu">which</span>(xy<span class="sc">$</span>site <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">2</span>],</span>
<span id="cb233-26"><a href="#cb233-26" aria-hidden="true" tabindex="-1"></a>                  xy[<span class="fu">which</span>(xy<span class="sc">$</span>site <span class="sc">==</span> edgelist[i, <span class="dv">1</span>]), <span class="dv">3</span>],</span>
<span id="cb233-27"><a href="#cb233-27" aria-hidden="true" tabindex="-1"></a>                  xy[<span class="fu">which</span>(xy<span class="sc">$</span>site <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">2</span>],</span>
<span id="cb233-28"><a href="#cb233-28" aria-hidden="true" tabindex="-1"></a>                  xy[<span class="fu">which</span>(xy<span class="sc">$</span>site <span class="sc">==</span> edgelist[i, <span class="dv">2</span>]), <span class="dv">3</span>])</span>
<span id="cb233-29"><a href="#cb233-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb233-30"><a href="#cb233-30" aria-hidden="true" tabindex="-1"></a>figure7_8 <span class="ot">&lt;-</span> <span class="fu">ggmap</span>(base, <span class="at">darken =</span> <span class="fl">0.15</span>) <span class="sc">+</span></span>
<span id="cb233-31"><a href="#cb233-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb233-32"><a href="#cb233-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> edges,</span>
<span id="cb233-33"><a href="#cb233-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb233-34"><a href="#cb233-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> X1,</span>
<span id="cb233-35"><a href="#cb233-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Y1,</span>
<span id="cb233-36"><a href="#cb233-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> X2,</span>
<span id="cb233-37"><a href="#cb233-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> Y2</span>
<span id="cb233-38"><a href="#cb233-38" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb233-39"><a href="#cb233-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb233-40"><a href="#cb233-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.10</span>,</span>
<span id="cb233-41"><a href="#cb233-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb233-42"><a href="#cb233-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb233-43"><a href="#cb233-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb233-44"><a href="#cb233-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> xy,</span>
<span id="cb233-45"><a href="#cb233-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y),</span>
<span id="cb233-46"><a href="#cb233-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.65</span>,</span>
<span id="cb233-47"><a href="#cb233-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb233-48"><a href="#cb233-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&#39;red&#39;</span>,</span>
<span id="cb233-49"><a href="#cb233-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> F</span>
<span id="cb233-50"><a href="#cb233-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb233-51"><a href="#cb233-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb233-52"><a href="#cb233-52" aria-hidden="true" tabindex="-1"></a>figure7_8</span></code></pre></div>
<p><img src="06-spatial-networks_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<!--chapter:end:06-spatial-networks.Rmd-->
</div>
</div>
</div>
<div id="references-and-r-packages" class="section level1 unnumbered">
<h1 class="unnumbered">References and R Packages</h1>
<!--chapter:end:07-references.Rmd-->
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-networkD3" class="csl-entry">
Allaire, J. J., Christopher Gandrud, Kenton Russell, and CJ Yetman. 2017. <em>networkD3: D3 JavaScript Network Graphs from r</em>. <a href="https://CRAN.R-project.org/package=networkD3">https://CRAN.R-project.org/package=networkD3</a>.
</div>
<div id="ref-R-visNetwork" class="csl-entry">
Almende B.V., Benoit Thieurmel, and Titouan Robert. 2019. <em>visNetwork: Network Visualization Using Vis.js Library</em>. <a href="http://datastorm-open.github.io/visNetwork/">http://datastorm-open.github.io/visNetwork/</a>.
</div>
<div id="ref-ancient_world_mapping_center_road_2012" class="csl-entry">
Ancient World Mapping Center. 2012. <span>“Road Information Derived from <span>Talbert</span>, <span>Richard</span> <span>J</span>. <span>A</span>., And <span>Roger</span> <span>S</span>. <span>Bagnall</span>. 2000. <span>Barrington</span> <span>Atlas</span> of the <span>Greek</span> and <span>Roman</span> <span>World</span>. <span>Princeton</span>, <span>N</span>.<span>J</span>.: <span>Princeton</span> <span>University</span> <span>Press</span>.”</span>
</div>
<div id="ref-R-gridExtra" class="csl-entry">
Auguie, Baptiste. 2017. <em>gridExtra: Miscellaneous Functions for "Grid" Graphics</em>. <a href="https://CRAN.R-project.org/package=gridExtra">https://CRAN.R-project.org/package=gridExtra</a>.
</div>
<div id="ref-R-superheat" class="csl-entry">
Barter, Rebecca, and Bin Yu. 2021. <em>Superheat: A Graphical Tool for Exploring Complex Datasets Using Heatmaps</em>.
</div>
<div id="ref-R-ndtv" class="csl-entry">
Bender-deMoll, Skye. 2019. <em>Ndtv: Network Dynamic Temporal Visualizations</em>. <a href="https://github.com/statnet/ndtv">https://github.com/statnet/ndtv</a>.
</div>
<div id="ref-R-tsna" class="csl-entry">
Bender-deMoll, Skye, and Martina Morris. 2021. <em>Tsna: Tools for Temporal Social Network Analysis</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-sp2013" class="csl-entry">
Bivand, Roger S., Edzer Pebesma, and Virgilio Gomez-Rubio. 2013. <em>Applied Spatial Data Analysis with <span>R</span>, Second Edition</em>. Springer, NY. <a href="https://asdar-book.org/">https://asdar-book.org/</a>.
</div>
<div id="ref-R-maptools" class="csl-entry">
Bivand, Roger, and Nicholas Lewin-Koh. 2020. <em>Maptools: Tools for Handling Spatial Objects</em>. <a href="https://CRAN.R-project.org/package=maptools">https://CRAN.R-project.org/package=maptools</a>.
</div>
<div id="ref-R-rgeos" class="csl-entry">
Bivand, Roger, and Colin Rundel. 2020. <em>Rgeos: Interface to Geometry Engine - Open Source (GEOS)</em>. <a href="https://r-forge.r-project.org/projects/rgeos/
https://trac.osgeo.org/geos/
http://rgeos.r-forge.r-project.org/index.html">https://r-forge.r-project.org/projects/rgeos/
https://trac.osgeo.org/geos/
http://rgeos.r-forge.r-project.org/index.html</a>.
</div>
<div id="ref-R-intergraph" class="csl-entry">
Bojanowski, Michal. 2016. <em>Intergraph: Coercion Routines for Network Data Objects</em>. <a href="http://mbojan.github.io/intergraph">http://mbojan.github.io/intergraph</a>.
</div>
<div id="ref-borck_are_2015" class="csl-entry">
Borck, Lewis, Barbara J. Mills, Matthew A. Peeples, and Jeffery J. Clark. 2015. <span>“Are <span>Social</span> <span>Networks</span> <span>Survival</span> <span>Networks</span>? <span>An</span> <span>Example</span> from the <span>Late</span> <span>Pre</span>-<span>Hispanic</span> <span>US</span> <span>Southwest</span>.”</span> <em>Journal of Archaeological Method and Theory</em> 22 (1): 33–57. <a href="https://doi.org/10.1007/s10816-014-9236-5">https://doi.org/10.1007/s10816-014-9236-5</a>.
</div>
<div id="ref-brughmans_networks_2013" class="csl-entry">
Brughmans, Tom. 2013. <span>“Networks of Networks: A Citation Network Analysis of the Adoption, Use and Adaptation of Formal Network Techniques in Archaeology.”</span> <em>Literary and Linguistic Computing, The Journal of Digital Scholarship in the Humanities</em> 28 (4): 538–62. <a href="https://doi.org/10.1093/llc/fqt048">https://doi.org/10.1093/llc/fqt048</a>.
</div>
<div id="ref-brughmans_trends_2017" class="csl-entry">
Brughmans, Tom, and Matthew A. Peeples. 2017. <span>“Trends in <span>Archaeological</span> <span>Network</span> <span>Research</span>: <span>A</span> <span>Bibliometric</span> <span>Analysis</span>.”</span> <em>Journal of Historical Network Research</em> 1 (2017): 1–24.
</div>
<div id="ref-R-GISTools" class="csl-entry">
Brunsdon, Chris, and Hongyan Chen. 2014. <em>GISTools: Some Further GIS Capabilities for r</em>. <a href="https://CRAN.R-project.org/package=GISTools">https://CRAN.R-project.org/package=GISTools</a>.
</div>
<div id="ref-network2008" class="csl-entry">
Butts, Carter T. 2008. <span>“Network: A Package for Managing Relational Data in r.”</span> <em>Journal of Statistical Software</em> 24 (2). <a href="https://www.jstatsoft.org/v24/i02/paper">https://www.jstatsoft.org/v24/i02/paper</a>.
</div>
<div id="ref-R-sna" class="csl-entry">
———. 2020. <em>Sna: Tools for Social Network Analysis</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-R-network" class="csl-entry">
———. 2021. <em>Network: Classes for Relational Data</em>. <a href="http://statnet.org/">http://statnet.org/</a>.
</div>
<div id="ref-R-networkDynamic" class="csl-entry">
Butts, Carter T., Ayn Leslie-Cook, Pavel N. Krivitsky, and Skye Bender-deMoll. 2021. <em>networkDynamic: Dynamic Extensions for Network Objects</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-R-RBGL" class="csl-entry">
Carey, Vince, Li Long, and R. Gentleman. 2020. <em>RBGL: An Interface to the BOOST Graph Library</em>. <a href="http://www.bioconductor.org">http://www.bioconductor.org</a>.
</div>
<div id="ref-tergm2015" class="csl-entry">
Carnegie, Nicole Bohme, Pavel N. Krivitsky, David R. Hunter, and Steven M. Goodreau. 2015. <span>“An Approximation Method for Improving Dynamic Network Model Fitting.”</span> <em>Journal of Computational and Graphical Statistics</em> 24 (2): 502–19. <a href="https://doi.org/10.1080/10618600.2014.903087">https://doi.org/10.1080/10618600.2014.903087</a>.
</div>
<div id="ref-clark_migrants_2012" class="csl-entry">
Clark, Jeffery J., and Patrick D. Lyons, eds. 2012. <em>Migrants and <span>Mounds</span>: <span>Classic</span> <span>Period</span> <span>Archaeology</span> of the <span>Lower</span> <span>San</span> <span>Pedro</span> <span>Valley</span></em>. Anthrpological <span>Papers</span> 45. Tucson: Archaeology Southwest.
</div>
<div id="ref-R-igraphdata" class="csl-entry">
Csardi, Gabor. 2015. <em>Igraphdata: A Collection of Network Data Sets for the Igraph Package</em>. <a href="http://igraph.org">http://igraph.org</a>.
</div>
<div id="ref-R-igraph" class="csl-entry">
Csardi, Gabor, and Tamas Nepusz. 2006a. <span>“The Igraph Software Package for Complex Network Research.”</span> <em>InterJournal</em> Complex Systems: 1695. <a href="https://igraph.org">https://igraph.org</a>.
</div>
<div id="ref-igraph2006" class="csl-entry">
———. 2006b. <span>“The Igraph Software Package for Complex Network Research.”</span> <em>InterJournal</em> Complex Systems: 1695. <a href="https://igraph.org">https://igraph.org</a>.
</div>
<div id="ref-Rcpp2013" class="csl-entry">
Eddelbuettel, Dirk. 2013. <em>Seamless <span>R</span> and <span>C++</span> Integration with <span>Rcpp</span></em>. New York: Springer. <a href="https://doi.org/10.1007/978-1-4614-6868-4">https://doi.org/10.1007/978-1-4614-6868-4</a>.
</div>
<div id="ref-Rcpp2018" class="csl-entry">
Eddelbuettel, Dirk, and James Joseph Balamuta. 2018. <span>“<span class="nocase">Extending extit<span>R</span> with extit<span>C++</span>: A Brief Introduction to extit<span>Rcpp</span></span>.”</span> <em>The American Statistician</em> 72 (1): 28–36. <a href="https://doi.org/10.1080/00031305.2017.1375990">https://doi.org/10.1080/00031305.2017.1375990</a>.
</div>
<div id="ref-R-Rcpp" class="csl-entry">
Eddelbuettel, Dirk, Romain Francois, JJ Allaire, Kevin Ushey, Qiang Kou, Nathan Russell, Inaki Ucar, Douglas Bates, and John Chambers. 2021. <em>Rcpp: Seamless r and c++ Integration</em>. <a href="https://CRAN.R-project.org/package=Rcpp">https://CRAN.R-project.org/package=Rcpp</a>.
</div>
<div id="ref-Rcpp2011" class="csl-entry">
Eddelbuettel, Dirk, and Romain François. 2011. <span>“<span>Rcpp</span>: Seamless <span>R</span> and <span>C++</span> Integration.”</span> <em>Journal of Statistical Software</em> 40 (8): 1–18. <a href="https://doi.org/10.18637/jss.v040.i08">https://doi.org/10.18637/jss.v040.i08</a>.
</div>
<div id="ref-R-graph" class="csl-entry">
Gentleman, R., Elizabeth Whalen, W. Huber, and S. Falcon. 2020. <em>Graph: A Package to Handle Graph Data Structures</em>.
</div>
<div id="ref-gerald_davis_2019" class="csl-entry">
Gerald, Rex E. 2019. <em>The <span>Davis</span> <span>Ranch</span> <span>Site</span>: <span>A</span> <span>Kayenta</span> <span>Immigrant</span> <span>Enclave</span> in <span>Southeastern</span> <span>Arizona</span></em>. Edited by Patrick D. Lyons. Illustrated edition. Tucson: University of Arizona Press.
</div>
<div id="ref-R-ggwaffle" class="csl-entry">
Gilbey, Liam. 2018. <em>Ggwaffle: Waffle Charts</em>. <a href="https://github.com/liamgilbey/ggwaffle">https://github.com/liamgilbey/ggwaffle</a>.
</div>
<div id="ref-giomi_reading_2021" class="csl-entry">
Giomi, Evan, Barbara J. Mills, Leslie D. Aragon, Benjamin A. Bellorado, and Matthew A. Peeples. 2021. <span>“Reading Between the <span>Lines</span>: <span>The</span> <span>Social</span> <span>Value</span> of <span>Dogoszhi</span> <span>Style</span> in the <span>Chaco</span> <span>World</span>.”</span> <em>American Antiquity</em> In press. <a href="https://doi.org/10.1017/aaq.2021.50">https://doi.org/10.1017/aaq.2021.50</a>.
</div>
<div id="ref-giomi_network_2019" class="csl-entry">
Giomi, Evan, and Matthew A. Peeples. 2019. <span>“Network Analysis of Intrasite Material Networks and Ritual Practice at <span>Pueblo</span> <span>Bonito</span>.”</span> <em>Journal of Anthropological Archaeology</em> 53: 22–31. <a href="https://doi.org/10.1016/j.jaa.2018.10.002">https://doi.org/10.1016/j.jaa.2018.10.002</a>.
</div>
<div id="ref-R-statnet" class="csl-entry">
Handcock, Mark S., David R. Hunter, Carter T. Butts, Steven M. Goodreau, Pavel N. Krivitsky, Skye Bender-deMoll, and Martina Morris. 2019. <em>Statnet: Software Tools for the Statistical Analysis of Network Data</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-R-ergm" class="csl-entry">
Handcock, Mark S., David R. Hunter, Carter T. Butts, Steven M. Goodreau, Pavel N. Krivitsky, and Martina Morris. 2021. <em>Ergm: Fit, Simulate and Diagnose Exponential-Family Models for Networks</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-R-purrr" class="csl-entry">
Henry, Lionel, and Hadley Wickham. 2020. <em>Purrr: Functional Programming Tools</em>. <a href="https://CRAN.R-project.org/package=purrr">https://CRAN.R-project.org/package=purrr</a>.
</div>
<div id="ref-BiocGenerics2015" class="csl-entry">
Huber, W., Carey, V. J., Gentleman, R., Anders, et al. 2015. <span>“<span>O</span>rchestrating High-Throughput Genomic Analysis with <span>B</span>ioconductor.”</span> <em>Nature Methods</em> 12 (2): 115–21. <a href="http://www.nature.com/nmeth/journal/v12/n2/full/nmeth.3252.html">http://www.nature.com/nmeth/journal/v12/n2/full/nmeth.3252.html</a>.
</div>
<div id="ref-ergm2008" class="csl-entry">
Hunter, David R., Mark S. Handcock, Carter T. Butts, Steven M. Goodreau, and Martina Morris. 2008a. <span>“Ergm: A Package to Fit, Simulate and Diagnose Exponential-Family Models for Networks.”</span> <em>Journal of Statistical Software</em> 24 (3): 1–29.
</div>
<div id="ref-statnet2008" class="csl-entry">
———. 2008b. <span>“Ergm: A Package to Fit, Simulate and Diagnose Exponential-Family Models for Networks.”</span> <em>Journal of Statistical Software</em> 24 (3): 1–29.
</div>
<div id="ref-R-colorspace" class="csl-entry">
Ihaka, Ross, Paul Murrell, Kurt Hornik, Jason C. Fisher, Reto Stauffer, Claus O. Wilke, Claire D. McWhite, and Achim Zeileis. 2021. <em>Colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes</em>. <a href="https://CRAN.R-project.org/package=colorspace">https://CRAN.R-project.org/package=colorspace</a>.
</div>
<div id="ref-kabacoff_r_2015" class="csl-entry">
Kabacoff, Dr Rob. 2015. <em>R in <span>Action</span>: <span>Data</span> <span>Analysis</span> and <span>Graphics</span> with <span>R</span></em>. 2nd edition. Shelter Island: Manning.
</div>
<div id="ref-ggmap2013" class="csl-entry">
Kahle, David, and Hadley Wickham. 2013. <span>“Ggmap: Spatial Visualization with Ggplot2.”</span> <em>The R Journal</em> 5 (1): 144–61. <a href="https://journal.r-project.org/archive/2013-1/kahle-wickham.pdf">https://journal.r-project.org/archive/2013-1/kahle-wickham.pdf</a>.
</div>
<div id="ref-R-ggmap" class="csl-entry">
Kahle, David, Hadley Wickham, and Scott Jackson. 2019. <em>Ggmap: Spatial Visualization with Ggplot2</em>. <a href="https://github.com/dkahle/ggmap">https://github.com/dkahle/ggmap</a>.
</div>
<div id="ref-R-ggpubr" class="csl-entry">
Kassambara, Alboukadel. 2020. <em>Ggpubr: Ggplot2 Based Publication Ready Plots</em>. <a href="https://rpkgs.datanovia.com/ggpubr/">https://rpkgs.datanovia.com/ggpubr/</a>.
</div>
<div id="ref-R-ergm.count" class="csl-entry">
Krivitsky, Pavel N. 2021a. <em>Ergm.count: Fit, Simulate and Diagnose Exponential-Family Models for Networks with Count Edges</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-R-statnet.common" class="csl-entry">
———. 2021b. <em>Statnet.common: Common r Scripts and Utilities Used by the Statnet Project Software</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-tergm2014" class="csl-entry">
Krivitsky, Pavel N., and Mark S. Handcock. 2014. <span>“A Separable Model for Dynamic Networks.”</span> <em>Journal of the Royal Statistical Society, Series B</em> 76 (1): 29–46. <a href="https://doi.org/10.1111/rssb.12014">https://doi.org/10.1111/rssb.12014</a>.
</div>
<div id="ref-R-tergm" class="csl-entry">
———. 2021. <em>Tergm: Fit, Simulate and Diagnose Models for Network Evolution Based on Exponential-Family Random Graph Models</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-ergm2021" class="csl-entry">
Krivitsky, Pavel N., David R. Hunter, Martina Morris, and Chad Klumb. 2021b. <span>“Ergm 4.0: New Features and Improvements.”</span>
</div>
<div id="ref-ergm.count2021" class="csl-entry">
———. 2021a. <span>“Ergm 4.0: New Features and Improvements.”</span>
</div>
<div id="ref-long_r_2019" class="csl-entry">
Long, J. D., and Paul Teetor. 2019. <em>R <span>Cookbook</span>: <span>Proven</span> <span>Recipes</span> for <span>Data</span> <span>Analysis</span>, <span>Statistics</span>, and <span>Graphics</span></em>. 2nd edition. Beijing Boston Farnham Sebastopol Tokyo: O’Reilly Media.
</div>
<div id="ref-R-multinet" class="csl-entry">
Magnani, Matteo, Luca Rossi, Obaida Hanteer, Davide Vega. The package uses functions from eclat, for association rule mining, Infomap, for the Infomap community detection method, Howard Hinnant’s date, and time library. The code from these libraries has been included in our source package. 2021. <em>Multinet: Analysis and Mining of Multilayer Social Networks</em>. <a href="https://CRAN.R-project.org/package=multinet">https://CRAN.R-project.org/package=multinet</a>.
</div>
<div id="ref-multinet2021" class="csl-entry">
Magnani, Matteo, Luca Rossi, and Davide Vega. 2021. <span>“Analysis of Multiplex Social Networks with <span>R</span>.”</span> <em>Journal of Statistical Software</em> 98 (8): 1–30. <a href="https://doi.org/10.18637/jss.v098.i08">https://doi.org/10.18637/jss.v098.i08</a>.
</div>
<div id="ref-R-cccd" class="csl-entry">
Marchette, David J. 2015. <em>Cccd: Class Cover Catch Digraphs</em>. <a href="https://CRAN.R-project.org/package=cccd">https://CRAN.R-project.org/package=cccd</a>.
</div>
<div id="ref-McConville2021" class="csl-entry">
McConville, Chester Ismay, and Albert Y. Kim Foreword by Kelly S. 2021. <em>Chapter 1 Getting Started with Data in r | Statistical Inference via Data Science</em>. <a href="https://moderndive.com/">https://moderndive.com/</a>.
</div>
<div id="ref-mills_transformation_2013" class="csl-entry">
Mills, Barbara J, Jeffery J Clark, Matthew A Peeples, W R Haas, John M Roberts, J Brett Hill, Deborah L Huntley, et al. 2013a. <span>“Transformation of Social Networks in the Late Pre-<span>Hispanic</span> <span>US</span> <span>Southwest</span>.”</span> <em>Proceedings of the National Academy of Sciences of the United States of America</em>, March, 1–6. <a href="https://doi.org/10.1073/pnas.1219966110">https://doi.org/10.1073/pnas.1219966110</a>.
</div>
<div id="ref-mills_evaluating_2018" class="csl-entry">
Mills, Barbara J., Matthew A. Peeples, Leslie D. Aragon, Benjamin A Bellorado, Jeffery J. Clark, Evan Giomi, and Thomas C. Windes. 2018. <span>“Evaluating <span>Chaco</span> <span>Migration</span> <span>Scenarios</span> <span>Using</span> <span>Dynamic</span> <span>Social</span> <span>Network</span> <span>Analysis</span>.”</span> <em>Antiquity</em> 92 (364).
</div>
<div id="ref-mills_multiscalar_2015" class="csl-entry">
Mills, Barbara J., Matthew A. Peeples, W. Randall Haas Jr., Lewis Borck, Jeffery J. Clark, and John M. Roberts Jr. 2015. <span>“Multiscalar <span>Perspectives</span> on <span>Social</span> <span>Networks</span> in the <span>Late</span> <span>Prehispanic</span> <span>Southwest</span>.”</span> <em>American Antiquity</em> 80 (1): 3–24. <a href="https://doi.org/10.7183/0002-7316.79.4.3">https://doi.org/10.7183/0002-7316.79.4.3</a>.
</div>
<div id="ref-mills_dynamics_2013" class="csl-entry">
Mills, Barbara J., John M. Roberts, Jeffery J. Clark, William R. Haas Jr., Deborah Huntley, Matthew A. Peeples, Lewis Borck, Susan C. Ryan, Meaghan Trowbridge, and Ronald L. Breiger. 2013b. <span>“The Dynamics of Social Networks in the <span>Late</span> <span>Prehispanic</span> <span>U</span>.<span>S</span>. <span>Southwest</span>.”</span> In <em>Network Analysis in Archaeology. <span>New</span> Approaches to Regional Interaction</em>, edited by Carl Knappett, 181–202. Oxford: Oxford University Press.
</div>
<div id="ref-R-tibble" class="csl-entry">
Müller, Kirill, and Hadley Wickham. 2021. <em>Tibble: Simple Data Frames</em>. <a href="https://CRAN.R-project.org/package=tibble">https://CRAN.R-project.org/package=tibble</a>.
</div>
<div id="ref-R-RColorBrewer" class="csl-entry">
Neuwirth, Erich. 2014. <em>RColorBrewer: ColorBrewer Palettes</em>. <a href="https://CRAN.R-project.org/package=RColorBrewer">https://CRAN.R-project.org/package=RColorBrewer</a>.
</div>
<div id="ref-R-vegan" class="csl-entry">
Oksanen, Jari, F. Guillaume Blanchet, Michael Friendly, Roeland Kindt, Pierre Legendre, Dan McGlinn, Peter R. Minchin, et al. 2020. <em>Vegan: Community Ecology Package</em>. <a href="https://CRAN.R-project.org/package=vegan">https://CRAN.R-project.org/package=vegan</a>.
</div>
<div id="ref-tnet2009" class="csl-entry">
Opsahl, Tore. 2009. <em>Structure and Evolution of Weighted Networks</em>. University of London (Queen Mary College), London, UK. <a href="http://toreopsahl.com/publications/thesis/">http://toreopsahl.com/publications/thesis/</a>.
</div>
<div id="ref-R-tnet" class="csl-entry">
———. 2020. <em>Tnet: Weighted, Two-Mode, and Longitudinal Networks Analysis</em>. <a href="http://toreopsahl.com/tnet/">http://toreopsahl.com/tnet/</a>.
</div>
<div id="ref-ortman_uniform_2016" class="csl-entry">
Ortman, Scott G. 2016. <span>“Uniform <span>Probability</span> <span>Density</span> <span>Analysis</span> and <span>Population</span> <span>History</span> in the <span>Northern</span> <span>Rio</span> <span>Grande</span>.”</span> <em>Journal of Archaeological Method and Theory</em> 23 (1): 95–126. <a href="https://doi.org/10.1007/s10816-014-9227-6">https://doi.org/10.1007/s10816-014-9227-6</a>.
</div>
<div id="ref-R-ape" class="csl-entry">
Paradis, Emmanuel, Simon Blomberg, Ben Bolker, Joseph Brown, Santiago Claramunt, Julien Claude, Hoa Sien Cuong, et al. 2020. <em>Ape: Analyses of Phylogenetics and Evolution</em>. <a href="http://ape-package.ird.fr/">http://ape-package.ird.fr/</a>.
</div>
<div id="ref-ape2019" class="csl-entry">
Paradis, E., and K. Schliep. 2019. <span>“Ape 5.0: An Environment for Modern Phylogenetics and Evolutionary Analyses in <span>R</span>.”</span> <em>Bioinformatics</em> 35: 526–28.
</div>
<div id="ref-sf2018" class="csl-entry">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>.”</span> <em><span>The R Journal</span></em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-R-sf" class="csl-entry">
———. 2021. <em>Sf: Simple Features for r</em>. <a href="https://CRAN.R-project.org/package=sf">https://CRAN.R-project.org/package=sf</a>.
</div>
<div id="ref-sp2005" class="csl-entry">
Pebesma, Edzer J., and Roger S. Bivand. 2005. <span>“Classes and Methods for Spatial Data in <span>R</span>.”</span> <em>R News</em> 5 (2): 9–13. <a href="https://CRAN.R-project.org/doc/Rnews/">https://CRAN.R-project.org/doc/Rnews/</a>.
</div>
<div id="ref-R-sp" class="csl-entry">
Pebesma, Edzer, and Roger Bivand. 2021. <em>Sp: Classes and Methods for Spatial Data</em>. <a href="https://CRAN.R-project.org/package=sp">https://CRAN.R-project.org/package=sp</a>.
</div>
<div id="ref-R-ggforce" class="csl-entry">
Pedersen, Thomas Lin. 2020. <em>Ggforce: Accelerating Ggplot2</em>. <a href="https://CRAN.R-project.org/package=ggforce">https://CRAN.R-project.org/package=ggforce</a>.
</div>
<div id="ref-R-ggraph" class="csl-entry">
———. 2021. <em>Ggraph: An Implementation of Grammar of Graphics for Graphs and Networks</em>. <a href="https://CRAN.R-project.org/package=ggraph">https://CRAN.R-project.org/package=ggraph</a>.
</div>
<div id="ref-peeples_network_2017" class="csl-entry">
Peeples, Matthew. 2017. <span>“Network Science and Statistical Techniques for Dealing with Uncertainties in Archaeological Datasets.”</span> <a href="http://www.mattpeeples.net/netstats.html">http://www.mattpeeples.net/netstats.html</a>.
</div>
<div id="ref-peeples_identity_2011" class="csl-entry">
Peeples, Matthew A. 2011. <span>“Identity and <span>Social</span> <span>Transformation</span> in the <span>Prehispanic</span> <span>Cibola</span> <span>World</span>: <span>A</span>.<span>D</span>. 1150-1325.”</span> {PhD} {Dissertation}, Arizona State University.
</div>
<div id="ref-peeples_connected_2018" class="csl-entry">
Peeples, Matthew A. 2018. <em>Connected <span>Communities</span>: <span>Networks</span>, <span>Identity</span>, and <span>Social</span> <span>Change</span> in the <span>Ancient</span> <span>Cibola</span> <span>World</span></em>. University of Arizona Press.
</div>
<div id="ref-peeples_connections_2021" class="csl-entry">
Peeples, Matthew A., Wesley Bernardini, Lyle Balenquah, and Kellam Throgmorton. 2021. <span>“Connections and <span>Boundaries</span>.”</span> In <em>Becoming <span>Hopi</span>: <span>A</span> <span>History</span></em>, edited by Wesley Bernardini, Stewart Koyiyumptewa, Gregson Schachner, and Leigh Kuwanwisiwma, 261–98. Tucson, AZ: University of Arizona Press.
</div>
<div id="ref-peeples_brokerage_2013" class="csl-entry">
Peeples, Matthew A., and W. Randall Haas. 2013. <span>“Brokerage and <span>Social</span> <span>Capital</span> in the <span>Prehispanic</span> <span>U</span>.<span>S</span>. <span>Southwest</span>.”</span> <em>American Anthropologist</em> 115 (2): 232–47. <a href="https://doi.org/10.1111/aman.12006">https://doi.org/10.1111/aman.12006</a>.
</div>
<div id="ref-peeples_frontiers_2018" class="csl-entry">
Peeples, Matthew A., and Barbara J. Mills. 2018. <span>“Frontiers of <span>Marginality</span> and <span>Mediation</span> in the <span>U</span>.<span>S</span>. <span>Southwest</span>: <span>A</span> <span>Social</span> <span>Networks</span> <span>Perspective</span>.”</span> In <em>Life <span>Beyond</span> the <span>Boundaries</span>: <span>Constructing</span> <span>Identity</span> in <span>Edge</span> <span>Regions</span> of the <span>North</span> <span>American</span> <span>Southwest</span></em>, edited by Karen Harry and Sarah Herr, 25–56. Boulder, CO: University Press of Colorado.
</div>
<div id="ref-peeples_analytical_2016" class="csl-entry">
Peeples, Matthew A., Barbara J. Mills, W. Randall Jr. Haas, Jeffery J. Clark, and John M. Jr. Roberts. 2016. <span>“Analytical <span>Challenges</span> for the <span>Application</span> of <span>Social</span> <span>Network</span> <span>Analysis</span> in <span>Archaeology</span>.”</span> In <em>The <span>Connected</span> <span>Past</span>: Challenges to Network Studies in Archaeology and History</em>, edited by Tom Brughmans, Anna Collar, and Fiona Coward, 59–84. Oxford: Oxford University Press.
</div>
<div id="ref-peeples_binarize_2013" class="csl-entry">
Peeples, Matthew A., and John M. Roberts. 2013. <span>“To Binarize or Not to Binarize: Relational Data and the Construction of Archaeological Networks.”</span> <em>Journal of Archaeological Science</em> 40 (7): 3001–10. <a href="https://doi.org/10.1016/j.jas.2013.03.014">https://doi.org/10.1016/j.jas.2013.03.014</a>.
</div>
<div id="ref-peeples_bootstrapping_2017" class="csl-entry">
Peeples, Matthew A., and John M. Roberts Jr. 2017. <span>“Bootstrapping and <span>Empirical</span> <span>Bayesian</span> <span>Methods</span> for <span>Assessing</span> <span>Variability</span> in <span>Archaeological</span> <span>Networks</span>.”</span> In. Atlanta, GA.
</div>
<div id="ref-R-base" class="csl-entry">
R Core Team. 2021. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-rawat_networked_2021" class="csl-entry">
Rawat, Nagendra Singh, Tom Brughmans, Vinod Nautiyal, and Devi Dutt Chauniyal. 2021. <span>“Networked Medieval Strongholds in <span>Garhwal</span> <span>Himalaya</span>, <span>India</span>.”</span> <em>Antiquity</em> 95 (381): 753–72. <a href="https://doi.org/10.15184/aqy.2021.4">https://doi.org/10.15184/aqy.2021.4</a>.
</div>
<div id="ref-rawat_exploring_2020" class="csl-entry">
Rawat, Nagendra Singh, and Vinod Nautiyal. 2020. <span>“Exploring <span>Chaundkot</span> <span>Fort</span> in <span>Garhwal</span>, Central <span>Himalaya</span>, <span>India</span>.”</span> <em>Antiquity</em> 94 (376). <a href="https://doi.org/10.15184/aqy.2020.117">https://doi.org/10.15184/aqy.2020.117</a>.
</div>
<div id="ref-R-MASS" class="csl-entry">
Ripley, Brian. 2021. <em>MASS: Support Functions and Datasets for Venables and Ripley’s MASS</em>. <a href="http://www.stats.ox.ac.uk/pub/MASS4/">http://www.stats.ox.ac.uk/pub/MASS4/</a>.
</div>
<div id="ref-roberts_method_2012" class="csl-entry">
Roberts, John M., Jr., Barbara J. Mills, Jeffery J. Clark, W. Randall Haas Jr., Deborah L. Huntley, and Meaghan A. Trowbridge. 2012. <span>“A Method for Chronological Apportioning of Ceramic Assemblages.”</span> <em>Journal of Archaeological Science</em> 39 (5): 1513–20. <a href="https://doi.org/10.1016/j.jas.2011.12.022">https://doi.org/10.1016/j.jas.2011.12.022</a>.
</div>
<div id="ref-roberts_assessing_2021" class="csl-entry">
Roberts, John M., Yi Yin, Emily Dorshorst, Matthew A. Peeples, and Barbara J. Mills. 2021. <span>“Assessing the Performance of the Bootstrap in Simulated Assemblage Networks.”</span> <em>Social Networks</em> 65 (May): 98–109. <a href="https://doi.org/10.1016/j.socnet.2020.11.005">https://doi.org/10.1016/j.socnet.2020.11.005</a>.
</div>
<div id="ref-R-ggsn" class="csl-entry">
Santos Baquero, Oswaldo. 2019. <em>Ggsn: North Symbols and Scale Bars for Maps Created with Ggplot2 or Ggmap</em>. <a href="https://github.com/oswaldosantos/ggsn">https://github.com/oswaldosantos/ggsn</a>.
</div>
<div id="ref-lattice2008" class="csl-entry">
Sarkar, Deepayan. 2008. <em>Lattice: Multivariate Data Visualization with r</em>. New York: Springer. <a href="http://lmdvr.r-forge.r-project.org">http://lmdvr.r-forge.r-project.org</a>.
</div>
<div id="ref-R-lattice" class="csl-entry">
———. 2020. <em>Lattice: Trellis Graphics for r</em>. <a href="http://lattice.r-forge.r-project.org/">http://lattice.r-forge.r-project.org/</a>.
</div>
<div id="ref-R-graphlayouts" class="csl-entry">
Schoch, David. 2020. <em>Graphlayouts: Additional Layout Algorithms for Network Visualizations</em>. <a href="https://CRAN.R-project.org/package=graphlayouts">https://CRAN.R-project.org/package=graphlayouts</a>.
</div>
<div id="ref-R-edgebundle" class="csl-entry">
———. 2021. <em>Edgebundle: Algorithms for Bundling Edges in Networks and Visualizing Flow and Metro Maps</em>.
</div>
<div id="ref-R-permute" class="csl-entry">
Simpson, Gavin L. 2019. <em>Permute: Functions for Generating Restricted Permutations of Data</em>. <a href="https://github.com/gavinsimpson/permute">https://github.com/gavinsimpson/permute</a>.
</div>
<div id="ref-R-ggrepel" class="csl-entry">
Slowikowski, Kamil. 2021. <em>Ggrepel: Automatically Position Non-Overlapping Text Labels with Ggplot2</em>. <a href="https://github.com/slowkow/ggrepel">https://github.com/slowkow/ggrepel</a>.
</div>
<div id="ref-de_soto_role_2021" class="csl-entry">
Soto, Pau de, and Cèsar Carreras. 2021. <span>“The <span>Role</span> of <span>Politics</span> in the <span>Historical</span> <span>Transport</span> <span>Networks</span> of the <span>Iberian</span> <span>Peninsula</span> and the <span>Pyrenees</span> from <span>Roman</span> <span>Times</span> to the <span>Nineteenth</span> <span>Century</span>.”</span> <em>Social Science History</em> 45 (2): 233–60. <a href="https://doi.org/10.1017/ssh.2021.12">https://doi.org/10.1017/ssh.2021.12</a>.
</div>
<div id="ref-colorspace2009b" class="csl-entry">
Stauffer, Reto, Georg J. Mayr, Markus Dabernig, and Achim Zeileis. 2009. <span>“Somewhere over the Rainbow: How to Make Effective Use of Colors in Meteorological Visualizations.”</span> <em>Bulletin of the American Meteorological Society</em> 96 (2): 203–16. <a href="https://doi.org/10.1175/BAMS-D-13-00155.1">https://doi.org/10.1175/BAMS-D-13-00155.1</a>.
</div>
<div id="ref-Sydney2021" class="csl-entry">
Sydney, RLadies. 2021. <span>“What Is <span>RYouWithMe</span>?”</span> <em>R-Ladies Sydney</em>. <a href="https://rladiessydney.org/courses/ryouwithme/">https://rladiessydney.org/courses/ryouwithme/</a>.
</div>
<div id="ref-talbert_barrington_2000" class="csl-entry">
Talbert, Richard J. A., ed. 2000. <em>Barrington <span>Atlas</span> of the <span>Greek</span> and <span>Roman</span> <span>World</span></em>. Princeton: Princeton University Press. <a href="https://press.princeton.edu/books/hardcover/9780691031699/barrington-atlas-of-the-greek-and-roman-world">https://press.princeton.edu/books/hardcover/9780691031699/barrington-atlas-of-the-greek-and-roman-world</a>.
</div>
<div id="ref-R-BiocGenerics" class="csl-entry">
Team, The Bioconductor Dev. 2020. <em>BiocGenerics: S4 Generic Functions Used in Bioconductor</em>.
</div>
<div id="ref-survival-book" class="csl-entry">
Terry M. Therneau, and Patricia M. Grambsch. 2000. <em>Modeling Survival Data: Extending the <span>C</span>ox Model</em>. New York: Springer.
</div>
<div id="ref-R-survival" class="csl-entry">
Therneau, Terry M. 2020. <em>Survival: Survival Analysis</em>. <a href="https://github.com/therneau/survival">https://github.com/therneau/survival</a>.
</div>
<div id="ref-R-png" class="csl-entry">
Urbanek, Simon. 2013. <em>Png: Read and Write PNG Images</em>. <a href="http://www.rforge.net/png/">http://www.rforge.net/png/</a>.
</div>
<div id="ref-MASS2002" class="csl-entry">
Venables, W. N., and B. D. Ripley. 2002. <em>Modern Applied Statistics with s</em>. Fourth. New York: Springer. <a href="https://www.stats.ox.ac.uk/pub/MASS4/">https://www.stats.ox.ac.uk/pub/MASS4/</a>.
</div>
<div id="ref-reshape22007" class="csl-entry">
Wickham, Hadley. 2007. <span>“Reshaping Data with the <span class="nocase">reshape</span> Package.”</span> <em>Journal of Statistical Software</em> 21 (12): 1–20. <a href="http://www.jstatsoft.org/v21/i12/">http://www.jstatsoft.org/v21/i12/</a>.
</div>
<div id="ref-ggplot22016" class="csl-entry">
———. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-R-stringr" class="csl-entry">
———. 2019a. <em>Stringr: Simple, Consistent Wrappers for Common String Operations</em>. <a href="https://CRAN.R-project.org/package=stringr">https://CRAN.R-project.org/package=stringr</a>.
</div>
<div id="ref-wickham_advanced_2019" class="csl-entry">
———. 2019b. <em>Advanced <span>R</span>, <span>Second</span> <span>Edition</span></em>. 2nd edition. Boca Raton: Chapman; Hall/CRC.
</div>
<div id="ref-R-reshape2" class="csl-entry">
———. 2020. <em>Reshape2: Flexibly Reshape Data: A Reboot of the Reshape Package</em>. <a href="https://github.com/hadley/reshape">https://github.com/hadley/reshape</a>.
</div>
<div id="ref-R-forcats" class="csl-entry">
———. 2021a. <em>Forcats: Tools for Working with Categorical Variables (Factors)</em>. <a href="https://CRAN.R-project.org/package=forcats">https://CRAN.R-project.org/package=forcats</a>.
</div>
<div id="ref-R-tidyr" class="csl-entry">
———. 2021b. <em>Tidyr: Tidy Messy Data</em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.
</div>
<div id="ref-R-tidyverse" class="csl-entry">
———. 2021c. <em>Tidyverse: Easily Install and Load the Tidyverse</em>. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a>.
</div>
<div id="ref-tidyverse2019" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-R-ggplot2" class="csl-entry">
Wickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, and Dewey Dunnington. 2021. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2">https://CRAN.R-project.org/package=ggplot2</a>.
</div>
<div id="ref-R-dplyr" class="csl-entry">
Wickham, Hadley, Romain François, Lionel Henry, and Kirill Müller. 2021. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.
</div>
<div id="ref-wickham_r_2017" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for <span>Data</span> <span>Science</span>: <span>Import</span>, <span>Tidy</span>, <span>Transform</span>, <span>Visualize</span>, and <span>Model</span> <span>Data</span></em>. 1st edition. Sebastopol, CA: O’Reilly Media.
</div>
<div id="ref-R-readr" class="csl-entry">
Wickham, Hadley, and Jim Hester. 2020. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
<div id="ref-R-scales" class="csl-entry">
Wickham, Hadley, and Dana Seidel. 2020. <em>Scales: Scale Functions for Visualization</em>. <a href="https://CRAN.R-project.org/package=scales">https://CRAN.R-project.org/package=scales</a>.
</div>
<div id="ref-animation2013" class="csl-entry">
Xie, Yihui. 2013. <span>“<span class="nocase">animation</span>: An <span>R</span> Package for Creating Animations and Demonstrating Statistical Methods.”</span> <em>Journal of Statistical Software</em> 53 (1): 1–27. <a href="http://www.jstatsoft.org/v53/i01/">http://www.jstatsoft.org/v53/i01/</a>.
</div>
<div id="ref-bookdown2016" class="csl-entry">
———. 2016. <em>Bookdown: Authoring Books and Technical Documents with <span>R</span> Markdown</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/bookdown">https://bookdown.org/yihui/bookdown</a>.
</div>
<div id="ref-R-animation" class="csl-entry">
———. 2018. <em>Animation: A Gallery of Animations in Statistics and Utilities to Create Animations</em>. <a href="https://yihui.name/animation">https://yihui.name/animation</a>.
</div>
<div id="ref-R-bookdown" class="csl-entry">
———. 2021. <em>Bookdown: Authoring Books and Technical Documents with r Markdown</em>. <a href="https://CRAN.R-project.org/package=bookdown">https://CRAN.R-project.org/package=bookdown</a>.
</div>
<div id="ref-R-ggplotify" class="csl-entry">
Yu, Guangchuang. 2021. <em>Ggplotify: Convert Plot to Grob or Ggplot Object</em>. <a href="https://github.com/GuangchuangYu/ggplotify">https://github.com/GuangchuangYu/ggplotify</a>.
</div>
<div id="ref-colorspace2020a" class="csl-entry">
Zeileis, Achim, Jason C. Fisher, Kurt Hornik, Ross Ihaka, Claire D. McWhite, Paul Murrell, Reto Stauffer, and Claus O. Wilke. 2020. <span>“<span class="nocase">colorspace</span>: A Toolbox for Manipulating and Assessing Colors and Palettes.”</span> <em>Journal of Statistical Software</em> 96 (1): 1–49. <a href="https://doi.org/10.18637/jss.v096.i01">https://doi.org/10.18637/jss.v096.i01</a>.
</div>
<div id="ref-colorspace2009a" class="csl-entry">
Zeileis, Achim, Kurt Hornik, and Paul Murrell. 2009. <span>“Escaping <span>RGB</span>land: Selecting Colors for Statistical Graphics.”</span> <em>Computational Statistics &amp; Data Analysis</em> 53 (9): 3259–70. <a href="https://doi.org/10.1016/j.csda.2008.11.033">https://doi.org/10.1016/j.csda.2008.11.033</a>.
</div>
</div>
</div>
<!--bookdown:body:end-->
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Online Companion to <em>Archaeological Network Science</em> by Brughmans and Peeples</strong>" was written by Matthew A. Peeples and Tom Brughmans. It was last built on 2022-05-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
