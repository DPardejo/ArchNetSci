<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Style Guide | Online Companion to Archaeological Network Science</title>
<meta name="author" content="Matthew A. Peeples and Tom Brughmans">
<meta name="description" content="In order to make the code in this book as clear, precise, and easy to read as possible, we have created a “Style Guide” for code based in part on the tidyverse R style guide and Google’s R style...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="R Style Guide | Online Companion to Archaeological Network Science">
<meta property="og:type" content="book">
<meta property="og:url" content="https://book.archnetworks.net/RStyleGuide.html">
<meta property="og:image" content="https://book.archnetworks.net/images/cover.png">
<meta property="og:description" content="In order to make the code in this book as clear, precise, and easy to read as possible, we have created a “Style Guide” for code based in part on the tidyverse R style guide and Google’s R style...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="R Style Guide | Online Companion to Archaeological Network Science">
<meta name="twitter:description" content="In order to make the code in this book as clear, precise, and easy to read as possible, we have created a “Style Guide” for code based in part on the tidyverse R style guide and Google’s R style...">
<meta name="twitter:image" content="https://book.archnetworks.net/images/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Online Companion to <em>Archaeological Network Science</em></a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled"><li><a class="" href="index.html">R Style Guide</a></li></ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/mpeeples2008/Archaeological_Network_Science">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="RStyleGuide" class="section level1 unnumbered">
<h1>R Style Guide<a class="anchor" aria-label="anchor" href="#RStyleGuide"><i class="fas fa-link"></i></a>
</h1>
<p>In order to make the code in this book as clear, precise, and easy to read as possible, we have created a “Style Guide” for code based in part on the <a href="https://style.tidyverse.org/">tidyverse R style guide</a> and <a href="https://google.github.io/styleguide/Rguide.html">Google’s R style guide</a> with a few additional clarifications and modifications. We generally follow this style guide as closely as possible throughout the project with the exception of a few areas where we are explicitly demonstrating a feature or call that violates this.</p>
<hr>
<div id="naming-conventions" class="section level2 unnumbered">
<h2>Naming Conventions<a class="anchor" aria-label="anchor" href="#naming-conventions"><i class="fas fa-link"></i></a>
</h2>
<div id="file-names" class="section level3 unnumbered">
<h3>File names<a class="anchor" aria-label="anchor" href="#file-names"><i class="fas fa-link"></i></a>
</h3>
<p>Script file names should be concise, meaningful and end in <strong>.R</strong>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
 <span class="va">fit_models.R</span>
 <span class="va">utility_functions.R</span>

<span class="co"># Bad</span>
 <span class="va">foo.r</span>
 <span class="va">stuff.r</span></code></pre></div>
</div>
<div id="object-names" class="section level3 unnumbered">
<h3>Object names<a class="anchor" aria-label="anchor" href="#object-names"><i class="fas fa-link"></i></a>
</h3>
<p>Object and function names should only include lowercase numbers and use underscore (_) to separate words (snake_case). Where possible, <strong>object</strong> names should be <strong>nouns</strong> and <strong>function</strong> names should be <strong>verbs</strong>. Keep object and function names as concise as possible while still remaining descriptive.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
<span class="va">day_one</span>
<span class="va">day_1</span>

<span class="co"># Bad</span>
<span class="va">first_day_of_the_month</span>
<span class="va">dayone</span></code></pre></div>
</div>
</div>
<div id="syntax" class="section level2 unnumbered">
<h2>Syntax<a class="anchor" aria-label="anchor" href="#syntax"><i class="fas fa-link"></i></a>
</h2>
<div id="spacing" class="section level3 unnumbered">
<h3>Spacing<a class="anchor" aria-label="anchor" href="#spacing"><i class="fas fa-link"></i></a>
</h3>
<p>Place spaces around all infix operators (=, +, -, &lt;-, etc.). The same rule applies when using = in function calls. Always put a space after a comma, and never before (just like in regular English).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
<span class="va">average</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">feet</span> <span class="op">/</span> <span class="fl">12</span> <span class="op">+</span> <span class="va">inches</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Bad</span>
<span class="va">average</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">feet</span><span class="op">/</span><span class="fl">12</span><span class="op">+</span><span class="va">inches</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>There’s a small exception to this rule: :, :: and ::: don’t need spaces around them.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>
<span class="fu">base</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/base/get.html">get</a></span>

<span class="co"># Bad</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">:</span> <span class="fl">10</span>
<span class="fu">base</span> <span class="fu">::</span> <span class="va"><a href="https://rdrr.io/r/base/get.html">get</a></span></code></pre></div>
<p>Place a space before left parentheses, except in a function call.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
<span class="kw">if</span> <span class="op">(</span><span class="va">debug</span><span class="op">)</span> <span class="fu">do</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>

<span class="co"># Bad</span>
<span class="kw">if</span><span class="op">(</span><span class="va">debug</span><span class="op">)</span><span class="fu">do</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span> <span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></code></pre></div>
<p>Extra spacing (i.e., more than one space in a row) is ok if it improves alignment of equal signs or assignments (&lt;-).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  total <span class="op">=</span> <span class="va">a</span> <span class="op">+</span> <span class="va">b</span> <span class="op">+</span> <span class="va">c</span>, 
  mean  <span class="op">=</span> <span class="op">(</span><span class="va">a</span> <span class="op">+</span> <span class="va">b</span> <span class="op">+</span> <span class="va">c</span><span class="op">)</span> <span class="op">/</span> <span class="va">n</span>
<span class="op">)</span></code></pre></div>
<p>Do not place spaces around code in parentheses or square brackets (unless there’s a comma, in which case see above).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
<span class="kw">if</span> <span class="op">(</span><span class="va">debug</span><span class="op">)</span> <span class="fu">do</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="va">diamonds</span><span class="op">[</span><span class="fl">5</span>, <span class="op">]</span>

<span class="co"># Bad</span>
<span class="kw">if</span> <span class="op">(</span> <span class="va">debug</span> <span class="op">)</span> <span class="fu">do</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>  <span class="co"># No spaces around debug</span>
<span class="va">x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>   <span class="co"># Needs a space after the comma</span>
<span class="va">x</span><span class="op">[</span><span class="fl">1</span> ,<span class="op">]</span>  <span class="co"># Space goes after comma not before</span></code></pre></div>
<p>###Curly braces</p>
<p>An opening curly brace should never go on its own line and should always be followed by a new line. A closing curly brace should always go on its own line, unless it’s followed by else.</p>
<p>Always indent the code inside curly braces.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="RStyleGuide.html#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="RStyleGuide.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb8-3"><a href="RStyleGuide.html#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="RStyleGuide.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> debug) {</span>
<span id="cb8-5"><a href="RStyleGuide.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Y is negative"</span>)</span>
<span id="cb8-6"><a href="RStyleGuide.html#cb8-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-7"><a href="RStyleGuide.html#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="RStyleGuide.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb8-9"><a href="RStyleGuide.html#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(x)</span>
<span id="cb8-10"><a href="RStyleGuide.html#cb8-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-11"><a href="RStyleGuide.html#cb8-11" aria-hidden="true" tabindex="-1"></a>  y <span class="sc">^</span> x</span>
<span id="cb8-12"><a href="RStyleGuide.html#cb8-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-13"><a href="RStyleGuide.html#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="RStyleGuide.html#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb8-15"><a href="RStyleGuide.html#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="RStyleGuide.html#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> debug)</span>
<span id="cb8-17"><a href="RStyleGuide.html#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(<span class="st">"Y is negative"</span>)</span>
<span id="cb8-18"><a href="RStyleGuide.html#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="RStyleGuide.html#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb8-20"><a href="RStyleGuide.html#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(x)</span>
<span id="cb8-21"><a href="RStyleGuide.html#cb8-21" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb8-22"><a href="RStyleGuide.html#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb8-23"><a href="RStyleGuide.html#cb8-23" aria-hidden="true" tabindex="-1"></a>  y <span class="sc">^</span> x</span>
<span id="cb8-24"><a href="RStyleGuide.html#cb8-24" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>It’s ok to leave very short statements on the same line:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="va">y</span> <span class="op">&lt;</span> <span class="fl">0</span> <span class="op">&amp;&amp;</span> <span class="va">debug</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">"Y is negative"</span><span class="op">)</span></code></pre></div>
<p>###Line length</p>
<p>Strive to limit your code to <strong>80 characters per line</strong>. This fits comfortably on a printed page with a reasonably sized font. If you find yourself running out of room, this is a good indication that you should encapsulate some of the work in a separate function.</p>
<p>###Indentation</p>
<p>When indenting your code, use <strong>two spaces</strong>. Never use tabs or mix tabs and spaces.</p>
<p>The only exception is if a function definition runs over multiple lines. In that case, indent the second line to where the definition starts:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">long_function_name</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span> <span class="op">=</span> <span class="st">"a long argument"</span>, 
                               <span class="va">b</span> <span class="op">=</span> <span class="st">"another argument"</span>,
                               <span class="va">c</span> <span class="op">=</span> <span class="st">"another long argument"</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># As usual code is indented by two spaces.</span>
<span class="op">}</span></code></pre></div>
<p>###Assignment</p>
<p>Use &lt;-, not =, for assignment.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Good</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="co"># Bad</span>
<span class="va">x</span> <span class="op">=</span> <span class="fl">5</span></code></pre></div>
<hr>
<p>##Organisation
***
###Commenting guidelines</p>
<p>Comment your code. Each line of a comment should begin with the comment symbol and a single space: #. <strong>Comments should explain the why, not the what</strong>. Short comments can be placed after code preceded by two spaces, #, and then one space.</p>
<p>Use commented lines of - and = to break up your file into easily readable chunks.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Load data ---------------------------</span>

<span class="co"># Plot data ---------------------------</span></code></pre></div>
<p>###Function Definitions and Calls</p>
<p>Function definitions should first list arguments without default values, followed by those with default values.</p>
<p>In both function definitions and function calls, multiple arguments per line are allowed; line breaks are only allowed between assignments.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="RStyleGuide.html#cb13-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-2"><a href="RStyleGuide.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb13-3"><a href="RStyleGuide.html#cb13-3" aria-hidden="true" tabindex="-1"></a>PredictCTR <span class="ot">&lt;-</span> <span class="cf">function</span>(query, property, num.days,</span>
<span id="cb13-4"><a href="RStyleGuide.html#cb13-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">show.plot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-5"><a href="RStyleGuide.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb13-6"><a href="RStyleGuide.html#cb13-6" aria-hidden="true" tabindex="-1"></a>PredictCTR <span class="ot">&lt;-</span> <span class="cf">function</span>(query, property, num.days, <span class="at">show.plot =</span></span>
<span id="cb13-7"><a href="RStyleGuide.html#cb13-7" aria-hidden="true" tabindex="-1"></a>                       <span class="cn">TRUE</span>)</span></code></pre></div>
<p>###Function Documentation</p>
<p>Functions should contain a comments section immediately below the function definition line. These comments should consist of a one-sentence description of the function; a list of the function’s arguments, denoted by Args:, with a description of each (including the data type); and a description of the return value, denoted by Returns:. The comments should be descriptive enough that a caller can use the function without reading any of the function’s code.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="va">CalculateSampleCovariance</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">verbose</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Computes the sample covariance between two vectors.</span>
  <span class="co">#</span>
  <span class="co"># Args:</span>
  <span class="co">#   x: One of two vectors whose sample covariance is to be calculated.</span>
  <span class="co">#   y: The other vector. x and y must have the same length, greater than one,</span>
  <span class="co">#      with no missing values.</span>
  <span class="co">#   verbose: If TRUE, prints sample covariance; if not, not. Default is TRUE.</span>
  <span class="co">#</span>
  <span class="co"># Returns:</span>
  <span class="co">#   The sample covariance between x and y.</span>
  <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
  <span class="co"># Error handling</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">n</span> <span class="op">&lt;=</span> <span class="fl">1</span> <span class="op">||</span> <span class="va">n</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Arguments x and y have different lengths: "</span>,
         <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,
         <span class="st">" and "</span>,
         <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>,
         <span class="st">"."</span><span class="op">)</span>
  <span class="op">}</span>
  <span class="kw">if</span> <span class="op">(</span><span class="cn">TRUE</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">||</span> <span class="cn">TRUE</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">" Arguments x and y must not have missing values."</span><span class="op">)</span>
  <span class="op">}</span>
  <span class="va">covariance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">var</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">verbose</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Covariance = "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">covariance</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">".\n"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">covariance</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Enjoy R!</p>

<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-networkD3" class="csl-entry">
Allaire, J. J., Christopher Gandrud, Kenton Russell, and CJ Yetman. 2017. <em>networkD3: D3 JavaScript Network Graphs from r</em>. <a href="https://CRAN.R-project.org/package=networkD3">https://CRAN.R-project.org/package=networkD3</a>.
</div>
<div id="ref-R-visNetwork" class="csl-entry">
Almende B.V., Benoit Thieurmel, and Titouan Robert. 2019. <em>visNetwork: Network Visualization Using Vis.js Library</em>. <a href="http://datastorm-open.github.io/visNetwork/">http://datastorm-open.github.io/visNetwork/</a>.
</div>
<div id="ref-ancient_world_mapping_center_road_2012" class="csl-entry">
Ancient World Mapping Center. 2012. <span>“Road Information Derived from <span>Talbert</span>, <span>Richard</span> <span>J</span>. <span>A</span>., And <span>Roger</span> <span>S</span>. <span>Bagnall</span>. 2000. <span>Barrington</span> <span>Atlas</span> of the <span>Greek</span> and <span>Roman</span> <span>World</span>. <span>Princeton</span>, <span>N</span>.<span>J</span>.: <span>Princeton</span> <span>University</span> <span>Press</span>.”</span>
</div>
<div id="ref-R-gridExtra" class="csl-entry">
Auguie, Baptiste. 2017. <em>gridExtra: Miscellaneous Functions for "Grid" Graphics</em>. <a href="https://CRAN.R-project.org/package=gridExtra">https://CRAN.R-project.org/package=gridExtra</a>.
</div>
<div id="ref-R-superheat" class="csl-entry">
Barter, Rebecca, and Bin Yu. 2021. <em>Superheat: A Graphical Tool for Exploring Complex Datasets Using Heatmaps</em>.
</div>
<div id="ref-R-ndtv" class="csl-entry">
Bender-deMoll, Skye. 2019. <em>Ndtv: Network Dynamic Temporal Visualizations</em>. <a href="https://github.com/statnet/ndtv">https://github.com/statnet/ndtv</a>.
</div>
<div id="ref-R-tsna" class="csl-entry">
Bender-deMoll, Skye, and Martina Morris. 2021. <em>Tsna: Tools for Temporal Social Network Analysis</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-sp2013" class="csl-entry">
Bivand, Roger S., Edzer Pebesma, and Virgilio Gomez-Rubio. 2013. <em>Applied Spatial Data Analysis with <span>R</span>, Second Edition</em>. Springer, NY. <a href="https://asdar-book.org/">https://asdar-book.org/</a>.
</div>
<div id="ref-R-maptools" class="csl-entry">
Bivand, Roger, and Nicholas Lewin-Koh. 2020. <em>Maptools: Tools for Handling Spatial Objects</em>. <a href="https://CRAN.R-project.org/package=maptools">https://CRAN.R-project.org/package=maptools</a>.
</div>
<div id="ref-R-rgeos" class="csl-entry">
Bivand, Roger, and Colin Rundel. 2020. <em>Rgeos: Interface to Geometry Engine - Open Source (GEOS)</em>. <a href="https://r-forge.r-project.org/projects/rgeos/%0Ahttps://trac.osgeo.org/geos/%0Ahttp://rgeos.r-forge.r-project.org/index.html">https://r-forge.r-project.org/projects/rgeos/
https://trac.osgeo.org/geos/
http://rgeos.r-forge.r-project.org/index.html</a>.
</div>
<div id="ref-R-intergraph" class="csl-entry">
Bojanowski, Michal. 2016. <em>Intergraph: Coercion Routines for Network Data Objects</em>. <a href="http://mbojan.github.io/intergraph">http://mbojan.github.io/intergraph</a>.
</div>
<div id="ref-borck_are_2015" class="csl-entry">
Borck, Lewis, Barbara J. Mills, Matthew A. Peeples, and Jeffery J. Clark. 2015. <span>“Are <span>Social</span> <span>Networks</span> <span>Survival</span> <span>Networks</span>? <span>An</span> <span>Example</span> from the <span>Late</span> <span>Pre</span>-<span>Hispanic</span> <span>US</span> <span>Southwest</span>.”</span> <em>Journal of Archaeological Method and Theory</em> 22 (1): 33–57. <a href="https://doi.org/10.1007/s10816-014-9236-5">https://doi.org/10.1007/s10816-014-9236-5</a>.
</div>
<div id="ref-brughmans_networks_2013" class="csl-entry">
Brughmans, Tom. 2013. <span>“Networks of Networks: A Citation Network Analysis of the Adoption, Use and Adaptation of Formal Network Techniques in Archaeology.”</span> <em>Literary and Linguistic Computing, The Journal of Digital Scholarship in the Humanities</em> 28 (4): 538–62. <a href="https://doi.org/10.1093/llc/fqt048">https://doi.org/10.1093/llc/fqt048</a>.
</div>
<div id="ref-brughmans_trends_2017" class="csl-entry">
Brughmans, Tom, and Matthew A. Peeples. 2017. <span>“Trends in <span>Archaeological</span> <span>Network</span> <span>Research</span>: <span>A</span> <span>Bibliometric</span> <span>Analysis</span>.”</span> <em>Journal of Historical Network Research</em> 1 (2017): 1–24.
</div>
<div id="ref-R-GISTools" class="csl-entry">
Brunsdon, Chris, and Hongyan Chen. 2014. <em>GISTools: Some Further GIS Capabilities for r</em>. <a href="https://CRAN.R-project.org/package=GISTools">https://CRAN.R-project.org/package=GISTools</a>.
</div>
<div id="ref-network2008" class="csl-entry">
Butts, Carter T. 2008. <span>“Network: A Package for Managing Relational Data in r.”</span> <em>Journal of Statistical Software</em> 24 (2). <a href="https://www.jstatsoft.org/v24/i02/paper">https://www.jstatsoft.org/v24/i02/paper</a>.
</div>
<div id="ref-R-sna" class="csl-entry">
———. 2020. <em>Sna: Tools for Social Network Analysis</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-R-network" class="csl-entry">
———. 2021. <em>Network: Classes for Relational Data</em>. <a href="http://statnet.org/">http://statnet.org/</a>.
</div>
<div id="ref-R-networkDynamic" class="csl-entry">
Butts, Carter T., Ayn Leslie-Cook, Pavel N. Krivitsky, and Skye Bender-deMoll. 2021. <em>networkDynamic: Dynamic Extensions for Network Objects</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-R-RBGL" class="csl-entry">
Carey, Vince, Li Long, and R. Gentleman. 2020. <em>RBGL: An Interface to the BOOST Graph Library</em>. <a href="http://www.bioconductor.org">http://www.bioconductor.org</a>.
</div>
<div id="ref-tergm2015" class="csl-entry">
Carnegie, Nicole Bohme, Pavel N. Krivitsky, David R. Hunter, and Steven M. Goodreau. 2015. <span>“An Approximation Method for Improving Dynamic Network Model Fitting.”</span> <em>Journal of Computational and Graphical Statistics</em> 24 (2): 502–19. <a href="https://doi.org/10.1080/10618600.2014.903087">https://doi.org/10.1080/10618600.2014.903087</a>.
</div>
<div id="ref-clark_migrants_2012" class="csl-entry">
Clark, Jeffery J., and Patrick D. Lyons, eds. 2012. <em>Migrants and <span>Mounds</span>: <span>Classic</span> <span>Period</span> <span>Archaeology</span> of the <span>Lower</span> <span>San</span> <span>Pedro</span> <span>Valley</span></em>. Anthrpological <span>Papers</span> 45. Tucson: Archaeology Southwest.
</div>
<div id="ref-R-igraphdata" class="csl-entry">
Csardi, Gabor. 2015. <em>Igraphdata: A Collection of Network Data Sets for the Igraph Package</em>. <a href="http://igraph.org">http://igraph.org</a>.
</div>
<div id="ref-R-igraph" class="csl-entry">
Csardi, Gabor, and Tamas Nepusz. 2006a. <span>“The Igraph Software Package for Complex Network Research.”</span> <em>InterJournal</em> Complex Systems: 1695. <a href="https://igraph.org">https://igraph.org</a>.
</div>
<div id="ref-igraph2006" class="csl-entry">
———. 2006b. <span>“The Igraph Software Package for Complex Network Research.”</span> <em>InterJournal</em> Complex Systems: 1695. <a href="https://igraph.org">https://igraph.org</a>.
</div>
<div id="ref-Rcpp2013" class="csl-entry">
Eddelbuettel, Dirk. 2013. <em>Seamless <span>R</span> and <span>C++</span> Integration with <span>Rcpp</span></em>. New York: Springer. <a href="https://doi.org/10.1007/978-1-4614-6868-4">https://doi.org/10.1007/978-1-4614-6868-4</a>.
</div>
<div id="ref-Rcpp2018" class="csl-entry">
Eddelbuettel, Dirk, and James Joseph Balamuta. 2018. <span>“<span class="nocase">Extending extit<span>R</span> with extit<span>C++</span>: A Brief Introduction to extit<span>Rcpp</span></span>.”</span> <em>The American Statistician</em> 72 (1): 28–36. <a href="https://doi.org/10.1080/00031305.2017.1375990">https://doi.org/10.1080/00031305.2017.1375990</a>.
</div>
<div id="ref-R-Rcpp" class="csl-entry">
Eddelbuettel, Dirk, Romain Francois, JJ Allaire, Kevin Ushey, Qiang Kou, Nathan Russell, Inaki Ucar, Douglas Bates, and John Chambers. 2021. <em>Rcpp: Seamless r and c++ Integration</em>. <a href="https://CRAN.R-project.org/package=Rcpp">https://CRAN.R-project.org/package=Rcpp</a>.
</div>
<div id="ref-Rcpp2011" class="csl-entry">
Eddelbuettel, Dirk, and Romain François. 2011. <span>“<span>Rcpp</span>: Seamless <span>R</span> and <span>C++</span> Integration.”</span> <em>Journal of Statistical Software</em> 40 (8): 1–18. <a href="https://doi.org/10.18637/jss.v040.i08">https://doi.org/10.18637/jss.v040.i08</a>.
</div>
<div id="ref-R-graph" class="csl-entry">
Gentleman, R., Elizabeth Whalen, W. Huber, and S. Falcon. 2020. <em>Graph: A Package to Handle Graph Data Structures</em>.
</div>
<div id="ref-gerald_davis_2019" class="csl-entry">
Gerald, Rex E. 2019. <em>The <span>Davis</span> <span>Ranch</span> <span>Site</span>: <span>A</span> <span>Kayenta</span> <span>Immigrant</span> <span>Enclave</span> in <span>Southeastern</span> <span>Arizona</span></em>. Edited by Patrick D. Lyons. Illustrated edition. Tucson: University of Arizona Press.
</div>
<div id="ref-R-ggwaffle" class="csl-entry">
Gilbey, Liam. 2018. <em>Ggwaffle: Waffle Charts</em>. <a href="https://github.com/liamgilbey/ggwaffle">https://github.com/liamgilbey/ggwaffle</a>.
</div>
<div id="ref-giomi_reading_2021" class="csl-entry">
Giomi, Evan, Barbara J. Mills, Leslie D. Aragon, Benjamin A. Bellorado, and Matthew A. Peeples. 2021. <span>“Reading Between the <span>Lines</span>: <span>The</span> <span>Social</span> <span>Value</span> of <span>Dogoszhi</span> <span>Style</span> in the <span>Chaco</span> <span>World</span>.”</span> <em>American Antiquity</em> In press. <a href="https://doi.org/10.1017/aaq.2021.50">https://doi.org/10.1017/aaq.2021.50</a>.
</div>
<div id="ref-giomi_network_2019" class="csl-entry">
Giomi, Evan, and Matthew A. Peeples. 2019. <span>“Network Analysis of Intrasite Material Networks and Ritual Practice at <span>Pueblo</span> <span>Bonito</span>.”</span> <em>Journal of Anthropological Archaeology</em> 53: 22–31. <a href="https://doi.org/10.1016/j.jaa.2018.10.002">https://doi.org/10.1016/j.jaa.2018.10.002</a>.
</div>
<div id="ref-R-statnet" class="csl-entry">
Handcock, Mark S., David R. Hunter, Carter T. Butts, Steven M. Goodreau, Pavel N. Krivitsky, Skye Bender-deMoll, and Martina Morris. 2019. <em>Statnet: Software Tools for the Statistical Analysis of Network Data</em>. <a href="http://statnet.org">http://statnet.org</a>.
</div>
<div id="ref-R-ergm" class="csl-entry">
Handcock, Mark S., David R. Hunter, Carter T. Butts, Steven M. Goodreau, Pavel N. Krivitsky, and Martina Morris. 2021. <em>Ergm: Fit, Simulate and Diagnose Exponential-Family Models for Networks</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-R-purrr" class="csl-entry">
Henry, Lionel, and Hadley Wickham. 2020. <em>Purrr: Functional Programming Tools</em>. <a href="https://CRAN.R-project.org/package=purrr">https://CRAN.R-project.org/package=purrr</a>.
</div>
<div id="ref-BiocGenerics2015" class="csl-entry">
Huber, W., Carey, V. J., Gentleman, R., Anders, et al. 2015. <span>“<span>O</span>rchestrating High-Throughput Genomic Analysis with <span>B</span>ioconductor.”</span> <em>Nature Methods</em> 12 (2): 115–21. <a href="http://www.nature.com/nmeth/journal/v12/n2/full/nmeth.3252.html">http://www.nature.com/nmeth/journal/v12/n2/full/nmeth.3252.html</a>.
</div>
<div id="ref-ergm2008" class="csl-entry">
Hunter, David R., Mark S. Handcock, Carter T. Butts, Steven M. Goodreau, and Martina Morris. 2008a. <span>“Ergm: A Package to Fit, Simulate and Diagnose Exponential-Family Models for Networks.”</span> <em>Journal of Statistical Software</em> 24 (3): 1–29.
</div>
<div id="ref-statnet2008" class="csl-entry">
———. 2008b. <span>“Ergm: A Package to Fit, Simulate and Diagnose Exponential-Family Models for Networks.”</span> <em>Journal of Statistical Software</em> 24 (3): 1–29.
</div>
<div id="ref-R-colorspace" class="csl-entry">
Ihaka, Ross, Paul Murrell, Kurt Hornik, Jason C. Fisher, Reto Stauffer, Claus O. Wilke, Claire D. McWhite, and Achim Zeileis. 2021. <em>Colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes</em>. <a href="https://CRAN.R-project.org/package=colorspace">https://CRAN.R-project.org/package=colorspace</a>.
</div>
<div id="ref-kabacoff_r_2015" class="csl-entry">
Kabacoff, Dr Rob. 2015. <em>R in <span>Action</span>: <span>Data</span> <span>Analysis</span> and <span>Graphics</span> with <span>R</span></em>. 2nd edition. Shelter Island: Manning.
</div>
<div id="ref-ggmap2013" class="csl-entry">
Kahle, David, and Hadley Wickham. 2013. <span>“Ggmap: Spatial Visualization with Ggplot2.”</span> <em>The R Journal</em> 5 (1): 144–61. <a href="https://journal.r-project.org/archive/2013-1/kahle-wickham.pdf">https://journal.r-project.org/archive/2013-1/kahle-wickham.pdf</a>.
</div>
<div id="ref-R-ggmap" class="csl-entry">
Kahle, David, Hadley Wickham, and Scott Jackson. 2019. <em>Ggmap: Spatial Visualization with Ggplot2</em>. <a href="https://github.com/dkahle/ggmap">https://github.com/dkahle/ggmap</a>.
</div>
<div id="ref-R-ggpubr" class="csl-entry">
Kassambara, Alboukadel. 2020. <em>Ggpubr: Ggplot2 Based Publication Ready Plots</em>. <a href="https://rpkgs.datanovia.com/ggpubr/">https://rpkgs.datanovia.com/ggpubr/</a>.
</div>
<div id="ref-R-ergm.count" class="csl-entry">
Krivitsky, Pavel N. 2021a. <em>Ergm.count: Fit, Simulate and Diagnose Exponential-Family Models for Networks with Count Edges</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-R-statnet.common" class="csl-entry">
———. 2021b. <em>Statnet.common: Common r Scripts and Utilities Used by the Statnet Project Software</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-tergm2014" class="csl-entry">
Krivitsky, Pavel N., and Mark S. Handcock. 2014. <span>“A Separable Model for Dynamic Networks.”</span> <em>Journal of the Royal Statistical Society, Series B</em> 76 (1): 29–46. <a href="https://doi.org/10.1111/rssb.12014">https://doi.org/10.1111/rssb.12014</a>.
</div>
<div id="ref-R-tergm" class="csl-entry">
———. 2021. <em>Tergm: Fit, Simulate and Diagnose Models for Network Evolution Based on Exponential-Family Random Graph Models</em>. <a href="https://statnet.org">https://statnet.org</a>.
</div>
<div id="ref-ergm2021" class="csl-entry">
Krivitsky, Pavel N., David R. Hunter, Martina Morris, and Chad Klumb. 2021b. <span>“Ergm 4.0: New Features and Improvements.”</span>
</div>
<div id="ref-ergm.count2021" class="csl-entry">
———. 2021a. <span>“Ergm 4.0: New Features and Improvements.”</span>
</div>
<div id="ref-long_r_2019" class="csl-entry">
Long, J. D., and Paul Teetor. 2019. <em>R <span>Cookbook</span>: <span>Proven</span> <span>Recipes</span> for <span>Data</span> <span>Analysis</span>, <span>Statistics</span>, and <span>Graphics</span></em>. 2nd edition. Beijing Boston Farnham Sebastopol Tokyo: O’Reilly Media.
</div>
<div id="ref-R-multinet" class="csl-entry">
Magnani, Matteo, Luca Rossi, Obaida Hanteer, Davide Vega. The package uses functions from eclat, for association rule mining, Infomap, for the Infomap community detection method, Howard Hinnant’s date, and time library. The code from these libraries has been included in our source package. 2021. <em>Multinet: Analysis and Mining of Multilayer Social Networks</em>. <a href="https://CRAN.R-project.org/package=multinet">https://CRAN.R-project.org/package=multinet</a>.
</div>
<div id="ref-multinet2021" class="csl-entry">
Magnani, Matteo, Luca Rossi, and Davide Vega. 2021. <span>“Analysis of Multiplex Social Networks with <span>R</span>.”</span> <em>Journal of Statistical Software</em> 98 (8): 1–30. <a href="https://doi.org/10.18637/jss.v098.i08">https://doi.org/10.18637/jss.v098.i08</a>.
</div>
<div id="ref-R-cccd" class="csl-entry">
Marchette, David J. 2015. <em>Cccd: Class Cover Catch Digraphs</em>. <a href="https://CRAN.R-project.org/package=cccd">https://CRAN.R-project.org/package=cccd</a>.
</div>
<div id="ref-McConville2021" class="csl-entry">
McConville, Chester Ismay, and Albert Y. Kim Foreword by Kelly S. 2021. <em>Chapter 1 Getting Started with Data in r | Statistical Inference via Data Science</em>. <a href="https://moderndive.com/">https://moderndive.com/</a>.
</div>
<div id="ref-mills_transformation_2013" class="csl-entry">
Mills, Barbara J, Jeffery J Clark, Matthew A Peeples, W R Haas, John M Roberts, J Brett Hill, Deborah L Huntley, et al. 2013a. <span>“Transformation of Social Networks in the Late Pre-<span>Hispanic</span> <span>US</span> <span>Southwest</span>.”</span> <em>Proceedings of the National Academy of Sciences of the United States of America</em>, March, 1–6. <a href="https://doi.org/10.1073/pnas.1219966110">https://doi.org/10.1073/pnas.1219966110</a>.
</div>
<div id="ref-mills_evaluating_2018" class="csl-entry">
Mills, Barbara J., Matthew A. Peeples, Leslie D. Aragon, Benjamin A Bellorado, Jeffery J. Clark, Evan Giomi, and Thomas C. Windes. 2018. <span>“Evaluating <span>Chaco</span> <span>Migration</span> <span>Scenarios</span> <span>Using</span> <span>Dynamic</span> <span>Social</span> <span>Network</span> <span>Analysis</span>.”</span> <em>Antiquity</em> 92 (364).
</div>
<div id="ref-mills_multiscalar_2015" class="csl-entry">
Mills, Barbara J., Matthew A. Peeples, W. Randall Haas Jr., Lewis Borck, Jeffery J. Clark, and John M. Roberts Jr. 2015. <span>“Multiscalar <span>Perspectives</span> on <span>Social</span> <span>Networks</span> in the <span>Late</span> <span>Prehispanic</span> <span>Southwest</span>.”</span> <em>American Antiquity</em> 80 (1): 3–24. <a href="https://doi.org/10.7183/0002-7316.79.4.3">https://doi.org/10.7183/0002-7316.79.4.3</a>.
</div>
<div id="ref-mills_dynamics_2013" class="csl-entry">
Mills, Barbara J., John M. Roberts, Jeffery J. Clark, William R. Haas Jr., Deborah Huntley, Matthew A. Peeples, Lewis Borck, Susan C. Ryan, Meaghan Trowbridge, and Ronald L. Breiger. 2013b. <span>“The Dynamics of Social Networks in the <span>Late</span> <span>Prehispanic</span> <span>U</span>.<span>S</span>. <span>Southwest</span>.”</span> In <em>Network Analysis in Archaeology. <span>New</span> Approaches to Regional Interaction</em>, edited by Carl Knappett, 181–202. Oxford: Oxford University Press.
</div>
<div id="ref-R-tibble" class="csl-entry">
Müller, Kirill, and Hadley Wickham. 2021. <em>Tibble: Simple Data Frames</em>. <a href="https://CRAN.R-project.org/package=tibble">https://CRAN.R-project.org/package=tibble</a>.
</div>
<div id="ref-R-RColorBrewer" class="csl-entry">
Neuwirth, Erich. 2014. <em>RColorBrewer: ColorBrewer Palettes</em>. <a href="https://CRAN.R-project.org/package=RColorBrewer">https://CRAN.R-project.org/package=RColorBrewer</a>.
</div>
<div id="ref-R-vegan" class="csl-entry">
Oksanen, Jari, F. Guillaume Blanchet, Michael Friendly, Roeland Kindt, Pierre Legendre, Dan McGlinn, Peter R. Minchin, et al. 2020. <em>Vegan: Community Ecology Package</em>. <a href="https://CRAN.R-project.org/package=vegan">https://CRAN.R-project.org/package=vegan</a>.
</div>
<div id="ref-tnet2009" class="csl-entry">
Opsahl, Tore. 2009. <em>Structure and Evolution of Weighted Networks</em>. University of London (Queen Mary College), London, UK. <a href="http://toreopsahl.com/publications/thesis/">http://toreopsahl.com/publications/thesis/</a>.
</div>
<div id="ref-R-tnet" class="csl-entry">
———. 2020. <em>Tnet: Weighted, Two-Mode, and Longitudinal Networks Analysis</em>. <a href="http://toreopsahl.com/tnet/">http://toreopsahl.com/tnet/</a>.
</div>
<div id="ref-ortman_uniform_2016" class="csl-entry">
Ortman, Scott G. 2016. <span>“Uniform <span>Probability</span> <span>Density</span> <span>Analysis</span> and <span>Population</span> <span>History</span> in the <span>Northern</span> <span>Rio</span> <span>Grande</span>.”</span> <em>Journal of Archaeological Method and Theory</em> 23 (1): 95–126. <a href="https://doi.org/10.1007/s10816-014-9227-6">https://doi.org/10.1007/s10816-014-9227-6</a>.
</div>
<div id="ref-R-ape" class="csl-entry">
Paradis, Emmanuel, Simon Blomberg, Ben Bolker, Joseph Brown, Santiago Claramunt, Julien Claude, Hoa Sien Cuong, et al. 2020. <em>Ape: Analyses of Phylogenetics and Evolution</em>. <a href="http://ape-package.ird.fr/">http://ape-package.ird.fr/</a>.
</div>
<div id="ref-ape2019" class="csl-entry">
Paradis, E., and K. Schliep. 2019. <span>“Ape 5.0: An Environment for Modern Phylogenetics and Evolutionary Analyses in <span>R</span>.”</span> <em>Bioinformatics</em> 35: 526–28.
</div>
<div id="ref-sf2018" class="csl-entry">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>.”</span> <em><span>The R Journal</span></em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-R-sf" class="csl-entry">
———. 2021. <em>Sf: Simple Features for r</em>. <a href="https://CRAN.R-project.org/package=sf">https://CRAN.R-project.org/package=sf</a>.
</div>
<div id="ref-sp2005" class="csl-entry">
Pebesma, Edzer J., and Roger S. Bivand. 2005. <span>“Classes and Methods for Spatial Data in <span>R</span>.”</span> <em>R News</em> 5 (2): 9–13. <a href="https://CRAN.R-project.org/doc/Rnews/">https://CRAN.R-project.org/doc/Rnews/</a>.
</div>
<div id="ref-R-sp" class="csl-entry">
Pebesma, Edzer, and Roger Bivand. 2021. <em>Sp: Classes and Methods for Spatial Data</em>. <a href="https://CRAN.R-project.org/package=sp">https://CRAN.R-project.org/package=sp</a>.
</div>
<div id="ref-R-ggforce" class="csl-entry">
Pedersen, Thomas Lin. 2020. <em>Ggforce: Accelerating Ggplot2</em>. <a href="https://CRAN.R-project.org/package=ggforce">https://CRAN.R-project.org/package=ggforce</a>.
</div>
<div id="ref-R-ggraph" class="csl-entry">
———. 2021. <em>Ggraph: An Implementation of Grammar of Graphics for Graphs and Networks</em>. <a href="https://CRAN.R-project.org/package=ggraph">https://CRAN.R-project.org/package=ggraph</a>.
</div>
<div id="ref-peeples_network_2017" class="csl-entry">
Peeples, Matthew. 2017. <span>“Network Science and Statistical Techniques for Dealing with Uncertainties in Archaeological Datasets.”</span> <a href="http://www.mattpeeples.net/netstats.html">http://www.mattpeeples.net/netstats.html</a>.
</div>
<div id="ref-peeples_identity_2011" class="csl-entry">
Peeples, Matthew A. 2011. <span>“Identity and <span>Social</span> <span>Transformation</span> in the <span>Prehispanic</span> <span>Cibola</span> <span>World</span>: <span>A</span>.<span>D</span>. 1150-1325.”</span> {PhD} {Dissertation}, Arizona State University.
</div>
<div id="ref-peeples_connected_2018" class="csl-entry">
Peeples, Matthew A. 2018. <em>Connected <span>Communities</span>: <span>Networks</span>, <span>Identity</span>, and <span>Social</span> <span>Change</span> in the <span>Ancient</span> <span>Cibola</span> <span>World</span></em>. University of Arizona Press.
</div>
<div id="ref-peeples_connections_2021" class="csl-entry">
Peeples, Matthew A., Wesley Bernardini, Lyle Balenquah, and Kellam Throgmorton. 2021. <span>“Connections and <span>Boundaries</span>.”</span> In <em>Becoming <span>Hopi</span>: <span>A</span> <span>History</span></em>, edited by Wesley Bernardini, Stewart Koyiyumptewa, Gregson Schachner, and Leigh Kuwanwisiwma, 261–98. Tucson, AZ: University of Arizona Press.
</div>
<div id="ref-peeples_brokerage_2013" class="csl-entry">
Peeples, Matthew A., and W. Randall Haas. 2013. <span>“Brokerage and <span>Social</span> <span>Capital</span> in the <span>Prehispanic</span> <span>U</span>.<span>S</span>. <span>Southwest</span>.”</span> <em>American Anthropologist</em> 115 (2): 232–47. <a href="https://doi.org/10.1111/aman.12006">https://doi.org/10.1111/aman.12006</a>.
</div>
<div id="ref-peeples_frontiers_2018" class="csl-entry">
Peeples, Matthew A., and Barbara J. Mills. 2018. <span>“Frontiers of <span>Marginality</span> and <span>Mediation</span> in the <span>U</span>.<span>S</span>. <span>Southwest</span>: <span>A</span> <span>Social</span> <span>Networks</span> <span>Perspective</span>.”</span> In <em>Life <span>Beyond</span> the <span>Boundaries</span>: <span>Constructing</span> <span>Identity</span> in <span>Edge</span> <span>Regions</span> of the <span>North</span> <span>American</span> <span>Southwest</span></em>, edited by Karen Harry and Sarah Herr, 25–56. Boulder, CO: University Press of Colorado.
</div>
<div id="ref-peeples_analytical_2016" class="csl-entry">
Peeples, Matthew A., Barbara J. Mills, W. Randall Jr. Haas, Jeffery J. Clark, and John M. Jr. Roberts. 2016. <span>“Analytical <span>Challenges</span> for the <span>Application</span> of <span>Social</span> <span>Network</span> <span>Analysis</span> in <span>Archaeology</span>.”</span> In <em>The <span>Connected</span> <span>Past</span>: Challenges to Network Studies in Archaeology and History</em>, edited by Tom Brughmans, Anna Collar, and Fiona Coward, 59–84. Oxford: Oxford University Press.
</div>
<div id="ref-peeples_binarize_2013" class="csl-entry">
Peeples, Matthew A., and John M. Roberts. 2013. <span>“To Binarize or Not to Binarize: Relational Data and the Construction of Archaeological Networks.”</span> <em>Journal of Archaeological Science</em> 40 (7): 3001–10. <a href="https://doi.org/10.1016/j.jas.2013.03.014">https://doi.org/10.1016/j.jas.2013.03.014</a>.
</div>
<div id="ref-peeples_bootstrapping_2017" class="csl-entry">
Peeples, Matthew A., and John M. Roberts Jr. 2017. <span>“Bootstrapping and <span>Empirical</span> <span>Bayesian</span> <span>Methods</span> for <span>Assessing</span> <span>Variability</span> in <span>Archaeological</span> <span>Networks</span>.”</span> In. Atlanta, GA.
</div>
<div id="ref-R-base" class="csl-entry">
R Core Team. 2021. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-rawat_networked_2021" class="csl-entry">
Rawat, Nagendra Singh, Tom Brughmans, Vinod Nautiyal, and Devi Dutt Chauniyal. 2021. <span>“Networked Medieval Strongholds in <span>Garhwal</span> <span>Himalaya</span>, <span>India</span>.”</span> <em>Antiquity</em> 95 (381): 753–72. <a href="https://doi.org/10.15184/aqy.2021.4">https://doi.org/10.15184/aqy.2021.4</a>.
</div>
<div id="ref-rawat_exploring_2020" class="csl-entry">
Rawat, Nagendra Singh, and Vinod Nautiyal. 2020. <span>“Exploring <span>Chaundkot</span> <span>Fort</span> in <span>Garhwal</span>, Central <span>Himalaya</span>, <span>India</span>.”</span> <em>Antiquity</em> 94 (376). <a href="https://doi.org/10.15184/aqy.2020.117">https://doi.org/10.15184/aqy.2020.117</a>.
</div>
<div id="ref-R-MASS" class="csl-entry">
Ripley, Brian. 2021. <em>MASS: Support Functions and Datasets for Venables and Ripley’s MASS</em>. <a href="http://www.stats.ox.ac.uk/pub/MASS4/">http://www.stats.ox.ac.uk/pub/MASS4/</a>.
</div>
<div id="ref-roberts_method_2012" class="csl-entry">
Roberts, John M., Jr., Barbara J. Mills, Jeffery J. Clark, W. Randall Haas Jr., Deborah L. Huntley, and Meaghan A. Trowbridge. 2012. <span>“A Method for Chronological Apportioning of Ceramic Assemblages.”</span> <em>Journal of Archaeological Science</em> 39 (5): 1513–20. <a href="https://doi.org/10.1016/j.jas.2011.12.022">https://doi.org/10.1016/j.jas.2011.12.022</a>.
</div>
<div id="ref-roberts_assessing_2021" class="csl-entry">
Roberts, John M., Yi Yin, Emily Dorshorst, Matthew A. Peeples, and Barbara J. Mills. 2021. <span>“Assessing the Performance of the Bootstrap in Simulated Assemblage Networks.”</span> <em>Social Networks</em> 65 (May): 98–109. <a href="https://doi.org/10.1016/j.socnet.2020.11.005">https://doi.org/10.1016/j.socnet.2020.11.005</a>.
</div>
<div id="ref-R-ggsn" class="csl-entry">
Santos Baquero, Oswaldo. 2019. <em>Ggsn: North Symbols and Scale Bars for Maps Created with Ggplot2 or Ggmap</em>. <a href="https://github.com/oswaldosantos/ggsn">https://github.com/oswaldosantos/ggsn</a>.
</div>
<div id="ref-lattice2008" class="csl-entry">
Sarkar, Deepayan. 2008. <em>Lattice: Multivariate Data Visualization with r</em>. New York: Springer. <a href="http://lmdvr.r-forge.r-project.org">http://lmdvr.r-forge.r-project.org</a>.
</div>
<div id="ref-R-lattice" class="csl-entry">
———. 2020. <em>Lattice: Trellis Graphics for r</em>. <a href="http://lattice.r-forge.r-project.org/">http://lattice.r-forge.r-project.org/</a>.
</div>
<div id="ref-R-graphlayouts" class="csl-entry">
Schoch, David. 2020. <em>Graphlayouts: Additional Layout Algorithms for Network Visualizations</em>. <a href="https://CRAN.R-project.org/package=graphlayouts">https://CRAN.R-project.org/package=graphlayouts</a>.
</div>
<div id="ref-R-edgebundle" class="csl-entry">
———. 2021. <em>Edgebundle: Algorithms for Bundling Edges in Networks and Visualizing Flow and Metro Maps</em>.
</div>
<div id="ref-R-permute" class="csl-entry">
Simpson, Gavin L. 2019. <em>Permute: Functions for Generating Restricted Permutations of Data</em>. <a href="https://github.com/gavinsimpson/permute">https://github.com/gavinsimpson/permute</a>.
</div>
<div id="ref-R-ggrepel" class="csl-entry">
Slowikowski, Kamil. 2021. <em>Ggrepel: Automatically Position Non-Overlapping Text Labels with Ggplot2</em>. <a href="https://github.com/slowkow/ggrepel">https://github.com/slowkow/ggrepel</a>.
</div>
<div id="ref-de_soto_role_2021" class="csl-entry">
Soto, Pau de, and Cèsar Carreras. 2021. <span>“The <span>Role</span> of <span>Politics</span> in the <span>Historical</span> <span>Transport</span> <span>Networks</span> of the <span>Iberian</span> <span>Peninsula</span> and the <span>Pyrenees</span> from <span>Roman</span> <span>Times</span> to the <span>Nineteenth</span> <span>Century</span>.”</span> <em>Social Science History</em> 45 (2): 233–60. <a href="https://doi.org/10.1017/ssh.2021.12">https://doi.org/10.1017/ssh.2021.12</a>.
</div>
<div id="ref-colorspace2009b" class="csl-entry">
Stauffer, Reto, Georg J. Mayr, Markus Dabernig, and Achim Zeileis. 2009. <span>“Somewhere over the Rainbow: How to Make Effective Use of Colors in Meteorological Visualizations.”</span> <em>Bulletin of the American Meteorological Society</em> 96 (2): 203–16. <a href="https://doi.org/10.1175/BAMS-D-13-00155.1">https://doi.org/10.1175/BAMS-D-13-00155.1</a>.
</div>
<div id="ref-Sydney2021" class="csl-entry">
Sydney, RLadies. 2021. <span>“What Is <span>RYouWithMe</span>?”</span> <em>R-Ladies Sydney</em>. <a href="https://rladiessydney.org/courses/ryouwithme/">https://rladiessydney.org/courses/ryouwithme/</a>.
</div>
<div id="ref-talbert_barrington_2000" class="csl-entry">
Talbert, Richard J. A., ed. 2000. <em>Barrington <span>Atlas</span> of the <span>Greek</span> and <span>Roman</span> <span>World</span></em>. Princeton: Princeton University Press. <a href="https://press.princeton.edu/books/hardcover/9780691031699/barrington-atlas-of-the-greek-and-roman-world">https://press.princeton.edu/books/hardcover/9780691031699/barrington-atlas-of-the-greek-and-roman-world</a>.
</div>
<div id="ref-R-BiocGenerics" class="csl-entry">
Team, The Bioconductor Dev. 2020. <em>BiocGenerics: S4 Generic Functions Used in Bioconductor</em>.
</div>
<div id="ref-survival-book" class="csl-entry">
Terry M. Therneau, and Patricia M. Grambsch. 2000. <em>Modeling Survival Data: Extending the <span>C</span>ox Model</em>. New York: Springer.
</div>
<div id="ref-R-survival" class="csl-entry">
Therneau, Terry M. 2020. <em>Survival: Survival Analysis</em>. <a href="https://github.com/therneau/survival">https://github.com/therneau/survival</a>.
</div>
<div id="ref-R-png" class="csl-entry">
Urbanek, Simon. 2013. <em>Png: Read and Write PNG Images</em>. <a href="http://www.rforge.net/png/">http://www.rforge.net/png/</a>.
</div>
<div id="ref-MASS2002" class="csl-entry">
Venables, W. N., and B. D. Ripley. 2002. <em>Modern Applied Statistics with s</em>. Fourth. New York: Springer. <a href="https://www.stats.ox.ac.uk/pub/MASS4/">https://www.stats.ox.ac.uk/pub/MASS4/</a>.
</div>
<div id="ref-reshape22007" class="csl-entry">
Wickham, Hadley. 2007. <span>“Reshaping Data with the <span class="nocase">reshape</span> Package.”</span> <em>Journal of Statistical Software</em> 21 (12): 1–20. <a href="http://www.jstatsoft.org/v21/i12/">http://www.jstatsoft.org/v21/i12/</a>.
</div>
<div id="ref-ggplot22016" class="csl-entry">
———. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-R-stringr" class="csl-entry">
———. 2019a. <em>Stringr: Simple, Consistent Wrappers for Common String Operations</em>. <a href="https://CRAN.R-project.org/package=stringr">https://CRAN.R-project.org/package=stringr</a>.
</div>
<div id="ref-wickham_advanced_2019" class="csl-entry">
———. 2019b. <em>Advanced <span>R</span>, <span>Second</span> <span>Edition</span></em>. 2nd edition. Boca Raton: Chapman; Hall/CRC.
</div>
<div id="ref-R-reshape2" class="csl-entry">
———. 2020. <em>Reshape2: Flexibly Reshape Data: A Reboot of the Reshape Package</em>. <a href="https://github.com/hadley/reshape">https://github.com/hadley/reshape</a>.
</div>
<div id="ref-R-forcats" class="csl-entry">
———. 2021a. <em>Forcats: Tools for Working with Categorical Variables (Factors)</em>. <a href="https://CRAN.R-project.org/package=forcats">https://CRAN.R-project.org/package=forcats</a>.
</div>
<div id="ref-R-tidyr" class="csl-entry">
———. 2021b. <em>Tidyr: Tidy Messy Data</em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.
</div>
<div id="ref-R-tidyverse" class="csl-entry">
———. 2021c. <em>Tidyverse: Easily Install and Load the Tidyverse</em>. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a>.
</div>
<div id="ref-tidyverse2019" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-R-ggplot2" class="csl-entry">
Wickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, and Dewey Dunnington. 2021. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2">https://CRAN.R-project.org/package=ggplot2</a>.
</div>
<div id="ref-R-dplyr" class="csl-entry">
Wickham, Hadley, Romain François, Lionel Henry, and Kirill Müller. 2021. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.
</div>
<div id="ref-wickham_r_2017" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for <span>Data</span> <span>Science</span>: <span>Import</span>, <span>Tidy</span>, <span>Transform</span>, <span>Visualize</span>, and <span>Model</span> <span>Data</span></em>. 1st edition. Sebastopol, CA: O’Reilly Media.
</div>
<div id="ref-R-readr" class="csl-entry">
Wickham, Hadley, and Jim Hester. 2020. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
<div id="ref-R-scales" class="csl-entry">
Wickham, Hadley, and Dana Seidel. 2020. <em>Scales: Scale Functions for Visualization</em>. <a href="https://CRAN.R-project.org/package=scales">https://CRAN.R-project.org/package=scales</a>.
</div>
<div id="ref-animation2013" class="csl-entry">
Xie, Yihui. 2013. <span>“<span class="nocase">animation</span>: An <span>R</span> Package for Creating Animations and Demonstrating Statistical Methods.”</span> <em>Journal of Statistical Software</em> 53 (1): 1–27. <a href="http://www.jstatsoft.org/v53/i01/">http://www.jstatsoft.org/v53/i01/</a>.
</div>
<div id="ref-bookdown2016" class="csl-entry">
———. 2016. <em>Bookdown: Authoring Books and Technical Documents with <span>R</span> Markdown</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/bookdown">https://bookdown.org/yihui/bookdown</a>.
</div>
<div id="ref-R-animation" class="csl-entry">
———. 2018. <em>Animation: A Gallery of Animations in Statistics and Utilities to Create Animations</em>. <a href="https://yihui.name/animation">https://yihui.name/animation</a>.
</div>
<div id="ref-R-bookdown" class="csl-entry">
———. 2021. <em>Bookdown: Authoring Books and Technical Documents with r Markdown</em>. <a href="https://CRAN.R-project.org/package=bookdown">https://CRAN.R-project.org/package=bookdown</a>.
</div>
<div id="ref-R-ggplotify" class="csl-entry">
Yu, Guangchuang. 2021. <em>Ggplotify: Convert Plot to Grob or Ggplot Object</em>. <a href="https://github.com/GuangchuangYu/ggplotify">https://github.com/GuangchuangYu/ggplotify</a>.
</div>
<div id="ref-colorspace2020a" class="csl-entry">
Zeileis, Achim, Jason C. Fisher, Kurt Hornik, Ross Ihaka, Claire D. McWhite, Paul Murrell, Reto Stauffer, and Claus O. Wilke. 2020. <span>“<span class="nocase">colorspace</span>: A Toolbox for Manipulating and Assessing Colors and Palettes.”</span> <em>Journal of Statistical Software</em> 96 (1): 1–49. <a href="https://doi.org/10.18637/jss.v096.i01">https://doi.org/10.18637/jss.v096.i01</a>.
</div>
<div id="ref-colorspace2009a" class="csl-entry">
Zeileis, Achim, Kurt Hornik, and Paul Murrell. 2009. <span>“Escaping <span>RGB</span>land: Selecting Colors for Statistical Graphics.”</span> <em>Computational Statistics &amp; Data Analysis</em> 53 (9): 3259–70. <a href="https://doi.org/10.1016/j.csda.2008.11.033">https://doi.org/10.1016/j.csda.2008.11.033</a>.
</div>
</div>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="empty"></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Online Companion to <em>Archaeological Network Science</em></strong>" was written by Matthew A. Peeples and Tom Brughmans. It was last built on 2022-06-01.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
