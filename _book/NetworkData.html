<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 3 Network Data | Online Companion to Archaeological Network Science by Brughmans and Peeples</title>
  <meta name="description" content="<p>This bookdown document accompanies the Cambridge Manuals in Archaeology book
<em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples.</p>" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 3 Network Data | Online Companion to Archaeological Network Science by Brughmans and Peeples" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://archnetworks.net" />
  
  <meta property="og:description" content="<p>This bookdown document accompanies the Cambridge Manuals in Archaeology book
<em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 3 Network Data | Online Companion to Archaeological Network Science by Brughmans and Peeples" />
  
  <meta name="twitter:description" content="<p>This bookdown document accompanies the Cambridge Manuals in Archaeology book
<em>Archaeological Network Science</em> by Tom Brughmans and Matthew A. Peeples.</p>" />
  

<meta name="author" content="Matthew A. Peeples and Tom Brughmans" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>
<link rel="next" href="exploratory-network-analysis.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<link href="libs/d3.slider.js-0/d3.slider.css" rel="stylesheet" />
<script src="libs/d3.slider.js-0/d3.slider.js"></script>
<link href="libs/ndtv-d3-0.2-14/css/styles.css" rel="stylesheet" />
<script src="libs/ndtv-d3-0.2-14/js/ndtv-d3.js"></script>
<script src="libs/ndtvAnimationWidget-binding-0.13.2/ndtvAnimationWidget.js"></script>
<script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Archaeological Network Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#datasets"><i class="fa fa-check"></i><b>2.1</b> Datasets</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#Everything"><i class="fa fa-check"></i><b>2.1.1</b> Just Give Me Everything</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started.html"><a href="getting-started.html#roman-road-networks"><i class="fa fa-check"></i><b>2.1.2</b> Roman Road Networks</a></li>
<li class="chapter" data-level="2.1.3" data-path="getting-started.html"><a href="getting-started.html#southwest-social-networks-project-ceramic-similarity-networks"><i class="fa fa-check"></i><b>2.1.3</b> Southwest Social Networks Project Ceramic Similarity Networks</a></li>
<li class="chapter" data-level="2.1.4" data-path="getting-started.html"><a href="getting-started.html#cibola-region-technological-similarity-network"><i class="fa fa-check"></i><b>2.1.4</b> Cibola Region Technological Similarity Network</a></li>
<li class="chapter" data-level="2.1.5" data-path="getting-started.html"><a href="getting-started.html#himalayan-visibility-networks"><i class="fa fa-check"></i><b>2.1.5</b> Himalayan Visibility Networks</a></li>
<li class="chapter" data-level="2.1.6" data-path="getting-started.html"><a href="getting-started.html#archaeological-publication-networks"><i class="fa fa-check"></i><b>2.1.6</b> Archaeological Publication Networks</a></li>
<li class="chapter" data-level="2.1.7" data-path="getting-started.html"><a href="getting-started.html#iron-age-sites-in-southern-spain"><i class="fa fa-check"></i><b>2.1.7</b> Iron Age Sites in Southern Spain</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#importing-data-in-r"><i class="fa fa-check"></i><b>2.2</b> Importing Data in R</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#installing-r-packages"><i class="fa fa-check"></i><b>2.3</b> Installing R Packages</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#suggested-workspace-setup"><i class="fa fa-check"></i><b>2.4</b> Suggested Workspace Setup</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="NetworkData.html"><a href="NetworkData.html"><i class="fa fa-check"></i><b>3</b> Network Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="NetworkData.html"><a href="NetworkData.html#network-data-formats"><i class="fa fa-check"></i><b>3.1</b> Network Data Formats</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="NetworkData.html"><a href="NetworkData.html#Edgelist"><i class="fa fa-check"></i><b>3.1.1</b> Edge List</a></li>
<li class="chapter" data-level="3.1.2" data-path="NetworkData.html"><a href="NetworkData.html#adjacency-list"><i class="fa fa-check"></i><b>3.1.2</b> Adjacency List</a></li>
<li class="chapter" data-level="3.1.3" data-path="NetworkData.html"><a href="NetworkData.html#adjacency-matrix"><i class="fa fa-check"></i><b>3.1.3</b> Adjacency Matrix</a></li>
<li class="chapter" data-level="3.1.4" data-path="NetworkData.html"><a href="NetworkData.html#incidence-matrix"><i class="fa fa-check"></i><b>3.1.4</b> Incidence Matrix</a></li>
<li class="chapter" data-level="3.1.5" data-path="NetworkData.html"><a href="NetworkData.html#node-and-edge-information"><i class="fa fa-check"></i><b>3.1.5</b> Node and Edge Information</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="NetworkData.html"><a href="NetworkData.html#types-of-networks"><i class="fa fa-check"></i><b>3.2</b> Types of Networks</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="NetworkData.html"><a href="NetworkData.html#simple-networks"><i class="fa fa-check"></i><b>3.2.1</b> Simple Networks</a></li>
<li class="chapter" data-level="3.2.2" data-path="NetworkData.html"><a href="NetworkData.html#directed-networks"><i class="fa fa-check"></i><b>3.2.2</b> Directed Networks</a></li>
<li class="chapter" data-level="3.2.3" data-path="NetworkData.html"><a href="NetworkData.html#signed-categorized-and-valued-networks"><i class="fa fa-check"></i><b>3.2.3</b> Signed, Categorized, and Valued Networks</a></li>
<li class="chapter" data-level="3.2.4" data-path="NetworkData.html"><a href="NetworkData.html#two-mode-networks-and-affiliation-networks"><i class="fa fa-check"></i><b>3.2.4</b> Two-mode Networks and Affiliation Networks</a></li>
<li class="chapter" data-level="3.2.5" data-path="NetworkData.html"><a href="NetworkData.html#similarity-networks"><i class="fa fa-check"></i><b>3.2.5</b> Similarity Networks</a></li>
<li class="chapter" data-level="3.2.6" data-path="NetworkData.html"><a href="NetworkData.html#ego-networks"><i class="fa fa-check"></i><b>3.2.6</b> Ego Networks</a></li>
<li class="chapter" data-level="3.2.7" data-path="NetworkData.html"><a href="NetworkData.html#multilayer-networks"><i class="fa fa-check"></i><b>3.2.7</b> Multilayer Networks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Network Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#example-network-objects"><i class="fa fa-check"></i><b>4.1</b> Example Network Objects</a></li>
<li class="chapter" data-level="4.2" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#CalcMetric"><i class="fa fa-check"></i><b>4.2</b> Calculating Network Metrics in R</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#centrality"><i class="fa fa-check"></i><b>4.3</b> Centrality</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#degree-centrality"><i class="fa fa-check"></i><b>4.3.1</b> Degree Centrality</a></li>
<li class="chapter" data-level="4.3.2" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#betweenness-centrality"><i class="fa fa-check"></i><b>4.3.2</b> Betweenness Centrality</a></li>
<li class="chapter" data-level="4.3.3" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#eigenvector-centrality"><i class="fa fa-check"></i><b>4.3.3</b> Eigenvector Centrality</a></li>
<li class="chapter" data-level="4.3.4" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#page-rank-centrality"><i class="fa fa-check"></i><b>4.3.4</b> Page Rank Centrality</a></li>
<li class="chapter" data-level="4.3.5" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#closeness-centrality"><i class="fa fa-check"></i><b>4.3.5</b> Closeness Centrality</a></li>
<li class="chapter" data-level="4.3.6" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#hubs-and-authorities"><i class="fa fa-check"></i><b>4.3.6</b> Hubs and Authorities</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#triads-and-clustering"><i class="fa fa-check"></i><b>4.4</b> Triads and clustering</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#triads"><i class="fa fa-check"></i><b>4.4.1</b> Triads</a></li>
<li class="chapter" data-level="4.4.2" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#transitivity-and-clustering"><i class="fa fa-check"></i><b>4.4.2</b> Transitivity and Clustering</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#walks-paths-and-distance"><i class="fa fa-check"></i><b>4.5</b> Walks, Paths, and Distance</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#distance"><i class="fa fa-check"></i><b>4.5.1</b> Distance</a></li>
<li class="chapter" data-level="4.5.2" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#shortest-paths"><i class="fa fa-check"></i><b>4.5.2</b> Shortest Paths</a></li>
<li class="chapter" data-level="4.5.3" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#diameter"><i class="fa fa-check"></i><b>4.5.3</b> Diameter</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#components-and-bridges"><i class="fa fa-check"></i><b>4.6</b> Components and Bridges</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#identifying-components"><i class="fa fa-check"></i><b>4.6.1</b> Identifying Components</a></li>
<li class="chapter" data-level="4.6.2" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#cutpoints"><i class="fa fa-check"></i><b>4.6.2</b> Cutpoints</a></li>
<li class="chapter" data-level="4.6.3" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#bridges"><i class="fa fa-check"></i><b>4.6.3</b> Bridges</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#cliques-and-communities"><i class="fa fa-check"></i><b>4.7</b> Cliques and Communities</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#cliques"><i class="fa fa-check"></i><b>4.7.1</b> Cliques</a></li>
<li class="chapter" data-level="4.7.2" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#k-cores"><i class="fa fa-check"></i><b>4.7.2</b> K-cores</a></li>
<li class="chapter" data-level="4.7.3" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#cluster-detection-algorithms"><i class="fa fa-check"></i><b>4.7.3</b> Cluster Detection Algorithms</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="exploratory-network-analysis.html"><a href="exploratory-network-analysis.html#case-study"><i class="fa fa-check"></i><b>4.8</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html"><i class="fa fa-check"></i><b>5</b> Quantifying Uncertainty</a>
<ul>
<li class="chapter" data-level="5.1" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#a-general-approach-to-uncertainty"><i class="fa fa-check"></i><b>5.1</b> A General Approach to Uncertainty</a></li>
<li class="chapter" data-level="5.2" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#missing-at-random"><i class="fa fa-check"></i><b>5.2</b> Missing at Random</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#nodes-missing-at-random"><i class="fa fa-check"></i><b>5.2.1</b> Nodes Missing at Random</a></li>
<li class="chapter" data-level="5.2.2" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#edges-missing-at-random"><i class="fa fa-check"></i><b>5.2.2</b> Edges Missing at Random</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#assessing-indivdiual-nodesedges"><i class="fa fa-check"></i><b>5.3</b> Assessing Indivdiual Nodes/Edges</a></li>
<li class="chapter" data-level="5.4" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#missing-due-to-biased-sampling"><i class="fa fa-check"></i><b>5.4</b> Missing Due to Biased Sampling</a></li>
<li class="chapter" data-level="5.5" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#edge-probability-modeling"><i class="fa fa-check"></i><b>5.5</b> Edge Probability Modeling</a></li>
<li class="chapter" data-level="5.6" data-path="quantifying-uncertainty.html"><a href="quantifying-uncertainty.html#small-or-variable-sample-size"><i class="fa fa-check"></i><b>5.6</b> Small or Variable Sample Size</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="network-visualization.html"><a href="network-visualization.html"><i class="fa fa-check"></i><b>6</b> Network Visualization</a>
<ul>
<li class="chapter" data-level="6.1" data-path="network-visualization.html"><a href="network-visualization.html#datasets-and-r-setup"><i class="fa fa-check"></i><b>6.1</b> Datasets and R Setup</a></li>
<li class="chapter" data-level="6.2" data-path="network-visualization.html"><a href="network-visualization.html#visualizing-networks-in-r"><i class="fa fa-check"></i><b>6.2</b> Visualizing Networks in R</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="network-visualization.html"><a href="network-visualization.html#networkstatnet"><i class="fa fa-check"></i><b>6.2.1</b> network/statnet</a></li>
<li class="chapter" data-level="6.2.2" data-path="network-visualization.html"><a href="network-visualization.html#igraph"><i class="fa fa-check"></i><b>6.2.2</b> igraph</a></li>
<li class="chapter" data-level="6.2.3" data-path="network-visualization.html"><a href="network-visualization.html#ggraph"><i class="fa fa-check"></i><b>6.2.3</b> ggraph</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="network-visualization.html"><a href="network-visualization.html#network-visualization-options"><i class="fa fa-check"></i><b>6.3</b> Network Visualization Options</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="network-visualization.html"><a href="network-visualization.html#graph-layout"><i class="fa fa-check"></i><b>6.3.1</b> Graph Layout</a></li>
<li class="chapter" data-level="6.3.2" data-path="network-visualization.html"><a href="network-visualization.html#node-and-edge-options"><i class="fa fa-check"></i><b>6.3.2</b> Node and Edge Options</a></li>
<li class="chapter" data-level="6.3.3" data-path="network-visualization.html"><a href="network-visualization.html#label-options"><i class="fa fa-check"></i><b>6.3.3</b> Label Options</a></li>
<li class="chapter" data-level="6.3.4" data-path="network-visualization.html"><a href="network-visualization.html#be-kind-to-the-color-blind"><i class="fa fa-check"></i><b>6.3.4</b> Be Kind to the Color Blind</a></li>
<li class="chapter" data-level="6.3.5" data-path="network-visualization.html"><a href="network-visualization.html#communities-and-groups"><i class="fa fa-check"></i><b>6.3.5</b> Communities and Groups</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="network-visualization.html"><a href="network-visualization.html#replicating-the-book-figures"><i class="fa fa-check"></i><b>6.4</b> Replicating the Book Figures</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_1"><i class="fa fa-check"></i><b>6.4.1</b> Figure 6.1: Manual Layout</a></li>
<li class="chapter" data-level="6.4.2" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_2"><i class="fa fa-check"></i><b>6.4.2</b> Figure 6.2: Examples of Common Network Plot Formats</a></li>
<li class="chapter" data-level="6.4.3" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_3"><i class="fa fa-check"></i><b>6.4.3</b> Figure 6.3: Examples of Rare Network Plot Formats</a></li>
<li class="chapter" data-level="6.4.4" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_4"><i class="fa fa-check"></i><b>6.4.4</b> Figure 6.4: Simple Network with Clusters</a></li>
<li class="chapter" data-level="6.4.5" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_5"><i class="fa fa-check"></i><b>6.4.5</b> Figure 6.5: Interactive Layout</a></li>
<li class="chapter" data-level="6.4.6" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_6"><i class="fa fa-check"></i><b>6.4.6</b> Figure 6.6: Absolute Geographic Layout</a></li>
<li class="chapter" data-level="6.4.7" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_7"><i class="fa fa-check"></i><b>6.4.7</b> Figure 6.7: Distorted Geographic Layout</a></li>
<li class="chapter" data-level="6.4.8" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_8"><i class="fa fa-check"></i><b>6.4.8</b> Figure 6.8: Graph Layout Algorithms</a></li>
<li class="chapter" data-level="6.4.9" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_9"><i class="fa fa-check"></i><b>6.4.9</b> Figure 6.9: Heirarchical Graph Layouts</a></li>
<li class="chapter" data-level="6.4.10" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_10"><i class="fa fa-check"></i><b>6.4.10</b> Figure 6.10: Be kind to the color blind</a></li>
<li class="chapter" data-level="6.4.11" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_11"><i class="fa fa-check"></i><b>6.4.11</b> Figure 6.11: Node Symbol and Color Schemes</a></li>
<li class="chapter" data-level="6.4.12" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_12"><i class="fa fa-check"></i><b>6.4.12</b> Figure 6.12: Image for Node</a></li>
<li class="chapter" data-level="6.4.13" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_13"><i class="fa fa-check"></i><b>6.4.13</b> Figure 6.13: Images for Nodes</a></li>
<li class="chapter" data-level="6.4.14" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_14"><i class="fa fa-check"></i><b>6.4.14</b> Figure 6.14: Edge Thickness and Color</a></li>
<li class="chapter" data-level="6.4.15" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_15"><i class="fa fa-check"></i><b>6.4.15</b> Figure 6.15: Edge Direction</a></li>
<li class="chapter" data-level="6.4.16" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_16"><i class="fa fa-check"></i><b>6.4.16</b> Figure 6.16: Edge Binarization</a></li>
<li class="chapter" data-level="6.4.17" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_17"><i class="fa fa-check"></i><b>6.4.17</b> Figure 6.17: Edge Bundling</a></li>
<li class="chapter" data-level="6.4.18" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_18"><i class="fa fa-check"></i><b>6.4.18</b> Figure 6.18: Group-in-a-box</a></li>
<li class="chapter" data-level="6.4.19" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_19"><i class="fa fa-check"></i><b>6.4.19</b> Figure 6.19: Weighted Adjacency Matrix</a></li>
<li class="chapter" data-level="6.4.20" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_20"><i class="fa fa-check"></i><b>6.4.20</b> Figure 6.20: Nodetrix Diagram</a></li>
<li class="chapter" data-level="6.4.21" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_21"><i class="fa fa-check"></i><b>6.4.21</b> Figure 6.21: The Filmstrip Approach</a></li>
<li class="chapter" data-level="6.4.22" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_22"><i class="fa fa-check"></i><b>6.4.22</b> Figure 6.22: Similtaneous Display</a></li>
<li class="chapter" data-level="6.4.23" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_23"><i class="fa fa-check"></i><b>6.4.23</b> Figure 6:23: Timelines and Time Prisms</a></li>
<li class="chapter" data-level="6.4.24" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_24"><i class="fa fa-check"></i><b>6.4.24</b> Figure 6.24: Animation</a></li>
<li class="chapter" data-level="6.4.25" data-path="network-visualization.html"><a href="network-visualization.html#Figure_6_25"><i class="fa fa-check"></i><b>6.4.25</b> Figure 6.25: Interactive Networks</a></li>
<li class="chapter" data-level="6.4.26" data-path="network-visualization.html"><a href="network-visualization.html#figure-6.26-swsn-example-1"><i class="fa fa-check"></i><b>6.4.26</b> Figure 6.26: SWSN Example 1</a></li>
<li class="chapter" data-level="6.4.27" data-path="network-visualization.html"><a href="network-visualization.html#figure-6.27-swsn-example-2"><i class="fa fa-check"></i><b>6.4.27</b> Figure 6.27: SWSN Example 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="spatial-networks.html"><a href="spatial-networks.html"><i class="fa fa-check"></i><b>7</b> Spatial Networks</a>
<ul>
<li class="chapter" data-level="7.1" data-path="spatial-networks.html"><a href="spatial-networks.html#dataset-and-setup"><i class="fa fa-check"></i><b>7.1</b> Dataset and Setup</a></li>
<li class="chapter" data-level="7.2" data-path="spatial-networks.html"><a href="spatial-networks.html#planar-networks-and-trees"><i class="fa fa-check"></i><b>7.2</b> Planar Networks and Trees</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="spatial-networks.html"><a href="spatial-networks.html#evaluating-planarity"><i class="fa fa-check"></i><b>7.2.1</b> Evaluating Planarity</a></li>
<li class="chapter" data-level="7.2.2" data-path="spatial-networks.html"><a href="spatial-networks.html#defining-trees"><i class="fa fa-check"></i><b>7.2.2</b> Defining Trees</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="spatial-networks.html"><a href="spatial-networks.html#spatial-network-models"><i class="fa fa-check"></i><b>7.3</b> Spatial Network Models</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="spatial-networks.html"><a href="spatial-networks.html#relative-neighborhood-networks"><i class="fa fa-check"></i><b>7.3.1</b> Relative Neighborhood Networks</a></li>
<li class="chapter" data-level="7.3.2" data-path="spatial-networks.html"><a href="spatial-networks.html#gabriel-graphs"><i class="fa fa-check"></i><b>7.3.2</b> Gabriel Graphs</a></li>
<li class="chapter" data-level="7.3.3" data-path="spatial-networks.html"><a href="spatial-networks.html#beta-skeletons"><i class="fa fa-check"></i><b>7.3.3</b> Beta Skeletons</a></li>
<li class="chapter" data-level="7.3.4" data-path="spatial-networks.html"><a href="spatial-networks.html#minimum-spanning-trees"><i class="fa fa-check"></i><b>7.3.4</b> Minimum Spanning Trees</a></li>
<li class="chapter" data-level="7.3.5" data-path="spatial-networks.html"><a href="spatial-networks.html#delaunay-triangulation"><i class="fa fa-check"></i><b>7.3.5</b> Delaunay Triangulation</a></li>
<li class="chapter" data-level="7.3.6" data-path="spatial-networks.html"><a href="spatial-networks.html#k-nearest-neighbors"><i class="fa fa-check"></i><b>7.3.6</b> K-nearest Neighbors</a></li>
<li class="chapter" data-level="7.3.7" data-path="spatial-networks.html"><a href="spatial-networks.html#maximum-distance-networks"><i class="fa fa-check"></i><b>7.3.7</b> Maximum Distance Networks</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="spatial-networks.html"><a href="spatial-networks.html#case-studies"><i class="fa fa-check"></i><b>7.4</b> Case Studies</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="spatial-networks.html"><a href="spatial-networks.html#proximity-of-iron-age-sites-in-southern-spain"><i class="fa fa-check"></i><b>7.4.1</b> Proximity of Iron Age sites in Southern Spain</a></li>
<li class="chapter" data-level="7.4.2" data-path="spatial-networks.html"><a href="spatial-networks.html#networks-in-space-in-the-u.s.-southwest"><i class="fa fa-check"></i><b>7.4.2</b> Networks in Space in the U.S. Southwest</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-and-r-packages.html"><a href="references-and-r-packages.html"><i class="fa fa-check"></i>References and R Packages</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Online Companion to <em>Archaeological Network Science</em> by Brughmans and Peeples</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="NetworkData" class="section level1" number="3">
<h1><span class="header-section-number">Section 3</span> Network Data</h1>
<p>This section provides examples of many of the most common network formats and data types discussed in Chapter 3 of Brughmans and Peeples 2022. For most of the examples below we use the Cibola technological similarity network dataset (described in Chapter 2.8.3) because it is relatively small and easy to display in a variety of formats.</p>
<div id="network-data-formats" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Network Data Formats</h2>
<p>This section follows Chapter 3.2 in Brughmans and Peeples (2022) to provide examples of the same network and attribute data in a variety of different data formats as well as code for converting among these formats in R. In these examples we will primarily be using the “igraph” package but will also provide examples using the “statnet” suite of packages (which includes “network,” “sna,” “ergm,” and others). In order to be clear on which package we are using where we will use the package name in the function call (i.e., igraph::function_name or sna::function_name). See section 3.2 for more information.</p>
<p>Let’s first get started by initializing all of the packages we will use in this section.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="NetworkData.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize packages</span></span>
<span id="cb6-2"><a href="NetworkData.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb6-3"><a href="NetworkData.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statnet)</span>
<span id="cb6-4"><a href="NetworkData.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(intergraph)</span>
<span id="cb6-5"><a href="NetworkData.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb6-6"><a href="NetworkData.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multinet)</span></code></pre></div>
<div id="Edgelist" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Edge List</h3>
<p>The edge list is a very quick and easy way to capture network data. It simply lists the edges in the network one by one by node id: E=((n1,n2),(n1,n3),(n1,n4),…,(ni,nj)). For the purposes of data management it is usually easiest to create an edge list as a data frame or matrix where each row represents a pair of nodes with connections going from the node in one column to the node in the second column (additional columns can be used for edge weight or other edge attributes).</p>
<p>In this example, we import the Cibola dataset in this format as a data frame and then convert it to a network object for further analysis. You can download the <a href="data/Cibola_edgelist.csv">edgelist file here</a> to follow along on your own. Since the edges in this network are undirected this will be a simple binary network, and we will use the “directed=FALSE” argument in the igraph::graph_from_edgelist function call.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="NetworkData.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe</span></span>
<span id="cb7-2"><a href="NetworkData.html#cb7-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>) </span>
<span id="cb7-3"><a href="NetworkData.html#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="NetworkData.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the first several rows</span></span>
<span id="cb7-5"><a href="NetworkData.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Cibola_edgelist) </span></code></pre></div>
<pre><code>##           FROM                   TO
## 1 Apache Creek         Casa Malpais
## 2 Apache Creek         Coyote Creek
## 3 Apache Creek         Hooper Ranch
## 4 Apache Creek      Horse Camp Mill
## 5 Apache Creek        Hubble Corner
## 6 Apache Creek Mineral Creek Pueblo</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="NetworkData.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create graph object. The dataframe is converted to a matrix as that is required </span></span>
<span id="cb9-2"><a href="NetworkData.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># by this specific function. Since this is an undirected network directed = FALSE.</span></span>
<span id="cb9-3"><a href="NetworkData.html#cb9-3" aria-hidden="true" tabindex="-1"></a>Cibola_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist), <span class="at">directed=</span><span class="cn">FALSE</span>)</span>
<span id="cb9-4"><a href="NetworkData.html#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="NetworkData.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Display igraph network object and then plot a simple node-link diagram</span></span>
<span id="cb9-6"><a href="NetworkData.html#cb9-6" aria-hidden="true" tabindex="-1"></a>Cibola_net</span></code></pre></div>
<pre><code>## IGRAPH c884894 UN-- 30 167 -- 
## + attr: name (v/c)
## + edges from c884894 (vertex names):
##  [1] Apache Creek--Casa Malpais          Apache Creek--Coyote Creek         
##  [3] Apache Creek--Hooper Ranch          Apache Creek--Horse Camp Mill      
##  [5] Apache Creek--Hubble Corner         Apache Creek--Mineral Creek Pueblo 
##  [7] Apache Creek--Rudd Creek Ruin       Apache Creek--Techado Springs      
##  [9] Apache Creek--Tri-R Pueblo          Apache Creek--UG481                
## [11] Apache Creek--UG494                 Atsinna     --Cienega              
## [13] Atsinna     --Los Gigantes          Atsinna     --Mirabal              
## [15] Atsinna     --Ojo Bonito            Atsinna     --Pueblo de los Muertos
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="NetworkData.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3523</span>) <span class="co"># set random seed to ensure graph layout stays the same each time.</span></span>
<span id="cb11-2"><a href="NetworkData.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_net)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="adjacency-list" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Adjacency List</h3>
<p>The adjacency list consists of a set of rows, where the first node in each row is connected to all subsequent nodes in that same row. It is therefore more concise than the edge list (in which each relationship has its own row), but unlike the edge list it does not result in rows of equal length (each row in an edge list typically has two values, representing the pair of nodes). Adjacency lists are relatively rare in practice but can sometimes be useful formats for directly gathering network data in small networks and are supported by many network analysis software packages.</p>
<p>In the following chunk of code, we convert the network object we created above into an adjacency list and examine a couple of the rows.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="NetworkData.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert edge list to adjacency list using igraph function</span></span>
<span id="cb12-2"><a href="NetworkData.html#cb12-2" aria-hidden="true" tabindex="-1"></a>adj_list <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_adj_edge_list</span>(Cibola_net)</span>
<span id="cb12-3"><a href="NetworkData.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="NetworkData.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># examine adjacency list for the site Apache Creek</span></span>
<span id="cb12-5"><a href="NetworkData.html#cb12-5" aria-hidden="true" tabindex="-1"></a>adj_list<span class="sc">$</span><span class="st">`</span><span class="at">Apache Creek</span><span class="st">`</span></span></code></pre></div>
<pre><code>## + 11/167 edges from c884894 (vertex names):
##  [1] Apache Creek--Casa Malpais         Apache Creek--Coyote Creek        
##  [3] Apache Creek--Hooper Ranch         Apache Creek--Horse Camp Mill     
##  [5] Apache Creek--Hubble Corner        Apache Creek--Mineral Creek Pueblo
##  [7] Apache Creek--Rudd Creek Ruin      Apache Creek--Techado Springs     
##  [9] Apache Creek--Tri-R Pueblo         Apache Creek--UG481               
## [11] Apache Creek--UG494</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="NetworkData.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># It is also possible to call specific nodes by number. In this case,</span></span>
<span id="cb14-2"><a href="NetworkData.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># site 2 is Casa Malpais</span></span>
<span id="cb14-3"><a href="NetworkData.html#cb14-3" aria-hidden="true" tabindex="-1"></a>adj_list[[<span class="dv">2</span>]] </span></code></pre></div>
<pre><code>## + 11/167 edges from c884894 (vertex names):
##  [1] Apache Creek--Casa Malpais    Casa Malpais--Coyote Creek   
##  [3] Casa Malpais--Hooper Ranch    Casa Malpais--Horse Camp Mill
##  [5] Casa Malpais--Hubble Corner   Casa Malpais--Rudd Creek Ruin
##  [7] Casa Malpais--Techado Springs Casa Malpais--Tri-R Pueblo   
##  [9] Casa Malpais--UG481           Casa Malpais--Garcia Ranch   
## [11] Casa Malpais--Hinkson</code></pre>
<p>The output for a particular node can be called by either referencing the name using the “$” call or by using
“[[k]]” brackets where k is the row number of the node in question. The printed output is essentially a list of all of the edges incident on the node in question identified by the name of the sending and receiving node. Notice that the edge from Apache Creek–Casa Malpais shows up in both adjacency lists. That is because this is an undirected network so each pair of connected sites will be listed in each adjacency list.</p>
</div>
<div id="adjacency-matrix" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Adjacency Matrix</h3>
<p>The adjacency matrix is perhaps the most common and versatile network data format for data analysis in network science (in sociology it is sometimes referred to as the sociomatrix). It is a symmetric matrix of size n x n, with a set of rows and columns denoting the nodes in that network. The node names or identifiers are typically used to label both rows and columns. When a pair of nodes is connected by an edge (i.e. when they are adjacent), the corresponding cell will have an entry. The diagonal of this matrix represents “self loops” and can variously be defined as connected or unconnected depending on the application.</p>
<p>We can obtain an adjacency matrix object in R by converting our network object created above or by reading in a file directly with rows and columns denoting site and with 0 or 1 denoting the presence or absence of a relation. You can download the csv file to follow along on your own <a href="data/Cibola_adj.csv">here</a>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="NetworkData.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to adjacency matrix then display</span></span>
<span id="cb16-2"><a href="NetworkData.html#cb16-2" aria-hidden="true" tabindex="-1"></a>adj_mat <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_adjacency_matrix</span>(Cibola_net)</span>
<span id="cb16-3"><a href="NetworkData.html#cb16-3" aria-hidden="true" tabindex="-1"></a>adj_mat</span></code></pre></div>
<pre><code>## 30 x 30 sparse Matrix of class &quot;dgCMatrix&quot;
##                                                                                
## Apache Creek          . 1 1 1 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . .
## Casa Malpais          1 . 1 1 1 1 . 1 1 1 1 . . . . . . . . . . . 1 1 . . . . .
## Coyote Creek          1 1 . 1 1 1 1 1 1 1 1 . . . . . . . . . . . 1 . . . . . .
## Hooper Ranch          1 1 1 . 1 1 1 1 1 1 1 1 . . . . . . . . . . . . . . . . .
## Horse Camp Mill       1 1 1 1 . 1 1 1 1 1 1 . . . . . . . . . . . 1 1 . . . . .
## Hubble Corner         1 1 1 1 1 . 1 1 1 1 1 1 . . . . . . . . . . . 1 . . . . 1
## Mineral Creek Pueblo  1 . 1 1 1 1 . 1 . 1 1 1 . . . . . . . . . . 1 1 . . . . 1
## Rudd Creek Ruin       1 1 1 1 1 1 1 . 1 1 1 . . . . . . . . . . . 1 1 . . . . .
## Techado Springs       1 1 1 1 1 1 . 1 . 1 1 . . . . . . . . . . . . . . . . . .
## Tri-R Pueblo          1 1 1 1 1 1 1 1 1 . 1 1 . . . . . . . . . . . 1 . . . . 1
## UG481                 1 1 1 1 1 1 1 1 1 1 . 1 . . . . . . . . . . 1 1 . . . . 1
## UG494                 1 . . 1 . 1 1 . . 1 1 . . . . . . . . . . . . . . . . . .
## Atsinna               . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 . . . . . . . .
## Cienega               . . . . . . . . . . . . 1 . 1 1 1 1 1 1 1 . . 1 1 1 1 1 .
## Los Gigantes          . . . . . . . . . . . . 1 1 . 1 1 1 1 1 1 . . . 1 1 1 1 .
## Mirabal               . . . . . . . . . . . . 1 1 1 . 1 1 1 1 1 . . 1 1 1 1 1 .
## Ojo Bonito            . . . . . . . . . . . . 1 1 1 1 . 1 1 1 1 1 1 1 1 1 1 . .
## Pueblo de los Muertos . . . . . . . . . . . . 1 1 1 1 1 . 1 1 1 . . . 1 . 1 . .
## Scribe S              . . . . . . . . . . . . 1 1 1 1 1 1 . 1 1 . 1 1 1 . 1 1 .
## Spier 170             . . . . . . . . . . . . 1 1 1 1 1 1 1 . 1 . . 1 1 1 1 1 .
## Tinaja                . . . . . . . . . . . . 1 1 1 1 1 1 1 1 . . 1 1 1 1 1 1 .
## Baca Pueblo           . . . . . . . . . . . . . . . . 1 . . . . . . . . . . . .
## Garcia Ranch          . 1 1 . 1 . 1 1 . . 1 . . . . . 1 . 1 . 1 . . 1 1 . . . 1
## Hinkson               . 1 . . 1 1 1 1 . 1 1 . . 1 . 1 1 . 1 1 1 . 1 . 1 1 . . 1
## Heshotauthla          . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 . 1 1 . 1 1 1 .
## Jarlosa               . . . . . . . . . . . . . 1 1 1 1 . . 1 1 . . 1 1 . 1 1 .
## Pescado Cluster       . . . . . . . . . . . . . 1 1 1 1 1 1 1 1 . . . 1 1 . 1 .
## Yellowhouse           . . . . . . . . . . . . . 1 1 1 . . 1 1 1 . . . 1 1 1 . .
## Foote Canyon          . . . . . 1 1 . . 1 1 . . . . . . . . . . . 1 1 . . . . .
## Platt Ranch           . . . . . . . . . . . . . . . . . . . . . . 1 1 1 1 . 1 .
##                        
## Apache Creek          .
## Casa Malpais          .
## Coyote Creek          .
## Hooper Ranch          .
## Horse Camp Mill       .
## Hubble Corner         .
## Mineral Creek Pueblo  .
## Rudd Creek Ruin       .
## Techado Springs       .
## Tri-R Pueblo          .
## UG481                 .
## UG494                 .
## Atsinna               .
## Cienega               .
## Los Gigantes          .
## Mirabal               .
## Ojo Bonito            .
## Pueblo de los Muertos .
## Scribe S              .
## Spier 170             .
## Tinaja                .
## Baca Pueblo           .
## Garcia Ranch          1
## Hinkson               1
## Heshotauthla          1
## Jarlosa               1
## Pescado Cluster       .
## Yellowhouse           1
## Foote Canyon          .
## Platt Ranch           .</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="NetworkData.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in adjacency matrix and convert to network object for plotting</span></span>
<span id="cb18-2"><a href="NetworkData.html#cb18-2" aria-hidden="true" tabindex="-1"></a>adj_mat2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_adj.csv&quot;</span>, <span class="at">header=</span>T, <span class="at">row.names=</span><span class="dv">1</span>)</span>
<span id="cb18-3"><a href="NetworkData.html#cb18-3" aria-hidden="true" tabindex="-1"></a>Cibola_net2 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(adj_mat2), <span class="at">mode=</span><span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb18-4"><a href="NetworkData.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4352</span>)</span>
<span id="cb18-5"><a href="NetworkData.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_net2)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Note when you compare this network graph to the one produced based on the edge list there is an additional unconnected node (WS Ranch) that was not shown in the previous network. This is one of the advantages of an adjacency matrix is it provides a way of easily including unconnected nodes without having to manually add them or include self-loops.</p>
</div>
<div id="incidence-matrix" class="section level3" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Incidence Matrix</h3>
<p>An incidence matrix is most frequently used to define connections among different sets of nodes in a two-mode or bipartite network where the rows and columns represent two different classes of nodes and the presence/absence or value of an edge is indicated in the corresponding cell.</p>
<p>By way of example here we can read in the data that were used to generate the one-mode networks of ceramic technological similarity we have been examining so far. In the corresponding data frame, each row represents a site and each column represents a specific cluster of technological attributes in cooking pottery (see Peeples 2018, pg. 100-104 for more details) with the number in each cell representing the count of each technological cluster at each site.</p>
<p>After creating the network object we plot it as a simple two-mode network with color representing node class. We discuss plotting options in greater detail in the visualization section of this appendix.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="NetworkData.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in two-way table of sites and ceramic technological clusters</span></span>
<span id="cb19-2"><a href="NetworkData.html#cb19-2" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_clust.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">row.names=</span><span class="dv">1</span>)</span>
<span id="cb19-3"><a href="NetworkData.html#cb19-3" aria-hidden="true" tabindex="-1"></a>Cibola_clust</span></code></pre></div>
<pre><code>##                       Clust1 Clust2 Clust3 Clust4 Clust5 Clust6 Clust7 Clust8
## Apache Creek               7      3      6     16      6      1      1      2
## Atsinna                    0     12     26      5      0      1      6      0
## Baca Pueblo                0      9      3     12      1      2      5      0
## Casa Malpais               2     15      7     28     17     16      2      5
## Cienega                    2     28     34      2      0     10     11      0
## Coyote Creek              10     13      8     30     20      5      1      8
## Foote Canyon              12     21      1     12      8      8      3     15
## Garcia Ranch               2      8      6      4      6      4      1      0
## Heshotauthla               0     41     22      9      1     12      4      0
## Hinkson                    2     27     17     23      5     10      3      1
## Hooper Ranch              15      8      8     28     25      3      5      4
## Horse Camp Mill            9     13     13     38     18      4      4      4
## Hubble Corner             14     11      8     21      8      5      0      7
## Jarlosa                    0     17      7      1      0     10      4      0
## Los Gigantes               0     31     33      0      0      8      3      0
## Mineral Creek Pueblo      14     13     11     14      5      3      4      2
## Mirabal                    0     37     46      3      1     12      1      0
## Ojo Bonito                 0      9      5      3      0      2      3      0
## Pescado Cluster            1     59     49      4      2     13      0      0
## Platt Ranch                8     34     13      9      5     29      3      5
## Pueblo de los Muertos      0     31     49      4      0      7      3      0
## Rudd Creek Ruin            3      8      2     14      7      0      1      1
## Scribe S                   0     29     41     10      1      8      2      0
## Spier 170                  0     11      8      0      1      3      4      0
## Techado Springs            7      4      4     30     10      2      2      3
## Tinaja                     0     10     14      1      2      4      1      0
## Tri-R Pueblo              15      8      4     18      7      6      1      3
## UG481                     12     15     10     26     15      4      3      3
## UG494                      8      2      4      4      2      1      2      2
## WS Ranch                  15      8      1     23      8      0     22      3
## Yellowhouse                0      3      2      0      0      2      0      0
##                       Clust9 Clust10
## Apache Creek               0       0
## Atsinna                    7       0
## Baca Pueblo               16       1
## Casa Malpais               1       0
## Cienega                    5       1
## Coyote Creek               0       5
## Foote Canyon               1       1
## Garcia Ranch               0       0
## Heshotauthla               1       0
## Hinkson                    3       1
## Hooper Ranch               0       0
## Horse Camp Mill            3       0
## Hubble Corner              0       1
## Jarlosa                    2       0
## Los Gigantes               2       0
## Mineral Creek Pueblo       0       3
## Mirabal                    3       0
## Ojo Bonito                 4       0
## Pescado Cluster            1       0
## Platt Ranch                0       0
## Pueblo de los Muertos     11       0
## Rudd Creek Ruin            1       2
## Scribe S                   0       0
## Spier 170                  5       0
## Techado Springs            1       3
## Tinaja                     3       0
## Tri-R Pueblo               1       0
## UG481                      2       3
## UG494                      0       0
## WS Ranch                  17       4
## Yellowhouse                0       0</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="NetworkData.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert into a network object using the incidence matrix format. Note that </span></span>
<span id="cb21-2"><a href="NetworkData.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># multiple=TRUE as we want this defined as a bipartite network.</span></span>
<span id="cb21-3"><a href="NetworkData.html#cb21-3" aria-hidden="true" tabindex="-1"></a>Cibola_inc <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(Cibola_clust, <span class="at">directed=</span><span class="cn">FALSE</span>, <span class="at">multiple=</span><span class="cn">TRUE</span>)</span>
<span id="cb21-4"><a href="NetworkData.html#cb21-4" aria-hidden="true" tabindex="-1"></a>Cibola_inc</span></code></pre></div>
<pre><code>## IGRAPH c8d4b62 UN-B 41 2214 -- 
## + attr: type (v/l), name (v/c)
## + edges from c8d4b62 (vertex names):
##  [1] Apache Creek--Clust1 Apache Creek--Clust1 Apache Creek--Clust1
##  [4] Apache Creek--Clust1 Apache Creek--Clust1 Apache Creek--Clust1
##  [7] Apache Creek--Clust1 Apache Creek--Clust2 Apache Creek--Clust2
## [10] Apache Creek--Clust2 Apache Creek--Clust3 Apache Creek--Clust3
## [13] Apache Creek--Clust3 Apache Creek--Clust3 Apache Creek--Clust3
## [16] Apache Creek--Clust3 Apache Creek--Clust4 Apache Creek--Clust4
## [19] Apache Creek--Clust4 Apache Creek--Clust4 Apache Creek--Clust4
## [22] Apache Creek--Clust4 Apache Creek--Clust4 Apache Creek--Clust4
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="NetworkData.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4543</span>)</span>
<span id="cb23-2"><a href="NetworkData.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot as two-mode network</span></span>
<span id="cb23-3"><a href="NetworkData.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_inc, <span class="at">vertex.color =</span> <span class="fu">as.numeric</span>(<span class="fu">V</span>(Cibola_inc)<span class="sc">$</span>type)<span class="sc">+</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="node-and-edge-information" class="section level3" number="3.1.5">
<h3><span class="header-section-number">3.1.5</span> Node and Edge Information</h3>
<p>Frequently we want to use other information about nodes and edges (node location, site type, edge weight, etc.) in our analyses and need to track these data in a separate attribute object or data column. One common way to do this is to simply create a data frame that contains the required attribute information and call specific data from this data frame when needed. As the following example shows, it is also possible to directly assign attributes to nodes or edges in a graph object and use those for subsequent analyses using the “V()” for vertices (nodes) and “E()” for edges calls within igraph.</p>
<p>In the following example we use <a href="data/Cibola_attr.csv">this file</a> which includes basic attribute data by site (node) for all sites in the network we’ve been working with here. This file includes x and y coordinates for the sites, information on the presence/absence and shape of Great Kiva public architectural features at those sites, and the Region to which they have been assigned.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="NetworkData.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in attribute data and look at the first few rows.</span></span>
<span id="cb24-2"><a href="NetworkData.html#cb24-2" aria-hidden="true" tabindex="-1"></a>Cibola_attr <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_attr.csv&quot;</span>, <span class="at">header=</span>T)</span>
<span id="cb24-3"><a href="NetworkData.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Cibola_attr)</span></code></pre></div>
<pre><code>##           Site      x       y             Great.Kiva                Region
## 1 Apache Creek 724125 3747310 Rectangular Great Kiva    Mogollon Highlands
## 2      Atsinna 726741 3895499                   none       El Morro Valley
## 3  Baca Pueblo 651431 3797143                   none Upper Little Colorado
## 4 Casa Malpais 659021 3786211 Rectangular Great Kiva Upper Little Colorado
## 5      Cienega 738699 3887985                   none       El Morro Valley
## 6 Coyote Creek 671154 3780509 Rectangular Great Kiva Upper Little Colorado</code></pre>
<p>In order to assign an attribute to a particular node or edge we can use the V and E (vertex and edge) calls in igraph. For example, in the following example, we will assign a region variable to each node in the network we created above using the V function to assign a vertex attribute. You simply type the name of the network object in the parenthesis after V and use the “$” atomic variable symbol to assign a name to the attribute that will be associated with that network object.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="NetworkData.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign a variable called &quot;region&quot; to the Cibola_net2 based on the</span></span>
<span id="cb26-2"><a href="NetworkData.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># column in the Cibola_attr table called &quot;Region&quot;</span></span>
<span id="cb26-3"><a href="NetworkData.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(Cibola_net2)<span class="sc">$</span>region <span class="ot">&lt;-</span> Cibola_attr<span class="sc">$</span>Region</span>
<span id="cb26-4"><a href="NetworkData.html#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="NetworkData.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># If we now call that attribute we get a vector listing each assigned value</span></span>
<span id="cb26-6"><a href="NetworkData.html#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(Cibola_net2)<span class="sc">$</span>region</span></code></pre></div>
<pre><code>##  [1] &quot;Mogollon Highlands&quot;    &quot;El Morro Valley&quot;       &quot;Upper Little Colorado&quot;
##  [4] &quot;Upper Little Colorado&quot; &quot;El Morro Valley&quot;       &quot;Upper Little Colorado&quot;
##  [7] &quot;Mogollon Highlands&quot;    &quot;Carrizo Wash&quot;          &quot;Pescado Basin&quot;        
## [10] &quot;West Zuni&quot;             &quot;Upper Little Colorado&quot; &quot;Mariana Mesa&quot;         
## [13] &quot;Mariana Mesa&quot;          &quot;West Zuni&quot;             &quot;El Morro Valley&quot;      
## [16] &quot;Vernon Area&quot;           &quot;El Morro Valley&quot;       &quot;West Zuni&quot;            
## [19] &quot;Pescado Basin&quot;         &quot;Carrizo Wash&quot;          &quot;El Morro Valley&quot;      
## [22] &quot;Upper Little Colorado&quot; &quot;El Morro Valley&quot;       &quot;West Zuni&quot;            
## [25] &quot;Mariana Mesa&quot;          &quot;El Morro Valley&quot;       &quot;Mariana Mesa&quot;         
## [28] &quot;Mariana Mesa&quot;          &quot;Mariana Mesa&quot;          &quot;Mogollon Highlands&quot;   
## [31] &quot;Pescado Basin&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="NetworkData.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This can further be used for plotting or other analyses by calling the variable as a factor</span></span>
<span id="cb28-2"><a href="NetworkData.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">43534</span>)</span>
<span id="cb28-3"><a href="NetworkData.html#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_net2, <span class="at">vertex.color=</span><span class="fu">as.factor</span>(<span class="fu">V</span>(Cibola_net2)<span class="sc">$</span>region))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</div>
<div id="types-of-networks" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Types of Networks</h2>
<p>This section roughly follows Brughmans and Peeples (2022) Chapter 3.3 to describe and provide examples in R format of many of the most common types of networks. In the examples below we will use the igraph R package but we also show how to use the statnet and network packages where applicable.</p>
<div id="simple-networks" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Simple Networks</h3>
<p>Simple networks are unweighted and undirected one-mode networks. By way of example we will use the Cibola region <a href="data/Cibola_adj.csv">adjacency matrix file</a> and convert it into a simple network using both igraph and statnet/network. Notice how in both examples we specify that this is an undirected network (mode=“undirected” and directed=FALSE).</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="NetworkData.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in raw adjacency matrix file</span></span>
<span id="cb29-2"><a href="NetworkData.html#cb29-2" aria-hidden="true" tabindex="-1"></a>adj_mat2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_adj.csv&quot;</span>, <span class="at">header=</span>T, <span class="at">row.names=</span><span class="dv">1</span>)</span>
<span id="cb29-3"><a href="NetworkData.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="NetworkData.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to a network object using igraph</span></span>
<span id="cb29-5"><a href="NetworkData.html#cb29-5" aria-hidden="true" tabindex="-1"></a>simple_net_i <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(<span class="fu">as.matrix</span>(adj_mat2), <span class="at">mode=</span><span class="st">&quot;undirected&quot;</span>)</span>
<span id="cb29-6"><a href="NetworkData.html#cb29-6" aria-hidden="true" tabindex="-1"></a>simple_net_i</span></code></pre></div>
<pre><code>## IGRAPH c9b8786 UN-- 31 167 -- 
## + attr: name (v/c)
## + edges from c9b8786 (vertex names):
##  [1] Apache.Creek--Casa.Malpais          Apache.Creek--Coyote.Creek         
##  [3] Apache.Creek--Hooper.Ranch          Apache.Creek--Horse.Camp.Mill      
##  [5] Apache.Creek--Hubble.Corner         Apache.Creek--Mineral.Creek.Pueblo 
##  [7] Apache.Creek--Rudd.Creek.Ruin       Apache.Creek--Techado.Springs      
##  [9] Apache.Creek--Tri.R.Pueblo          Apache.Creek--UG481                
## [11] Apache.Creek--UG494                 Atsinna     --Cienega              
## [13] Atsinna     --Los.Gigantes          Atsinna     --Mirabal              
## [15] Atsinna     --Ojo.Bonito            Atsinna     --Pueblo.de.los.Muertos
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="NetworkData.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Covert to a network object using statnet/network</span></span>
<span id="cb31-2"><a href="NetworkData.html#cb31-2" aria-hidden="true" tabindex="-1"></a>simple_net_s <span class="ot">&lt;-</span> network<span class="sc">::</span><span class="fu">network</span>(<span class="fu">as.matrix</span>(adj_mat2), <span class="at">directed=</span><span class="cn">FALSE</span>)</span>
<span id="cb31-3"><a href="NetworkData.html#cb31-3" aria-hidden="true" tabindex="-1"></a>simple_net_s</span></code></pre></div>
<pre><code>##  Network attributes:
##   vertices = 31 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 167 
##     missing edges= 0 
##     non-missing edges= 167 
## 
##  Vertex attribute names: 
##     vertex.names 
## 
## No edge attributes</code></pre>
<p>Notice how the two formats differ in the way they internally store network data in R and the way they print output to the screen but that both show a total of 31 nodes (vertices) and 167 edges (for the igraph object the first row specifies node and edge numbers between the – marks).</p>
</div>
<div id="directed-networks" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Directed Networks</h3>
<p>Sometimes relationships are directional, meaning they have an orientation. For example, the flow of a river is directed downstream. In such cases we can incorporate this information in our network data by distinguishing between the source and the target of an edge.</p>
<p>By way of example here we will modify the Cibola network edge list to remove some number of edges at random to simulate directed network data. We will then convert these data into various network and matrix formats to illustrate how directed networks are stored and used in R.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="NetworkData.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe</span></span>
<span id="cb33-2"><a href="NetworkData.html#cb33-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>) </span>
<span id="cb33-3"><a href="NetworkData.html#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="NetworkData.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a random sub-sample of 125 edges out of the total 167 using the &quot;sample&quot; function</span></span>
<span id="cb33-5"><a href="NetworkData.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">45325</span>)</span>
<span id="cb33-6"><a href="NetworkData.html#cb33-6" aria-hidden="true" tabindex="-1"></a>EL2 <span class="ot">&lt;-</span> Cibola_edgelist[<span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>,<span class="fu">nrow</span>(Cibola_edgelist)), <span class="dv">125</span>, <span class="at">replace=</span><span class="cn">FALSE</span>),]</span>
<span id="cb33-7"><a href="NetworkData.html#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="NetworkData.html#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create graph object from the edge list using the directed=TRUE argument</span></span>
<span id="cb33-9"><a href="NetworkData.html#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co"># to ensure this is treated as a directed network object.</span></span>
<span id="cb33-10"><a href="NetworkData.html#cb33-10" aria-hidden="true" tabindex="-1"></a>directed_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(EL2), <span class="at">directed=</span><span class="cn">TRUE</span>)</span>
<span id="cb33-11"><a href="NetworkData.html#cb33-11" aria-hidden="true" tabindex="-1"></a>directed_net</span></code></pre></div>
<pre><code>## IGRAPH c9c1a20 DN-- 30 125 -- 
## + attr: name (v/c)
## + edges from c9c1a20 (vertex names):
##  [1] Coyote Creek   -&gt;Techado Springs      
##  [2] Hubble Corner  -&gt;Tri-R Pueblo         
##  [3] Hubble Corner  -&gt;Techado Springs      
##  [4] Heshotauthla   -&gt;Pueblo de los Muertos
##  [5] Rudd Creek Ruin-&gt;Techado Springs      
##  [6] Heshotauthla   -&gt;Hinkson              
##  [7] Los Gigantes   -&gt;Yellowhouse          
##  [8] Los Gigantes   -&gt;Pueblo de los Muertos
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="NetworkData.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View as adjacency matrix of direted network object</span></span>
<span id="cb35-2"><a href="NetworkData.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as_adjacency_matrix</span>(directed_net)</span></code></pre></div>
<pre><code>## 30 x 30 sparse Matrix of class &quot;dgCMatrix&quot;
##                                                                                
## Coyote Creek          . 1 1 . . . 1 . . . . . 1 . . . . . . . . 1 . . . . . . 1
## Techado Springs       . . . 1 . . . . . . . . . . . . . . . . . . . . . . . . 1
## Hubble Corner         . 1 . 1 . . 1 . . . . . . . . . . . . 1 . . . . . . . . 1
## Tri-R Pueblo          . . . . . . . . . . . . . . . . . 1 . . . . . . . . . . 1
## Heshotauthla          . . . . . 1 . 1 1 1 1 1 . . 1 . 1 . 1 . 1 . . . . . . 1 .
## Pueblo de los Muertos . . . . . . . . . . . . . . . . . . 1 . . . . . . . . . .
## Rudd Creek Ruin       . 1 . 1 . . . . . . . . . . . . . . . . . . . . . . . . 1
## Hinkson               . . . 1 . . 1 . . . 1 1 . . . . . . . 1 1 1 . . 1 . . 1 .
## Los Gigantes          . . . . . 1 . . . 1 . 1 . . 1 . . . . . . . . . . . . 1 .
## Yellowhouse           . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
## Mirabal               . . . . . 1 . . . 1 . 1 . . 1 . 1 . 1 . . . . . . . . 1 .
## Scribe S              . . . . . . . . . 1 . . . . . . . . 1 . . . . . . . . . .
## Hooper Ranch          . 1 1 1 . . 1 . . . . . . . . . . . . 1 . 1 . . . . . . 1
## Cienega               . . . . 1 . . 1 . 1 1 . . . 1 . 1 . 1 . . . . . . . . . .
## Spier 170             . . . . . . . . . 1 . . . . . . . . 1 . . . . . . . . . .
## Garcia Ranch          . . . . 1 . 1 1 . . . 1 . . . . . . 1 1 . 1 . . 1 . . . 1
## Pescado Cluster       . . . . . . . . . 1 . 1 . . 1 . . . 1 . . . . . . . . . .
## UG494                 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
## Tinaja                . . . . . . . . . 1 . . . . . . . . . . . . . . . . . . .
## Mineral Creek Pueblo  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
## Jarlosa               . . . . . . . . 1 1 1 . . . 1 . . . . . . . . . . . . 1 .
## Horse Camp Mill       . 1 1 1 . . . . . . . . . . . . . . . . . . . . . . . . 1
## Foote Canyon          . . 1 . . . . . . . . . . . . 1 . . . 1 . . . . . . . . 1
## Casa Malpais          . . 1 . . . 1 1 . . . . 1 . . 1 . . . . . 1 . . . . . . 1
## Platt Ranch           . . . . . . . . . 1 . . . . . . . . . . . . . . . . . . .
## Apache Creek          1 1 . . . . 1 . . . . . . . . . . 1 . 1 . 1 . 1 . . . . .
## Atsinna               . . . . . 1 . . 1 . 1 1 . 1 1 . . . 1 . . . . . . . . . .
## Ojo Bonito            . . . . . 1 . . . . . 1 . . 1 . 1 . . . . . . . . . . . .
## UG481                 . . . . . . . . . . . . . . . . . 1 . . . . . . . . . . .
## Baca Pueblo           . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 .
##                        
## Coyote Creek          .
## Techado Springs       .
## Hubble Corner         .
## Tri-R Pueblo          .
## Heshotauthla          .
## Pueblo de los Muertos .
## Rudd Creek Ruin       .
## Hinkson               .
## Los Gigantes          .
## Yellowhouse           .
## Mirabal               .
## Scribe S              .
## Hooper Ranch          .
## Cienega               .
## Spier 170             .
## Garcia Ranch          .
## Pescado Cluster       .
## UG494                 .
## Tinaja                .
## Mineral Creek Pueblo  .
## Jarlosa               .
## Horse Camp Mill       .
## Foote Canyon          .
## Casa Malpais          .
## Platt Ranch           .
## Apache Creek          .
## Atsinna               .
## Ojo Bonito            .
## UG481                 .
## Baca Pueblo           .</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="NetworkData.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot network</span></span>
<span id="cb37-2"><a href="NetworkData.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4353</span>)</span>
<span id="cb37-3"><a href="NetworkData.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(directed_net)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Notice that when we look at the igraph network plot it has arrows indicating the direction of connection in the edge list. If you are making your own directed edge list, the sending node by default will be in the left column and the receiving node in the right column. In the adjacency matrix the upper and lower triangles are no longer identical. Again, if you are generating your own adjacency matrix, you can simply mark edges sent from nodes denoted as rows and edges received from the same nodes as columns. Finally, in the plot, since R recognizes this as a directed igraph object when we plot the network, it automatically shows arrows indicating the direction of the edge.</p>
</div>
<div id="signed-categorized-and-valued-networks" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Signed, Categorized, and Valued Networks</h3>
<p>In many situations we want to add values to specific edges such as signs (sometimes called valences) or weights defining the strength or nature of relationships. There are a variety of ways that we can record and assign such weights or values to edges in R. The simplest way is to directly include that information in one of the formats described above such as an edge list or adjacency matrix. For example, we can add a third column to an edge list that denotes the weight or sign of each edge or can fill the cells in an adjacency matrix with specific values rather than simply 1s or 0s.</p>
<p>In this example, we will random generate edge weights for the Cibola network edge list and adjacency matrix to illustrate how R handles these formats.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="NetworkData.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edge list file as data frame</span></span>
<span id="cb38-2"><a href="NetworkData.html#cb38-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>) </span>
<span id="cb38-3"><a href="NetworkData.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add additional column of weights as random integers between 1 and 4 for each edge</span></span>
<span id="cb38-4"><a href="NetworkData.html#cb38-4" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist<span class="sc">$</span>Weight <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">4</span>), <span class="fu">nrow</span>(Cibola_edgelist), <span class="at">replace=</span><span class="cn">TRUE</span>)</span>
<span id="cb38-5"><a href="NetworkData.html#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="NetworkData.html#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create weighted network object calling only the first two columns</span></span>
<span id="cb38-7"><a href="NetworkData.html#cb38-7" aria-hidden="true" tabindex="-1"></a>weighted_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="at">directed=</span><span class="cn">FALSE</span>)</span>
<span id="cb38-8"><a href="NetworkData.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co"># add edge attribute to indicate weight</span></span>
<span id="cb38-9"><a href="NetworkData.html#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight <span class="ot">&lt;-</span> Cibola_edgelist<span class="sc">$</span>Weight</span>
<span id="cb38-10"><a href="NetworkData.html#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="NetworkData.html#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore the first few rows of network object</span></span>
<span id="cb38-12"><a href="NetworkData.html#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">get.data.frame</span>(weighted_net))</span></code></pre></div>
<pre><code>##           from                   to weight
## 1 Apache Creek         Casa Malpais      4
## 2 Apache Creek         Coyote Creek      1
## 3 Apache Creek         Hooper Ranch      1
## 4 Apache Creek      Horse Camp Mill      3
## 5 Apache Creek        Hubble Corner      4
## 6 Apache Creek Mineral Creek Pueblo      4</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="NetworkData.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View network as adjacency matrix. Notice the attr=&quot;weight&quot; command that </span></span>
<span id="cb40-2"><a href="NetworkData.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># indicates which edge attribute to use for values in the matrix</span></span>
<span id="cb40-3"><a href="NetworkData.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as_adjacency_matrix</span>(weighted_net, <span class="at">attr=</span><span class="st">&quot;weight&quot;</span>)</span></code></pre></div>
<pre><code>## 30 x 30 sparse Matrix of class &quot;dgCMatrix&quot;
##                                                                                
## Apache Creek          . 4 1 1 3 4 4 3 4 3 3 1 . . . . . . . . . . . . . . . . .
## Casa Malpais          4 . 1 1 2 3 . 4 4 3 2 . . . . . . . . . . . 2 1 . . . . .
## Coyote Creek          1 1 . 1 4 2 3 2 2 1 2 . . . . . . . . . . . 4 . . . . . .
## Hooper Ranch          1 1 1 . 4 1 2 2 3 3 1 3 . . . . . . . . . . . . . . . . .
## Horse Camp Mill       3 2 4 4 . 2 1 3 1 4 4 . . . . . . . . . . . 2 4 . . . . .
## Hubble Corner         4 3 2 1 2 . 2 3 1 1 2 4 . . . . . . . . . . . 4 . . . . 3
## Mineral Creek Pueblo  4 . 3 2 1 2 . 2 . 1 4 1 . . . . . . . . . . 4 1 . . . . 3
## Rudd Creek Ruin       3 4 2 2 3 3 2 . 1 2 3 . . . . . . . . . . . 4 4 . . . . .
## Techado Springs       4 4 2 3 1 1 . 1 . 2 4 . . . . . . . . . . . . . . . . . .
## Tri-R Pueblo          3 3 1 3 4 1 1 2 2 . 4 1 . . . . . . . . . . . 1 . . . . 2
## UG481                 3 2 2 1 4 2 4 3 4 4 . 3 . . . . . . . . . . 1 2 . . . . 1
## UG494                 1 . . 3 . 4 1 . . 1 3 . . . . . . . . . . . . . . . . . .
## Atsinna               . . . . . . . . . . . . . 2 3 2 1 2 4 4 1 . . . . . . . .
## Cienega               . . . . . . . . . . . . 2 . 2 1 3 2 3 4 1 . . 1 3 2 1 4 .
## Los Gigantes          . . . . . . . . . . . . 3 2 . 4 1 2 2 1 4 . . . 4 2 3 3 .
## Mirabal               . . . . . . . . . . . . 2 1 4 . 1 4 1 2 4 . . 2 1 2 4 1 .
## Ojo Bonito            . . . . . . . . . . . . 1 3 1 1 . 3 4 1 3 3 4 1 1 3 3 . .
## Pueblo de los Muertos . . . . . . . . . . . . 2 2 2 4 3 . 4 4 1 . . . 2 . 3 . .
## Scribe S              . . . . . . . . . . . . 4 3 2 1 4 4 . 1 2 . 3 3 2 . 4 2 .
## Spier 170             . . . . . . . . . . . . 4 4 1 2 1 4 1 . 1 . . 1 2 1 4 3 .
## Tinaja                . . . . . . . . . . . . 1 1 4 4 3 1 2 1 . . 1 4 3 3 2 1 .
## Baca Pueblo           . . . . . . . . . . . . . . . . 3 . . . . . . . . . . . .
## Garcia Ranch          . 2 4 . 2 . 4 4 . . 1 . . . . . 4 . 3 . 1 . . 2 1 . . . 4
## Hinkson               . 1 . . 4 4 1 4 . 1 2 . . 1 . 2 1 . 3 1 4 . 2 . 1 2 . . 4
## Heshotauthla          . . . . . . . . . . . . . 3 4 1 1 2 2 2 3 . 1 1 . 4 1 2 .
## Jarlosa               . . . . . . . . . . . . . 2 2 2 3 . . 1 3 . . 2 4 . 3 2 .
## Pescado Cluster       . . . . . . . . . . . . . 1 3 4 3 3 4 4 2 . . . 1 3 . 1 .
## Yellowhouse           . . . . . . . . . . . . . 4 3 1 . . 2 3 1 . . . 2 2 1 . .
## Foote Canyon          . . . . . 3 3 . . 2 1 . . . . . . . . . . . 4 4 . . . . .
## Platt Ranch           . . . . . . . . . . . . . . . . . . . . . . 4 1 3 4 . 3 .
##                        
## Apache Creek          .
## Casa Malpais          .
## Coyote Creek          .
## Hooper Ranch          .
## Horse Camp Mill       .
## Hubble Corner         .
## Mineral Creek Pueblo  .
## Rudd Creek Ruin       .
## Techado Springs       .
## Tri-R Pueblo          .
## UG481                 .
## UG494                 .
## Atsinna               .
## Cienega               .
## Los Gigantes          .
## Mirabal               .
## Ojo Bonito            .
## Pueblo de los Muertos .
## Scribe S              .
## Spier 170             .
## Tinaja                .
## Baca Pueblo           .
## Garcia Ranch          4
## Hinkson               1
## Heshotauthla          3
## Jarlosa               4
## Pescado Cluster       .
## Yellowhouse           3
## Foote Canyon          .
## Platt Ranch           .</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="NetworkData.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the network</span></span>
<span id="cb42-2"><a href="NetworkData.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb42-3"><a href="NetworkData.html#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(weighted_net, <span class="at">edge.width=</span><span class="fu">E</span>(weighted_net)<span class="sc">$</span>weight)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Notice in the final plot that line thickness is used to indicate edges with various weights. We will explore further options for such visualizations in the network visualizations section of this appendix.</p>
</div>
<div id="two-mode-networks-and-affiliation-networks" class="section level3" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Two-mode Networks and Affiliation Networks</h3>
<p>Two-mode networks are networks where two separate categories of nodes are defined with a structural variable (edges) between these categories. In sociology, two-mode networks are often used for studying the affiliation of individuals with organizations, such as the presence of professionals on the boards of companies or the attendance of scholars at conferences (referred to as affiliation networks).</p>
<p>Two-mode network data are typically recorded in a two-way table with rows and columns representing two different classes of nodes and with individual cells representing the presence/absence or weight of edges between those classes of nodes. By way of example here we will return to the table of ceramic technological clusters by sites for the Cibola region data. The simplest way to create an unweighted two-mode network from these data is to create a network object directly from a two-way table as we saw above. In this example this will create an edge between each site and each technological cluster present there irrespective of relative frequency.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="NetworkData.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in two-way table of sites and ceramic technological clusters</span></span>
<span id="cb43-2"><a href="NetworkData.html#cb43-2" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_clust.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">row.names=</span><span class="dv">1</span>)</span>
<span id="cb43-3"><a href="NetworkData.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create network from incidence matrix based on presence/absence of a cluster at a site</span></span>
<span id="cb43-4"><a href="NetworkData.html#cb43-4" aria-hidden="true" tabindex="-1"></a>Cibola_inc <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(Cibola_clust, <span class="at">directed=</span><span class="cn">FALSE</span>, <span class="at">multiple=</span><span class="cn">TRUE</span>)</span>
<span id="cb43-5"><a href="NetworkData.html#cb43-5" aria-hidden="true" tabindex="-1"></a>Cibola_inc</span></code></pre></div>
<pre><code>## IGRAPH ca0d752 UN-B 41 2214 -- 
## + attr: type (v/l), name (v/c)
## + edges from ca0d752 (vertex names):
##  [1] Apache Creek--Clust1 Apache Creek--Clust1 Apache Creek--Clust1
##  [4] Apache Creek--Clust1 Apache Creek--Clust1 Apache Creek--Clust1
##  [7] Apache Creek--Clust1 Apache Creek--Clust2 Apache Creek--Clust2
## [10] Apache Creek--Clust2 Apache Creek--Clust3 Apache Creek--Clust3
## [13] Apache Creek--Clust3 Apache Creek--Clust3 Apache Creek--Clust3
## [16] Apache Creek--Clust3 Apache Creek--Clust4 Apache Creek--Clust4
## [19] Apache Creek--Clust4 Apache Creek--Clust4 Apache Creek--Clust4
## [22] Apache Creek--Clust4 Apache Creek--Clust4 Apache Creek--Clust4
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="NetworkData.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4537643</span>)</span>
<span id="cb45-2"><a href="NetworkData.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot as two-mode network</span></span>
<span id="cb45-3"><a href="NetworkData.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Cibola_inc, <span class="at">vertex.color =</span> <span class="fu">as.numeric</span>(<span class="fu">V</span>(Cibola_inc)<span class="sc">$</span>type)<span class="sc">+</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>In this case since most clusters are present at most sites, this creates a pretty busy network that may not be particularly useful. An alternative to this is to define some threshold (either in terms of raw count or proportion) to define an edge between a node of one class and another. We provide an example here and build a function that you could modify to do this for your own data. In this function you can set the proportion threshold that you would like to used to define an edge between two classes of nodes. If the proportion of that cluster at that site is greater than or equal to that threshold an edge will be present.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="NetworkData.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function for creating incidence matrix with threshold</span></span>
<span id="cb46-2"><a href="NetworkData.html#cb46-2" aria-hidden="true" tabindex="-1"></a>two_mode <span class="ot">&lt;-</span> <span class="cf">function</span> (x, <span class="at">thresh=</span><span class="fl">0.25</span>) {</span>
<span id="cb46-3"><a href="NetworkData.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create matrix of proportions from x input into function</span></span>
<span id="cb46-4"><a href="NetworkData.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(x), <span class="dv">1</span>) </span>
<span id="cb46-5"><a href="NetworkData.html#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define anything with greater than or equal to threshold as present (1) </span></span>
<span id="cb46-6"><a href="NetworkData.html#cb46-6" aria-hidden="true" tabindex="-1"></a>  temp[temp<span class="sc">&gt;=</span>thresh] <span class="ot">&lt;-</span> <span class="dv">1</span> </span>
<span id="cb46-7"><a href="NetworkData.html#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define all other cells as absent (0)</span></span>
<span id="cb46-8"><a href="NetworkData.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  temp[temp<span class="sc">&lt;</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb46-9"><a href="NetworkData.html#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return the new binarized table as output of the function</span></span>
<span id="cb46-10"><a href="NetworkData.html#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(temp)}</span>
<span id="cb46-11"><a href="NetworkData.html#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="NetworkData.html#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function and create network object</span></span>
<span id="cb46-13"><a href="NetworkData.html#cb46-13" aria-hidden="true" tabindex="-1"></a>mod_clust <span class="ot">&lt;-</span> <span class="fu">two_mode</span>(Cibola_clust, <span class="at">thresh=</span><span class="fl">0.25</span>) <span class="co"># thresh is set to 0.25 but could be any values from 0-1</span></span>
<span id="cb46-14"><a href="NetworkData.html#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the first few rows</span></span>
<span id="cb46-15"><a href="NetworkData.html#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mod_clust)</span></code></pre></div>
<pre><code>##              Clust1 Clust2 Clust3 Clust4 Clust5 Clust6 Clust7 Clust8 Clust9
## Apache Creek      0      0      0      1      0      0      0      0      0
## Atsinna           0      0      1      0      0      0      0      0      0
## Baca Pueblo       0      0      0      0      0      0      0      0      1
## Casa Malpais      0      0      0      1      0      0      0      0      0
## Cienega           0      1      1      0      0      0      0      0      0
## Coyote Creek      0      0      0      1      0      0      0      0      0
##              Clust10
## Apache Creek       0
## Atsinna            0
## Baca Pueblo        0
## Casa Malpais       0
## Cienega            0
## Coyote Creek       0</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="NetworkData.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a graph matrix from the new incidence matrix</span></span>
<span id="cb48-2"><a href="NetworkData.html#cb48-2" aria-hidden="true" tabindex="-1"></a>two_mode_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_incidence_matrix</span>(mod_clust, <span class="at">directed=</span><span class="cn">FALSE</span>, <span class="at">multiple=</span><span class="cn">TRUE</span>)</span>
<span id="cb48-3"><a href="NetworkData.html#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="NetworkData.html#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot results</span></span>
<span id="cb48-5"><a href="NetworkData.html#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4537</span>)</span>
<span id="cb48-6"><a href="NetworkData.html#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(two_mode_net, <span class="at">vertex.color =</span> <span class="fu">as.numeric</span>(<span class="fu">V</span>(Cibola_inc)<span class="sc">$</span>type)<span class="sc">+</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Notice how there are now far fewer ties and if you are familiar with the sites in question you might notice some clear regional patterning.</p>
<p>It is also possible to create one-mode projections of the two-mode data here using simple matrix algebra. All you need to do is multiply a matrix by the transpose of that matrix. The results will be a adjacency matrix for whichever set of nodes represented the rows in the first matrix in the matrix multiplication. Here is an example using the “mod_clust” incidence matrix with threshold created above. In the resulting incidence matrix individual cells will represent the number of different edges in common between the nodes in question and can be treated like an edge weight. The diagonal of the matrix will be the total number of clusters that were present in a site assemblage.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="NetworkData.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In R the command &quot;%*%&quot; indicates matrix multiplication and &quot;t()&quot; gives</span></span>
<span id="cb49-2"><a href="NetworkData.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the transpose of the matrix within the parentheses.</span></span>
<span id="cb49-3"><a href="NetworkData.html#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets first create a one-mode projection focused on sites</span></span>
<span id="cb49-4"><a href="NetworkData.html#cb49-4" aria-hidden="true" tabindex="-1"></a>site_mode <span class="ot">&lt;-</span> mod_clust <span class="sc">%*%</span> <span class="fu">t</span>(mod_clust)</span>
<span id="cb49-5"><a href="NetworkData.html#cb49-5" aria-hidden="true" tabindex="-1"></a>site_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(site_mode, <span class="at">mode=</span><span class="st">&quot;undirected&quot;</span>, <span class="at">diag=</span><span class="cn">FALSE</span>)</span>
<span id="cb49-6"><a href="NetworkData.html#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(site_net)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="NetworkData.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now lets create a one-mode projection focused on ceramic technological clusters.</span></span>
<span id="cb50-2"><a href="NetworkData.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that the only change is we switch which side of the matrix multiplication</span></span>
<span id="cb50-3"><a href="NetworkData.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co"># we transpose.</span></span>
<span id="cb50-4"><a href="NetworkData.html#cb50-4" aria-hidden="true" tabindex="-1"></a>clust_mode <span class="ot">&lt;-</span> <span class="fu">t</span>(mod_clust) <span class="sc">%*%</span> mod_clust</span>
<span id="cb50-5"><a href="NetworkData.html#cb50-5" aria-hidden="true" tabindex="-1"></a>clust_mode</span></code></pre></div>
<pre><code>##         Clust1 Clust2 Clust3 Clust4 Clust5 Clust6 Clust7 Clust8 Clust9 Clust10
## Clust1       1      0      0      0      0      0      0      0      0       0
## Clust2       0     16      9      1      0      2      0      0      0       0
## Clust3       0      9     10      0      0      1      0      0      0       0
## Clust4       0      1      0     11      1      0      0      0      0       0
## Clust5       0      0      0      1      1      0      0      0      0       0
## Clust6       0      2      1      0      0      2      0      0      0       0
## Clust7       0      0      0      0      0      0      0      0      0       0
## Clust8       0      0      0      0      0      0      0      0      0       0
## Clust9       0      0      0      0      0      0      0      0      1       0
## Clust10      0      0      0      0      0      0      0      0      0       0</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="NetworkData.html#cb52-1" aria-hidden="true" tabindex="-1"></a>clust_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_adjacency_matrix</span>(clust_mode, <span class="at">mode=</span><span class="st">&quot;undirected&quot;</span>, <span class="at">diag=</span><span class="cn">FALSE</span>)</span>
<span id="cb52-2"><a href="NetworkData.html#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(clust_net)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
</div>
<div id="similarity-networks" class="section level3" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> Similarity Networks</h3>
<p>Similarity networks simply refer to one-mode networks where nodes are defined as entities of interest with edges defined and/or weighted based on some metric of similarity (or distance) defined based on the features, attributes, or assemblage associated with that node. Such an approach is frequently used in archaeology to explore material cultural networks where nodes are contexts of interests (e.g., sites, excavation units, houses, etc.) and edges are defined or weighted based on similarities in the relative frequencies of artifacts or particular classes of artifacts recovered in those contexts.</p>
<p>There are many different ways to define and track similarity network data for use in R. In this example, we will show several methods using the affiliation data we used in the previous example. Specifically, we will define and weight edges based on similarities in the frequencies of ceramic technological clusters at sites in our Cibola region sample.</p>
<p>For most of these examples we will use the statnet package and the network package within it rather than igraph because statnet has a few additional functions that are useful when working with similarity data. In the following examples, we will first demonstrate several different similarity/distance metrics and then discuss approaches to binarization of these similarity networks and other options for working with weighted data.</p>
<div id="brainerd-robinson-similarity" class="section level4 unnumbered">
<h4>Brainerd-Robinson Similarity</h4>
<p>The first metric we will explore here is a rescaled version of the Brainerd-Robinson (BR) similarity metric. This BR measure is commonly used in archaeology including in a number of recent (and not so recent) network studies. This measure represents the total similarity in proportional representation of categories and is defined as:</p>
<p><span class="math display">\[S = {\frac{2-\sum_{k} \left|x_{k} - y_{k}\right|} {2}}\]</span></p>
<p>where, for all categories <span class="math inline">\(k\)</span>, <span class="math inline">\(x\)</span> is the proportion of <span class="math inline">\(k\)</span> in the first assemblage and <span class="math inline">\(y\)</span> is the proportion of <span class="math inline">\(k\)</span> in the second. We subtract the sum from 2 as 2 is the maximum proportional difference possible between two samples. We further divide the result by 2. This provides a scale of similarity from 0-1 where 1 is perfect similarity and 0 indicates no similarity. The chunk below defines the code for calculating this modified BR similarity measure. Note here we use a distance metric called “Manhattan Distance” built into the “vegan” package in R. This metric is identical to the Brainerd-Robinson metric.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="NetworkData.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in raw data</span></span>
<span id="cb53-2"><a href="NetworkData.html#cb53-2" aria-hidden="true" tabindex="-1"></a>Cibola_clust <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_clust.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">row.names=</span><span class="dv">1</span>)</span>
<span id="cb53-3"><a href="NetworkData.html#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="NetworkData.html#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># First we need to convert the ceramic technological clusters into proportions</span></span>
<span id="cb53-5"><a href="NetworkData.html#cb53-5" aria-hidden="true" tabindex="-1"></a>clust_p <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">as.matrix</span>(Cibola_clust), <span class="at">margin =</span> <span class="dv">1</span>) </span>
<span id="cb53-6"><a href="NetworkData.html#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="NetworkData.html#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co"># The following line uses the vegdist function in the vegan package </span></span>
<span id="cb53-8"><a href="NetworkData.html#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co"># to calculate the Brainard-Robinson similarity score. Since vegdist</span></span>
<span id="cb53-9"><a href="NetworkData.html#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="co"># by default defines an unscaled distance we must subtract the results</span></span>
<span id="cb53-10"><a href="NetworkData.html#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="co"># from 2 and then divide by 2 to get a similarity scaled from 0 to 1.</span></span>
<span id="cb53-11"><a href="NetworkData.html#cb53-11" aria-hidden="true" tabindex="-1"></a>Cibola_BR <span class="ot">&lt;-</span> (<span class="dv">2</span><span class="sc">-</span><span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(clust_p, <span class="at">method=</span><span class="st">&#39;manhattan&#39;</span>)))<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb53-12"><a href="NetworkData.html#cb53-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-13"><a href="NetworkData.html#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets look at the first few rows.</span></span>
<span id="cb53-14"><a href="NetworkData.html#cb53-14" aria-hidden="true" tabindex="-1"></a>Cibola_BR[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>##              Apache Creek   Atsinna Baca Pueblo Casa Malpais
## Apache Creek    1.0000000 0.3433584   0.4455782    0.7050691
## Atsinna         0.3433584 1.0000000   0.5750090    0.3740804
## Baca Pueblo     0.4455782 0.5750090   1.0000000    0.5608953
## Casa Malpais    0.7050691 0.3740804   0.5608953    1.0000000</code></pre>
<p>At this point we could simply define this as a weighted network object where weights are equal to the similarity scores, or we could define a threshold for defining edges as present or absent. We will discuss these options in detail after presenting other similarity/distance metrics.</p>
</div>
<div id="morisitas-overlap-index" class="section level4 unnumbered">
<h4>Morisita’s Overlap Index</h4>
<p>Another measure that has been used for defining similarities among assemblages for archaeological similarity networks is Morisita’s overlap index. This measure is a measure of the overlap of individual assemblages within a larger population that takes the size of samples into account. Specifically, the approach assumes that as sample size increases diversity will likely increase. This measure produces results that are very similar to the Brainerd-Robinson metric in practice in most cases but this measure may be preferred where there are dramatic differences in assemblage sizes among observations.</p>
<p>Morisita’s index is calculated as:</p>
<p><span class="math display">\[C_D=\frac{2 \Sigma^Sx_iy_i}{(D_x + D_y)XY}\]</span></p>
<p>Where:
<span class="math inline">\(x_i\)</span> is the number of rows where category <span class="math inline">\(i\)</span> is represented in the total <span class="math inline">\(X\)</span> from the population.
<span class="math inline">\(y_i\)</span> is the number of rows where category <span class="math inline">\(i\)</span> is presented in the total <span class="math inline">\(Y\)</span> from the population.
<span class="math inline">\(D_x\)</span> and <span class="math inline">\(D_y\)</span> are the Simpson’s diversity index values for <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> respectively.
<span class="math inline">\(S\)</span> is the total number of columns.</p>
<p>This metric ranges from 0 (where no categories overlap at all) to 1 where the categories occur in the same proportions in both samples. Because this metric works on absolute counts we can run the vegdist function directly on the “Cibola_clust” object. Because we want a similarity rather than a distance (which is the default for this function in R) we subtract the results from 1.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="NetworkData.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate matrix of Morisita similarities based on the Cibola_clust two-way table.</span></span>
<span id="cb55-2"><a href="NetworkData.html#cb55-2" aria-hidden="true" tabindex="-1"></a>Cibola_Mor <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span><span class="fu">as.matrix</span>(vegan<span class="sc">::</span><span class="fu">vegdist</span>(Cibola_clust, <span class="at">method=</span><span class="st">&#39;morisita&#39;</span>))</span>
<span id="cb55-3"><a href="NetworkData.html#cb55-3" aria-hidden="true" tabindex="-1"></a>Cibola_Mor[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>##              Apache Creek   Atsinna Baca Pueblo Casa Malpais
## Apache Creek    1.0000000 0.4885799   0.6014729    0.9060751
## Atsinna         0.4885799 1.0000000   0.5885682    0.4459998
## Baca Pueblo     0.6014729 0.5885682   1.0000000    0.6529069
## Casa Malpais    0.9060751 0.4459998   0.6529069    1.0000000</code></pre>
</div>
<div id="chi2-distance" class="section level4 unnumbered">
<h4><span class="math inline">\(\chi^{2}\)</span> Distance</h4>
<p>The next measure we will use is the <span class="math inline">\(\chi^{2}\)</span> distance metric which is the basis of correspondence analysis and related methods commonly used for frequency seriation in archaeology (note that this should probably really be called the <span class="math inline">\(\chi\)</span> distance since the typical form we use is not squared, but the name persists this way in the literature so that’s what we use here). This measure is defined as:</p>
<p><span class="math display">\[\chi_{jk} = \sqrt{\sum \frac 1{c_{j}}
({x_{j}-y_{j})^{2}}}\]</span></p>
<p>where <span class="math inline">\(c_j\)</span> denotes the <span class="math inline">\(j_{th}\)</span> element of the average row profile (the proportional abundance of <span class="math inline">\(j\)</span> across all rows) and <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> represent row profiles for the two sites under comparison. This metric therefore takes raw abundance (rather than simply proportional representation) into account when defining distance between sites. The definition of this metric is such that rare categories play a greater role in defining distances among sites than common categories (as in correspondence analysis). This measure has a minimum value of 0 and no theoretical upper limit.</p>
<p>The code for calculating <span class="math inline">\(\chi^{2}\)</span> distances is defined in the chunk below and a new object called “Cibola_X” is created using this measure. It is sometimes preferable to rescale this measure so that it is bounded between 0 and 1. We create a second object called “Cibola_X01” which represents rescaled distances by simply dividing the matrix by the maximum observed value (there are many other ways to do this but this will be fine for our demonstration purposes). Again, we subtract these results from 1 to convert a distance to a similarity.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="NetworkData.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function for calculating chi-squared distance</span></span>
<span id="cb57-2"><a href="NetworkData.html#cb57-2" aria-hidden="true" tabindex="-1"></a>chi_dist <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb57-3"><a href="NetworkData.html#cb57-3" aria-hidden="true" tabindex="-1"></a>  rowprof <span class="ot">&lt;-</span> x<span class="sc">/</span><span class="fu">apply</span>(x,<span class="dv">1</span>,sum) <span class="co"># calculates the profile for every row</span></span>
<span id="cb57-4"><a href="NetworkData.html#cb57-4" aria-hidden="true" tabindex="-1"></a>  avgprof <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">2</span>,sum)<span class="sc">/</span><span class="fu">sum</span>(x) <span class="co"># calculates the average profile</span></span>
<span id="cb57-5"><a href="NetworkData.html#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># creates a distance object of chi-squared distances</span></span>
<span id="cb57-6"><a href="NetworkData.html#cb57-6" aria-hidden="true" tabindex="-1"></a>  chid <span class="ot">&lt;-</span> <span class="fu">dist</span>(<span class="fu">as.matrix</span>(rowprof)<span class="sc">%*%</span><span class="fu">diag</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">sqrt</span>(avgprof))) </span>
<span id="cb57-7"><a href="NetworkData.html#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return the results</span></span>
<span id="cb57-8"><a href="NetworkData.html#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">as.matrix</span>(chid))} </span>
<span id="cb57-9"><a href="NetworkData.html#cb57-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-10"><a href="NetworkData.html#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the script and then create the rescaled 0-1 version</span></span>
<span id="cb57-11"><a href="NetworkData.html#cb57-11" aria-hidden="true" tabindex="-1"></a>Cibola_X <span class="ot">&lt;-</span> <span class="fu">chi_dist</span>(Cibola_clust)</span>
<span id="cb57-12"><a href="NetworkData.html#cb57-12" aria-hidden="true" tabindex="-1"></a>Cibola_X01 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>(Cibola_X<span class="sc">/</span><span class="fu">max</span>(Cibola_X))</span>
<span id="cb57-13"><a href="NetworkData.html#cb57-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-14"><a href="NetworkData.html#cb57-14" aria-hidden="true" tabindex="-1"></a>Cibola_X01[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>##              Apache Creek   Atsinna Baca Pueblo Casa Malpais
## Apache Creek    1.0000000 0.2904662   0.1010795    0.6166508
## Atsinna         0.2904662 1.0000000   0.3393173    0.2999925
## Baca Pueblo     0.1010795 0.3393173   1.0000000    0.1469591
## Casa Malpais    0.6166508 0.2999925   0.1469591    1.0000000</code></pre>
</div>
<div id="creating-network-objects-from-similarity-matrices" class="section level4 unnumbered">
<h4>Creating Network Objects from Similarity Matrices</h4>
<p>Now that we have defined our three measures of similarity, the next step is to convert these into network objects that our R packages will be able to work with. We can do this by either creating binary networks (where ties are either present or absent) or weighted networks (which in many cases are simply the raw similarity/distance matrices we calculated above). We will provide examples of both approaches, starting with simple binary networks. There are many ways to define networks from matrices like those we generated above and our examples below should not been seen as an exhaustive set of procedures.</p>
<div id="creating-binary-network-objects" class="section level5 unnumbered">
<h5>Creating binary network objects</h5>
<p>First, we will produce a network object based on our BR similarity matrix created above. In this example, we define ties as present between pairs of sites when they share more than 65% commonality (BR &gt; 0.65) in terms of the proportions of ceramics recovered from pairs of sites.</p>
<p>In the code below, the event2dichot function (from the “statnet” package) takes our matrix and divides it into 1s and 0s based on the cut off we choose. Here we’re using and ‘absolute’ cut off meaning we’re assigning a specific value to use as the cut off (0.65). We then send the output of this function to the network function just as before.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="NetworkData.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define our binary network object from BR similarity</span></span>
<span id="cb59-2"><a href="NetworkData.html#cb59-2" aria-hidden="true" tabindex="-1"></a>BRnet <span class="ot">&lt;-</span> <span class="fu">network</span>(<span class="fu">event2dichot</span>(Cibola_BR, <span class="at">method=</span><span class="st">&#39;absolute&#39;</span>, <span class="at">thresh=</span><span class="fl">0.65</span>), <span class="at">directed=</span><span class="cn">FALSE</span>)</span>
<span id="cb59-3"><a href="NetworkData.html#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Now let&#39;s add names for our nodes based on the row names of our original matrix</span></span>
<span id="cb59-4"><a href="NetworkData.html#cb59-4" aria-hidden="true" tabindex="-1"></a>BRnet <span class="sc">%v%</span> <span class="st">&#39;vertex.names&#39;</span> <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Cibola_clust)</span>
<span id="cb59-5"><a href="NetworkData.html#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the results.</span></span>
<span id="cb59-6"><a href="NetworkData.html#cb59-6" aria-hidden="true" tabindex="-1"></a>BRnet</span></code></pre></div>
<pre><code>##  Network attributes:
##   vertices = 31 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 167 
##     missing edges= 0 
##     non-missing edges= 167 
## 
##  Vertex attribute names: 
##     vertex.names 
## 
## No edge attributes</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="NetworkData.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot network using default layout</span></span>
<span id="cb61-2"><a href="NetworkData.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">7564</span>)</span>
<span id="cb61-3"><a href="NetworkData.html#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(BRnet)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>In the next chunk of code we will use the <span class="math inline">\(\chi^2\)</span> distances to create binary networks. This time, we will not use an absolute value to define ties as present, but instead will define those similarities greater than 80 percent of all similarities as present. We will then once again plot just as above.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="NetworkData.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note we use 1 minus chacoX01 here so to convert a distance to a similarity</span></span>
<span id="cb62-2"><a href="NetworkData.html#cb62-2" aria-hidden="true" tabindex="-1"></a>Xnet <span class="ot">&lt;-</span> <span class="fu">network</span>(<span class="fu">event2dichot</span>(Cibola_X01, <span class="at">method=</span><span class="st">&#39;quantile&#39;</span>, <span class="at">thresh=</span><span class="fl">0.80</span>), <span class="at">directed=</span><span class="cn">FALSE</span>)</span>
<span id="cb62-3"><a href="NetworkData.html#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Once again add vertext names</span></span>
<span id="cb62-4"><a href="NetworkData.html#cb62-4" aria-hidden="true" tabindex="-1"></a>Xnet <span class="sc">%v%</span> <span class="st">&#39;vertex.names&#39;</span> <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Cibola_clust)</span>
<span id="cb62-5"><a href="NetworkData.html#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the results</span></span>
<span id="cb62-6"><a href="NetworkData.html#cb62-6" aria-hidden="true" tabindex="-1"></a>Xnet</span></code></pre></div>
<pre><code>##  Network attributes:
##   vertices = 31 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 80 
##     missing edges= 0 
##     non-missing edges= 80 
## 
##  Vertex attribute names: 
##     vertex.names 
## 
## No edge attributes</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="NetworkData.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot network using default layout</span></span>
<span id="cb64-2"><a href="NetworkData.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">346</span>)</span>
<span id="cb64-3"><a href="NetworkData.html#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Xnet)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-22-1.png" width="960" /></p>
</div>
<div id="creating-weighted-network-objects" class="section level5 unnumbered">
<h5>Creating Weighted Network Objects</h5>
<p>It is also possible to use R to create weighted networks where individual edges are valued. We have found that this works reasonably well with networks of co-presence or something similar (counts of mentions in texts or monuments for example) but this does not perform well when applied to large similarity or distance matrices (because every possible link has a value, the network gets unwieldy very fast). In the latter case, we have found it is often better to just work directly with the underlying similarity/distance matrix.</p>
<p>If you do, however, chose do create a weighted network object from a similarity matrix it only requires a slight modification from the procedure above. In the chunk of code below, we will simply add the arguments “ignore.eval=F” and “names.eval=‘weight’” to let the network function know we would like weights to be retained and we would like that attribute called ‘weight’. We will apply this to the matrix of Morisita similarities defined above and then plot the result.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="NetworkData.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create weighted network object from co-occurrence matrix by adding the ignore.eval=F argument</span></span>
<span id="cb65-2"><a href="NetworkData.html#cb65-2" aria-hidden="true" tabindex="-1"></a>Mor_wt <span class="ot">&lt;-</span> <span class="fu">network</span>(Cibola_Mor, <span class="at">directed=</span><span class="cn">FALSE</span>, <span class="at">ignore.eval=</span><span class="cn">FALSE</span>, <span class="at">names.eval=</span><span class="st">&#39;weight&#39;</span>)</span>
<span id="cb65-3"><a href="NetworkData.html#cb65-3" aria-hidden="true" tabindex="-1"></a>Mor_wt <span class="sc">%v%</span> <span class="st">&#39;vertex.names&#39;</span> <span class="ot">&lt;-</span> <span class="fu">row.names</span>(Cibola_Mor)</span>
<span id="cb65-4"><a href="NetworkData.html#cb65-4" aria-hidden="true" tabindex="-1"></a>Mor_wt</span></code></pre></div>
<pre><code>##  Network attributes:
##   vertices = 31 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 465 
##     missing edges= 0 
##     non-missing edges= 465 
## 
##  Vertex attribute names: 
##     vertex.names 
## 
##  Edge attribute names: 
##     weight</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="NetworkData.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot weighted network using default layout</span></span>
<span id="cb67-2"><a href="NetworkData.html#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4634</span>)</span>
<span id="cb67-3"><a href="NetworkData.html#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(Mor_wt)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-23-1.png" width="960" /></p>
<p>The resulting network is nearly complete so it is a bit unwieldy for plotting but calculating network statistics on this weighted network can often still be useful as we will see in the exploratory analysis section.</p>
</div>
</div>
<div id="converting-among-network-object-formats" class="section level4 unnumbered">
<h4>Converting Among Network Object Formats</h4>
<p>In most of the examples in this document we have been using the igraph package but for the similarity networks we chose to use statnet due to the convenience of functions for working directly with similarity matrices. Not to worry as it is easy to convert one format to another and preserve all of the attributes using a package called intergraph. By way of example below we can covert the weighted network object we created in the previous step and convert it to a igraph object and view the attributes using the “asIgraph” function. If we wanted to go the other direction and covert a igraph object to a statnet/network object we would instead use “asNetwrok”.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="NetworkData.html#cb68-1" aria-hidden="true" tabindex="-1"></a>Mor_wt_i <span class="ot">&lt;-</span> <span class="fu">asIgraph</span>(Mor_wt)</span>
<span id="cb68-2"><a href="NetworkData.html#cb68-2" aria-hidden="true" tabindex="-1"></a>Mor_wt_i</span></code></pre></div>
<pre><code>## IGRAPH cb72f2f U-W- 31 465 -- 
## + attr: na (v/l), vertex.names (v/c), na (e/l), weight (e/n)
## + edges from cb72f2f:
##   [1] 1-- 2 1-- 3 1-- 4 1-- 5 1-- 6 1-- 7 1-- 8 1-- 9 1--10 1--11 1--12 1--13
##  [13] 1--14 1--15 1--16 1--17 1--18 1--19 1--20 1--21 1--22 1--23 1--24 1--25
##  [25] 1--26 1--27 1--28 1--29 1--30 1--31 2-- 3 2-- 4 2-- 5 2-- 6 2-- 7 2-- 8
##  [37] 2-- 9 2--10 2--11 2--12 2--13 2--14 2--15 2--16 2--17 2--18 2--19 2--20
##  [49] 2--21 2--22 2--23 2--24 2--25 2--26 2--27 2--28 2--29 2--30 2--31 3-- 4
##  [61] 3-- 5 3-- 6 3-- 7 3-- 8 3-- 9 3--10 3--11 3--12 3--13 3--14 3--15 3--16
##  [73] 3--17 3--18 3--19 3--20 3--21 3--22 3--23 3--24 3--25 3--26 3--27 3--28
##  [85] 3--29 3--30 3--31 4-- 5 4-- 6 4-- 7 4-- 8 4-- 9 4--10 4--11 4--12 4--13
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="NetworkData.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view first 10 edge weights to show that they are retained</span></span>
<span id="cb70-2"><a href="NetworkData.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(Mor_wt_i)<span class="sc">$</span>weight[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] 0.4885799 0.6014729 0.9060751 0.4049019 1.0000000 0.7087214 0.7724938
##  [8] 0.4521581 0.7996468 1.0000000</code></pre>
</div>
</div>
<div id="ego-networks" class="section level3" number="3.2.6">
<h3><span class="header-section-number">3.2.6</span> Ego Networks</h3>
<p>When we aim to understand the relational environment within which an entity is embedded, because it is relevant for our research questions or because data collection challenges dictate this focus, archaeological network research can make use of so-called ego-networks: a type of network that includes a focal node (the so-called ego), the set of nodes the ego is connected to by an edge (the so-called alters) and the edges between this set of nodes.</p>
<p>Extracting an ego-network from an existing igraph network object in R is very easy. Here we will extract and plot the ego-network for Apache Creek, the first site in the network files we created above.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="NetworkData.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in edgelist file as dataframe</span></span>
<span id="cb72-2"><a href="NetworkData.html#cb72-2" aria-hidden="true" tabindex="-1"></a>Cibola_edgelist <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file=</span><span class="st">&quot;data/Cibola_edgelist.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>) </span>
<span id="cb72-3"><a href="NetworkData.html#cb72-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-4"><a href="NetworkData.html#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create graph object. The dataframe is converted to a matrix as that is required </span></span>
<span id="cb72-5"><a href="NetworkData.html#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="co"># by this specific function. Since this is an undirected network directed = FALSE.</span></span>
<span id="cb72-6"><a href="NetworkData.html#cb72-6" aria-hidden="true" tabindex="-1"></a>Cibola_net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(Cibola_edgelist), <span class="at">directed=</span><span class="cn">FALSE</span>)</span>
<span id="cb72-7"><a href="NetworkData.html#cb72-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-8"><a href="NetworkData.html#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract ego-networks</span></span>
<span id="cb72-9"><a href="NetworkData.html#cb72-9" aria-hidden="true" tabindex="-1"></a>ego_nets <span class="ot">&lt;-</span> <span class="fu">make_ego_graph</span>(Cibola_net)</span>
<span id="cb72-10"><a href="NetworkData.html#cb72-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-11"><a href="NetworkData.html#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the first ego-network</span></span>
<span id="cb72-12"><a href="NetworkData.html#cb72-12" aria-hidden="true" tabindex="-1"></a>ego_nets[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## IGRAPH cb7a478 UN-- 12 59 -- 
## + attr: name (v/c)
## + edges from cb7a478 (vertex names):
##  [1] Apache Creek   --Casa Malpais         Apache Creek   --Coyote Creek        
##  [3] Casa Malpais   --Coyote Creek         Apache Creek   --Hooper Ranch        
##  [5] Casa Malpais   --Hooper Ranch         Coyote Creek   --Hooper Ranch        
##  [7] Apache Creek   --Horse Camp Mill      Casa Malpais   --Horse Camp Mill     
##  [9] Coyote Creek   --Horse Camp Mill      Hooper Ranch   --Horse Camp Mill     
## [11] Apache Creek   --Hubble Corner        Casa Malpais   --Hubble Corner       
## [13] Coyote Creek   --Hubble Corner        Hooper Ranch   --Hubble Corner       
## [15] Horse Camp Mill--Hubble Corner        Apache Creek   --Mineral Creek Pueblo
## + ... omitted several edges</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="NetworkData.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Apache Creek ego-network</span></span>
<span id="cb74-2"><a href="NetworkData.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">754</span>)</span>
<span id="cb74-3"><a href="NetworkData.html#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ego_nets[[<span class="dv">1</span>]])</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="NetworkData.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Platt Ranch ego-network for comparison</span></span>
<span id="cb75-2"><a href="NetworkData.html#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">45367</span>)</span>
<span id="cb75-3"><a href="NetworkData.html#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ego_nets[[<span class="dv">30</span>]])</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-25-2.png" width="672" /></p>
<p>In these ego-networks, only nodes connected to the target nodes (Apache Creek in the first example and then Platt Ranch in the second) are shown and only edges among those included nodes are shown.</p>
<p>It is also possible to determine the size of ego-networks for an entire one-mode network using the “ego_size” function. The output of this function is a vector that can be further assigned as a network node attribute.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="NetworkData.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ego_size</span>(Cibola_net)</span></code></pre></div>
<pre><code>##  [1] 12 12 12 12 13 14 13 13 10 14 15  7  9 14 13 14 15 11 14 14 15  2 14 19 15
## [26] 12 12 11  7  6</code></pre>
</div>
<div id="multilayer-networks" class="section level3" number="3.2.7">
<h3><span class="header-section-number">3.2.7</span> Multilayer Networks</h3>
<p>In the simplest terms, multilayer networks are networks where a single set of nodes are connected by two or more sets of edges that each represent a different kind of relationship among the nodes. This is a relatively new area of network science in archaeological network research but we expect this will likely change in the coming years. There are now new R packages which help manage and analyze multilayer network data.</p>
<p>The multinet package (Rossi and Vega 2021) is designed to facilitate the analysis of multilayer networks. In order to explore some of the possibilities here we use example data and analyses included in this package. Specifically, we will look at the famous network data on Florentine families in the 14th century where connections were defined in terms of both business and marriage.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="NetworkData.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create object with Florentine multilayer network data</span></span>
<span id="cb78-2"><a href="NetworkData.html#cb78-2" aria-hidden="true" tabindex="-1"></a>florentine <span class="ot">&lt;-</span> <span class="fu">ml_florentine</span>()</span>
<span id="cb78-3"><a href="NetworkData.html#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="NetworkData.html#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the data</span></span>
<span id="cb78-5"><a href="NetworkData.html#cb78-5" aria-hidden="true" tabindex="-1"></a>florentine</span></code></pre></div>
<pre><code>## ml-net[15, 2, 26, 35 (35,0)]</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="NetworkData.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(florentine)</span></code></pre></div>
<pre><code>##           n  m dir nc slc      dens        cc      apl dia
## _flat_   15 35   0  1  15 0.3333333 0.3409091 2.085714   4
## business 11 15   0  1  11 0.2727273 0.4166667 2.381818   5
## marriage 15 20   0  1  15 0.1904762 0.1914894 2.485714   5</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="NetworkData.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the data</span></span>
<span id="cb82-2"><a href="NetworkData.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(florentine)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>The multinet network objects are essentially compatible with igraph and individual layers can be analyzed just like other igraph network objects. Where this multinet approach likely has greater utility is in conducting comparisons among layers or conducting analyses that take several layers into account simultaneously. A detailed exploration of this approach is beyond the scope of this document (but we provide a simple example below) and we suggest interested readers read the package information and tutorials associated with this package for more.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="NetworkData.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If we want to calculate degree centrality across multiple layers of a </span></span>
<span id="cb83-2"><a href="NetworkData.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co"># multilayer network, the multinet package can help us do that directly</span></span>
<span id="cb83-3"><a href="NetworkData.html#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and quite simply.</span></span>
<span id="cb83-4"><a href="NetworkData.html#cb83-4" aria-hidden="true" tabindex="-1"></a>multinet<span class="sc">::</span><span class="fu">degree_ml</span>(florentine)</span></code></pre></div>
<pre><code>##  [1]  7  4  3  4  2 11  3  5  6  3  6  6  6  3  1</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="NetworkData.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Similarly, we could apply cluster detection algorithms to all layers</span></span>
<span id="cb85-2"><a href="NetworkData.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="co"># of a multilayer network simultaneously.</span></span>
<span id="cb85-3"><a href="NetworkData.html#cb85-3" aria-hidden="true" tabindex="-1"></a>multinet<span class="sc">::</span><span class="fu">glouvain_ml</span>(florentine)</span></code></pre></div>
<pre><code>##           actor    layer cid
## 1       Peruzzi marriage   0
## 2       Peruzzi business   0
## 3       Strozzi marriage   0
## 4  Lamberteschi marriage   0
## 5  Lamberteschi business   0
## 6      Guadagni marriage   0
## 7      Guadagni business   0
## 8    Castellani marriage   0
## 9    Castellani business   0
## 10     Bischeri marriage   0
## 11     Bischeri business   0
## 12      Ridolfi marriage   1
## 13   Tornabuoni marriage   1
## 14   Tornabuoni business   1
## 15        Pazzi marriage   1
## 16        Pazzi business   1
## 17       Medici marriage   1
## 18       Medici business   1
## 19     Salviati marriage   1
## 20     Salviati business   1
## 21       Ginori marriage   1
## 22       Ginori business   1
## 23    Barbadori marriage   1
## 24    Barbadori business   1
## 25      Albizzi marriage   1
## 26   Acciaiuoli marriage   1</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exploratory-network-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": null,
"position": "static"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
